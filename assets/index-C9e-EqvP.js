(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Jp={exports:{}},Mu={};var LE;function RI(){if(LE)return Mu;LE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Mu.Fragment=e,Mu.jsx=n,Mu.jsxs=n,Mu}var UE;function CI(){return UE||(UE=1,Jp.exports=RI()),Jp.exports}var w=CI(),Zp={exports:{}},xe={};var jE;function II(){if(jE)return xe;jE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,O={};function z(k,ee,ce){this.props=k,this.context=ee,this.refs=O,this.updater=ce||N}z.prototype.isReactComponent={},z.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=z.prototype;function G(k,ee,ce){this.props=k,this.context=ee,this.refs=O,this.updater=ce||N}var se=G.prototype=new $;se.constructor=G,B(se,z.prototype),se.isPureReactComponent=!0;var ae=Array.isArray;function le(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(k,ee,ce){var fe=ce.ref;return{$$typeof:t,type:k,key:ee,ref:fe!==void 0?fe:null,props:ce}}function L(k,ee){return I(k.type,ee,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function q(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return ee[ce]})}var D=/\/+/g;function Ye(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?q(""+k.key):ee.toString(36)}function st(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(le,le):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function U(k,ee,ce,fe,Se){var De=typeof k;(De==="undefined"||De==="boolean")&&(k=null);var Be=!1;if(k===null)Be=!0;else switch(De){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(k.$$typeof){case t:case e:Be=!0;break;case y:return Be=k._init,U(Be(k._payload),ee,ce,fe,Se)}}if(Be)return Se=Se(k),Be=fe===""?"."+Ye(k,0):fe,ae(Se)?(ce="",Be!=null&&(ce=Be.replace(D,"$&/")+"/"),U(Se,ee,ce,"",function(Jr){return Jr})):Se!=null&&(V(Se)&&(Se=L(Se,ce+(Se.key==null||k&&k.key===Se.key?"":(""+Se.key).replace(D,"$&/")+"/")+Be)),ee.push(Se)),1;Be=0;var Ut=fe===""?".":fe+":";if(ae(k))for(var ut=0;ut<k.length;ut++)fe=k[ut],De=Ut+Ye(fe,ut),Be+=U(fe,ee,ce,De,Se);else if(ut=R(k),typeof ut=="function")for(k=ut.call(k),ut=0;!(fe=k.next()).done;)fe=fe.value,De=Ut+Ye(fe,ut++),Be+=U(fe,ee,ce,De,Se);else if(De==="object"){if(typeof k.then=="function")return U(st(k),ee,ce,fe,Se);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Be}function J(k,ee,ce){if(k==null)return k;var fe=[],Se=0;return U(k,fe,"","",function(De){return ee.call(ce,De,Se++)}),fe}function oe(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},_e={map:J,forEach:function(k,ee,ce){J(k,function(){ee.apply(this,arguments)},ce)},count:function(k){var ee=0;return J(k,function(){ee++}),ee},toArray:function(k){return J(k,function(ee){return ee})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xe.Activity=_,xe.Children=_e,xe.Component=z,xe.Fragment=n,xe.Profiler=a,xe.PureComponent=G,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(k,ee,ce){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var fe=B({},k.props),Se=k.key;if(ee!=null)for(De in ee.key!==void 0&&(Se=""+ee.key),ee)!x.call(ee,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ee.ref===void 0||(fe[De]=ee[De]);var De=arguments.length-2;if(De===1)fe.children=ce;else if(1<De){for(var Be=Array(De),Ut=0;Ut<De;Ut++)Be[Ut]=arguments[Ut+2];fe.children=Be}return I(k.type,Se,fe)},xe.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},xe.createElement=function(k,ee,ce){var fe,Se={},De=null;if(ee!=null)for(fe in ee.key!==void 0&&(De=""+ee.key),ee)x.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=ee[fe]);var Be=arguments.length-2;if(Be===1)Se.children=ce;else if(1<Be){for(var Ut=Array(Be),ut=0;ut<Be;ut++)Ut[ut]=arguments[ut+2];Se.children=Ut}if(k&&k.defaultProps)for(fe in Be=k.defaultProps,Be)Se[fe]===void 0&&(Se[fe]=Be[fe]);return I(k,De,Se)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:f,render:k}},xe.isValidElement=V,xe.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:oe}},xe.memo=function(k,ee){return{$$typeof:p,type:k,compare:ee===void 0?null:ee}},xe.startTransition=function(k){var ee=C.T,ce={};C.T=ce;try{var fe=k(),Se=C.S;Se!==null&&Se(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(le,pe)}catch(De){pe(De)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),C.T=ee}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(k){return C.H.use(k)},xe.useActionState=function(k,ee,ce){return C.H.useActionState(k,ee,ce)},xe.useCallback=function(k,ee){return C.H.useCallback(k,ee)},xe.useContext=function(k){return C.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,ee){return C.H.useDeferredValue(k,ee)},xe.useEffect=function(k,ee){return C.H.useEffect(k,ee)},xe.useEffectEvent=function(k){return C.H.useEffectEvent(k)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(k,ee,ce){return C.H.useImperativeHandle(k,ee,ce)},xe.useInsertionEffect=function(k,ee){return C.H.useInsertionEffect(k,ee)},xe.useLayoutEffect=function(k,ee){return C.H.useLayoutEffect(k,ee)},xe.useMemo=function(k,ee){return C.H.useMemo(k,ee)},xe.useOptimistic=function(k,ee){return C.H.useOptimistic(k,ee)},xe.useReducer=function(k,ee,ce){return C.H.useReducer(k,ee,ce)},xe.useRef=function(k){return C.H.useRef(k)},xe.useState=function(k){return C.H.useState(k)},xe.useSyncExternalStore=function(k,ee,ce){return C.H.useSyncExternalStore(k,ee,ce)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.3",xe}var BE;function ky(){return BE||(BE=1,Zp.exports=II()),Zp.exports}var P=ky(),eg={exports:{}},Ou={},tg={exports:{}},ng={};var zE;function DI(){return zE||(zE=1,(function(t){function e(U,J){var oe=U.length;U.push(J);e:for(;0<oe;){var pe=oe-1>>>1,_e=U[pe];if(0<a(_e,J))U[pe]=J,U[oe]=_e,oe=pe;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var J=U[0],oe=U.pop();if(oe!==J){U[0]=oe;e:for(var pe=0,_e=U.length,k=_e>>>1;pe<k;){var ee=2*(pe+1)-1,ce=U[ee],fe=ee+1,Se=U[fe];if(0>a(ce,oe))fe<_e&&0>a(Se,ce)?(U[pe]=Se,U[fe]=oe,pe=fe):(U[pe]=ce,U[ee]=oe,pe=ee);else if(fe<_e&&0>a(Se,oe))U[pe]=Se,U[fe]=oe,pe=fe;else break e}}return J}function a(U,J){var oe=U.sortIndex-J.sortIndex;return oe!==0?oe:U.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,b=3,R=!1,N=!1,B=!1,O=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function se(U){for(var J=n(p);J!==null;){if(J.callback===null)s(p);else if(J.startTime<=U)s(p),J.sortIndex=J.expirationTime,e(m,J);else break;J=n(p)}}function ae(U){if(B=!1,se(U),!N)if(n(m)!==null)N=!0,le||(le=!0,q());else{var J=n(p);J!==null&&st(ae,J.startTime-U)}}var le=!1,C=-1,x=5,I=-1;function L(){return O?!0:!(t.unstable_now()-I<x)}function V(){if(O=!1,le){var U=t.unstable_now();I=U;var J=!0;try{e:{N=!1,B&&(B=!1,$(C),C=-1),R=!0;var oe=b;try{t:{for(se(U),_=n(m);_!==null&&!(_.expirationTime>U&&L());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,b=_.priorityLevel;var _e=pe(_.expirationTime<=U);if(U=t.unstable_now(),typeof _e=="function"){_.callback=_e,se(U),J=!0;break t}_===n(m)&&s(m),se(U)}else s(m);_=n(m)}if(_!==null)J=!0;else{var k=n(p);k!==null&&st(ae,k.startTime-U),J=!1}}break e}finally{_=null,b=oe,R=!1}J=void 0}}finally{J?q():le=!1}}}var q;if(typeof G=="function")q=function(){G(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ye=D.port2;D.port1.onmessage=V,q=function(){Ye.postMessage(null)}}else q=function(){z(V,0)};function st(U,J){C=z(function(){U(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var oe=b;b=J;try{return U()}finally{b=oe}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var oe=b;b=U;try{return J()}finally{b=oe}},t.unstable_scheduleCallback=function(U,J,oe){var pe=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?pe+oe:pe):oe=pe,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=oe+_e,U={id:y++,callback:J,priorityLevel:U,startTime:oe,expirationTime:_e,sortIndex:-1},oe>pe?(U.sortIndex=oe,e(p,U),n(m)===null&&U===n(p)&&(B?($(C),C=-1):B=!0,st(ae,oe-pe))):(U.sortIndex=_e,e(m,U),N||R||(N=!0,le||(le=!0,q()))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var J=b;return function(){var oe=b;b=J;try{return U.apply(this,arguments)}finally{b=oe}}}})(ng)),ng}var FE;function NI(){return FE||(FE=1,tg.exports=DI()),tg.exports}var ig={exports:{}},an={};var qE;function MI(){if(qE)return an;qE=1;var t=ky();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.3",an}var HE;function OI(){if(HE)return ig.exports;HE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=MI(),ig.exports}var GE;function PI(){if(GE)return Ou;GE=1;var t=NI(),e=ky(),n=OI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,u=g;break}if(S===u){T=!0,u=d,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,u=d;break}if(S===u){T=!0,u=g,o=d;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),G=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case z:return"Profiler";case O:return"StrictMode";case ae:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case G:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case se:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Ye(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return Ye(i(r))}catch{}}return null}var st=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},pe=[],_e=-1;function k(i){return{current:i}}function ee(i){0>_e||(i.current=pe[_e],pe[_e]=null,_e--)}function ce(i,r){_e++,pe[_e]=i.current,i.current=r}var fe=k(null),Se=k(null),De=k(null),Be=k(null);function Ut(i,r){switch(ce(De,r),ce(Se,i),ce(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?aE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=aE(r),i=oE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(fe),ce(fe,i)}function ut(){ee(fe),ee(Se),ee(De)}function Jr(i){i.memoizedState!==null&&ce(Be,i);var r=fe.current,o=oE(r,i.type);r!==o&&(ce(Se,i),ce(fe,o))}function Wa(i){Se.current===i&&(ee(fe),ee(Se)),Be.current===i&&(ee(Be),Cu._currentValue=oe)}var Ja,Za;function Ri(i){if(Ja===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ja=r&&r[1]||"",Za=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+i+Za}var Cl=!1;function Zr(i,r){if(!i||Cl)return"";Cl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var Q=W}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(W){Q=W}i.call(ne.prototype)}}else{try{throw Error()}catch(W){Q=W}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var M=T.split(`
`),K=S.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===K.length)for(u=M.length-1,d=K.length-1;1<=u&&0<=d&&M[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==K[d]){var Z=`
`+M[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Cl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ri(o):""}function Il(i,r){switch(i.tag){case 26:case 27:case 5:return Ri(i.type);case 16:return Ri("Lazy");case 13:return i.child!==r&&r!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return Zr(i.type,!1);case 11:return Zr(i.type.render,!1);case 1:return Zr(i.type,!0);case 31:return Ri("Activity");default:return""}}function Dl(i){try{var r="",o=null;do r+=Il(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var At=Object.prototype.hasOwnProperty,jt=t.unstable_scheduleCallback,Bs=t.unstable_cancelCallback,em=t.unstable_shouldYield,Uc=t.unstable_requestPaint,fn=t.unstable_now,ea=t.unstable_getCurrentPriorityLevel,Nl=t.unstable_ImmediatePriority,Ml=t.unstable_UserBlockingPriority,zs=t.unstable_NormalPriority,tm=t.unstable_LowPriority,jc=t.unstable_IdlePriority,Bc=t.log,zc=t.unstable_setDisableYieldValue,ai=null,Xt=null;function Bn(i){if(typeof Bc=="function"&&zc(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ai,i)}catch{}}var Tt=Math.clz32?Math.clz32:qc,Fc=Math.log,eo=Math.LN2;function qc(i){return i>>>=0,i===0?32:31-(Fc(i)/eo|0)|0}var Ci=256,ta=262144,xt=4194304;function Ii(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=Ii(u):(T&=S,T!==0?d=Ii(T):o||(o=S&~i,o!==0&&(d=Ii(o))))):(S=u&~g,S!==0?d=Ii(S):T!==0?d=Ii(T):o||(o=u&~i,o!==0&&(d=Ii(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function oi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function nm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var i=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),i}function Ni(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function na(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function im(i,r,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-Tt(o),ne=1<<Z;S[Z]=0,M[Z]=-1;var Q=K[Z];if(Q!==null)for(K[Z]=null,Z=0;Z<Q.length;Z++){var W=Q[Z];W!==null&&(W.lane&=-536870913)}o&=~ne}u!==0&&ia(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function ia(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Tt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Ol(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Tt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Pl(i,r){var o=r&-r;return o=(o&42)!==0?1:sa(o),(o&(i.suspendedLanes|r))!==0?0:o}function sa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ls(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gc(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:DE(i.type))}function li(i,r){var o=J.p;try{return J.p=i,r()}finally{J.p=o}}var ui=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ui,Ht="__reactProps$"+ui,Mi="__reactContainer$"+ui,to="__reactEvents$"+ui,sm="__reactListeners$"+ui,Yc="__reactHandles$"+ui,Kc="__reactResources$"+ui,Oi="__reactMarker$"+ui;function no(i){delete i[Rt],delete i[Ht],delete i[to],delete i[sm],delete i[Yc]}function Pi(i){var r=i[Rt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Mi]||o[Rt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=mE(i);i!==null;){if(o=i[Rt])return o;i=mE(i)}return r}i=o,o=i.parentNode}return null}function zn(i){if(i=i[Rt]||i[Mi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Rn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[Kc];return r||(r=i[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[Oi]=!0}var Vl=new Set,kl={};function ki(i,r){Li(i,r),Li(i+"Capture",r)}function Li(i,r){for(kl[i]=r,i=0;i<r.length;i++)Vl.add(r[i])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},jl={};function $c(i){return At.call(jl,i)?!0:At.call(Ul,i)?!1:Ll.test(i)?jl[i]=!0:(Ul[i]=!0,!1)}function io(i,r,o){if($c(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Cn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function It(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $e(i){if(!i._valueTracker){var r=Fs(i)?"checked":"value";i._valueTracker=Bl(i,r,""+i[r])}}function ra(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Fs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var aa=/[\n"\\]/g;function gn(i){return i.replace(aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function so(i,r,o,u,d,g,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Gt(r)):i.value!==""+Gt(r)&&(i.value=""+Gt(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?zl(i,T,Gt(r)):o!=null?zl(i,T,Gt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Gt(S):i.removeAttribute("name")}function Qc(i,r,o,u,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){$e(i);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),$e(i)}function zl(i,r,o){r==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function qs(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xc(i,r,o){if(r!=null&&(r=""+Gt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Gt(o):""}function Hs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(st(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Gt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),$e(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Wc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ql(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Fl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Fl(i,g,r[g])}function ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(i){return Gs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ci(){}var Hl=null;function Fn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,ji=null;function oa(i){var r=zn(i);if(r&&(i=r.stateNode)){var o=i[Ht]||null;e:switch(i=r.stateNode,r.type){case"input":if(so(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Ht]||null;if(!d)throw Error(s(90));so(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ra(u)}break e;case"textarea":Xc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&qs(i,!!o.multiple,r,!1)}}}var oo=!1;function Ks(i,r,o){if(oo)return i(r,o);oo=!0;try{var u=i(r);return u}finally{if(oo=!1,(Ys!==null||ji!==null)&&(Gh(),Ys&&(r=Ys,i=ji,ji=Ys=null,oa(r),i)))for(r=0;r<i.length;r++)oa(i[r])}}function hi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(qn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){la=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{la=!1}var Bi=null,Gl=null,ua=null;function Yl(){if(ua)return ua;var i,r=Gl,o=r.length,u,d="value"in Bi?Bi.value:Bi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[g-u];u++);return ua=d.slice(i,1<u?1-u:void 0)}function ca(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function us(){return!0}function fi(){return!1}function Wt(i){function r(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?us:fi,this.isPropagationStopped=fi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),r}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Wt(cs),$s=_({},cs,{view:0,detail:0}),Kl=Wt($s),Qs,lo,Fi,uo=_({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(Qs=i.screenX-Fi.screenX,lo=i.screenY-Fi.screenY):lo=Qs=0,Fi=i),Qs)},movementY:function(i){return"movementY"in i?i.movementY:lo}}),$l=Wt(uo),ha=_({},uo,{dataTransfer:0}),Zc=Wt(ha),eh=_({},$s,{relatedTarget:0}),fa=Wt(eh),Ql=_({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),th=Wt(Ql),co=_({},cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nh=Wt(co),ih=_({},cs,{data:0}),qi=Wt(ih),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ah[i])?!!r[i]:!1}function Xs(){return oh}var dn=_({},$s,{key:function(i){if(i.key){var r=sh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lh=Wt(dn),uh=_({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=Wt(uh),h=_({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),v=Wt(h),E=_({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Wt(E),H=_({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Wt(H),ue=_({},cs,{newState:0,oldState:0}),Ce=Wt(ue),Et=[9,13,27,32],He=qn&&"CompositionEvent"in window,ct=null;qn&&"documentMode"in document&&(ct=document.documentMode);var Hn=qn&&"TextEvent"in window&&!ct,Hi=qn&&(!He||ct&&8<ct&&11>=ct),di=" ",mi=!1;function da(i,r){switch(i){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function WC(i,r){switch(i){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(mi=!0,di);case"textInput":return i=r.data,i===di&&mi?null:i;default:return null}}function JC(i,r){if(fo)return i==="compositionend"||!He&&da(i,r)?(i=Yl(),ua=Gl=Bi=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var ZC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ZC[i.type]:r==="textarea"}function v0(i,r,o,u){Ys?ji?ji.push(u):ji=[u]:Ys=u,r=Jh(r,"onChange"),0<r.length&&(o=new zi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Xl=null,Wl=null;function e2(i){eE(i,0)}function ch(i){var r=Rn(i);if(ra(r))return i}function _0(i,r){if(i==="change")return r}var T0=!1;if(qn){var rm;if(qn){var am="oninput"in document;if(!am){var E0=document.createElement("div");E0.setAttribute("oninput","return;"),am=typeof E0.oninput=="function"}rm=am}else rm=!1;T0=rm&&(!document.documentMode||9<document.documentMode)}function b0(){Xl&&(Xl.detachEvent("onpropertychange",w0),Wl=Xl=null)}function w0(i){if(i.propertyName==="value"&&ch(Wl)){var r=[];v0(r,Wl,i,Fn(i)),Ks(e2,r)}}function t2(i,r,o){i==="focusin"?(b0(),Xl=r,Wl=o,Xl.attachEvent("onpropertychange",w0)):i==="focusout"&&b0()}function n2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ch(Wl)}function i2(i,r){if(i==="click")return ch(r)}function s2(i,r){if(i==="input"||i==="change")return ch(r)}function r2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var In=typeof Object.is=="function"?Object.is:r2;function Jl(i,r){if(In(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!At.call(r,d)||!In(i[d],r[d]))return!1}return!0}function S0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function A0(i,r){var o=S0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=S0(o)}}function x0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?x0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function R0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ui(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ui(i.document)}return r}function om(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var a2=qn&&"documentMode"in document&&11>=document.documentMode,mo=null,lm=null,Zl=null,um=!1;function C0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;um||mo==null||mo!==Ui(u)||(u=mo,"selectionStart"in u&&om(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Jl(Zl,u)||(Zl=u,u=Jh(lm,"onSelect"),0<u.length&&(r=new zi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=mo)))}function ma(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var po={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},cm={},I0={};qn&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function pa(i){if(cm[i])return cm[i];if(!po[i])return i;var r=po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in I0)return cm[i]=r[o];return i}var D0=pa("animationend"),N0=pa("animationiteration"),M0=pa("animationstart"),o2=pa("transitionrun"),l2=pa("transitionstart"),u2=pa("transitioncancel"),O0=pa("transitionend"),P0=new Map,hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hm.push("scrollEnd");function pi(i,r){P0.set(i,r),ki(r,[i])}var hh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Gn=[],go=0,fm=0;function fh(){for(var i=go,r=fm=go=0;r<i;){var o=Gn[r];Gn[r++]=null;var u=Gn[r];Gn[r++]=null;var d=Gn[r];Gn[r++]=null;var g=Gn[r];if(Gn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&V0(o,d,g)}}function dh(i,r,o,u){Gn[go++]=i,Gn[go++]=r,Gn[go++]=o,Gn[go++]=u,fm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function dm(i,r,o,u){return dh(i,r,o,u),mh(i)}function ga(i,r){return dh(i,null,null,r),mh(i)}function V0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Tt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function mh(i){if(50<Eu)throw Eu=0,bp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yo={};function c2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,u){return new c2(i,r,o,u)}function mm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function k0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ph(i,r,o,u,d,g){var T=0;if(u=i,typeof i=="function")mm(i)&&(T=1);else if(typeof i=="string")T=pI(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Dn(31,o,r,d),i.elementType=I,i.lanes=g,i;case B:return ya(o.children,d,g,r);case O:T=8,d|=24;break;case z:return i=Dn(12,o,r,d|2),i.elementType=z,i.lanes=g,i;case ae:return i=Dn(13,o,r,d),i.elementType=ae,i.lanes=g,i;case le:return i=Dn(19,o,r,d),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:T=10;break e;case $:T=9;break e;case se:T=11;break e;case C:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Dn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function ya(i,r,o,u){return i=Dn(7,i,u,r),i.lanes=o,i}function pm(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function L0(i){var r=Dn(18,null,null,0);return r.stateNode=i,r}function gm(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var U0=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var o=U0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Dl(r)},U0.set(i,r),r)}return{value:i,source:r,stack:Dl(r)}}var vo=[],_o=0,gh=null,eu=0,Kn=[],$n=0,Ws=null,Gi=1,Yi="";function ds(i,r){vo[_o++]=eu,vo[_o++]=gh,gh=i,eu=r}function j0(i,r,o){Kn[$n++]=Gi,Kn[$n++]=Yi,Kn[$n++]=Ws,Ws=i;var u=Gi;i=Yi;var d=32-Tt(u)-1;u&=~(1<<d),o+=1;var g=32-Tt(r)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Gi=1<<32-Tt(r)+d|o<<d|u,Yi=g+i}else Gi=1<<g|o<<d|u,Yi=i}function ym(i){i.return!==null&&(ds(i,1),j0(i,1,0))}function vm(i){for(;i===gh;)gh=vo[--_o],vo[_o]=null,eu=vo[--_o],vo[_o]=null;for(;i===Ws;)Ws=Kn[--$n],Kn[$n]=null,Yi=Kn[--$n],Kn[$n]=null,Gi=Kn[--$n],Kn[$n]=null}function B0(i,r){Kn[$n++]=Gi,Kn[$n++]=Yi,Kn[$n++]=Ws,Gi=r.id,Yi=r.overflow,Ws=i}var Jt=null,at=null,je=!1,Js=null,Qn=!1,_m=Error(s(519));function Zs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tu(Yn(r,i)),_m}function z0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Rt]=i,r[Ht]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<wu.length;o++)Oe(wu[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Qc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Hs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||sE(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=ci),r=!0):r=!1,r||Zs(i,!0)}function F0(i){for(Jt=i.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Jt=Jt.return}}function To(i){if(i!==Jt)return!1;if(!je)return F0(i),je=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Lp(i.type,i.memoizedProps)),o=!o),o&&at&&Zs(i),F0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=dE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=dE(i)}else r===27?(r=at,dr(i.type)?(i=Fp,Fp=null,at=i):at=r):at=Jt?Wn(i.stateNode.nextSibling):null;return!0}function va(){at=Jt=null,je=!1}function Tm(){var i=Js;return i!==null&&(En===null?En=i:En.push.apply(En,i),Js=null),i}function tu(i){Js===null?Js=[i]:Js.push(i)}var Em=k(null),_a=null,ms=null;function er(i,r,o){ce(Em,r._currentValue),r._currentValue=o}function ps(i){i._currentValue=Em.current,ee(Em)}function bm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function wm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var M=0;M<r.length;M++)if(S.context===r[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),bm(g.return,o,i),u||(T=null);break e}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),bm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Eo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=d.type;In(d.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(d===Be.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Cu):i=[Cu])}d=d.return}i!==null&&wm(r,i,o,u),r.flags|=262144}function yh(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){_a=i,ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return q0(_a,i)}function vh(i,r){return _a===null&&Ta(i),q0(i,r)}function q0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ms===null){if(i===null)throw Error(s(308));ms=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ms=ms.next=r;return o}var h2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},f2=t.unstable_scheduleCallback,d2=t.unstable_NormalPriority,Dt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new h2,data:new Map,refCount:0}}function nu(i){i.refCount--,i.refCount===0&&f2(d2,function(){i.controller.abort()})}var iu=null,Am=0,bo=0,wo=null;function m2(i,r){if(iu===null){var o=iu=[];Am=0,bo=Cp(),wo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Am++,r.then(H0,H0),r}function H0(){if(--Am===0&&iu!==null){wo!==null&&(wo.status="fulfilled");var i=iu;iu=null,bo=0,wo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function p2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var G0=U.S;U.S=function(i,r){CT=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&m2(i,r),G0!==null&&G0(i,r)};var Ea=k(null);function xm(){var i=Ea.current;return i!==null?i:it.pooledCache}function _h(i,r){r===null?ce(Ea,Ea.current):ce(Ea,r.pool)}function Y0(){var i=xm();return i===null?null:{parent:Dt._currentValue,pool:i}}var So=Error(s(460)),Rm=Error(s(474)),Th=Error(s(542)),Eh={then:function(){}};function K0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ci,ci),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,X0(i),i;default:if(typeof r.status=="string")r.then(ci,ci);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,X0(i),i}throw wa=r,So}}function ba(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wa=o,So):o}}var wa=null;function Q0(){if(wa===null)throw Error(s(459));var i=wa;return wa=null,i}function X0(i){if(i===So||i===Th)throw Error(s(483))}var Ao=null,su=0;function bh(i){var r=su;return su+=1,Ao===null&&(Ao=[]),$0(Ao,i,r)}function ru(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function wh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function W0(i){function r(F,j){if(i){var Y=F.deletions;Y===null?(F.deletions=[j],F.flags|=16):Y.push(j)}}function o(F,j){if(!i)return null;for(;j!==null;)r(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function d(F,j){return F=fs(F,j),F.index=0,F.sibling=null,F}function g(F,j,Y){return F.index=Y,i?(Y=F.alternate,Y!==null?(Y=Y.index,Y<j?(F.flags|=67108866,j):Y):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function T(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,j,Y,te){return j===null||j.tag!==6?(j=pm(Y,F.mode,te),j.return=F,j):(j=d(j,Y),j.return=F,j)}function M(F,j,Y,te){var ve=Y.type;return ve===B?Z(F,j,Y.props.children,te,Y.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&ba(ve)===j.type)?(j=d(j,Y.props),ru(j,Y),j.return=F,j):(j=ph(Y.type,Y.key,Y.props,null,F.mode,te),ru(j,Y),j.return=F,j)}function K(F,j,Y,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=gm(Y,F.mode,te),j.return=F,j):(j=d(j,Y.children||[]),j.return=F,j)}function Z(F,j,Y,te,ve){return j===null||j.tag!==7?(j=ya(Y,F.mode,te,ve),j.return=F,j):(j=d(j,Y),j.return=F,j)}function ne(F,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=pm(""+j,F.mode,Y),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return Y=ph(j.type,j.key,j.props,null,F.mode,Y),ru(Y,j),Y.return=F,Y;case N:return j=gm(j,F.mode,Y),j.return=F,j;case x:return j=ba(j),ne(F,j,Y)}if(st(j)||q(j))return j=ya(j,F.mode,Y,null),j.return=F,j;if(typeof j.then=="function")return ne(F,bh(j),Y);if(j.$$typeof===G)return ne(F,vh(F,j),Y);wh(F,j)}return null}function Q(F,j,Y,te){var ve=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:S(F,j,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return Y.key===ve?M(F,j,Y,te):null;case N:return Y.key===ve?K(F,j,Y,te):null;case x:return Y=ba(Y),Q(F,j,Y,te)}if(st(Y)||q(Y))return ve!==null?null:Z(F,j,Y,te,null);if(typeof Y.then=="function")return Q(F,j,bh(Y),te);if(Y.$$typeof===G)return Q(F,j,vh(F,Y),te);wh(F,Y)}return null}function W(F,j,Y,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(Y)||null,S(j,F,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return F=F.get(te.key===null?Y:te.key)||null,M(j,F,te,ve);case N:return F=F.get(te.key===null?Y:te.key)||null,K(j,F,te,ve);case x:return te=ba(te),W(F,j,Y,te,ve)}if(st(te)||q(te))return F=F.get(Y)||null,Z(j,F,te,ve,null);if(typeof te.then=="function")return W(F,j,Y,bh(te),ve);if(te.$$typeof===G)return W(F,j,Y,vh(j,te),ve);wh(j,te)}return null}function me(F,j,Y,te){for(var ve=null,Fe=null,ge=j,Ne=j=0,Ve=null;ge!==null&&Ne<Y.length;Ne++){ge.index>Ne?(Ve=ge,ge=null):Ve=ge.sibling;var qe=Q(F,ge,Y[Ne],te);if(qe===null){ge===null&&(ge=Ve);break}i&&ge&&qe.alternate===null&&r(F,ge),j=g(qe,j,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe,ge=Ve}if(Ne===Y.length)return o(F,ge),je&&ds(F,Ne),ve;if(ge===null){for(;Ne<Y.length;Ne++)ge=ne(F,Y[Ne],te),ge!==null&&(j=g(ge,j,Ne),Fe===null?ve=ge:Fe.sibling=ge,Fe=ge);return je&&ds(F,Ne),ve}for(ge=u(ge);Ne<Y.length;Ne++)Ve=W(ge,F,Ne,Y[Ne],te),Ve!==null&&(i&&Ve.alternate!==null&&ge.delete(Ve.key===null?Ne:Ve.key),j=g(Ve,j,Ne),Fe===null?ve=Ve:Fe.sibling=Ve,Fe=Ve);return i&&ge.forEach(function(vr){return r(F,vr)}),je&&ds(F,Ne),ve}function Te(F,j,Y,te){if(Y==null)throw Error(s(151));for(var ve=null,Fe=null,ge=j,Ne=j=0,Ve=null,qe=Y.next();ge!==null&&!qe.done;Ne++,qe=Y.next()){ge.index>Ne?(Ve=ge,ge=null):Ve=ge.sibling;var vr=Q(F,ge,qe.value,te);if(vr===null){ge===null&&(ge=Ve);break}i&&ge&&vr.alternate===null&&r(F,ge),j=g(vr,j,Ne),Fe===null?ve=vr:Fe.sibling=vr,Fe=vr,ge=Ve}if(qe.done)return o(F,ge),je&&ds(F,Ne),ve;if(ge===null){for(;!qe.done;Ne++,qe=Y.next())qe=ne(F,qe.value,te),qe!==null&&(j=g(qe,j,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe);return je&&ds(F,Ne),ve}for(ge=u(ge);!qe.done;Ne++,qe=Y.next())qe=W(ge,F,Ne,qe.value,te),qe!==null&&(i&&qe.alternate!==null&&ge.delete(qe.key===null?Ne:qe.key),j=g(qe,j,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe);return i&&ge.forEach(function(xI){return r(F,xI)}),je&&ds(F,Ne),ve}function nt(F,j,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===B&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:e:{for(var ve=Y.key;j!==null;){if(j.key===ve){if(ve=Y.type,ve===B){if(j.tag===7){o(F,j.sibling),te=d(j,Y.props.children),te.return=F,F=te;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&ba(ve)===j.type){o(F,j.sibling),te=d(j,Y.props),ru(te,Y),te.return=F,F=te;break e}o(F,j);break}else r(F,j);j=j.sibling}Y.type===B?(te=ya(Y.props.children,F.mode,te,Y.key),te.return=F,F=te):(te=ph(Y.type,Y.key,Y.props,null,F.mode,te),ru(te,Y),te.return=F,F=te)}return T(F);case N:e:{for(ve=Y.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){o(F,j.sibling),te=d(j,Y.children||[]),te.return=F,F=te;break e}else{o(F,j);break}else r(F,j);j=j.sibling}te=gm(Y,F.mode,te),te.return=F,F=te}return T(F);case x:return Y=ba(Y),nt(F,j,Y,te)}if(st(Y))return me(F,j,Y,te);if(q(Y)){if(ve=q(Y),typeof ve!="function")throw Error(s(150));return Y=ve.call(Y),Te(F,j,Y,te)}if(typeof Y.then=="function")return nt(F,j,bh(Y),te);if(Y.$$typeof===G)return nt(F,j,vh(F,Y),te);wh(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(o(F,j.sibling),te=d(j,Y),te.return=F,F=te):(o(F,j),te=pm(Y,F.mode,te),te.return=F,F=te),T(F)):o(F,j)}return function(F,j,Y,te){try{su=0;var ve=nt(F,j,Y,te);return Ao=null,ve}catch(ge){if(ge===So||ge===Th)throw ge;var Fe=Dn(29,ge,null,F.mode);return Fe.lanes=te,Fe.return=F,Fe}}}var Sa=W0(!0),J0=W0(!1),tr=!1;function Cm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function nr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ir(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ge&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=mh(i),V0(i,null,o),r}return dh(i,u,r,o),mh(i)}function au(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ol(i,o)}}function Dm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Nm=!1;function ou(){if(Nm){var i=wo;if(i!==null)throw i}}function lu(i,r,o,u){Nm=!1;var d=i.updateQueue;tr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,K=M.next;M.next=null,T===null?g=K:T.next=K,T=M;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==T&&(S===null?Z.firstBaseUpdate=K:S.next=K,Z.lastBaseUpdate=M))}if(g!==null){var ne=d.baseState;T=0,Z=K=M=null,S=g;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(Pe&Q)===Q:(u&Q)===Q){Q!==0&&Q===bo&&(Nm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,Te=S;Q=r;var nt=o;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){ne=me.call(nt,ne,Q);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,Q=typeof me=="function"?me.call(nt,ne,Q):me,Q==null)break e;ne=_({},ne,Q);break e;case 2:tr=!0}}Q=S.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(K=Z=W,M=ne):Z=Z.next=W,T|=Q;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;W=S,S=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(M=ne),d.baseState=M,d.firstBaseUpdate=K,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),lr|=T,i.lanes=T,i.memoizedState=ne}}function Z0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function e_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Z0(o[i],r)}var xo=k(null),Sh=k(0);function t_(i,r){i=Ss,ce(Sh,i),ce(xo,r),Ss=i|r.baseLanes}function Mm(){ce(Sh,Ss),ce(xo,xo.current)}function Om(){Ss=Sh.current,ee(xo),ee(Sh)}var Nn=k(null),Xn=null;function sr(i){var r=i.alternate;ce(bt,bt.current&1),ce(Nn,i),Xn===null&&(r===null||xo.current!==null||r.memoizedState!==null)&&(Xn=i)}function Pm(i){ce(bt,bt.current),ce(Nn,i),Xn===null&&(Xn=i)}function n_(i){i.tag===22?(ce(bt,bt.current),ce(Nn,i),Xn===null&&(Xn=i)):rr()}function rr(){ce(bt,bt.current),ce(Nn,Nn.current)}function Mn(i){ee(Nn),Xn===i&&(Xn=null),ee(bt)}var bt=k(0);function Ah(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Bp(o)||zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gs=0,Ie=null,et=null,Nt=null,xh=!1,Ro=!1,Aa=!1,Rh=0,uu=0,Co=null,g2=0;function yt(){throw Error(s(321))}function Vm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!In(i[o],r[o]))return!1;return!0}function km(i,r,o,u,d,g){return gs=g,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=i===null||i.memoizedState===null?j_:Wm,Aa=!1,g=o(u,d),Aa=!1,Ro&&(g=s_(r,o,u,d)),i_(i),g}function i_(i){U.H=fu;var r=et!==null&&et.next!==null;if(gs=0,Nt=et=Ie=null,xh=!1,uu=0,Co=null,r)throw Error(s(300));i===null||Mt||(i=i.dependencies,i!==null&&yh(i)&&(Mt=!0))}function s_(i,r,o,u){Ie=i;var d=0;do{if(Ro&&(Co=null),uu=0,Ro=!1,25<=d)throw Error(s(301));if(d+=1,Nt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=B_,g=r(o,u)}while(Ro);return g}function y2(){var i=U.H,r=i.useState()[0];return r=typeof r.then=="function"?cu(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ie.flags|=1024),r}function Lm(){var i=Rh!==0;return Rh=0,i}function Um(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function jm(i){if(xh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xh=!1}gs=0,Nt=et=Ie=null,Ro=!1,uu=Rh=0,Co=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ie.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function wt(){if(et===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Nt===null?Ie.memoizedState:Nt.next;if(r!==null)Nt=r,et=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Nt===null?Ie.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(i){var r=uu;return uu+=1,Co===null&&(Co=[]),i=$0(Co,i,r),r=Ie,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?j_:Wm),i}function Ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cu(i);if(i.$$typeof===G)return Zt(i)}throw Error(s(438,String(i)))}function Bm(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ch(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function ys(i,r){return typeof r=="function"?r(i):r}function Dh(i){var r=wt();return zm(r,et,i)}function zm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=T=null,M=null,K=r,Z=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Pe&ne)===ne:(gs&ne)===ne){var Q=K.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===bo&&(Z=!0);else if((gs&Q)===Q){K=K.next,Q===bo&&(Z=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=ne,T=g):M=M.next=ne,Ie.lanes|=Q,lr|=Q;ne=K.action,Aa&&o(g,ne),g=K.hasEagerState?K.eagerState:o(g,ne)}else Q={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=Q,T=g):M=M.next=Q,Ie.lanes|=ne,lr|=ne;K=K.next}while(K!==null&&K!==r);if(M===null?T=g:M.next=S,!In(g,i.memoizedState)&&(Mt=!0,Z&&(o=wo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=M,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Fm(i){var r=wt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);In(g,r.memoizedState)||(Mt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function r_(i,r,o){var u=Ie,d=wt(),g=je;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!In((et||d).memoizedState,o);if(T&&(d.memoizedState=o,Mt=!0),d=d.queue,Gm(l_.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,Io(9,{destroy:void 0},o_.bind(null,u,d,o,r),null),it===null)throw Error(s(349));g||(gs&127)!==0||a_(u,r,o)}return o}function a_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=Ch(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function o_(i,r,o,u){r.value=o,r.getSnapshot=u,u_(r)&&c_(i)}function l_(i,r,o){return o(function(){u_(r)&&c_(i)})}function u_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!In(i,o)}catch{return!0}}function c_(i){var r=ga(i,2);r!==null&&bn(r,i,2)}function qm(i){var r=mn();if(typeof i=="function"){var o=i;if(i=o(),Aa){Bn(!0);try{o()}finally{Bn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},r}function h_(i,r,o,u){return i.baseState=o,zm(i,et,typeof u=="function"?u:ys)}function v2(i,r,o,u,d){if(Oh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};U.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,f_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function f_(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=U.T,T={};U.T=T;try{var S=o(d,u),M=U.S;M!==null&&M(T,S),d_(i,r,S)}catch(K){Hm(i,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),U.T=g}}else try{g=o(d,u),d_(i,r,g)}catch(K){Hm(i,r,K)}}function d_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){m_(i,r,u)},function(u){return Hm(i,r,u)}):m_(i,r,o)}function m_(i,r,o){r.status="fulfilled",r.value=o,p_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,f_(i,o)))}function Hm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,p_(r),r=r.next;while(r!==u)}i.action=null}function p_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function g_(i,r){return r}function y_(i,r){if(je){var o=it.formState;if(o!==null){e:{var u=Ie;if(je){if(at){t:{for(var d=at,g=Qn;d.nodeType!==8;){if(!g){d=null;break t}if(d=Wn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){at=Wn(d.nextSibling),u=d.data==="F!";break e}}Zs(u)}u=!1}u&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:r},o.queue=u,o=k_.bind(null,Ie,u),u.dispatch=o,u=qm(!1),g=Xm.bind(null,Ie,!1,u.queue),u=mn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=v2.bind(null,Ie,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function v_(i){var r=wt();return __(r,et,i)}function __(i,r,o){if(r=zm(i,r,g_)[0],i=Dh(ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=cu(r)}catch(T){throw T===So?Th:T}else u=r;r=wt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,Io(9,{destroy:void 0},_2.bind(null,d,o),null)),[u,g,i]}function _2(i,r){i.action=r}function T_(i){var r=wt(),o=et;if(o!==null)return __(r,o,i);wt(),r=r.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Io(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Ch(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function E_(){return wt().memoizedState}function Nh(i,r,o,u){var d=mn();Ie.flags|=i,d.memoizedState=Io(1|r,{destroy:void 0},o,u===void 0?null:u)}function Mh(i,r,o,u){var d=wt();u=u===void 0?null:u;var g=d.memoizedState.inst;et!==null&&u!==null&&Vm(u,et.memoizedState.deps)?d.memoizedState=Io(r,g,o,u):(Ie.flags|=i,d.memoizedState=Io(1|r,g,o,u))}function b_(i,r){Nh(8390656,8,i,r)}function Gm(i,r){Mh(2048,8,i,r)}function T2(i){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Ch(),Ie.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function w_(i){var r=wt().memoizedState;return T2({ref:r,nextImpl:i}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function S_(i,r){return Mh(4,2,i,r)}function A_(i,r){return Mh(4,4,i,r)}function x_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function R_(i,r,o){o=o!=null?o.concat([i]):null,Mh(4,4,x_.bind(null,r,i),o)}function Ym(){}function C_(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Vm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function I_(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Vm(r,u[1]))return u[0];if(u=i(),Aa){Bn(!0);try{i()}finally{Bn(!1)}}return o.memoizedState=[u,r],u}function Km(i,r,o){return o===void 0||(gs&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=DT(),Ie.lanes|=i,lr|=i,o)}function D_(i,r,o,u){return In(o,r)?o:xo.current!==null?(i=Km(i,o,u),In(i,r)||(Mt=!0),i):(gs&42)===0||(gs&1073741824)!==0&&(Pe&261930)===0?(Mt=!0,i.memoizedState=o):(i=DT(),Ie.lanes|=i,lr|=i,r)}function N_(i,r,o,u,d){var g=J.p;J.p=g!==0&&8>g?g:8;var T=U.T,S={};U.T=S,Xm(i,!1,r,o);try{var M=d(),K=U.S;if(K!==null&&K(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=p2(M,u);hu(i,r,Z,Vn(i))}else hu(i,r,u,Vn(i))}catch(ne){hu(i,r,{then:function(){},status:"rejected",reason:ne},Vn())}finally{J.p=g,T!==null&&S.types!==null&&(T.types=S.types),U.T=T}}function E2(){}function $m(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=M_(i).queue;N_(i,d,r,oe,o===null?E2:function(){return O_(i),o(u)})}function M_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:oe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function O_(i){var r=M_(i);r.next===null&&(r=i.alternate.memoizedState),hu(i,r.next.queue,{},Vn())}function Qm(){return Zt(Cu)}function P_(){return wt().memoizedState}function V_(){return wt().memoizedState}function b2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();i=nr(o);var u=ir(r,i,o);u!==null&&(bn(u,r,o),au(u,r,o)),r={cache:Sm()},i.payload=r;return}r=r.return}}function w2(i,r,o){var u=Vn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(i)?L_(r,o):(o=dm(i,r,o,u),o!==null&&(bn(o,i,u),U_(o,r,u)))}function k_(i,r,o){var u=Vn();hu(i,r,o,u)}function hu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(i))L_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(d.hasEagerState=!0,d.eagerState=S,In(S,T))return dh(i,r,d,0),it===null&&fh(),!1}catch{}if(o=dm(i,r,d,u),o!==null)return bn(o,i,u),U_(o,r,u),!0}return!1}function Xm(i,r,o,u){if(u={lane:2,revertLane:Cp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Oh(i)){if(r)throw Error(s(479))}else r=dm(i,o,u,2),r!==null&&bn(r,i,2)}function Oh(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function L_(i,r){Ro=xh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function U_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ol(i,o)}}var fu={readContext:Zt,use:Ih,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};fu.useEffectEvent=yt;var j_={readContext:Zt,use:Ih,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Zt,useEffect:b_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Nh(4194308,4,x_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Nh(4194308,4,i,r)},useInsertionEffect:function(i,r){Nh(4,2,i,r)},useMemo:function(i,r){var o=mn();r=r===void 0?null:r;var u=i();if(Aa){Bn(!0);try{i()}finally{Bn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=mn();if(o!==void 0){var d=o(r);if(Aa){Bn(!0);try{o(r)}finally{Bn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=w2.bind(null,Ie,i),[u.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=qm(i);var r=i.queue,o=k_.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Ym,useDeferredValue:function(i,r){var o=mn();return Km(o,i,r)},useTransition:function(){var i=qm(!1);return i=N_.bind(null,Ie,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ie,d=mn();if(je){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(Pe&127)!==0||a_(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,b_(l_.bind(null,u,g,i),[i]),u.flags|=2048,Io(9,{destroy:void 0},o_.bind(null,u,g,o,r),null),o},useId:function(){var i=mn(),r=it.identifierPrefix;if(je){var o=Yi,u=Gi;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=g2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Qm,useFormState:y_,useActionState:y_,useOptimistic:function(i){var r=mn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Xm.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:Bm,useCacheRefresh:function(){return mn().memoizedState=b2.bind(null,Ie)},useEffectEvent:function(i){var r=mn(),o={impl:i};return r.memoizedState=o,function(){if((Ge&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Wm={readContext:Zt,use:Ih,useCallback:C_,useContext:Zt,useEffect:Gm,useImperativeHandle:R_,useInsertionEffect:S_,useLayoutEffect:A_,useMemo:I_,useReducer:Dh,useRef:E_,useState:function(){return Dh(ys)},useDebugValue:Ym,useDeferredValue:function(i,r){var o=wt();return D_(o,et.memoizedState,i,r)},useTransition:function(){var i=Dh(ys)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:cu(i),r]},useSyncExternalStore:r_,useId:P_,useHostTransitionStatus:Qm,useFormState:v_,useActionState:v_,useOptimistic:function(i,r){var o=wt();return h_(o,et,i,r)},useMemoCache:Bm,useCacheRefresh:V_};Wm.useEffectEvent=w_;var B_={readContext:Zt,use:Ih,useCallback:C_,useContext:Zt,useEffect:Gm,useImperativeHandle:R_,useInsertionEffect:S_,useLayoutEffect:A_,useMemo:I_,useReducer:Fm,useRef:E_,useState:function(){return Fm(ys)},useDebugValue:Ym,useDeferredValue:function(i,r){var o=wt();return et===null?Km(o,i,r):D_(o,et.memoizedState,i,r)},useTransition:function(){var i=Fm(ys)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:cu(i),r]},useSyncExternalStore:r_,useId:P_,useHostTransitionStatus:Qm,useFormState:T_,useActionState:T_,useOptimistic:function(i,r){var o=wt();return et!==null?h_(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Bm,useCacheRefresh:V_};B_.useEffectEvent=w_;function Jm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Zm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Vn(),d=nr(u);d.payload=r,o!=null&&(d.callback=o),r=ir(i,d,u),r!==null&&(bn(r,i,u),au(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Vn(),d=nr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=ir(i,d,u),r!==null&&(bn(r,i,u),au(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Vn(),u=nr(o);u.tag=2,r!=null&&(u.callback=r),r=ir(i,u,o),r!==null&&(bn(r,i,o),au(r,i,o))}};function z_(i,r,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!Jl(o,u)||!Jl(d,g):!0}function F_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Zm.enqueueReplaceState(r,r.state,null)}function xa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function q_(i){hh(i)}function H_(i){console.error(i)}function G_(i){hh(i)}function Ph(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Y_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ep(i,r,o){return o=nr(o),o.tag=3,o.payload={element:null},o.callback=function(){Ph(i,r)},o}function K_(i){return i=nr(i),i.tag=3,i}function $_(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){Y_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Y_(r,o,u),typeof d!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function S2(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Eo(r,o,d,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Xn===null?Yh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Eh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Ap(i,u,d)),!1;case 22:return o.flags|=65536,u===Eh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Ap(i,u,d)),!1}throw Error(s(435,o.tag))}return Ap(i,u,d),Yh(),!1}if(je)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==_m&&(i=Error(s(422),{cause:u}),tu(Yn(i,o)))):(u!==_m&&(r=Error(s(423),{cause:u}),tu(Yn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Yn(u,o),d=ep(i.stateNode,u,d),Dm(i,d),vt!==4&&(vt=2)),!1;var g=Error(s(520),{cause:u});if(g=Yn(g,o),Tu===null?Tu=[g]:Tu.push(g),vt!==4&&(vt=2),r===null)return!0;u=Yn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=ep(o.stateNode,u,i),Dm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ur===null||!ur.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=K_(d),$_(d,i,o,u),Dm(o,d),!1}o=o.return}while(o!==null);return!1}var tp=Error(s(461)),Mt=!1;function en(i,r,o,u){r.child=i===null?J0(r,null,o,u):Sa(r,i.child,o,u)}function Q_(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Ta(r),u=km(i,r,o,T,g,d),S=Lm(),i!==null&&!Mt?(Um(i,r,d),vs(i,r,d)):(je&&S&&ym(r),r.flags|=1,en(i,r,u,d),r.child)}function X_(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!mm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,W_(i,r,g,u,d)):(i=ph(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!up(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Jl,o(T,u)&&i.ref===r.ref)return vs(i,r,d)}return r.flags|=1,i=fs(g,u),i.ref=r.ref,i.return=r,r.child=i}function W_(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(Jl(g,u)&&i.ref===r.ref)if(Mt=!1,r.pendingProps=u=g,up(i,d))(i.flags&131072)!==0&&(Mt=!0);else return r.lanes=i.lanes,vs(i,r,d)}return np(i,r,o,u,d)}function J_(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return Z_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_h(r,g!==null?g.cachePool:null),g!==null?t_(r,g):Mm(),n_(r);else return u=r.lanes=536870912,Z_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(_h(r,g.cachePool),t_(r,g),rr(),r.memoizedState=null):(i!==null&&_h(r,null),Mm(),rr());return en(i,r,d,o),r.child}function du(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Z_(i,r,o,u,d){var g=xm();return g=g===null?null:{parent:Dt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&_h(r,null),Mm(),n_(r),i!==null&&Eo(i,r,u,!0),r.childLanes=d,null}function Vh(i,r){return r=Lh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function eT(i,r,o){return Sa(r,i.child,null,o),i=Vh(r,r.pendingProps),i.flags|=2,Mn(r),r.memoizedState=null,i}function A2(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(je){if(u.mode==="hidden")return i=Vh(r,u),r.lanes=536870912,du(null,i);if(Pm(r),(i=at)?(i=fE(i,Qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ws!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=L0(i),o.return=r,r.child=o,Jt=r,at=null)):i=null,i===null)throw Zs(r);return r.lanes=536870912,null}return Vh(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Pm(r),d)if(r.flags&256)r.flags&=-257,r=eT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Mt||Eo(i,r,o,!1),d=(o&i.childLanes)!==0,Mt||d){if(u=it,u!==null&&(T=Pl(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ga(i,T),bn(u,i,T),tp;Yh(),r=eT(i,r,o)}else i=g.treeContext,at=Wn(T.nextSibling),Jt=r,je=!0,Js=null,Qn=!1,i!==null&&B0(r,i),r=Vh(r,u),r.flags|=4096;return r}return i=fs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function np(i,r,o,u,d){return Ta(r),o=km(i,r,o,u,void 0,d),u=Lm(),i!==null&&!Mt?(Um(i,r,d),vs(i,r,d)):(je&&u&&ym(r),r.flags|=1,en(i,r,o,d),r.child)}function tT(i,r,o,u,d,g){return Ta(r),r.updateQueue=null,o=s_(r,u,o,d),i_(i),u=Lm(),i!==null&&!Mt?(Um(i,r,g),vs(i,r,g)):(je&&u&&ym(r),r.flags|=1,en(i,r,o,g),r.child)}function nT(i,r,o,u,d){if(Ta(r),r.stateNode===null){var g=yo,T=o.contextType;typeof T=="object"&&T!==null&&(g=Zt(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Zm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Cm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Zt(T):yo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Jm(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Zm.enqueueReplaceState(g,g.state,null),lu(r,u,g,d),ou(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,M=xa(o,S);g.props=M;var K=g.context,Z=o.contextType;T=yo,typeof Z=="object"&&Z!==null&&(T=Zt(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==T)&&F_(r,g,u,T),tr=!1;var Q=r.memoizedState;g.state=Q,lu(r,u,g,d),ou(),K=r.memoizedState,S||Q!==K||tr?(typeof ne=="function"&&(Jm(r,o,ne,u),K=r.memoizedState),(M=tr||z_(r,o,M,u,Q,K,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=T,u=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Im(i,r),T=r.memoizedProps,Z=xa(o,T),g.props=Z,ne=r.pendingProps,Q=g.context,K=o.contextType,M=yo,typeof K=="object"&&K!==null&&(M=Zt(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ne||Q!==M)&&F_(r,g,u,M),tr=!1,Q=r.memoizedState,g.state=Q,lu(r,u,g,d),ou();var W=r.memoizedState;T!==ne||Q!==W||tr||i!==null&&i.dependencies!==null&&yh(i.dependencies)?(typeof S=="function"&&(Jm(r,o,S,u),W=r.memoizedState),(Z=tr||z_(r,o,Z,u,Q,W,M)||i!==null&&i.dependencies!==null&&yh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=M,u=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,kh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Sa(r,i.child,null,d),r.child=Sa(r,null,o,d)):en(i,r,o,d),r.memoizedState=g.state,i=r.child):i=vs(i,r,d),i}function iT(i,r,o,u){return va(),r.flags|=256,en(i,r,o,u),r.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(i){return{baseLanes:i,cachePool:Y0()}}function rp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function sT(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(bt.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(je){if(d?sr(r):rr(),(i=at)?(i=fE(i,Qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ws!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=L0(i),o.return=r,r.child=o,Jt=r,at=null)):i=null,i===null)throw Zs(r);return zp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(rr(),d=r.mode,S=Lh({mode:"hidden",children:S},d),u=ya(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=sp(o),u.childLanes=rp(i,T,o),r.memoizedState=ip,du(null,u)):(sr(r),ap(r,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(g)r.flags&256?(sr(r),r.flags&=-257,r=op(i,r,o)):r.memoizedState!==null?(rr(),r.child=i.child,r.flags|=128,r=null):(rr(),S=u.fallback,d=r.mode,u=Lh({mode:"visible",children:u.children},d),S=ya(S,d,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Sa(r,i.child,null,o),u=r.child,u.memoizedState=sp(o),u.childLanes=rp(i,T,o),r.memoizedState=ip,r=du(null,u));else if(sr(r),zp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,tu({value:u,source:null,stack:null}),r=op(i,r,o)}else if(Mt||Eo(i,r,o,!1),T=(o&i.childLanes)!==0,Mt||T){if(T=it,T!==null&&(u=Pl(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,ga(i,u),bn(T,i,u),tp;Bp(S)||Yh(),r=op(i,r,o)}else Bp(S)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,at=Wn(S.nextSibling),Jt=r,je=!0,Js=null,Qn=!1,i!==null&&B0(r,i),r=ap(r,u.children),r.flags|=4096);return r}return d?(rr(),S=u.fallback,d=r.mode,M=i.child,K=M.sibling,u=fs(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?S=fs(K,S):(S=ya(S,d,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,du(null,u),u=r.child,S=i.child.memoizedState,S===null?S=sp(o):(d=S.cachePool,d!==null?(M=Dt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Y0(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=rp(i,T,o),r.memoizedState=ip,du(i.child,u)):(sr(r),o=i.child,i=o.sibling,o=fs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function ap(i,r){return r=Lh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Lh(i,r){return i=Dn(22,i,null,r),i.lanes=0,i}function op(i,r,o){return Sa(r,i.child,null,o),i=ap(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function rT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),bm(i.return,r,o)}function lp(i,r,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function aT(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=bt.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ce(bt,T),en(i,r,u,o),u=je?eu:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&rT(i,o,r);else if(i.tag===19)rT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Ah(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),lp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Ah(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}lp(r,!0,o,null,g,u);break;case"together":lp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function vs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),lr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Eo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=fs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=fs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function up(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&yh(i)))}function x2(i,r,o){switch(r.tag){case 3:Ut(r,r.stateNode.containerInfo),er(r,Dt,i.memoizedState.cache),va();break;case 27:case 5:Jr(r);break;case 4:Ut(r,r.stateNode.containerInfo);break;case 10:er(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Pm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(sr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?sT(i,r,o):(sr(r),i=vs(i,r,o),i!==null?i.sibling:null);sr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Eo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return aT(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(bt,bt.current),u)break;return null;case 22:return r.lanes=0,J_(i,r,o,r.pendingProps);case 24:er(r,Dt,i.memoizedState.cache)}return vs(i,r,o)}function oT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Mt=!0;else{if(!up(i,o)&&(r.flags&128)===0)return Mt=!1,x2(i,r,o);Mt=(i.flags&131072)!==0}else Mt=!1,je&&(r.flags&1048576)!==0&&j0(r,eu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=ba(r.elementType),r.type=i,typeof i=="function")mm(i)?(u=xa(i,u),r.tag=1,r=nT(null,r,i,u,o)):(r.tag=0,r=np(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===se){r.tag=11,r=Q_(null,r,i,u,o);break e}else if(d===C){r.tag=14,r=X_(null,r,i,u,o);break e}}throw r=Ye(i)||i,Error(s(306,r,""))}}return r;case 0:return np(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=xa(u,r.pendingProps),nT(i,r,u,d,o);case 3:e:{if(Ut(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Im(i,r),lu(r,u,null,o);var T=r.memoizedState;if(u=T.cache,er(r,Dt,u),u!==g.cache&&wm(r,[Dt],o,!0),ou(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=iT(i,r,u,o);break e}else if(u!==d){d=Yn(Error(s(424)),r),tu(d),r=iT(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,at=Wn(i.firstChild),Jt=r,je=!0,Js=null,Qn=!0,o=J0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(va(),u===d){r=vs(i,r,o);break e}en(i,r,u,o)}r=r.child}return r;case 26:return kh(i,r),i===null?(o=vE(r.type,null,r.pendingProps,null))?r.memoizedState=o:je||(o=r.type,i=r.pendingProps,u=Zh(De.current).createElement(o),u[Rt]=r,u[Ht]=i,tn(u,o,i),Ct(u),r.stateNode=u):r.memoizedState=vE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Jr(r),i===null&&je&&(u=r.stateNode=pE(r.type,r.pendingProps,De.current),Jt=r,Qn=!0,d=at,dr(r.type)?(Fp=d,at=Wn(u.firstChild)):at=d),en(i,r,r.pendingProps.children,o),kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&je&&((d=u=at)&&(u=nI(u,r.type,r.pendingProps,Qn),u!==null?(r.stateNode=u,Jt=r,at=Wn(u.firstChild),Qn=!1,d=!0):d=!1),d||Zs(r)),Jr(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Lp(d,g)?u=null:T!==null&&Lp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=km(i,r,y2,null,null,o),Cu._currentValue=d),kh(i,r),en(i,r,u,o),r.child;case 6:return i===null&&je&&((i=o=at)&&(o=iI(o,r.pendingProps,Qn),o!==null?(r.stateNode=o,Jt=r,at=null,i=!0):i=!1),i||Zs(r)),null;case 13:return sT(i,r,o);case 4:return Ut(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Sa(r,null,u,o):en(i,r,u,o),r.child;case 11:return Q_(i,r,r.type,r.pendingProps,o);case 7:return en(i,r,r.pendingProps,o),r.child;case 8:return en(i,r,r.pendingProps.children,o),r.child;case 12:return en(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,er(r,r.type,u.value),en(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Ta(r),d=Zt(d),u=u(d),r.flags|=1,en(i,r,u,o),r.child;case 14:return X_(i,r,r.type,r.pendingProps,o);case 15:return W_(i,r,r.type,r.pendingProps,o);case 19:return aT(i,r,o);case 31:return A2(i,r,o);case 22:return J_(i,r,o,r.pendingProps);case 24:return Ta(r),u=Zt(Dt),i===null?(d=xm(),d===null&&(d=it,g=Sm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Cm(r),er(r,Dt,d)):((i.lanes&o)!==0&&(Im(i,r),lu(r,null,null,o),ou()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),er(r,Dt,u)):(u=g.cache,er(r,Dt,u),u!==d.cache&&wm(r,[Dt],o,!0))),en(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function _s(i){i.flags|=4}function cp(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(PT())i.flags|=8192;else throw wa=Eh,Rm}else i.flags&=-16777217}function lT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!wE(r))if(PT())i.flags|=8192;else throw wa=Eh,Rm}function Uh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Hc():536870912,i.lanes|=r,Oo|=r)}function mu(i,r){if(!je)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function R2(i,r,o){var u=r.pendingProps;switch(vm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ps(Dt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(To(r)?_s(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tm())),ot(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(_s(r),g!==null?(ot(r),lT(r,g)):(ot(r),cp(r,d,null,u,o))):g?g!==i.memoizedState?(_s(r),ot(r),lT(r,g)):(ot(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&_s(r),ot(r),cp(r,d,i,u,o)),null;case 27:if(Wa(r),o=De.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=fe.current,To(r)?z0(r):(i=pE(d,u,o),r.stateNode=i,_s(r))}return ot(r),null;case 5:if(Wa(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(g=fe.current,To(r))z0(r);else{var T=Zh(De.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[Rt]=r,g[Ht]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(tn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_s(r)}}return ot(r),cp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=De.current,To(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Jt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Rt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||sE(i.nodeValue,o)),i||Zs(r,!0)}else i=Zh(i).createTextNode(u),i[Rt]=r,r.stateNode=i}return ot(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=To(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Rt]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),i=!1}else o=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=To(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Rt]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),d=!1}else d=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Uh(r,r.updateQueue),ot(r),null);case 4:return ut(),i===null&&Mp(r.stateNode.containerInfo),ot(r),null;case 10:return ps(r.type),ot(r),null;case 19:if(ee(bt),u=r.memoizedState,u===null)return ot(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)mu(u,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ah(i),g!==null){for(r.flags|=128,mu(u,!1),i=g.updateQueue,r.updateQueue=i,Uh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)k0(o,i),o=o.sibling;return ce(bt,bt.current&1|2),je&&ds(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&fn()>qh&&(r.flags|=128,d=!0,mu(u,!1),r.lanes=4194304)}else{if(!d)if(i=Ah(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Uh(r,i),mu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!je)return ot(r),null}else 2*fn()-u.renderingStartTime>qh&&o!==536870912&&(r.flags|=128,d=!0,mu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=fn(),i.sibling=null,o=bt.current,ce(bt,d?o&1|2:o&1),je&&ds(r,u.treeForkCount),i):(ot(r),null);case 22:case 23:return Mn(r),Om(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&Uh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ee(Ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ps(Dt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function C2(i,r){switch(vm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ps(Dt),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Wa(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Mn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(bt),null;case 4:return ut(),null;case 10:return ps(r.type),null;case 22:case 23:return Mn(r),Om(),i!==null&&ee(Ea),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ps(Dt),null;case 25:return null;default:return null}}function uT(i,r){switch(vm(r),r.tag){case 3:ps(Dt),ut();break;case 26:case 27:case 5:Wa(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:ee(bt);break;case 10:ps(r.type);break;case 22:case 23:Mn(r),Om(),i!==null&&ee(Ea);break;case 24:ps(Dt)}}function pu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(S){Xe(r,r.return,S)}}function ar(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=r;var M=o,K=S;try{K()}catch(Z){Xe(d,M,Z)}}}u=u.next}while(u!==g)}}catch(Z){Xe(r,r.return,Z)}}function cT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{e_(r,o)}catch(u){Xe(i,i.return,u)}}}function hT(i,r,o){o.props=xa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(i,r,u)}}function gu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Xe(i,r,d)}}function Ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Xe(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Xe(i,r,d)}else o.current=null}function fT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Xe(i,i.return,d)}}function hp(i,r,o){try{var u=i.stateNode;X2(u,i.type,o,r),u[Ht]=r}catch(d){Xe(i,i.return,d)}}function dT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&dr(i.type)||i.tag===4}function fp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&dr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ci));else if(u!==4&&(u===27&&dr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(dp(i,r,o),i=i.sibling;i!==null;)dp(i,r,o),i=i.sibling}function jh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&dr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(jh(i,r,o),i=i.sibling;i!==null;)jh(i,r,o),i=i.sibling}function mT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);tn(r,u,o),r[Rt]=i,r[Ht]=o}catch(g){Xe(i,i.return,g)}}var Ts=!1,Ot=!1,mp=!1,pT=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function I2(i,r){if(i=i.containerInfo,Vp=of,i=R0(i),om(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,M=-1,K=0,Z=0,ne=i,Q=null;t:for(;;){for(var W;ne!==o||d!==0&&ne.nodeType!==3||(S=T+d),ne!==g||u!==0&&ne.nodeType!==3||(M=T+u),ne.nodeType===3&&(T+=ne.nodeValue.length),(W=ne.firstChild)!==null;)Q=ne,ne=W;for(;;){if(ne===i)break t;if(Q===o&&++K===d&&(S=T),Q===g&&++Z===u&&(M=T),(W=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=W}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(kp={focusedElem:i,selectionRange:o},of=!1,Yt=r;Yt!==null;)if(r=Yt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Yt=i;else for(;Yt!==null;){switch(r=Yt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=xa(o.type,d);i=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Xe(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Yt=i;break}Yt=r.return}}function gT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bs(i,o),u&4&&pu(5,o);break;case 1:if(bs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Xe(o,o.return,T)}else{var d=xa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Xe(o,o.return,T)}}u&64&&cT(o),u&512&&gu(o,o.return);break;case 3:if(bs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{e_(i,r)}catch(T){Xe(o,o.return,T)}}break;case 27:r===null&&u&4&&mT(o);case 26:case 5:bs(i,o),r===null&&u&4&&fT(o),u&512&&gu(o,o.return);break;case 12:bs(i,o);break;case 31:bs(i,o),u&4&&_T(i,o);break;case 13:bs(i,o),u&4&&TT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=U2.bind(null,o),sI(i,o))));break;case 22:if(u=o.memoizedState!==null||Ts,!u){r=r!==null&&r.memoizedState!==null||Ot,d=Ts;var g=Ot;Ts=u,(Ot=r)&&!g?ws(i,o,(o.subtreeFlags&8772)!==0):bs(i,o),Ts=d,Ot=g}break;case 30:break;default:bs(i,o)}}function yT(i){var r=i.alternate;r!==null&&(i.alternate=null,yT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&no(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,vn=!1;function Es(i,r,o){for(o=o.child;o!==null;)vT(i,r,o),o=o.sibling}function vT(i,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 26:Ot||Ki(o,r),Es(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||Ki(o,r);var u=ht,d=vn;dr(o.type)&&(ht=o.stateNode,vn=!1),Es(i,r,o),Au(o.stateNode),ht=u,vn=d;break;case 5:Ot||Ki(o,r);case 6:if(u=ht,d=vn,ht=null,Es(i,r,o),ht=u,vn=d,ht!==null)if(vn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){Xe(o,r,g)}else try{ht.removeChild(o.stateNode)}catch(g){Xe(o,r,g)}break;case 18:ht!==null&&(vn?(i=ht,cE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),zo(i)):cE(ht,o.stateNode));break;case 4:u=ht,d=vn,ht=o.stateNode.containerInfo,vn=!0,Es(i,r,o),ht=u,vn=d;break;case 0:case 11:case 14:case 15:ar(2,o,r),Ot||ar(4,o,r),Es(i,r,o);break;case 1:Ot||(Ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&hT(o,r,u)),Es(i,r,o);break;case 21:Es(i,r,o);break;case 22:Ot=(u=Ot)||o.memoizedState!==null,Es(i,r,o),Ot=u;break;default:Es(i,r,o)}}function _T(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zo(i)}catch(o){Xe(r,r.return,o)}}}function TT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zo(i)}catch(o){Xe(r,r.return,o)}}function D2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new pT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new pT),r;default:throw Error(s(435,i.tag))}}function Bh(i,r){var o=D2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=j2.bind(null,i,u);u.then(d,d)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(dr(S.type)){ht=S.stateNode,vn=!1;break e}break;case 5:ht=S.stateNode,vn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));vT(g,T,d),ht=null,vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ET(r,i),r=r.sibling}var gi=null;function ET(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),Tn(i),u&4&&(ar(3,i,i.return),pu(3,i),ar(5,i,i.return));break;case 1:_n(r,i),Tn(i),u&512&&(Ot||o===null||Ki(o,o.return)),u&64&&Ts&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=gi;if(_n(r,i),Tn(i),u&512&&(Ot||o===null||Ki(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Oi]||g[Rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),tn(g,u,o),g[Rt]=i,Ct(g),u=g;break e;case"link":var T=EE("link","href",d).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=d.createElement(u),tn(g,u,o),d.head.appendChild(g);break;case"meta":if(T=EE("meta","content",d).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=d.createElement(u),tn(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Rt]=i,Ct(g),u=g}i.stateNode=u}else bE(d,i.type,i.stateNode);else i.stateNode=TE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?bE(d,i.type,i.stateNode):TE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&hp(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),Tn(i),u&512&&(Ot||o===null||Ki(o,o.return)),o!==null&&u&4&&hp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),Tn(i),u&512&&(Ot||o===null||Ki(o,o.return)),i.flags&32){d=i.stateNode;try{yn(d,"")}catch(me){Xe(i,i.return,me)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,hp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(mp=!0);break;case 6:if(_n(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){Xe(i,i.return,me)}}break;case 3:if(nf=null,d=gi,gi=ef(r.containerInfo),_n(r,i),gi=d,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(me){Xe(i,i.return,me)}mp&&(mp=!1,bT(i));break;case 4:u=gi,gi=ef(i.stateNode.containerInfo),_n(r,i),Tn(i),gi=u;break;case 12:_n(r,i),Tn(i);break;case 31:_n(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 13:_n(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fh=fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=Ts,Z=Ot;if(Ts=K||d,Ot=Z||M,_n(r,i),Ot=Z,Ts=K,Tn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||Ts||Ot||Ra(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=M.stateNode;var ne=M.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(me){Xe(M,M.return,me)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(me){Xe(M,M.return,me)}}}else if(r.tag===18){if(o===null){M=r;try{var W=M.stateNode;d?hE(W,!0):hE(M.stateNode,!1)}catch(me){Xe(M,M.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bh(i,o))));break;case 19:_n(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 30:break;case 21:break;default:_n(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(dT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=fp(i);jh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var S=fp(i);jh(i,S,T);break;case 3:case 4:var M=o.stateNode.containerInfo,K=fp(i);dp(i,K,M);break;default:throw Error(s(161))}}catch(Z){Xe(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function bT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;bT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function bs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)gT(i,r.alternate,r),r=r.sibling}function Ra(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ar(4,r,r.return),Ra(r);break;case 1:Ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&hT(r,r.return,o),Ra(r);break;case 27:Au(r.stateNode);case 26:case 5:Ki(r,r.return),Ra(r);break;case 22:r.memoizedState===null&&Ra(r);break;case 30:Ra(r);break;default:Ra(r)}i=i.sibling}}function ws(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:ws(d,g,o),pu(4,g);break;case 1:if(ws(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Xe(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Z0(M[d],S)}catch(K){Xe(u,u.return,K)}}o&&T&64&&cT(g),gu(g,g.return);break;case 27:mT(g);case 26:case 5:ws(d,g,o),o&&u===null&&T&4&&fT(g),gu(g,g.return);break;case 12:ws(d,g,o);break;case 31:ws(d,g,o),o&&T&4&&_T(d,g);break;case 13:ws(d,g,o),o&&T&4&&TT(d,g);break;case 22:g.memoizedState===null&&ws(d,g,o),gu(g,g.return);break;case 30:break;default:ws(d,g,o)}r=r.sibling}}function pp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&nu(o))}function gp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&nu(i))}function yi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wT(i,r,o,u),r=r.sibling}function wT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:yi(i,r,o,u),d&2048&&pu(9,r);break;case 1:yi(i,r,o,u);break;case 3:yi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&nu(i)));break;case 12:if(d&2048){yi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Xe(r,r.return,M)}}else yi(i,r,o,u);break;case 31:yi(i,r,o,u);break;case 13:yi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?yi(i,r,o,u):yu(i,r):g._visibility&2?yi(i,r,o,u):(g._visibility|=2,Do(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&pp(T,r);break;case 24:yi(i,r,o,u),d&2048&&gp(r.alternate,r);break;default:yi(i,r,o,u)}}function Do(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,S=o,M=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Do(g,T,S,M,d),pu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Do(g,T,S,M,d):yu(g,T):(Z._visibility|=2,Do(g,T,S,M,d)),d&&K&2048&&pp(T.alternate,T);break;case 24:Do(g,T,S,M,d),d&&K&2048&&gp(T.alternate,T);break;default:Do(g,T,S,M,d)}r=r.sibling}}function yu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:yu(o,u),d&2048&&pp(u.alternate,u);break;case 24:yu(o,u),d&2048&&gp(u.alternate,u);break;default:yu(o,u)}r=r.sibling}}var vu=8192;function No(i,r,o){if(i.subtreeFlags&vu)for(i=i.child;i!==null;)ST(i,r,o),i=i.sibling}function ST(i,r,o){switch(i.tag){case 26:No(i,r,o),i.flags&vu&&i.memoizedState!==null&&gI(o,gi,i.memoizedState,i.memoizedProps);break;case 5:No(i,r,o);break;case 3:case 4:var u=gi;gi=ef(i.stateNode.containerInfo),No(i,r,o),gi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=vu,vu=16777216,No(i,r,o),vu=u):No(i,r,o));break;default:No(i,r,o)}}function AT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function _u(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Yt=u,RT(u,i)}AT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xT(i),i=i.sibling}function xT(i){switch(i.tag){case 0:case 11:case 15:_u(i),i.flags&2048&&ar(9,i,i.return);break;case 3:_u(i);break;case 12:_u(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,zh(i)):_u(i);break;default:_u(i)}}function zh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Yt=u,RT(u,i)}AT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ar(8,r,r.return),zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,zh(r));break;default:zh(r)}i=i.sibling}}function RT(i,r){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:ar(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:nu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=i;Yt!==null;){u=Yt;var d=u.sibling,g=u.return;if(yT(u),u===o){Yt=null;break e}if(d!==null){d.return=g,Yt=d;break e}Yt=g}}}var N2={getCacheForType:function(i){var r=Zt(Dt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Zt(Dt).controller.signal}},M2=typeof WeakMap=="function"?WeakMap:Map,Ge=0,it=null,Me=null,Pe=0,Qe=0,On=null,or=!1,Mo=!1,yp=!1,Ss=0,vt=0,lr=0,Ca=0,vp=0,Pn=0,Oo=0,Tu=null,En=null,_p=!1,Fh=0,CT=0,qh=1/0,Hh=null,ur=null,Bt=0,cr=null,Po=null,As=0,Tp=0,Ep=null,IT=null,Eu=0,bp=null;function Vn(){return(Ge&2)!==0&&Pe!==0?Pe&-Pe:U.T!==null?Cp():Gc()}function DT(){if(Pn===0)if((Pe&536870912)===0||je){var i=ta;ta<<=1,(ta&3932160)===0&&(ta=262144),Pn=i}else Pn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Pn}function bn(i,r,o){(i===it&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(Vo(i,0),hr(i,Pe,Pn,!1)),na(i,o),((Ge&2)===0||i!==it)&&(i===it&&((Ge&2)===0&&(Ca|=o),vt===4&&hr(i,Pe,Pn,!1)),$i(i))}function NT(i,r,o){if((Ge&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||oi(i,r),d=u?V2(i,r):Sp(i,r,!0),g=u;do{if(d===0){Mo&&!u&&hr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!O2(o)){d=Sp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=i;d=Tu;var M=S.current.memoizedState.isDehydrated;if(M&&(Vo(S,T).flags|=256),T=Sp(S,T,!1),T!==2){if(yp&&!M){S.errorRecoveryDisabledLanes|=g,Ca|=g,d=4;break e}g=En,En=d,g!==null&&(En===null?En=g:En.push.apply(En,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Vo(i,0),hr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:hr(u,r,Pn,!or);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Fh+300-fn(),10<d)){if(hr(u,r,Pn,!or),Di(u,0,!0)!==0)break e;As=r,u.timeoutHandle=lE(MT.bind(null,u,o,En,Hh,_p,r,Pn,Ca,Oo,or,g,"Throttled",-0,0),d);break e}MT(u,o,En,Hh,_p,r,Pn,Ca,Oo,or,g,null,-0,0)}}break}while(!0);$i(i)}function MT(i,r,o,u,d,g,T,S,M,K,Z,ne,Q,W){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},ST(r,g,ne);var me=(g&62914560)===g?Fh-fn():(g&4194048)===g?CT-fn():0;if(me=yI(ne,me),me!==null){As=g,i.cancelPendingCommit=me(BT.bind(null,i,r,g,o,u,d,T,S,M,Z,ne,null,Q,W)),hr(i,g,T,!K);return}}BT(i,r,g,o,u,d,T,S,M)}function O2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!In(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hr(i,r,o,u){r&=~vp,r&=~Ca,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-Tt(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&ia(i,o,r)}function Gh(){return(Ge&6)===0?(bu(0),!1):!0}function wp(){if(Me!==null){if(Qe===0)var i=Me.return;else i=Me,ms=_a=null,jm(i),Ao=null,su=0,i=Me;for(;i!==null;)uT(i.alternate,i),i=i.return;Me=null}}function Vo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Z2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),As=0,wp(),it=i,Me=o=fs(i.current,null),Pe=r,Qe=0,On=null,or=!1,Mo=oi(i,r),yp=!1,Oo=Pn=vp=Ca=lr=vt=0,En=Tu=null,_p=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-Tt(u),g=1<<d;r|=i[d],u&=~g}return Ss=r,fh(),o}function OT(i,r){Ie=null,U.H=fu,r===So||r===Th?(r=Q0(),Qe=3):r===Rm?(r=Q0(),Qe=4):Qe=r===tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Me===null&&(vt=1,Ph(i,Yn(r,i.current)))}function PT(){var i=Nn.current;return i===null?!0:(Pe&4194048)===Pe?Xn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Xn:!1}function VT(){var i=U.H;return U.H=fu,i===null?fu:i}function kT(){var i=U.A;return U.A=N2,i}function Yh(){vt=4,or||(Pe&4194048)!==Pe&&Nn.current!==null||(Mo=!0),(lr&134217727)===0&&(Ca&134217727)===0||it===null||hr(it,Pe,Pn,!1)}function Sp(i,r,o){var u=Ge;Ge|=2;var d=VT(),g=kT();(it!==i||Pe!==r)&&(Hh=null,Vo(i,r)),r=!1;var T=vt;e:do try{if(Qe!==0&&Me!==null){var S=Me,M=On;switch(Qe){case 8:wp(),T=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var K=Qe;if(Qe=0,On=null,ko(i,S,M,K),o&&Mo){T=0;break e}break;default:K=Qe,Qe=0,On=null,ko(i,S,M,K)}}P2(),T=vt;break}catch(Z){OT(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ms=_a=null,Ge=u,U.H=d,U.A=g,Me===null&&(it=null,Pe=0,fh()),T}function P2(){for(;Me!==null;)LT(Me)}function V2(i,r){var o=Ge;Ge|=2;var u=VT(),d=kT();it!==i||Pe!==r?(Hh=null,qh=fn()+500,Vo(i,r)):Mo=oi(i,r);e:do try{if(Qe!==0&&Me!==null){r=Me;var g=On;t:switch(Qe){case 1:Qe=0,On=null,ko(i,r,g,1);break;case 2:case 9:if(K0(g)){Qe=0,On=null,UT(r);break}r=function(){Qe!==2&&Qe!==9||it!==i||(Qe=7),$i(i)},g.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:K0(g)?(Qe=0,On=null,UT(r)):(Qe=0,On=null,ko(i,r,g,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var S=Me;if(T?wE(T):S.stateNode.complete){Qe=0,On=null;var M=S.sibling;if(M!==null)Me=M;else{var K=S.return;K!==null?(Me=K,Kh(K)):Me=null}break t}}Qe=0,On=null,ko(i,r,g,5);break;case 6:Qe=0,On=null,ko(i,r,g,6);break;case 8:wp(),vt=6;break e;default:throw Error(s(462))}}k2();break}catch(Z){OT(i,Z)}while(!0);return ms=_a=null,U.H=u,U.A=d,Ge=o,Me!==null?0:(it=null,Pe=0,fh(),vt)}function k2(){for(;Me!==null&&!em();)LT(Me)}function LT(i){var r=oT(i.alternate,i,Ss);i.memoizedProps=i.pendingProps,r===null?Kh(i):Me=r}function UT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=tT(o,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=tT(o,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:jm(r);default:uT(o,r),r=Me=k0(r,Ss),r=oT(o,r,Ss)}i.memoizedProps=i.pendingProps,r===null?Kh(i):Me=r}function ko(i,r,o,u){ms=_a=null,jm(r),Ao=null,su=0;var d=r.return;try{if(S2(i,d,r,o,Pe)){vt=1,Ph(i,Yn(o,i.current)),Me=null;return}}catch(g){if(d!==null)throw Me=d,g;vt=1,Ph(i,Yn(o,i.current)),Me=null;return}r.flags&32768?(je||u===1?i=!0:Mo||(Pe&536870912)!==0?i=!1:(or=i=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),jT(r,i)):Kh(r)}function Kh(i){var r=i;do{if((r.flags&32768)!==0){jT(r,or);return}i=r.return;var o=R2(r.alternate,r,Ss);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=i}while(r!==null);vt===0&&(vt=5)}function jT(i,r){do{var o=C2(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);vt=6,Me=null}function BT(i,r,o,u,d,g,T,S,M){i.cancelPendingCommit=null;do $h();while(Bt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=fm,im(i,o,g,T,S,M),i===it&&(Me=it=null,Pe=0),Po=r,cr=i,As=o,Tp=g,Ep=d,IT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,B2(zs,function(){return GT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,d=J.p,J.p=2,T=Ge,Ge|=4;try{I2(i,r,o)}finally{Ge=T,J.p=d,U.T=u}}Bt=1,zT(),FT(),qT()}}function zT(){if(Bt===1){Bt=0;var i=cr,r=Po,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var u=J.p;J.p=2;var d=Ge;Ge|=4;try{ET(r,i);var g=kp,T=R0(i.containerInfo),S=g.focusedElem,M=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&x0(S.ownerDocument.documentElement,S)){if(M!==null&&om(S)){var K=M.start,Z=M.end;if(Z===void 0&&(Z=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),me=S.textContent.length,Te=Math.min(M.start,me),nt=M.end===void 0?Te:Math.min(M.end,me);!W.extend&&Te>nt&&(T=nt,nt=Te,Te=T);var F=A0(S,Te),j=A0(S,nt);if(F&&j&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var Y=ne.createRange();Y.setStart(F.node,F.offset),W.removeAllRanges(),Te>nt?(W.addRange(Y),W.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),W.addRange(Y))}}}}for(ne=[],W=S;W=W.parentNode;)W.nodeType===1&&ne.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var te=ne[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}of=!!Vp,kp=Vp=null}finally{Ge=d,J.p=u,U.T=o}}i.current=r,Bt=2}}function FT(){if(Bt===2){Bt=0;var i=cr,r=Po,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var u=J.p;J.p=2;var d=Ge;Ge|=4;try{gT(i,r.alternate,r)}finally{Ge=d,J.p=u,U.T=o}}Bt=3}}function qT(){if(Bt===4||Bt===3){Bt=0,Uc();var i=cr,r=Po,o=As,u=IT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Po=cr=null,HT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(ur=null),ls(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ai,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=U.T,d=J.p,J.p=2,U.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var S=u[T];g(S.value,{componentStack:S.stack})}}finally{U.T=r,J.p=d}}(As&3)!==0&&$h(),$i(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===bp?Eu++:(Eu=0,bp=i):Eu=0,bu(0)}}function HT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,nu(r)))}function $h(){return zT(),FT(),qT(),GT()}function GT(){if(Bt!==5)return!1;var i=cr,r=Tp;Tp=0;var o=ls(As),u=U.T,d=J.p;try{J.p=32>o?32:o,U.T=null,o=Ep,Ep=null;var g=cr,T=As;if(Bt=0,Po=cr=null,As=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,xT(g.current),wT(g,g.current,T,o),Ge=S,bu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ai,g)}catch{}return!0}finally{J.p=d,U.T=u,HT(i,r)}}function YT(i,r,o){r=Yn(o,r),r=ep(i.stateNode,r,2),i=ir(i,r,2),i!==null&&(na(i,2),$i(i))}function Xe(i,r,o){if(i.tag===3)YT(i,i,o);else for(;r!==null;){if(r.tag===3){YT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ur===null||!ur.has(u))){i=Yn(o,i),o=K_(2),u=ir(r,o,2),u!==null&&($_(o,u,r,i),na(u,2),$i(u));break}}r=r.return}}function Ap(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new M2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(yp=!0,d.add(o),i=L2.bind(null,i,r,o),r.then(i,i))}function L2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Pe&o)===o&&(vt===4||vt===3&&(Pe&62914560)===Pe&&300>fn()-Fh?(Ge&2)===0&&Vo(i,0):vp|=o,Oo===Pe&&(Oo=0)),$i(i)}function KT(i,r){r===0&&(r=Hc()),i=ga(i,r),i!==null&&(na(i,r),$i(i))}function U2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),KT(i,o)}function j2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),KT(i,o)}function B2(i,r){return jt(i,r)}var Qh=null,Lo=null,xp=!1,Xh=!1,Rp=!1,fr=0;function $i(i){i!==Lo&&i.next===null&&(Lo===null?Qh=Lo=i:Lo=Lo.next=i),Xh=!0,xp||(xp=!0,F2())}function bu(i,r){if(!Rp&&Xh){Rp=!0;do for(var o=!1,u=Qh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Tt(42|i)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,WT(u,g))}else g=Pe,g=Di(u,u===it?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||oi(u,g)||(o=!0,WT(u,g));u=u.next}while(o);Rp=!1}}function z2(){$T()}function $T(){Xh=xp=!1;var i=0;fr!==0&&J2()&&(i=fr);for(var r=fn(),o=null,u=Qh;u!==null;){var d=u.next,g=QT(u,r);g===0?(u.next=null,o===null?Qh=d:o.next=d,d===null&&(Lo=o)):(o=u,(i!==0||(g&3)!==0)&&(Xh=!0)),u=d}Bt!==0&&Bt!==5||bu(i),fr!==0&&(fr=0)}function QT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Tt(g),S=1<<T,M=d[T];M===-1?((S&o)===0||(S&u)!==0)&&(d[T]=nm(S,r)):M<=r&&(i.expiredLanes|=S),g&=~S}if(r=it,o=Pe,o=Di(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Bs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||oi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Bs(u),ls(o)){case 2:case 8:o=Ml;break;case 32:o=zs;break;case 268435456:o=jc;break;default:o=zs}return u=XT.bind(null,i),o=jt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Bs(u),i.callbackPriority=2,i.callbackNode=null,2}function XT(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if($h()&&i.callbackNode!==o)return null;var u=Pe;return u=Di(i,i===it?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(NT(i,u,r),QT(i,fn()),i.callbackNode!=null&&i.callbackNode===o?XT.bind(null,i):null)}function WT(i,r){if($h())return null;NT(i,r,!0)}function F2(){eI(function(){(Ge&6)!==0?jt(Nl,z2):$T()})}function Cp(){if(fr===0){var i=bo;i===0&&(i=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),fr=i}return fr}function JT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ao(""+i)}function ZT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function q2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=JT((d[Ht]||null).action),T=u.submitter;T&&(r=(r=T[Ht]||null)?JT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new zi("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fr!==0){var M=T?ZT(d,T):new FormData(d);$m(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=T?ZT(d,T):new FormData(d),$m(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Ip=0;Ip<hm.length;Ip++){var Dp=hm[Ip],H2=Dp.toLowerCase(),G2=Dp[0].toUpperCase()+Dp.slice(1);pi(H2,"on"+G2)}pi(D0,"onAnimationEnd"),pi(N0,"onAnimationIteration"),pi(M0,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(o2,"onTransitionRun"),pi(l2,"onTransitionStart"),pi(u2,"onTransitionCancel"),pi(O0,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function eE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],M=S.instance,K=S.currentTarget;if(S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=K;try{g(d)}catch(Z){hh(Z)}d.currentTarget=null,g=M}else for(T=0;T<u.length;T++){if(S=u[T],M=S.instance,K=S.currentTarget,S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=K;try{g(d)}catch(Z){hh(Z)}d.currentTarget=null,g=M}}}}function Oe(i,r){var o=r[to];o===void 0&&(o=r[to]=new Set);var u=i+"__bubble";o.has(u)||(tE(r,i,2,!1),o.add(u))}function Np(i,r,o){var u=0;r&&(u|=4),tE(o,i,u,r)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Mp(i){if(!i[Wh]){i[Wh]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(Y2.has(o)||Np(o,!1,i),Np(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Wh]||(r[Wh]=!0,Np("selectionchange",!1,r))}}function tE(i,r,o,u){switch(DE(r)){case 2:var d=TI;break;case 8:d=EI;break;default:d=Kp}o=d.bind(null,r,o,i),d=void 0,!la||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Op(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Pi(S),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=g=T;continue e}S=S.parentNode}}u=u.return}Ks(function(){var K=g,Z=Fn(o),ne=[];e:{var Q=P0.get(i);if(Q!==void 0){var W=zi,me=i;switch(i){case"keypress":if(ca(o)===0)break e;case"keydown":case"keyup":W=lh;break;case"focusin":me="focus",W=fa;break;case"focusout":me="blur",W=fa;break;case"beforeblur":case"afterblur":W=fa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case D0:case N0:case M0:W=th;break;case O0:W=A;break;case"scroll":case"scrollend":W=Kl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=hs;break;case"toggle":case"beforetoggle":W=Ce}var Te=(r&4)!==0,nt=!Te&&(i==="scroll"||i==="scrollend"),F=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var j=K,Y;j!==null;){var te=j;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||F===null||(te=hi(j,F),te!=null&&Te.push(Su(j,te,Y))),nt)break;j=j.return}0<Te.length&&(Q=new W(Q,me,null,o,Z),ne.push({event:Q,listeners:Te}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==Hl&&(me=o.relatedTarget||o.fromElement)&&(Pi(me)||me[Mi]))break e;if((W||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=K,me=me?Pi(me):null,me!==null&&(nt=l(me),Te=me.tag,me!==nt||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(W=null,me=K),W!==me)){if(Te=$l,te="onMouseLeave",F="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Te=hs,te="onPointerLeave",F="onPointerEnter",j="pointer"),nt=W==null?Q:Rn(W),Y=me==null?Q:Rn(me),Q=new Te(te,j+"leave",W,o,Z),Q.target=nt,Q.relatedTarget=Y,te=null,Pi(Z)===K&&(Te=new Te(F,j+"enter",me,o,Z),Te.target=Y,Te.relatedTarget=nt,te=Te),nt=te,W&&me)t:{for(Te=K2,F=W,j=me,Y=0,te=F;te;te=Te(te))Y++;te=0;for(var ve=j;ve;ve=Te(ve))te++;for(;0<Y-te;)F=Te(F),Y--;for(;0<te-Y;)j=Te(j),te--;for(;Y--;){if(F===j||j!==null&&F===j.alternate){Te=F;break t}F=Te(F),j=Te(j)}Te=null}else Te=null;W!==null&&nE(ne,Q,W,Te,!1),me!==null&&nt!==null&&nE(ne,nt,me,Te,!0)}}e:{if(Q=K?Rn(K):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Fe=_0;else if(y0(Q))if(T0)Fe=s2;else{Fe=n2;var ge=t2}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&ro(K.elementType)&&(Fe=_0):Fe=i2;if(Fe&&(Fe=Fe(i,K))){v0(ne,Fe,o,Z);break e}ge&&ge(i,Q,K),i==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&zl(Q,"number",Q.value)}switch(ge=K?Rn(K):window,i){case"focusin":(y0(ge)||ge.contentEditable==="true")&&(mo=ge,lm=K,Zl=null);break;case"focusout":Zl=lm=mo=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,C0(ne,o,Z);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":C0(ne,o,Z)}var Ne;if(He)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else fo?da(i,o)&&(Ve="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(Hi&&o.locale!=="ko"&&(fo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&fo&&(Ne=Yl()):(Bi=Z,Gl="value"in Bi?Bi.value:Bi.textContent,fo=!0)),ge=Jh(K,Ve),0<ge.length&&(Ve=new qi(Ve,i,null,o,Z),ne.push({event:Ve,listeners:ge}),Ne?Ve.data=Ne:(Ne=ho(o),Ne!==null&&(Ve.data=Ne)))),(Ne=Hn?WC(i,o):JC(i,o))&&(Ve=Jh(K,"onBeforeInput"),0<Ve.length&&(ge=new qi("onBeforeInput","beforeinput",null,o,Z),ne.push({event:ge,listeners:Ve}),ge.data=Ne)),q2(ne,i,K,o,Z)}eE(ne,r)})}function Su(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Jh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=hi(i,o),d!=null&&u.unshift(Su(i,d,g)),d=hi(i,r),d!=null&&u.push(Su(i,d,g))),i.tag===3)return u;i=i.return}return[]}function K2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nE(i,r,o,u,d){for(var g=r._reactName,T=[];o!==null&&o!==u;){var S=o,M=S.alternate,K=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||K===null||(M=K,d?(K=hi(o,g),K!=null&&T.unshift(Su(o,K,M))):d||(K=hi(o,g),K!=null&&T.push(Su(o,K,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var $2=/\r\n?/g,Q2=/\u0000|\uFFFD/g;function iE(i){return(typeof i=="string"?i:""+i).replace($2,`
`).replace(Q2,"")}function sE(i,r){return r=iE(r),iE(i)===r}function tt(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||yn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&yn(i,""+u);break;case"className":Cn(i,"class",u);break;case"tabIndex":Cn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(i,o,u);break;case"style":ql(i,u,g);break;case"data":if(r!=="object"){Cn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",d.name,d,null),tt(i,r,"formEncType",d.formEncType,d,null),tt(i,r,"formMethod",d.formMethod,d,null),tt(i,r,"formTarget",d.formTarget,d,null)):(tt(i,r,"encType",d.encType,d,null),tt(i,r,"method",d.method,d,null),tt(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ci);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ao(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),io(i,"popover",u);break;case"xlinkActuate":It(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":It(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":It(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":It(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":It(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":It(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":It(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":It(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":It(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jc.get(o)||o,io(i,o,u))}}function Pp(i,r,o,u,d,g){switch(o){case"style":ql(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?yn(i,u):(typeof u=="number"||typeof u=="bigint")&&yn(i,""+u);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):io(i,o,u)}}}function tn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,g,T,o,null)}}d&&tt(i,r,"srcSet",o.srcSet,o,null),u&&tt(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var S=g=T=d=null,M=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":T=Z;break;case"checked":M=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:tt(i,r,u,Z,o,null)}}Qc(i,g,S,M,K,T,d,!1);return;case"select":Oe("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:tt(i,r,d,S,o,null)}r=g,o=T,i.multiple=!!u,r!=null?qs(i,!!u,r,!1):o!=null&&qs(i,!!u,o,!0);return;case"textarea":Oe("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(i,r,T,S,o,null)}Hs(i,u,d,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":tt(i,r,M,u,o,null));return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(u=0;u<wu.length;u++)Oe(wu[u],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,K,u,o,null)}return;default:if(ro(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Pp(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&tt(i,r,S,u,o,null))}function X2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,M=null,K=null,Z=null;for(W in o){var ne=o[W];if(o.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=ne;default:u.hasOwnProperty(W)||tt(i,r,W,null,u,ne)}}for(var Q in u){var W=u[Q];if(ne=o[Q],u.hasOwnProperty(Q)&&(W!=null||ne!=null))switch(Q){case"type":g=W;break;case"name":d=W;break;case"checked":K=W;break;case"defaultChecked":Z=W;break;case"value":T=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==ne&&tt(i,r,Q,W,u,ne)}}so(i,T,S,M,K,Z,g,d);return;case"select":W=T=S=Q=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":W=M;default:u.hasOwnProperty(g)||tt(i,r,g,null,u,M)}for(d in u)if(g=u[d],M=o[d],u.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==M&&tt(i,r,d,g,u,M)}r=S,o=T,u=W,Q!=null?qs(i,!!o,Q,!1):!!u!=!!o&&(r!=null?qs(i,!!o,r,!0):qs(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(i,r,S,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Q=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&tt(i,r,T,d,u,g)}Xc(i,Q,W);return;case"option":for(var me in o)Q=o[me],o.hasOwnProperty(me)&&Q!=null&&!u.hasOwnProperty(me)&&(me==="selected"?i.selected=!1:tt(i,r,me,null,u,Q));for(M in u)Q=u[M],W=o[M],u.hasOwnProperty(M)&&Q!==W&&(Q!=null||W!=null)&&(M==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":tt(i,r,M,Q,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!u.hasOwnProperty(Te)&&tt(i,r,Te,null,u,Q);for(K in u)if(Q=u[K],W=o[K],u.hasOwnProperty(K)&&Q!==W&&(Q!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:tt(i,r,K,Q,u,W)}return;default:if(ro(r)){for(var nt in o)Q=o[nt],o.hasOwnProperty(nt)&&Q!==void 0&&!u.hasOwnProperty(nt)&&Pp(i,r,nt,void 0,u,Q);for(Z in u)Q=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Q===W||Q===void 0&&W===void 0||Pp(i,r,Z,Q,u,W);return}}for(var F in o)Q=o[F],o.hasOwnProperty(F)&&Q!=null&&!u.hasOwnProperty(F)&&tt(i,r,F,null,u,Q);for(ne in u)Q=u[ne],W=o[ne],!u.hasOwnProperty(ne)||Q===W||Q==null&&W==null||tt(i,r,ne,Q,u,W)}function rE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,S=d.duration;if(g&&S&&rE(T)){for(T=0,S=d.responseEnd,u+=1;u<o.length;u++){var M=o[u],K=M.startTime;if(K>S)break;var Z=M.transferSize,ne=M.initiatorType;Z&&rE(ne)&&(M=M.responseEnd,T+=Z*(M<S?1:(S-K)/(M-K)))}if(--u,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Vp=null,kp=null;function Zh(i){return i.nodeType===9?i:i.ownerDocument}function aE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Lp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Up=null;function J2(){var i=window.event;return i&&i.type==="popstate"?i===Up?!1:(Up=i,!0):(Up=null,!1)}var lE=typeof setTimeout=="function"?setTimeout:void 0,Z2=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,eI=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(i){return uE.resolve(null).then(i).catch(tI)}:lE;function tI(i){setTimeout(function(){throw i})}function dr(i){return i==="head"}function cE(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),zo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Au(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Au(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Oi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Au(i.ownerDocument.body);o=d}while(o);zo(r)}function hE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),no(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function nI(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Oi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function iI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function fE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Wn(i.nextSibling),i===null))return null;return i}function Bp(i){return i.data==="$?"||i.data==="$~"}function zp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function sI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Fp=null;function dE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Wn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function mE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function pE(i,r,o){switch(r=Zh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Au(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);no(i)}var Jn=new Map,gE=new Set;function ef(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xs=J.d;J.d={f:rI,r:aI,D:oI,C:lI,L:uI,m:cI,X:fI,S:hI,M:dI};function rI(){var i=xs.f(),r=Gh();return i||r}function aI(i){var r=zn(i);r!==null&&r.tag===5&&r.type==="form"?O_(r):xs.r(i)}var Uo=typeof document>"u"?null:document;function yE(i,r,o){var u=Uo;if(u&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),gE.has(d)||(gE.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),tn(r,"link",i),Ct(r),u.head.appendChild(r)))}}function oI(i){xs.D(i),yE("dns-prefetch",i,null)}function lI(i,r){xs.C(i,r),yE("preconnect",i,r)}function uI(i,r,o){xs.L(i,r,o);var u=Uo;if(u&&i&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+gn(o.imageSizes)+'"]')):d+='[href="'+gn(i)+'"]';var g=d;switch(r){case"style":g=jo(i);break;case"script":g=Bo(i)}Jn.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Jn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(xu(g))||r==="script"&&u.querySelector(Ru(g))||(r=u.createElement("link"),tn(r,"link",i),Ct(r),u.head.appendChild(r)))}}function cI(i,r){xs.m(i,r);var o=Uo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(i)}if(!Jn.has(g)&&(i=_({rel:"modulepreload",href:i},r),Jn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ru(g)))return}u=o.createElement("link"),tn(u,"link",i),Ct(u),o.head.appendChild(u)}}}function hI(i,r,o){xs.S(i,r,o);var u=Uo;if(u&&i){var d=Vi(u).hoistableStyles,g=jo(i);r=r||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(xu(g)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Jn.get(g))&&qp(i,o);var M=T=u.createElement("link");Ct(M),tn(M,"link",i),M._p=new Promise(function(K,Z){M.onload=K,M.onerror=Z}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,tf(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function fI(i,r){xs.X(i,r);var o=Uo;if(o&&i){var u=Vi(o).hoistableScripts,d=Bo(i),g=u.get(d);g||(g=o.querySelector(Ru(d)),g||(i=_({src:i,async:!0},r),(r=Jn.get(d))&&Hp(i,r),g=o.createElement("script"),Ct(g),tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function dI(i,r){xs.M(i,r);var o=Uo;if(o&&i){var u=Vi(o).hoistableScripts,d=Bo(i),g=u.get(d);g||(g=o.querySelector(Ru(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Jn.get(d))&&Hp(i,r),g=o.createElement("script"),Ct(g),tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function vE(i,r,o,u){var d=(d=De.current)?ef(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=jo(o.href),o=Vi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=jo(o.href);var g=Vi(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(xu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(i,o),g||mI(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Bo(o),o=Vi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jo(i){return'href="'+gn(i)+'"'}function xu(i){return'link[rel="stylesheet"]['+i+"]"}function _E(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function mI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),tn(r,"link",o),Ct(r),i.head.appendChild(r))}function Bo(i){return'[src="'+gn(i)+'"]'}function Ru(i){return"script[async]"+i}function TE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return r.instance=u,Ct(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ct(u),tn(u,"style",d),tf(u,o.precedence,i),r.instance=u;case"stylesheet":d=jo(o.href);var g=i.querySelector(xu(d));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;u=_E(o),(d=Jn.get(d))&&qp(u,d),g=(i.ownerDocument||i).createElement("link"),Ct(g);var T=g;return T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),tn(g,"link",u),r.state.loading|=4,tf(g,o.precedence,i),r.instance=g;case"script":return g=Bo(o.src),(d=i.querySelector(Ru(g)))?(r.instance=d,Ct(d),d):(u=o,(d=Jn.get(g))&&(u=_({},o),Hp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ct(d),tn(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,tf(u,o.precedence,i));return r.instance}function tf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function qp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Hp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var nf=null;function EE(i,r,o){if(nf===null){var u=new Map,d=nf=new Map;d.set(o,u)}else d=nf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Oi]||g[Rt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var S=u.get(T);S?S.push(g):u.set(T,[g])}}return u}function bE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function pI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function gI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=jo(u.href),g=r.querySelector(xu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ct(g);return}g=r.ownerDocument||r,u=_E(u),(d=Jn.get(d))&&qp(u,d),g=g.createElement("link"),Ct(g);var T=g;T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),tn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=sf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Gp=0;function yI(i,r){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Gp===0&&(Gp=62500*W2());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Gp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function af(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,r.forEach(vI,i),rf=null,sf.call(i))}function vI(i,r){if(!(r.state.loading&4)){var o=rf.get(i);if(o)var u=o.get(null);else{o=new Map,rf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=sf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Cu={$$typeof:G,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function _I(i,r,o,u,d,g,T,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function SE(i,r,o,u,d,g,T,S,M,K,Z,ne){return i=new _I(i,r,o,T,M,K,Z,ne,S),r=1,g===!0&&(r|=24),g=Dn(3,null,null,r),i.current=g,g.stateNode=i,r=Sm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Cm(g),i}function AE(i){return i?(i=yo,i):yo}function xE(i,r,o,u,d,g){d=AE(d),u.context===null?u.context=d:u.pendingContext=d,u=nr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ir(i,u,r),o!==null&&(bn(o,i,r),au(o,i,r))}function RE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Yp(i,r){RE(i,r),(i=i.alternate)&&RE(i,r)}function CE(i){if(i.tag===13||i.tag===31){var r=ga(i,67108864);r!==null&&bn(r,i,67108864),Yp(i,67108864)}}function IE(i){if(i.tag===13||i.tag===31){var r=Vn();r=sa(r);var o=ga(i,r);o!==null&&bn(o,i,r),Yp(i,r)}}var of=!0;function TI(i,r,o,u){var d=U.T;U.T=null;var g=J.p;try{J.p=2,Kp(i,r,o,u)}finally{J.p=g,U.T=d}}function EI(i,r,o,u){var d=U.T;U.T=null;var g=J.p;try{J.p=8,Kp(i,r,o,u)}finally{J.p=g,U.T=d}}function Kp(i,r,o,u){if(of){var d=$p(u);if(d===null)Op(i,r,u,lf,o),NE(i,u);else if(wI(d,i,r,o,u))u.stopPropagation();else if(NE(i,u),r&4&&-1<bI.indexOf(i)){for(;d!==null;){var g=zn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ii(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var M=1<<31-Tt(T);S.entanglements[1]|=M,T&=~M}$i(g),(Ge&6)===0&&(qh=fn()+500,bu(0))}}break;case 31:case 13:S=ga(g,2),S!==null&&bn(S,g,2),Gh(),Yp(g,2)}if(g=$p(u),g===null&&Op(i,r,u,lf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Op(i,r,u,null,o)}}function $p(i){return i=Fn(i),Qp(i)}var lf=null;function Qp(i){if(lf=null,i=Pi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return lf=i,null}function DE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case Nl:return 2;case Ml:return 8;case zs:case tm:return 32;case jc:return 268435456;default:return 32}default:return 32}}var Xp=!1,mr=null,pr=null,gr=null,Iu=new Map,Du=new Map,yr=[],bI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NE(i,r){switch(i){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Iu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(r.pointerId)}}function Nu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=zn(r),r!==null&&CE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function wI(i,r,o,u,d){switch(r){case"focusin":return mr=Nu(mr,i,r,o,u,d),!0;case"dragenter":return pr=Nu(pr,i,r,o,u,d),!0;case"mouseover":return gr=Nu(gr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Iu.set(g,Nu(Iu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Du.set(g,Nu(Du.get(g)||null,i,r,o,u,d)),!0}return!1}function ME(i){var r=Pi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,li(i.priority,function(){IE(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,li(i.priority,function(){IE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=$p(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Hl=u,o.target.dispatchEvent(u),Hl=null}else return r=zn(o),r!==null&&CE(r),i.blockedOn=o,!1;r.shift()}return!0}function OE(i,r,o){uf(i)&&o.delete(r)}function SI(){Xp=!1,mr!==null&&uf(mr)&&(mr=null),pr!==null&&uf(pr)&&(pr=null),gr!==null&&uf(gr)&&(gr=null),Iu.forEach(OE),Du.forEach(OE)}function cf(i,r){i.blockedOn===r&&(i.blockedOn=null,Xp||(Xp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SI)))}var hf=null;function PE(i){hf!==i&&(hf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hf===i&&(hf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Qp(u||o)===null)continue;break}var g=zn(o);g!==null&&(i.splice(r,3),r-=3,$m(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function zo(i){function r(M){return cf(M,i)}mr!==null&&cf(mr,i),pr!==null&&cf(pr,i),gr!==null&&cf(gr,i),Iu.forEach(r),Du.forEach(r);for(var o=0;o<yr.length;o++){var u=yr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<yr.length&&(o=yr[0],o.blockedOn===null);)ME(o),o.blockedOn===null&&yr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Ht]||null;if(typeof g=="function")T||PE(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Ht]||null)S=T.formAction;else if(Qp(d)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),PE(o)}}}function VE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Wp(i){this._internalRoot=i}ff.prototype.render=Wp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Vn();xE(o,u,i,r,null,null)},ff.prototype.unmount=Wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;xE(i.current,2,null,i,null,null),Gh(),r[Mi]=null}};function ff(i){this._internalRoot=i}ff.prototype.unstable_scheduleHydration=function(i){if(i){var r=Gc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<yr.length&&r!==0&&r<yr[o].priority;o++);yr.splice(o,0,i),o===0&&ME(i)}};var kE=e.version;if(kE!=="19.2.3")throw Error(s(527,kE,"19.2.3"));J.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var AI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{ai=df.inject(AI),Xt=df}catch{}}return Ou.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=q_,g=H_,T=G_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=SE(i,1,!1,null,null,o,u,null,d,g,T,VE),i[Mi]=r.current,Mp(i),new Wp(r)},Ou.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=q_,T=H_,S=G_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=SE(i,1,!0,r,o??null,u,d,M,g,T,S,VE),r.context=AE(null),o=r.current,u=Vn(),u=sa(u),d=nr(u),d.callback=null,ir(o,d,u),o=u,r.current.lanes=o,na(r,o),$i(r),i[Mi]=r.current,Mp(i),new ff(r)},Ou.version="19.2.3",Ou}var YE;function VI(){if(YE)return eg.exports;YE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=PI(),eg.exports}var kI=VI();var KE="popstate";function LI(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Ug("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:nc(a)}return jI(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UI(){return Math.random().toString(36).substring(2,10)}function $E(t,e){return{usr:t.state,key:t.key,idx:e}}function Ug(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||s||UI()}}function nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function jI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let O=y(),z=O==null?null:O-p;p=O,m&&m({action:f,location:B.location,delta:z})}function b(O,z){f="PUSH";let $=Ug(B.location,O,z);p=y()+1;let G=$E($,p),se=B.createHref($);try{c.pushState(G,"",se)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(se)}l&&m&&m({action:f,location:B.location,delta:1})}function R(O,z){f="REPLACE";let $=Ug(B.location,O,z);p=y();let G=$E($,p),se=B.createHref($);c.replaceState(G,"",se),l&&m&&m({action:f,location:B.location,delta:0})}function N(O){return BI(O)}let B={get action(){return f},get location(){return t(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(KE,_),m=O,()=>{a.removeEventListener(KE,_),m=null}},createHref(O){return e(a,O)},createURL:N,encodeLocation(O){let z=N(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:b,replace:R,go(O){return c.go(O)}};return B}function BI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:nc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cS(t,e,n="/"){return zI(t,e,n,!1)}function zI(t,e,n,s){let a=typeof e=="string"?gl(e):e,l=Ms(a.pathname||"/",n);if(l==null)return null;let c=hS(t);FI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=ZI(l);f=WI(c[m],p,s)}return f}function hS(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Is([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),hS(c.children,e,b,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:QI(_,c.index),routesMeta:b})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of fS(c.path))l(c,f,!0,m)}),e}function fS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=fS(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function FI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var qI=/^:[\w-]+$/,HI=3,GI=2,YI=1,KI=10,$I=-2,QE=t=>t==="*";function QI(t,e){let n=t.split("/"),s=n.length;return n.some(QE)&&(s+=$I),e&&(s+=GI),n.filter(a=>!QE(a)).reduce((a,l)=>a+(qI.test(l)?HI:l===""?YI:KI),s)}function XI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function WI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Is([l,_.pathname]),pathnameBase:iD(Is([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Is([l,_.pathnameBase]))}return c}function Ff(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=JI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let N=f[b]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const R=f[b];return _&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function JI(t,e=!1,n=!0){si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ZI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eD=t=>dS.test(t);function tD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?gl(t):t,l;if(n)if(eD(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=XE(n.substring(1),"/"):l=XE(n,e)}else l=e;return{pathname:l,search:sD(s),hash:rD(a)}}function XE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ly(t){let e=nD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Uy(t,e,n,s=!1){let a;typeof t=="string"?a=gl(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),sg("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),sg("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),sg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let m=tD(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Is=t=>t.join("/").replace(/\/\/+/g,"/"),iD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,aD=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function oD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function lD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pS(t,e){let n=t;if(typeof n!="string"||!dS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(mS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Ms(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gS=["POST","PUT","PATCH","DELETE"];new Set(gS);var uD=["GET",...gS];new Set(uD);var yl=P.createContext(null);yl.displayName="DataRouter";var Td=P.createContext(null);Td.displayName="DataRouterState";var cD=P.createContext(!1),yS=P.createContext({isTransitioning:!1});yS.displayName="ViewTransition";var hD=P.createContext(new Map);hD.displayName="Fetchers";var fD=P.createContext(null);fD.displayName="Await";var jn=P.createContext(null);jn.displayName="Navigation";var yc=P.createContext(null);yc.displayName="Location";var rs=P.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var jy=P.createContext(null);jy.displayName="RouteError";var vS="REACT_ROUTER_ERROR",dD="REDIRECT",mD="ROUTE_ERROR_RESPONSE";function pD(t){if(t.startsWith(`${vS}:${dD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gD(t){if(t.startsWith(`${vS}:${mD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new aD(e.status,e.statusText,e.data)}catch{}}function yD(t,{relative:e}={}){dt(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(jn),{hash:a,pathname:l,search:c}=vc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Is([n,l])),s.createHref({pathname:f,search:c,hash:a})}function vl(){return P.useContext(yc)!=null}function Yr(){return dt(vl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(yc).location}var _S="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(t){P.useContext(jn).static||P.useLayoutEffect(t)}function Ed(){let{isDataRoute:t}=P.useContext(rs);return t?DD():vD()}function vD(){dt(vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(yl),{basename:e,navigator:n}=P.useContext(jn),{matches:s}=P.useContext(rs),{pathname:a}=Yr(),l=JSON.stringify(Ly(s)),c=P.useRef(!1);return TS(()=>{c.current=!0}),P.useCallback((m,p={})=>{if(si(c.current,_S),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Uy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Is([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}P.createContext(null);function vc(t,{relative:e}={}){let{matches:n}=P.useContext(rs),{pathname:s}=Yr(),a=JSON.stringify(Ly(n));return P.useMemo(()=>Uy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function _D(t,e){return ES(t,e)}function ES(t,e,n,s,a){dt(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(jn),{matches:c}=P.useContext(rs),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let $=_&&_.path||"";wS(p,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Yr(),R;if(e){let $=typeof e=="string"?gl(e):e;dt(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),R=$}else R=b;let N=R.pathname||"/",B=N;if(y!=="/"){let $=y.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice($.length).join("/")}let O=cS(t,{pathname:B});si(_||O!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),si(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=SD(O&&O.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:Is([y,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Is([y,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,s,a);return e&&z?P.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},z):z}function TD(){let t=ID(),e=oD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,c)}var ED=P.createElement(TD,null),bS=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=gD(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(rs.Provider,{value:this.props.routeContext},P.createElement(jy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement(bD,{error:t},e):e}};bS.contextType=cD;var rg=new WeakMap;function bD({children:t,error:e}){let{basename:n}=P.useContext(jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=pD(e.digest);if(s){let a=rg.get(e);if(a)throw a;let l=pS(s.location,n);if(mS&&!rg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw rg.set(e,c),c}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function wD({routeContext:t,match:e,children:n}){let s=P.useContext(yl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(rs.Provider,{value:t},n)}function SD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:R}=n,N=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||N){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:lD(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,b)=>{let R,N=!1,B=null,O=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,B=_.route.errorElement||ED,f&&(m<0&&b===0?(wS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,O=null):m===b&&(N=!0,O=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,b+1)),$=()=>{let G;return R?G=B:N?G=O:_.route.Component?G=P.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=y,P.createElement(wD,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?P.createElement(bS,{location:n.location,revalidation:n.revalidation,component:B,error:R,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):$()},null)}function By(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AD(t){let e=P.useContext(yl);return dt(e,By(t)),e}function xD(t){let e=P.useContext(Td);return dt(e,By(t)),e}function RD(t){let e=P.useContext(rs);return dt(e,By(t)),e}function zy(t){let e=RD(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CD(){return zy("useRouteId")}function ID(){let t=P.useContext(jy),e=xD("useRouteError"),n=zy("useRouteError");return t!==void 0?t:e.errors?.[n]}function DD(){let{router:t}=AD("useNavigate"),e=zy("useNavigate"),n=P.useRef(!1);return TS(()=>{n.current=!0}),P.useCallback(async(a,l={})=>{si(n.current,_S),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var WE={};function wS(t,e,n){!e&&!WE[t]&&(WE[t]=!0,si(!1,n))}P.memo(ND);function ND({routes:t,future:e,state:n,onError:s}){return ES(t,void 0,n,s,e)}function JE({to:t,replace:e,state:n,relative:s}){dt(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=P.useContext(jn);si(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(rs),{pathname:c}=Yr(),f=Ed(),m=Uy(t,Ly(l),c,s==="path"),p=JSON.stringify(m);return P.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function qo(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){dt(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=gl(n));let{pathname:p="/",search:y="",hash:_="",state:b=null,key:R="default"}=n,N=P.useMemo(()=>{let B=Ms(p,f);return B==null?null:{location:{pathname:B,search:y,hash:_,state:b,key:R},navigationType:s}},[f,p,y,_,b,R,s]);return si(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:P.createElement(jn.Provider,{value:m},P.createElement(yc.Provider,{children:e,value:N}))}function OD({children:t,location:e}){return _D(jg(t),e)}function jg(t,e=[]){let n=[];return P.Children.forEach(t,(s,a)=>{if(!P.isValidElement(s))return;let l=[...e,a];if(s.type===P.Fragment){n.push.apply(n,jg(s.props.children,l));return}dt(s.type===qo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=jg(s.props.children,l)),n.push(c)}),n}var xf="get",Rf="application/x-www-form-urlencoded";function bd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function PD(t){return bd(t)&&t.tagName.toLowerCase()==="button"}function VD(t){return bd(t)&&t.tagName.toLowerCase()==="form"}function kD(t){return bd(t)&&t.tagName.toLowerCase()==="input"}function LD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UD(t,e){return t.button===0&&(!e||e==="_self")&&!LD(t)}var mf=null;function jD(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var BD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(t){return t!=null&&!BD.has(t)?(si(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function zD(t,e){let n,s,a,l,c;if(VD(t)){let f=t.getAttribute("action");s=f?Ms(f,e):null,n=t.getAttribute("method")||xf,a=ag(t.getAttribute("enctype"))||Rf,l=new FormData(t)}else if(PD(t)||kD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Ms(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||xf,a=ag(t.getAttribute("formenctype"))||ag(f.getAttribute("enctype"))||Rf,l=new FormData(f,t),!jD()){let{name:p,type:y,value:_}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xf,s=null,a=Rf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ms(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function qD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await qD(l,n);return c.links?c.links():[]}return[]}));return QD(s.flat(1).filter(HD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ZE(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function YD(t,e,{includeHydrateFallback:n}={}){return KD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function KD(t){return[...new Set(t)]}function $D(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function QD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify($D(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function SS(){let t=P.useContext(yl);return Fy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XD(){let t=P.useContext(Td);return Fy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qy=P.createContext(void 0);qy.displayName="FrameworkContext";function AS(){let t=P.useContext(qy);return Fy(t,"You must render this element inside a <HydratedRouter> element"),t}function WD(t,e){let n=P.useContext(qy),[s,a]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,b=P.useRef(null);P.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let B=z=>{z.forEach($=>{c($.isIntersecting)})},O=new IntersectionObserver(B,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[t]),P.useEffect(()=>{if(s){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[s]);let R=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Pu(f,R),onBlur:Pu(m,N),onMouseEnter:Pu(p,R),onMouseLeave:Pu(y,N),onTouchStart:Pu(_,R)}]:[!1,b,{}]}function Pu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JD({page:t,...e}){let{router:n}=SS(),s=P.useMemo(()=>cS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?P.createElement(eN,{page:t,matches:s,...e}):null}function ZD(t){let{manifest:e,routeModules:n}=AS(),[s,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return GD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function eN({page:t,matches:e,...n}){let s=Yr(),{manifest:a,routeModules:l}=AS(),{basename:c}=SS(),{loaderData:f,matches:m}=XD(),p=P.useMemo(()=>ZE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=P.useMemo(()=>ZE(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=P.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,B=!1;if(e.forEach(z=>{let $=a.routes[z.route.id];!$||!$.hasLoader||(!p.some(G=>G.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||$.hasClientLoader?B=!0:N.add(z.route.id))}),N.size===0)return[];let O=FD(t,c,"data");return B&&N.size>0&&O.searchParams.set("_routes",e.filter(z=>N.has(z.route.id)).map(z=>z.route.id).join(",")),[O.pathname+O.search]},[c,f,s,a,p,e,t,l]),b=P.useMemo(()=>YD(y,a),[y,a]),R=ZD(y);return P.createElement(P.Fragment,null,_.map(N=>P.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>P.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),R.map(({key:N,link:B})=>P.createElement("link",{key:N,nonce:n.nonce,...B})))}function tN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nN&&(window.__reactRouterVersion="7.11.0")}catch{}function iN({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=P.useRef();a.current==null&&(a.current=LI({window:s,v5Compat:!0}));let l=a.current,[c,f]=P.useState({action:l.action,location:l.location}),m=P.useCallback(p=>{n===!1?f(p):P.startTransition(()=>f(p))},[n]);return P.useLayoutEffect(()=>l.listen(m),[l,m]),P.createElement(MD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var xS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oa=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...R},N){let{basename:B,unstable_useTransitions:O}=P.useContext(jn),z=typeof p=="string"&&xS.test(p),$=pS(p,B);p=$.to;let G=yD(p,{relative:a}),[se,ae,le]=WD(s,R),C=oN(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:O});function x(L){e&&e(L),L.defaultPrevented||C(L)}let I=P.createElement("a",{...R,...le,href:$.absoluteURL||G,onClick:$.isExternal||l?e:x,ref:tN(N,ae),target:m,"data-discover":!z&&n==="render"?"true":void 0});return se&&!z?P.createElement(P.Fragment,null,I,P.createElement(JD,{page:G})):I});Oa.displayName="Link";var sN=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=vc(c,{relative:p.relative}),b=Yr(),R=P.useContext(Td),{navigator:N,basename:B}=P.useContext(jn),O=R!=null&&fN(_)&&f===!0,z=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,$=b.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||($=$.toLowerCase(),G=G?G.toLowerCase():null,z=z.toLowerCase()),G&&B&&(G=Ms(G,B)||G);const se=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ae=$===z||!a&&$.startsWith(z)&&$.charAt(se)==="/",le=G!=null&&(G===z||!a&&G.startsWith(z)&&G.charAt(z.length)==="/"),C={isActive:ae,isPending:le,isTransitioning:O},x=ae?e:void 0,I;typeof s=="function"?I=s(C):I=[s,ae?"active":null,le?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(C):l;return P.createElement(Oa,{...p,"aria-current":x,className:I,ref:y,style:L,to:c,viewTransition:f},typeof m=="function"?m(C):m)});sN.displayName="NavLink";var rN=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=xf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...R},N)=>{let{unstable_useTransitions:B}=P.useContext(jn),O=cN(),z=hN(f,{relative:p}),$=c.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&xS.test(f),se=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let le=ae.nativeEvent.submitter,C=le?.getAttribute("formmethod")||c,x=()=>O(le||ae.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b});B&&n!==!1?P.startTransition(()=>x()):x()};return P.createElement("form",{ref:N,method:$,action:z,onSubmit:s?m:se,...R,"data-discover":!G&&t==="render"?"true":void 0})});rN.displayName="Form";function aN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RS(t){let e=P.useContext(yl);return dt(e,aN(t)),e}function oN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Ed(),y=Yr(),_=vc(t,{relative:l});return P.useCallback(b=>{if(UD(b,e)){b.preventDefault();let R=n!==void 0?n:nc(y)===nc(_),N=()=>p(t,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?P.startTransition(()=>N()):N()}},[y,p,_,n,s,e,t,a,l,c,f,m])}var lN=0,uN=()=>`__${String(++lN)}__`;function cN(){let{router:t}=RS("useSubmit"),{basename:e}=P.useContext(jn),n=CD(),s=t.fetch,a=t.navigate;return P.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:y,body:_}=zD(l,e);if(c.navigate===!1){let b=c.fetcherKey||uN();await s(b,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function hN(t,{relative:e}={}){let{basename:n}=P.useContext(jn),s=P.useContext(rs);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...vc(t||".",{relative:e})},c=Yr();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Is([n,l.pathname])),nc(l)}function fN(t,{relative:e}={}){let n=P.useContext(yS);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=RS("useViewTransitionState"),a=vc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ff(a.pathname,c)!=null||Ff(a.pathname,l)!=null}const dN=()=>{};var eb={};const CS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},mN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},IS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(b=64)),s.push(n[y],n[_],n[b],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new pN;const b=l<<2|f>>4;if(s.push(b),p!==64){const R=f<<4&240|p>>2;if(s.push(R),_!==64){const N=p<<6&192|_;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gN=function(t){const e=CS(t);return IS.encodeByteArray(e,!0)},qf=function(t){return gN(t).replace(/\./g,"")},DS=function(t){try{return IS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vN=()=>yN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof eb>"u")return;const t=eb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DS(t[1]);return e&&JSON.parse(e)},wd=()=>{try{return dN()||vN()||_N()||TN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NS=t=>wd()?.emulatorHosts?.[t],MS=t=>{const e=NS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},OS=()=>wd()?.config,PS=t=>wd()?.[`_${t}`];class EN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ya(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hy(t){return(await fetch(t,{credentials:"include"})).ok}function VS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qf(JSON.stringify(n)),qf(JSON.stringify(c)),""].join(".")}const Gu={};function bN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?t.emulator.push(e):t.prod.push(e);return t}function wN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tb=!1;function Gy(t,e){if(typeof window>"u"||typeof document>"u"||!Ya(window.location.host)||Gu[t]===e||Gu[t]||tb)return;Gu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=bN().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{tb=!0,c()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=wN(s),R=n("text"),N=document.getElementById(R)||document.createElement("span"),B=n("learnmore"),O=document.getElementById(B)||document.createElement("a"),z=n("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const G=b.element;f(G),y(O,B);const se=p();m($,z),G.append($,N,O,se),document.body.appendChild(G)}l?(N.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function AN(){const t=wd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IN(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DN(){return!AN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function MN(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const ON="FirebaseError";class as extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ON,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?PN(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new as(a,f,s)}}function PN(t,e){return t.replace(VN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const VN=/\{\$([^}]+)}/g;function kN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ba(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(nb(l)&&nb(c)){if(!Ba(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function nb(t){return t!==null&&typeof t=="object"}function Tc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ju(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LN(t,e){const n=new UN(t,e);return n.subscribe.bind(n)}class UN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=og),a.error===void 0&&(a.error=og),a.complete===void 0&&(a.complete=og);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}function qt(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Da="[DEFAULT]";class BN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new EN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FN(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zN(t){return t===Da?void 0:t}function FN(t){return t.instantiationMode==="EAGER"}class qN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const HN={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},GN=ke.INFO,YN={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},KN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=YN[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yy{constructor(e){this.name=e,this._logLevel=GN,this._logHandler=KN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const $N=(t,e)=>e.some(n=>t instanceof n);let ib,sb;function QN(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XN(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kS=new WeakMap,Bg=new WeakMap,LS=new WeakMap,lg=new WeakMap,Ky=new WeakMap;function WN(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Cr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&kS.set(n,t)}).catch(()=>{}),Ky.set(e,t),e}function JN(t){if(Bg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Bg.set(t,e)}let zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZN(t){zg=t(zg)}function eM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ug(this),e,...n);return LS.set(s,e.sort?e.sort():[e]),Cr(s)}:XN().includes(t)?function(...e){return t.apply(ug(this),e),Cr(kS.get(this))}:function(...e){return Cr(t.apply(ug(this),e))}}function tM(t){return typeof t=="function"?eM(t):(t instanceof IDBTransaction&&JN(t),$N(t,QN())?new Proxy(t,zg):t)}function Cr(t){if(t instanceof IDBRequest)return WN(t);if(lg.has(t))return lg.get(t);const e=tM(t);return e!==t&&(lg.set(t,e),Ky.set(e,t)),e}const ug=t=>Ky.get(t);function nM(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Cr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Cr(c.result),m.oldVersion,m.newVersion,Cr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const iM=["get","getKey","getAll","getAllKeys","count"],sM=["put","add","delete","clear"],cg=new Map;function rb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=sM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||iM.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return cg.set(e,l),l}ZN(t=>({...t,get:(e,n,s)=>rb(e,n)||t.get(e,n,s),has:(e,n)=>!!rb(e,n)||t.has(e,n)}));class rM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function aM(t){return t.getComponent()?.type==="VERSION"}const Fg="@firebase/app",ab="0.14.6";const Os=new Yy("@firebase/app"),oM="@firebase/app-compat",lM="@firebase/analytics-compat",uM="@firebase/analytics",cM="@firebase/app-check-compat",hM="@firebase/app-check",fM="@firebase/auth",dM="@firebase/auth-compat",mM="@firebase/database",pM="@firebase/data-connect",gM="@firebase/database-compat",yM="@firebase/functions",vM="@firebase/functions-compat",_M="@firebase/installations",TM="@firebase/installations-compat",EM="@firebase/messaging",bM="@firebase/messaging-compat",wM="@firebase/performance",SM="@firebase/performance-compat",AM="@firebase/remote-config",xM="@firebase/remote-config-compat",RM="@firebase/storage",CM="@firebase/storage-compat",IM="@firebase/firestore",DM="@firebase/ai",NM="@firebase/firestore-compat",MM="firebase",OM="12.6.0";const qg="[DEFAULT]",PM={[Fg]:"fire-core",[oM]:"fire-core-compat",[uM]:"fire-analytics",[lM]:"fire-analytics-compat",[hM]:"fire-app-check",[cM]:"fire-app-check-compat",[fM]:"fire-auth",[dM]:"fire-auth-compat",[mM]:"fire-rtdb",[pM]:"fire-data-connect",[gM]:"fire-rtdb-compat",[yM]:"fire-fn",[vM]:"fire-fn-compat",[_M]:"fire-iid",[TM]:"fire-iid-compat",[EM]:"fire-fcm",[bM]:"fire-fcm-compat",[wM]:"fire-perf",[SM]:"fire-perf-compat",[AM]:"fire-rc",[xM]:"fire-rc-compat",[RM]:"fire-gcs",[CM]:"fire-gcs-compat",[IM]:"fire-fst",[NM]:"fire-fst-compat",[DM]:"fire-vertex","fire-js":"fire-js",[MM]:"fire-js-all"};const Hf=new Map,VM=new Map,Hg=new Map;function ob(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function za(t){const e=t.name;if(Hg.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,t);for(const n of Hf.values())ob(n,t);for(const n of VM.values())ob(n,t);return!0}function Sd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}const kM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new _c("app","Firebase",kM);class LM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const Ka=OM;function US(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:qg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ir.create("bad-app-name",{appName:String(a)});if(n||(n=OS()),!n)throw Ir.create("no-options");const l=Hf.get(a);if(l){if(Ba(n,l.options)&&Ba(s,l.config))return l;throw Ir.create("duplicate-app",{appName:a})}const c=new qN(a);for(const m of Hg.values())c.addComponent(m);const f=new LM(n,s,c);return Hf.set(a,f),f}function $y(t=qg){const e=Hf.get(t);if(!e&&t===qg&&OS())return US();if(!e)throw Ir.create("no-app",{appName:t});return e}function Xi(t,e,n){let s=PM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}za(new kr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const UM="firebase-heartbeat-database",jM=1,ic="firebase-heartbeat-store";let hg=null;function jS(){return hg||(hg=nM(UM,jM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),hg}async function BM(t){try{const n=(await jS()).transaction(ic),s=await n.objectStore(ic).get(BS(t));return await n.done,s}catch(e){if(e instanceof as)Os.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e?.message});Os.warn(n.message)}}}async function lb(t,e){try{const s=(await jS()).transaction(ic,"readwrite");await s.objectStore(ic).put(e,BS(t)),await s.done}catch(n){if(n instanceof as)Os.warn(n.message);else{const s=Ir.create("idb-set",{originalErrorMessage:n?.message});Os.warn(s.message)}}}function BS(t){return`${t.name}!${t.options.appId}`}const zM=1024,FM=30;class qM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ub();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>FM){const a=YM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ub(),{heartbeatsToSend:n,unsentEntries:s}=HM(this._heartbeatsCache.heartbeats),a=qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Os.warn(e),""}}}function ub(){return new Date().toISOString().substring(0,10)}function HM(t,e=zM){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),cb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),cb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class GM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?MN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cb(t){return qf(JSON.stringify({version:2,heartbeats:t})).length}function YM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function KM(t){za(new kr("platform-logger",e=>new rM(e),"PRIVATE")),za(new kr("heartbeat",e=>new qM(e),"PRIVATE")),Xi(Fg,ab,t),Xi(Fg,ab,"esm2020"),Xi("fire-js","")}KM("");var $M="firebase",QM="12.7.0";Xi($M,QM,"app");function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XM=zS,FS=new _c("auth","Firebase",zS());const Gf=new Yy("@firebase/auth");function WM(t,...e){Gf.logLevel<=ke.WARN&&Gf.warn(`Auth (${Ka}): ${t}`,...e)}function Cf(t,...e){Gf.logLevel<=ke.ERROR&&Gf.error(`Auth (${Ka}): ${t}`,...e)}function Ai(t,...e){throw Qy(t,...e)}function Wi(t,...e){return Qy(t,...e)}function qS(t,e,n){const s={...XM(),[e]:n};return new _c("auth","Firebase",s).create(e,{appName:t.name})}function Dr(t){return qS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return FS.create(t,...e)}function Ee(t,e,...n){if(!t)throw Qy(e,...n)}function Rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cf(e),new Error(e)}function Ps(t,e){t||Rs(e)}function Gg(){return typeof self<"u"&&self.location?.href||""}function JM(){return hb()==="http:"||hb()==="https:"}function hb(){return typeof self<"u"&&self.location?.protocol||null}function ZM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JM()||RN()||"connection"in navigator)?navigator.onLine:!0}function eO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=SN()||CN()}get(){return ZM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xy(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class HS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iO=new Ec(3e4,6e4);function $a(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kr(t,e,n,s,a={}){return GS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Tc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return xN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ya(t.emulatorConfig.host)&&(p.credentials="include"),HS.fetch()(await YS(t,t.config.apiHost,n,f),p)})}async function GS(t,e,n){t._canInitEmulator=!1;const s={...tO,...e};try{const a=new rO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw pf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw pf(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qS(t,y,p);Ai(t,y)}}catch(a){if(a instanceof as)throw a;Ai(t,"network-request-failed",{message:String(a)})}}async function Ad(t,e,n,s,a={}){const l=await Kr(t,e,n,s,a);return"mfaPendingCredential"in l&&Ai(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function YS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Xy(t.config,a):`${t.config.apiScheme}://${a}`;return nO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function sO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wi(this.auth,"network-request-failed")),iO.get())})}}function pf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Wi(t,e,s);return a.customData._tokenResponse=n,a}function fb(t){return t!==void 0&&t.enterprise!==void 0}class aO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oO(t,e){return Kr(t,"GET","/v2/recaptchaConfig",$a(t,e))}async function lO(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function Yf(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}function Yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uO(t,e=!1){const n=qt(t),s=await n.getIdToken(e),a=Wy(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Yu(fg(a.auth_time)),issuedAtTime:Yu(fg(a.iat)),expirationTime:Yu(fg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function fg(t){return Number(t)*1e3}function Wy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=DS(n);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function db(t){const e=Wy(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof as&&cO(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function cO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class hO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kf(t){const e=t.auth,n=await t.getIdToken(),s=await sc(t,Yf(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?KS(a.providerUserInfo):[],c=dO(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Yg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function fO(t){const e=qt(t);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dO(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function KS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function mO(t,e){const n=await GS(t,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await YS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Ya(t.emulatorConfig.host)&&(m.credentials="include"),HS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pO(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",$a(t,e))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=db(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await mO(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new tl;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function _r(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new hO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uO(this,e)}reload(){return fO(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Kf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await sc(this,lO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:R,providerData:N,stsTokenManager:B}=n;Ee(_&&B,e,"internal-error");const O=tl.fromJSON(this.name,B);Ee(typeof _=="string",e,"internal-error"),_r(s,e.name),_r(a,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof R=="boolean",e,"internal-error"),_r(l,e.name),_r(c,e.name),_r(f,e.name),_r(m,e.name),_r(p,e.name),_r(y,e.name);const z=new Ti({uid:_,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&(z.providerData=N.map($=>({...$}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,s=!1){const a=new tl;a.updateFromServerResponse(n);const l=new Ti({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Kf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?KS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new tl;f.updateFromIdToken(s);const m=new Ti({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Yg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const mb=new Map;function Cs(t){Ps(t instanceof Function,"Expected a class definition");let e=mb.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mb.set(t,e),e)}class $S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$S.type="NONE";const pb=$S;function If(t,e,n){return`firebase:${t}:${e}:${n}`}class nl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=If(this.userKey,a.apiKey,l),this.fullPersistenceKey=If("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yf(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new nl(Cs(pb),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Cs(pb);const c=If(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Yf(e,{idToken:y}).catch(()=>{});if(!b)break;_=await Ti._fromGetAccountInfoResponse(e,b,y)}else _=Ti._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new nl(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new nl(l,e,s))}}function gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eA(e))return"Blackberry";if(tA(e))return"Webos";if(XS(e))return"Safari";if((e.includes("chrome/")||WS(e))&&!e.includes("edge/"))return"Chrome";if(ZS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function QS(t=hn()){return/firefox\//i.test(t)}function XS(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WS(t=hn()){return/crios\//i.test(t)}function JS(t=hn()){return/iemobile/i.test(t)}function ZS(t=hn()){return/android/i.test(t)}function eA(t=hn()){return/blackberry/i.test(t)}function tA(t=hn()){return/webos/i.test(t)}function Jy(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gO(t=hn()){return Jy(t)&&!!window.navigator?.standalone}function yO(){return IN()&&document.documentMode===10}function nA(t=hn()){return Jy(t)||ZS(t)||tA(t)||eA(t)||/windows phone/i.test(t)||JS(t)}function iA(t,e=[]){let n;switch(t){case"Browser":n=gb(hn());break;case"Worker":n=`${gb(hn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${s}`}class vO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function _O(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",$a(t,e))}const TO=6;class EO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class bO{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new vO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yf(this,{idToken:e}),s=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Dr(this));const n=e?qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _O(this),n=new EO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _l(t){return qt(t)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=LN(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wO(t){xd=t}function sA(t){return xd.loadJS(t)}function SO(){return xd.recaptchaEnterpriseScript}function AO(){return xd.gapiScript}function xO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class RO{constructor(){this.enterprise=new CO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IO="recaptcha-enterprise",rA="NO_RECAPTCHA";class DO{constructor(e){this.type=IO,this.auth=_l(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{oO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new aO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;fb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(rA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&fb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=SO();m.length!==0&&(m+=f),sA(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function vb(t,e,n,s=!1,a=!1){const l=new DO(t);let c;if(a)c=rA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function _b(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await vb(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await vb(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}function NO(t,e){const n=Sd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ba(l,e??{}))return a;Ai(a,"already-initialized")}return n.initialize({options:e})}function MO(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function OO(t,e,n){const s=_l(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=aA(e),{host:c,port:f}=PO(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ba(p,s.config.emulator)&&Ba(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ya(c)?(Hy(`${l}//${c}${m}`),Gy("Auth",!0)):VO()}function aA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PO(t){const e=aA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Tb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Tb(c)}}}function Tb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,n){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function kO(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}async function LO(t,e){return Ad(t,"POST","/v1/accounts:signInWithPassword",$a(t,e))}async function UO(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",$a(t,e))}async function jO(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",$a(t,e))}class rc extends Zy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new rc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _b(e,n,"signInWithPassword",LO);case"emailLink":return UO(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _b(e,s,"signUpPassword",kO);case"emailLink":return jO(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function il(t,e){return Ad(t,"POST","/v1/accounts:signInWithIdp",$a(t,e))}const BO="http://localhost";class Fa extends Zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Fa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,il(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:BO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}function zO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FO(t){const e=Uu(ju(t)).link,n=e?Uu(ju(e)).deep_link_id:null,s=Uu(ju(t)).deep_link_id;return(s?Uu(ju(s)).link:null)||s||n||e||t}class ev{constructor(e){const n=Uu(ju(e)),s=n.apiKey??null,a=n.oobCode??null,l=zO(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=FO(e);try{return new ev(n)}catch{return null}}}class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ev.parseLink(n);return Ee(s,"argument-error"),rc._fromEmailAndCode(e,s.code,s.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bc extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class br extends bc{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";class wr extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class Sr extends bc{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";class Ar extends bc{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ti._fromIdTokenResponse(e,s,a),c=Eb(s);return new al({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Eb(s);return new al({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class $f extends as{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new $f(e,n,s,a)}}function lA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(t,l,e,s):l})}async function qO(t,e,n=!1){const s=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return al._forOperation(t,"link",s)}async function HO(t,e,n=!1){const{auth:s}=t;if(ti(s.app))return Promise.reject(Dr(s));const a="reauthenticate";try{const l=await sc(t,lA(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const c=Wy(l.idToken);Ee(c,s,"internal-error");const{sub:f}=c;return Ee(t.uid===f,s,"user-mismatch"),al._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ai(s,"user-mismatch"),l}}async function uA(t,e,n=!1){if(ti(t.app))return Promise.reject(Dr(t));const s="signIn",a=await lA(t,s,e),l=await al._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function GO(t,e){return uA(_l(t),e)}async function YO(t){const e=_l(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function KO(t,e,n){return ti(t.app)?Promise.reject(Dr(t)):GO(qt(t),Tl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&YO(t),s})}function $O(t,e,n,s){return qt(t).onIdTokenChanged(e,n,s)}function QO(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function XO(t,e,n,s){return qt(t).onAuthStateChanged(e,n,s)}const Qf="__sak";class cA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WO=1e3,JO=10;class hA extends cA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);yO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,JO):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hA.type="LOCAL";const ZO=hA;class fA extends cA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fA.type="SESSION";const dA=fA;function eP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await eP(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];function tv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class tP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=tv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ji(){return window}function nP(t){Ji().location.href=t}function mA(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function iP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sP(){return navigator?.serviceWorker?.controller||null}function rP(){return mA()?self:null}const pA="firebaseLocalStorageDb",aP=1,Xf="firebaseLocalStorage",gA="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function oP(){const t=indexedDB.deleteDatabase(pA);return new wc(t).toPromise()}function Kg(){const t=indexedDB.open(pA,aP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Xf,{keyPath:gA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Xf)?e(s):(s.close(),await oP(),e(await Kg()))})})}async function bb(t,e,n){const s=Cd(t,!0).put({[gA]:e,value:n});return new wc(s).toPromise()}async function lP(t,e){const n=Cd(t,!1).get(e),s=await new wc(n).toPromise();return s===void 0?null:s.value}function wb(t,e){const n=Cd(t,!0).delete(e);return new wc(n).toPromise()}const uP=800,cP=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(rP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iP(),!this.activeServiceWorker)return;this.sender=new tP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await bb(e,Qf,"1"),await wb(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>lP(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Cd(a,!1).getAll();return new wc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const hP=yA;new Ec(3e4,6e4);function fP(t,e){return e?Cs(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class nv extends Zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dP(t){return uA(t.auth,new nv(t),t.bypassAuthState)}function mP(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),HO(n,new nv(t),t.bypassAuthState)}async function pP(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),qO(n,new nv(t),t.bypassAuthState)}class vA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dP;case"linkViaPopup":case"linkViaRedirect":return pP;case"reauthViaPopup":case"reauthViaRedirect":return mP;default:Ai(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gP=new Ec(2e3,1e4);class $o extends vA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gP.get())};e()}}$o.currentPopupAction=null;const yP="pendingRedirect",Df=new Map;class vP extends vA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const s=await _P(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _P(t,e){const n=bP(e),s=EP(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function TP(t,e){Df.set(t._key(),e)}function EP(t){return Cs(t._redirectPersistence)}function bP(t){return If(yP,t.config.apiKey,t.name)}async function wP(t,e,n=!1){if(ti(t.app))return Promise.reject(Dr(t));const s=_l(t),a=fP(s,e),c=await new vP(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const SP=600*1e3;class AP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_A(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sb(e))}saveEventToCache(e){this.cachedEventUids.add(Sb(e)),this.lastProcessedEventTime=Date.now()}}function Sb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _A({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _A(t);default:return!1}}async function RP(t,e={}){return Kr(t,"GET","/v1/projects",e)}const CP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IP=/^https?/;async function DP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RP(t);for(const n of e)try{if(NP(n))return}catch{}Ai(t,"unauthorized-domain")}function NP(t){const e=Gg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!IP.test(n))return!1;if(CP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const MP=new Ec(3e4,6e4);function Ab(){const t=Ji().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OP(t){return new Promise((e,n)=>{function s(){Ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ab(),n(Wi(t,"network-request-failed"))},timeout:MP.get()})}if(Ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ji().gapi?.load)s();else{const a=xO("iframefcb");return Ji()[a]=()=>{gapi.load?s():n(Wi(t,"network-request-failed"))},sA(`${AO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nf=null,e})}let Nf=null;function PP(t){return Nf=Nf||OP(t),Nf}const VP=new Ec(5e3,15e3),kP="__/auth/iframe",LP="emulator/auth/iframe",UP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BP(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,LP):`https://${t.config.authDomain}/${kP}`,s={apiKey:e.apiKey,appName:t.name,v:Ka},a=jP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Tc(s).slice(1)}`}async function zP(t){const e=await PP(t),n=Ji().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:BP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Wi(t,"network-request-failed"),f=Ji().setTimeout(()=>{l(c)},VP.get());function m(){Ji().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const FP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qP=500,HP=600,GP="_blank",YP="http://localhost";class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KP(t,e,n,s=qP,a=HP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...FP,width:s.toString(),height:a.toString(),top:l,left:c},p=hn().toLowerCase();n&&(f=WS(p)?GP:n),QS(p)&&(e=e||YP,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[R,N])=>`${b}${R}=${N},`,"");if(gO(p)&&f!=="_self")return $P(e||"",f),new xb(null);const _=window.open(e||"",f,y);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new xb(_)}function $P(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const QP="__/auth/handler",XP="emulator/auth/handler",WP=encodeURIComponent("fac");async function Rb(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ka,eventId:a};if(e instanceof oA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",kN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof bc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${WP}=${encodeURIComponent(m)}`:"";return`${JP(t)}?${Tc(f).slice(1)}${p}`}function JP({config:t}){return t.emulator?Xy(t,XP):`https://${t.authDomain}/${QP}`}const dg="webStorageSupport";class ZP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dA,this._completeRedirectFn=wP,this._overrideRedirectResult=TP}async _openPopup(e,n,s,a){Ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Rb(e,n,s,Gg(),a);return KP(e,l,tv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Rb(e,n,s,Gg(),a);return nP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ps(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await zP(e),s=new AP(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dg,{type:dg},a=>{const l=a?.[0]?.[dg];l!==void 0&&n(!!l),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nA()||XS()||Jy()}}const eV=ZP;var Cb="@firebase/auth",Ib="1.12.0";class tV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iV(t){za(new kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iA(t)},p=new bO(s,a,l,m);return MO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),za(new kr("auth-internal",e=>{const n=_l(e.getProvider("auth").getImmediate());return(s=>new tV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(Cb,Ib,nV(t)),Xi(Cb,Ib,"esm2020")}const sV=300,rV=PS("authIdTokenMaxAge")||sV;let Db=null;const aV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rV)return;const a=n?.token;Db!==a&&(Db=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function oV(t=$y()){const e=Sd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NO(t,{popupRedirectResolver:eV,persistence:[hP,ZO,dA]}),s=PS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=aV(l.toString());QO(n,c,()=>c(n.currentUser)),$O(n,f=>c(f))}}const a=NS("auth");return a&&OO(n,`http://${a}`),n}function lV(){return document.getElementsByTagName("head")?.[0]??document}wO({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Wi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",lV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iV("Browser");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,TA;(function(){var t;function e(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(L,V,q){for(var D=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)D[Ye-2]=arguments[Ye];return x.prototype[V].apply(L,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,x,I){I||(I=0);const L=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)L[V]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(V=0;V<16;++V)L[V]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],V=C.g[2];let q=C.g[3],D;D=x+(q^I&(V^q))+L[0]+3614090360&4294967295,x=I+(D<<7&4294967295|D>>>25),D=q+(V^x&(I^V))+L[1]+3905402710&4294967295,q=x+(D<<12&4294967295|D>>>20),D=V+(I^q&(x^I))+L[2]+606105819&4294967295,V=q+(D<<17&4294967295|D>>>15),D=I+(x^V&(q^x))+L[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(q^I&(V^q))+L[4]+4118548399&4294967295,x=I+(D<<7&4294967295|D>>>25),D=q+(V^x&(I^V))+L[5]+1200080426&4294967295,q=x+(D<<12&4294967295|D>>>20),D=V+(I^q&(x^I))+L[6]+2821735955&4294967295,V=q+(D<<17&4294967295|D>>>15),D=I+(x^V&(q^x))+L[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(q^I&(V^q))+L[8]+1770035416&4294967295,x=I+(D<<7&4294967295|D>>>25),D=q+(V^x&(I^V))+L[9]+2336552879&4294967295,q=x+(D<<12&4294967295|D>>>20),D=V+(I^q&(x^I))+L[10]+4294925233&4294967295,V=q+(D<<17&4294967295|D>>>15),D=I+(x^V&(q^x))+L[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(q^I&(V^q))+L[12]+1804603682&4294967295,x=I+(D<<7&4294967295|D>>>25),D=q+(V^x&(I^V))+L[13]+4254626195&4294967295,q=x+(D<<12&4294967295|D>>>20),D=V+(I^q&(x^I))+L[14]+2792965006&4294967295,V=q+(D<<17&4294967295|D>>>15),D=I+(x^V&(q^x))+L[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=x+(V^q&(I^V))+L[1]+4129170786&4294967295,x=I+(D<<5&4294967295|D>>>27),D=q+(I^V&(x^I))+L[6]+3225465664&4294967295,q=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(q^x))+L[11]+643717713&4294967295,V=q+(D<<14&4294967295|D>>>18),D=I+(q^x&(V^q))+L[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^q&(I^V))+L[5]+3593408605&4294967295,x=I+(D<<5&4294967295|D>>>27),D=q+(I^V&(x^I))+L[10]+38016083&4294967295,q=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(q^x))+L[15]+3634488961&4294967295,V=q+(D<<14&4294967295|D>>>18),D=I+(q^x&(V^q))+L[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^q&(I^V))+L[9]+568446438&4294967295,x=I+(D<<5&4294967295|D>>>27),D=q+(I^V&(x^I))+L[14]+3275163606&4294967295,q=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(q^x))+L[3]+4107603335&4294967295,V=q+(D<<14&4294967295|D>>>18),D=I+(q^x&(V^q))+L[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(V^q&(I^V))+L[13]+2850285829&4294967295,x=I+(D<<5&4294967295|D>>>27),D=q+(I^V&(x^I))+L[2]+4243563512&4294967295,q=x+(D<<9&4294967295|D>>>23),D=V+(x^I&(q^x))+L[7]+1735328473&4294967295,V=q+(D<<14&4294967295|D>>>18),D=I+(q^x&(V^q))+L[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=x+(I^V^q)+L[5]+4294588738&4294967295,x=I+(D<<4&4294967295|D>>>28),D=q+(x^I^V)+L[8]+2272392833&4294967295,q=x+(D<<11&4294967295|D>>>21),D=V+(q^x^I)+L[11]+1839030562&4294967295,V=q+(D<<16&4294967295|D>>>16),D=I+(V^q^x)+L[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^q)+L[1]+2763975236&4294967295,x=I+(D<<4&4294967295|D>>>28),D=q+(x^I^V)+L[4]+1272893353&4294967295,q=x+(D<<11&4294967295|D>>>21),D=V+(q^x^I)+L[7]+4139469664&4294967295,V=q+(D<<16&4294967295|D>>>16),D=I+(V^q^x)+L[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^q)+L[13]+681279174&4294967295,x=I+(D<<4&4294967295|D>>>28),D=q+(x^I^V)+L[0]+3936430074&4294967295,q=x+(D<<11&4294967295|D>>>21),D=V+(q^x^I)+L[3]+3572445317&4294967295,V=q+(D<<16&4294967295|D>>>16),D=I+(V^q^x)+L[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(I^V^q)+L[9]+3654602809&4294967295,x=I+(D<<4&4294967295|D>>>28),D=q+(x^I^V)+L[12]+3873151461&4294967295,q=x+(D<<11&4294967295|D>>>21),D=V+(q^x^I)+L[15]+530742520&4294967295,V=q+(D<<16&4294967295|D>>>16),D=I+(V^q^x)+L[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=x+(V^(I|~q))+L[0]+4096336452&4294967295,x=I+(D<<6&4294967295|D>>>26),D=q+(I^(x|~V))+L[7]+1126891415&4294967295,q=x+(D<<10&4294967295|D>>>22),D=V+(x^(q|~I))+L[14]+2878612391&4294967295,V=q+(D<<15&4294967295|D>>>17),D=I+(q^(V|~x))+L[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~q))+L[12]+1700485571&4294967295,x=I+(D<<6&4294967295|D>>>26),D=q+(I^(x|~V))+L[3]+2399980690&4294967295,q=x+(D<<10&4294967295|D>>>22),D=V+(x^(q|~I))+L[10]+4293915773&4294967295,V=q+(D<<15&4294967295|D>>>17),D=I+(q^(V|~x))+L[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~q))+L[8]+1873313359&4294967295,x=I+(D<<6&4294967295|D>>>26),D=q+(I^(x|~V))+L[15]+4264355552&4294967295,q=x+(D<<10&4294967295|D>>>22),D=V+(x^(q|~I))+L[6]+2734768916&4294967295,V=q+(D<<15&4294967295|D>>>17),D=I+(q^(V|~x))+L[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=x+(V^(I|~q))+L[4]+4149444226&4294967295,x=I+(D<<6&4294967295|D>>>26),D=q+(I^(x|~V))+L[11]+3174756917&4294967295,q=x+(D<<10&4294967295|D>>>22),D=V+(x^(q|~I))+L[2]+718787259&4294967295,V=q+(D<<15&4294967295|D>>>17),D=I+(q^(V|~x))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+q&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,L=this.C;let V=this.h,q=0;for(;q<x;){if(V==0)for(;q<=I;)a(this,C,q),q+=this.blockSize;if(typeof C=="string"){for(;q<x;)if(L[V++]=C.charCodeAt(q++),V==this.blockSize){a(this,L),V=0;break}}else for(;q<x;)if(L[V++]=C[q++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)C[x++]=this.g[I]>>>L&255;return C};function l(C,x){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function c(C,x){this.h=x;const I=[];let L=!0;for(let V=C.length-1;V>=0;V--){const q=C[V]|0;L&&q==x||(I[V]=q,L=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(x){return new c([x|0],x<0?-1:0)}):new c([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return O(p(-C));const x=[];let I=1;for(let L=0;C>=I;L++)x[L]=C/I|0,I*=4294967296;return new c(x,0)}function y(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return O(y(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(x,8));let L=_;for(let q=0;q<C.length;q+=8){var V=Math.min(8,C.length-q);const D=parseInt(C.substring(q,q+V),x);V<8?(V=p(Math.pow(x,V)),L=L.j(V).add(p(D))):(L=L.j(I),L=L.add(p(D)))}return L}var _=m(0),b=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(B(this))return-O(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);C+=(L>=0?L:4294967296+L)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(B(this))return"-"+O(this).toString(C);const x=p(Math.pow(C,6));var I=this;let L="";for(;;){const V=se(I,x).g;I=z(I,V.j(x));let q=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,N(I))return q+L;for(;q.length<6;)q="0"+q;L=q+L}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function B(C){return C.h==-1}t.l=function(C){return C=z(this,C),B(C)?-1:N(C)?0:1};function O(C){const x=C.g.length,I=[];for(let L=0;L<x;L++)I[L]=~C.g[L];return new c(I,~C.h).add(b)}t.abs=function(){return B(this)?O(this):this},t.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let L=0;for(let V=0;V<=x;V++){let q=L+(this.i(V)&65535)+(C.i(V)&65535),D=(q>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);L=D>>>16,q&=65535,D&=65535,I[V]=D<<16|q}return new c(I,I[I.length-1]&-2147483648?-1:0)};function z(C,x){return C.add(O(x))}t.j=function(C){if(N(this)||N(C))return _;if(B(this))return B(C)?O(this).j(O(C)):O(O(this).j(C));if(B(C))return O(this.j(O(C)));if(this.l(R)<0&&C.l(R)<0)return p(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var L=0;L<2*x;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<C.g.length;V++){const q=this.i(L)>>>16,D=this.i(L)&65535,Ye=C.i(V)>>>16,st=C.i(V)&65535;I[2*L+2*V]+=D*st,$(I,2*L+2*V),I[2*L+2*V+1]+=q*st,$(I,2*L+2*V+1),I[2*L+2*V+1]+=D*Ye,$(I,2*L+2*V+1),I[2*L+2*V+2]+=q*Ye,$(I,2*L+2*V+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new c(I,0)};function $(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function G(C,x){this.g=C,this.h=x}function se(C,x){if(N(x))throw Error("division by zero");if(N(C))return new G(_,_);if(B(C))return x=se(O(C),x),new G(O(x.g),O(x.h));if(B(x))return x=se(C,O(x)),new G(O(x.g),x.h);if(C.g.length>30){if(B(C)||B(x))throw Error("slowDivide_ only works with positive integers.");for(var I=b,L=x;L.l(C)<=0;)I=ae(I),L=ae(L);var V=le(I,1),q=le(L,1);for(L=le(L,2),I=le(I,2);!N(L);){var D=q.add(L);D.l(C)<=0&&(V=V.add(I),q=D),L=le(L,1),I=le(I,1)}return x=z(C,V.j(x)),new G(V,x)}for(V=_;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),q=p(I),D=q.j(x);B(D)||D.l(C)>0;)I-=L,q=p(I),D=q.j(x);N(q)&&(q=b),V=V.add(q),C=z(C,D)}return new G(V,C)}t.B=function(C){return se(this,C).h},t.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)&C.i(L);return new c(I,this.h&C.h)},t.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)|C.i(L);return new c(I,this.h|C.h)},t.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)^C.i(L);return new c(I,this.h^C.h)};function ae(C){const x=C.g.length+1,I=[];for(let L=0;L<x;L++)I[L]=C.i(L)<<1|C.i(L-1)>>>31;return new c(I,C.h)}function le(C,x){const I=x>>5;x%=32;const L=C.g.length-I,V=[];for(let q=0;q<L;q++)V[q]=x>0?C.i(q+I)>>>x|C.i(q+I+1)<<32-x:C.i(q+I);return new c(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,TA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Nr=c}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EA,Bu,bA,Mf,$g,wA,SA,AA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in E))break e;E=E[H]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=m,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,H,X){for(var ue=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ue[Ce-2]=arguments[Ce];return v.prototype[H].apply(A,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function N(h,v){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const X=H.length||0;h.length=E+X;for(let ue=0;ue<X;ue++)h[E+ue]=H[ue]}else h.push(H)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(h){c.setTimeout(()=>{throw h},0)}function z(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,E){const A=G.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var G=new B(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,le=!1,C=new $,x=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(I)}};function I(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){O(E)}var v=G;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}le=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ye(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Ye,V),Ye.prototype.init=function(h,v){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),U=0;function J(h,v,E,A,H){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=H,this.key=++U,this.da=this.fa=!1}function oe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function _e(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function k(h){const v={};for(const E in h)v[E]=h[E];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,v){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)h[E]=A[E];for(let X=0;X<ee.length;X++)E=ee[X],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,E,A,H){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=De(h,v,A,H);return ue>-1?(v=h[ue],E||(v.fa=!1)):(v=new J(v,this.src,X,!!A,H),v.fa=E,h.push(v)),v};function Se(h,v){const E=v.type;if(E in h.g){var A=h.g[E],H=Array.prototype.indexOf.call(A,v,void 0),X;(X=H>=0)&&Array.prototype.splice.call(A,H,1),X&&(oe(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function De(h,v,E,A){for(let H=0;H<h.length;++H){const X=h[H];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==A)return H}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ut={};function ut(h,v,E,A,H){if(Array.isArray(v)){for(let X=0;X<v.length;X++)ut(h,v[X],E,A,H);return null}return E=Dl(E),h&&h[st]?h.J(v,E,f(A)?!!A.capture:!1,H):Jr(h,v,E,!1,A,H)}function Jr(h,v,E,A,H,X){if(!v)throw Error("Invalid event type");const ue=f(H)?!!H.capture:!!H;let Ce=Zr(h);if(Ce||(h[Be]=Ce=new fe(h)),E=Ce.add(v,E,A,ue,X),E.proxy)return E;if(A=Wa(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)q||(H=ue),H===void 0&&(H=!1),h.addEventListener(v.toString(),A,H);else if(h.attachEvent)h.attachEvent(Ri(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wa(){function h(E){return v.call(h.src,h.listener,E)}const v=Cl;return h}function Ja(h,v,E,A,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ja(h,v[X],E,A,H);else A=f(A)?!!A.capture:!!A,E=Dl(E),h&&h[st]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],E=De(v,E,A,H),E>-1&&(oe(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Zr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=De(v,E,A,H)),(E=h>-1?v[h]:null)&&Za(E))}function Za(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[st])Se(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(Ri(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Zr(v))?(Se(E,h),E.h==0&&(E.src=null,v[Be]=null)):oe(h)}}}function Ri(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function Cl(h,v){if(h.da)h=!0;else{v=new Ye(v,this);const E=h.listener,A=h.ha||h.src;h.fa&&Za(h),h=E.call(A,v)}return h}function Zr(h){return h=h[Be],h instanceof fe?h:null}var Il="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dl(h){return typeof h=="function"?h:(h[Il]||(h[Il]=function(v){return h.handleEvent(v)}),h[Il])}function At(){L.call(this),this.i=new fe(this),this.M=this,this.G=null}_(At,L),At.prototype[st]=!0,At.prototype.removeEventListener=function(h,v,E,A){Ja(this,h,v,E,A)};function jt(h,v){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var H=v;v=new V(A,h),ce(v,H)}H=!0;let X,ue;if(E)for(ue=E.length-1;ue>=0;ue--)X=v.g=E[ue],H=Bs(X,A,!0,v)&&H;if(X=v.g=h,H=Bs(X,A,!0,v)&&H,H=Bs(X,A,!1,v)&&H,E)for(ue=0;ue<E.length;ue++)X=v.g=E[ue],H=Bs(X,A,!1,v)&&H}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let A=0;A<E.length;A++)oe(E[A]);delete h.g[v],h.h--}}this.G=null},At.prototype.J=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},At.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function Bs(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let X=0;X<v.length;++X){const ue=v[X];if(ue&&!ue.da&&ue.capture==E){const Ce=ue.listener,Et=ue.ha||ue.src;ue.fa&&Se(h.i,ue),H=Ce.call(Et,A)!==!1&&H}}return H&&!A.defaultPrevented}function em(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Uc(h){h.g=em(()=>{h.g=null,h.i&&(h.i=!1,Uc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class fn extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(h){L.call(this),this.h=h,this.g={}}_(ea,L);var Nl=[];function Ml(h){pe(h.g,function(v,E){this.g.hasOwnProperty(E)&&Za(v)},h),h.g={}}ea.prototype.N=function(){ea.Z.N.call(this),Ml(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=c.JSON.stringify,tm=c.JSON.parse,jc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bc(){}function zc(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){V.call(this,"d")}_(Xt,V);function Bn(){V.call(this,"c")}_(Bn,V);var Tt={},Fc=null;function eo(){return Fc=Fc||new At}Tt.Ia="serverreachability";function qc(h){V.call(this,Tt.Ia,h)}_(qc,V);function Ci(h){const v=eo();jt(v,new qc(v))}Tt.STAT_EVENT="statevent";function ta(h,v){V.call(this,Tt.STAT_EVENT,h),this.stat=v}_(ta,V);function xt(h){const v=eo();jt(v,new ta(v,h))}Tt.Ja="timingevent";function Ii(h,v){V.call(this,Tt.Ja,h),this.size=v}_(Ii,V);function Di(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function nm(h,v,E,A,H,X){h.info(function(){if(h.g)if(X){var ue="",Ce=X.split("&");for(let He=0;He<Ce.length;He++){var Et=Ce[He].split("=");if(Et.length>1){const ct=Et[0];Et=Et[1];const Hn=ct.split("_");ue=Hn.length>=2&&Hn[1]=="type"?ue+(ct+"="+Et+"&"):ue+(ct+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+E+`
`+ue})}function Hc(h,v,E,A,H,X,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+E+`
`+X+" "+ue})}function Ni(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+im(h,E)+(A?" "+A:"")})}function na(h,v){h.info(function(){return"TIMEOUT: "+v})}oi.prototype.info=function(){};function im(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return zs(X)}catch{return v}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function sa(){}_(sa,Bc),sa.prototype.g=function(){return new XMLHttpRequest},Pl=new sa;function ls(h){return encodeURIComponent(String(h))}function Gc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function li(h,v,E,A){this.j=h,this.i=v,this.l=E,this.S=A||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Rt={},Ht={};function Mi(h,v,E){h.M=1,h.A=ra(It(v)),h.u=E,h.R=!0,to(h,null)}function to(h,v){h.F=Date.now(),Oi(h),h.B=It(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),ro(E.i,"t",A),h.C=0,E=h.j.L,h.h=new ui,h.g=ah(h.j,E?v:null,!h.u),h.P>0&&(h.O=new fn(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Nl[0]=H.toString()),H=Nl);for(let X=0;X<H.length;X++){const ue=ut(E,H[X],A||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ci(),nm(h.i,h.v,h.B,h.l,h.S,h.u)}li.prototype.ba=function(h){h=h.target;const v=this.O;v&&fi(h)==3?v.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=fi(this.g),Et=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ce!=4||Et==7||(Et==8||He<=0?Ci(3):Ci(2)),Pi(this);var v=this.g.ca();this.X=v;var E=sm(this);if(this.o=v==200,Hc(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var X=A;break t}}X=null}if(h=X)Ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,xt(12),Rn(this),zn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=Kc(this,E),ct==Ht){Ce==4&&(this.m=4,xt(14),h=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,xt(15),Ni(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ni(this.i,this.l,ct,null),Vi(this,ct);if(Yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)Ni(this.i,this.l,E,"[Invalid Chunked Response]"),Rn(this),zn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ql(ue),ue.P=!0,xt(11))}}else Ni(this.i,this.l,E,null),Vi(this,E);Ce==4&&Rn(this),this.o&&!this.K&&(Ce==4?nh(this.j,this):(this.o=!1,Oi(this)))}else cs(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Rn(this),zn(this)}}}catch{}};function sm(h){if(!Yc(h))return h.g.la();const v=Wt(h.g);if(v==="")return"";let E="";const A=v.length,H=fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Rn(h),zn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<A;X++)h.h.h=!0,E+=h.h.i.decode(v[X],{stream:!(H&&X==A-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Kc(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?Ht:(E=Number(v.substring(E,A)),isNaN(E)?Rt:(A+=1,A+E>v.length?Ht:(v=v.slice(A,A+E),h.C=A+E,v)))}li.prototype.cancel=function(){this.K=!0,Rn(this)};function Oi(h){h.T=Date.now()+h.H,no(h,h.H)}function no(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Di(p(h.aa,h),v)}function Pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}li.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(na(this.i,this.B),this.M!=2&&(Ci(),xt(17)),Rn(this),this.m=2,zn(this)):no(this,this.T-h)};function zn(h){h.j.I==0||h.K||nh(h.j,h)}function Rn(h){Pi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Ml(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Vi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Li(E.h,h))){if(!h.L&&Li(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)co(E),Qs(E);else break e;fa(E),xt(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Di(p(E.Va,E),6e3));ki(E.h)<=1&&E.ta&&(E.ta=void 0)}else qi(E,11)}else if((h.L||E.g==h)&&co(E),!D(v))for(H=E.Ba.g.parse(v),v=0;v<H.length;v++){let He=H[v];const ct=He[0];if(!(ct<=E.K))if(E.K=ct,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const Hn=He[3];Hn!=null&&(E.ka=Hn,E.j.info("VER="+E.ka));const Hi=He[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const di=He[5];di!=null&&typeof di=="number"&&di>0&&(A=1.5*di,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const mi=h.g;if(mi){const da=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var X=A.h;X.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ll(X,X.h),X.h=null))}if(A.G){const ho=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(A.wa=ho,$e(A.J,A.G,ho))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ue=h;if(A.na=rh(A,A.L?A.ba:null,A.W),ue.L){Ul(A.h,ue);var Ce=ue,Et=A.O;Et&&(Ce.H=Et),Ce.D&&(Pi(Ce),Oi(Ce)),A.g=ue}else eh(A);E.i.length>0&&Fi(E)}else He[0]!="stop"&&He[0]!="close"||qi(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?qi(E,7):Kl(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}Ci(4)}catch{}}var Ct=class{constructor(h,v){this.g=h,this.map=v}};function Vl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ki(h){return h.h?1:h.g?h.g.size:0}function Li(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ll(h,v){h.g?h.g.add(v):h.h=v}function Ul(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var $c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let H,X=null;A>=0?(H=h[E].substring(0,A),X=h[E].substring(A+1)):H=h[E],v(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Cn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Cn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Fs(this,h.u),this.h=h.h,Bl(this,Jc(h.i)),this.m=h.m):h&&(v=String(h).match($c))?(this.l=!1,Gt(this,v[1]||"",!0),this.o=Ui(v[2]||""),this.g=Ui(v[3]||"",!0),Fs(this,v[4]),this.h=Ui(v[5]||"",!0),Bl(this,v[6]||"",!0),this.m=Ui(v[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}Cn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(aa(v,so,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(aa(v,so,!0),"@"),h.push(ls(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(aa(E,E.charAt(0)=="/"?zl:Qc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",aa(E,Xc)),h.join("")},Cn.prototype.resolve=function(h){const v=It(this);let E=!!h.j;E?Gt(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var A=h.h;if(E)Fs(v,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=v.h.lastIndexOf("/");H!=-1&&(A=v.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ue=0;ue<H.length;){const Ce=H[ue++];Ce=="."?A&&ue==H.length&&X.push(""):Ce==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ue==H.length&&X.push("")):(X.push(Ce),A=!0)}A=X.join("/")}else A=H}return E?v.h=A:E=h.i.toString()!=="",E?Bl(v,Jc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function It(h){return new Cn(h)}function Gt(h,v,E){h.j=E?Ui(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Fs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Bl(h,v,E){v instanceof Hs?(h.i=v,ao(h.i,h.l)):(E||(v=aa(v,qs)),h.i=new Hs(v,h.l))}function $e(h,v,E){h.i.set(v,E)}function ra(h){return $e(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ui(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function aa(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,gn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var so=/[#\/\?@]/g,Qc=/[#\?:]/g,zl=/[#\?]/g,qs=/[#\?@]/g,Xc=/#/g;function Hs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&io(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Hs.prototype,t.add=function(h,v){yn(this),this.i=null,h=Gs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Wc(h,v){yn(h),v=Gs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fl(h,v){return yn(h),v=Gs(h,v),h.g.has(v)}t.forEach=function(h,v){yn(this),this.g.forEach(function(E,A){E.forEach(function(H){h.call(v,H,A,this)},this)},this)};function ql(h,v){yn(h);let E=[];if(typeof v=="string")Fl(h,v)&&(E=E.concat(h.g.get(Gs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return yn(this),this.i=null,h=Gs(this,h),Fl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=ql(this,h),h.length>0?String(h[0]):v):v};function ro(h,v,E){Wc(h,v),E.length>0&&(h.i=null,h.g.set(Gs(h,v),R(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const H=ls(E);E=ql(this,E);for(let X=0;X<E.length;X++){let ue=H;E[X]!==""&&(ue+="="+ls(E[X])),h.push(ue)}}return this.i=h.join("&")};function Jc(h){const v=new Hs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Gs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ao(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(Wc(this,A),ro(this,H,E))},h)),h.j=v}function ci(h,v){const E=new oi;if(c.Image){const A=new Image;A.onload=y(Fn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=y(Fn,E,"TestLoadImage: error",!1,v,A),A.onabort=y(Fn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(Fn,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Hl(h,v){const E=new oi,A=new AbortController,H=setTimeout(()=>{A.abort(),Fn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?Fn(E,"TestPingServer: ok",!0,v):Fn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Fn(E,"TestPingServer: error",!1,v)})}function Fn(h,v,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function Ys(){this.g=new jc}function ji(h){this.i=h.Sb||null,this.h=h.ab||!1}_(ji,Bc),ji.prototype.g=function(){return new oa(this.i,this.h)};function oa(h,v){At.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(oa,At),t=oa.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,hi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ks(this):hi(this),this.readyState==3&&oo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ks(this))},t.Na=function(h){this.g&&(this.response=h,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(h){h.readyState=4,h.l=null,h.j=null,h.B=null,hi(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let v="";return pe(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function la(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=qn(E),typeof h=="string"?E!=null&&ls(E):$e(h,v,E))}function Ze(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,At);var Bi=/^https?$/i,Gl=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){ua(this,X);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Gl,v,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of E)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ua(this,X)}};function ua(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Yl(h),us(h)}function Yl(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,jt(this,"complete"),jt(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},t.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof l<"u"){if(h.v&&fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(jt(h,"readystatechange"),fi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=X===0){let ue=String(h.D).match($c)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),A=!Bi.test(ue?ue.toLowerCase():"")}E=A}if(E)jt(h,"complete"),jt(h,"success");else{h.o=6;try{var H=fi(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Yl(h)}}finally{us(h)}}}}function us(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||jt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),tm(v)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(h){const v={};h=(h.g&&fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(D(h[A]))continue;var E=Gc(h[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[H]||[];v[H]=X,X.push(E)}_e(v,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function $s(h){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,h),this.Za=zi("retryDelaySeedMs",1e4,h),this.Ta=zi("forwardChannelMaxRetries",2,h),this.va=zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(h&&h.concurrentRequestLimit),this.Ba=new Ys,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$s.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,A){xt(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=rh(this,null,this.W),Fi(this)};function Kl(h){if(lo(h),h.I==3){var v=h.V++,E=It(h.J);if($e(E,"SID",h.M),$e(E,"RID",v),$e(E,"TYPE","terminate"),ha(h,E),v=new li(h,h.j,v),v.M=2,v.A=ra(It(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=ah(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Oi(v)}sh(h)}function Qs(h){h.g&&(Ql(h),h.g.cancel(),h.g=null)}function lo(h){Qs(h),h.v&&(c.clearTimeout(h.v),h.v=null),co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Fi(h){if(!kl(h.h)&&!h.m){h.m=!0;var v=h.Ea;ae||x(),le||(ae(),le=!0),C.add(v,h),h.D=0}}function uo(h,v){return ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Di(p(h.Ea,h,v),ih(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new li(this,this.j,h);let X=this.o;if(this.U&&(X?(X=k(X),ce(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Zc(this,H,v),E=It(this.J),$e(E,"RID",h),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),ha(this,E),X&&(this.R?v="headers="+ls(qn(X))+"&"+v:this.u&&la(E,this.u,X)),Ll(this.h,H),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",v),$e(E,"SID","null"),H.U=!0,Mi(H,E,null)):Mi(H,E,v),this.I=2}}else this.I==3&&(h?$l(this,h):this.i.length==0||kl(this.h)||$l(this))};function $l(h,v){var E;v?E=v.l:E=h.V++;const A=It(h.J);$e(A,"SID",h.M),$e(A,"RID",E),$e(A,"AID",h.K),ha(h,A),h.u&&h.o&&la(A,h.u,h.o),E=new li(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Zc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ll(h.h,E),Mi(E,A,v)}function ha(h,v){h.H&&pe(h.H,function(E,A){$e(v,A,E)}),h.l&&pe({},function(E,A){$e(v,A,E)})}function Zc(h,v,E){E=Math.min(h.i.length,E);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ce=-1;for(;;){const Et=["count="+E];Ce==-1?E>0?(Ce=H[0].g,Et.push("ofs="+Ce)):Ce=0:Et.push("ofs="+Ce);let He=!0;for(let ct=0;ct<E;ct++){var X=H[ct].g;const Hn=H[ct].map;if(X-=Ce,X<0)Ce=Math.max(0,H[ct].g-100),He=!1;else try{X="req"+X+"_"||"";try{var ue=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Hi,di]of ue){let mi=di;f(di)&&(mi=zs(di)),Et.push(X+Hi+"="+encodeURIComponent(mi))}}catch(Hi){throw Et.push(X+"type="+encodeURIComponent("_badmap")),Hi}}catch{A&&A(Hn)}}if(He){ue=Et.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),v.G=h,ue}function eh(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ae||x(),le||(ae(),le=!0),C.add(v,h),h.A=0}}function fa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Di(p(h.Da,h),ih(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,th(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Di(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Qs(this),th(this))};function Ql(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function th(h){h.g=new li(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=It(h.na);$e(v,"RID","rpc"),$e(v,"SID",h.M),$e(v,"AID",h.K),$e(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&$e(v,"TO",h.ia),$e(v,"TYPE","xmlhttp"),ha(h,v),h.u&&h.o&&la(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ra(It(v)),E.u=null,E.R=!0,to(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Qs(this),fa(this),xt(19))};function co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function nh(h,v){var E=null;if(h.g==v){co(h),Ql(h),h.g=null;var A=2}else if(Li(h.h,v))E=v.G,Ul(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;A=eo(),jt(A,new Ii(A,E)),Fi(h)}else eh(h);else if(H=v.m,H==3||H==0&&v.X>0||!(A==1&&uo(h,v)||A==2&&fa(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),H){case 1:qi(h,5);break;case 4:qi(h,10);break;case 3:qi(h,6);break;default:qi(h,2)}}}function ih(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function qi(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),A=h.Ua;const H=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gt(A,"https"),ra(A),H?ci(A.toString(),E):Hl(A.toString(),E)}else xt(2);h.I=0,h.l&&h.l.pa(v),sh(h),lo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function sh(h){if(h.I=0,h.ja=[],h.l){const v=jl(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ja,v),N(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function rh(h,v,E){var A=E instanceof Cn?It(E):new Cn(E);if(A.g!="")v&&(A.g=v+"."+A.g),Fs(A,A.u);else{var H=c.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const X=new Cn(null);A&&Gt(X,A),v&&(X.g=v),H&&Fs(X,H),E&&(X.h=E),A=X}return E=h.G,v=h.wa,E&&v&&$e(A,E,v),$e(A,"VER",h.ka),ha(h,A),A}function ah(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new ji({ab:E})):new Ze(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}t=oh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xs(){}Xs.prototype.g=function(h,v){return new dn(h,v)};function dn(h,v){At.call(this),this.g=new $s(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new hs(this)}_(dn,At),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Kl(this.g)},dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=zs(h),h=E);v.i.push(new Ct(v.Ya++,h)),v.I==3&&Fi(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,dn.Z.N.call(this)};function lh(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(lh,Xt);function uh(){Bn.call(this),this.status=1}_(uh,Bn);function hs(h){this.g=h}_(hs,oh),hs.prototype.ra=function(){jt(this.g,"a")},hs.prototype.qa=function(h){jt(this.g,new lh(h))},hs.prototype.pa=function(h){jt(this.g,new uh)},hs.prototype.oa=function(){jt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,AA=function(){return new Xs},SA=function(){return eo()},wA=Tt,$g={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Mf=ia,Ol.COMPLETE="complete",bA=Ol,zc.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",At.prototype.listen=At.prototype.J,Bu=zc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,EA=Ze}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore",Ob="4.9.3";let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let El="12.7.0";const qa=new Yy("@firebase/firestore");function Ho(){return qa.logLevel}function de(t,...e){if(qa.logLevel<=ke.DEBUG){const n=e.map(iv);qa.debug(`Firestore (${El}): ${t}`,...n)}}function Vs(t,...e){if(qa.logLevel<=ke.ERROR){const n=e.map(iv);qa.error(`Firestore (${El}): ${t}`,...n)}}function Ha(t,...e){if(qa.logLevel<=ke.WARN){const n=e.map(iv);qa.warn(`Firestore (${El}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,xA(t,s,n)}function xA(t,e,n){let s=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vs(s),new Error(s)}function Ke(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||xA(e,a,s)}function Re(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class RA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class uV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cV{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ds,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new RA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class hV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new hV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Id{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=mV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function Qg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return mg(a)===mg(l)?Le(a,l):mg(a)?1:-1}return Le(t.length,e.length)}const pV=55296,gV=57343;function mg(t){const e=t.charCodeAt(0);return e>=pV&&e<=gV}function ol(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Vb="__name__";class Qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const s=Qi.isNumericId(e),a=Qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):Qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class rt extends Qi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const yV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Qi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return yV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vb}static keyField(){return new $t([Vb])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function IA(t,e,n){if(!n)throw new he(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DA(t,e,n,s){if(e===!0&&s===!0)throw new he(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kb(t){if(!ye.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lb(t){if(ye.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dd(t);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sc(t,e){if(!NA(t))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ie.INVALID_ARGUMENT,n);return!0}const Ub=-62135596800,jb=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jb);return new Je(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ub)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jb}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ub;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Lt("string",Je._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Je(0,0))}static max(){return new Ae(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ac=-1;function vV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new Je(n+1,0):new Je(n,s));return new Lr(a,ye.empty(),e)}function _V(t){return new Lr(t.readTime,t.key,ac)}class Lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Ae.min(),ye.empty(),ac)}static max(){return new Lr(Ae.max(),ye.empty(),ac)}}function TV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}const EV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==EV)throw t;de("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function wV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;const sv=-1;function Md(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function SV(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const MA="";function AV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bb(e)),e=xV(t.get(n),e);return Bb(e)}function xV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case MA:n+="";break;default:n+=l}}return n}function Bb(t){return t+MA+""}function zb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new rn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ft($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PA("Invalid base64 string: "+l):l}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const RV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=RV.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jr(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}const VA="server_timestamp",kA="__type__",LA="__previous_value__",UA="__local_write_time__";function rv(t){return(t?.mapValue?.fields||{})[kA]?.stringValue===VA}function Od(t){const e=t.mapValue.fields[LA];return rv(e)?Od(e):e}function oc(t){const e=Ur(t.mapValue.fields[UA].timestampValue);return new Je(e.seconds,e.nanos)}class CV{constructor(e,n,s,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Jf="(default)";class ll{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new ll("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}const jA="__type__",IV="__max__",vf={mapValue:{}},BA="__vector__",Zf="value";function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rv(t)?4:NV(t)?9007199254740991:DV(t)?10:11:be(28295,{value:t})}function is(t,e){if(t===e)return!0;const n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oc(t).isEqual(oc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ur(a.timestampValue),f=Ur(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return jr(a.bytesValue).isEqual(jr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),f=St(l.doubleValue);return c===f?Wf(c)===Wf(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return ol(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(zb(c)!==zb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!is(c[m],f[m])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function lc(t,e){return(t.values||[]).find((n=>is(n,e)))!==void 0}function ul(t,e){if(t===e)return 0;const n=Br(t),s=Br(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=St(l.integerValue||l.doubleValue),m=St(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(oc(t),oc(e));case 5:return Qg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=jr(l),m=jr(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Le(f[p],m[p]);if(y!==0)return y}return Le(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Le(St(l.latitude),St(c.latitude));return f!==0?f:Le(St(l.longitude),St(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Hb(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[Zf]?.arrayValue,y=m[Zf]?.arrayValue,_=Le(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Hb(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===vf.mapValue&&c===vf.mapValue)return 0;if(l===vf.mapValue)return 1;if(c===vf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Qg(m[_],y[_]);if(b!==0)return b;const R=ul(f[m[_]],p[y[_]]);if(R!==0)return R}return Le(m.length,y.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ur(t),s=Ur(e),a=Le(n.seconds,s.seconds);return a!==0?a:Le(n.nanos,s.nanos)}function Hb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=ul(n[a],s[a]);if(l)return l}return Le(n.length,s.length)}function cl(t){return Xg(t)}function Xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return jr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Xg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Xg(n.fields[c])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Of(t){switch(Br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Od(t);return e?16+Of(e):16;case 5:return 2*t.stringValue.length;case 6:return jr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Of(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return $r(s.fields,((l,c)=>{a+=l.length+Of(c)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function Gb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wg(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function Yb(t){return!!t&&"nullValue"in t}function Kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function DV(t){return(t?.mapValue?.fields||{})[jA]?.stringValue===BA}function Ku(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ku(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ku(t.arrayValue.values[n]);return e}return{...t}}function NV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IV}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(n)}setAll(e){let n=$t.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Ku(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){$r(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Sn(Ku(this.value))}}function zA(t){const e=[];return $r(t.fields,((n,s)=>{const a=new $t([n]);if(Pf(s)){const l=zA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Un(e)}class un{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new un(e,0,Ae.min(),Ae.min(),Ae.min(),Sn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,Ae.min(),Ae.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ae.min(),Ae.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(e,n){this.position=e,this.inclusive=n}}function $b(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=ul(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function MV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FA{}class kt extends FA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new PV(e,n,s):n==="array-contains"?new LV(e,s):n==="in"?new UV(e,s):n==="not-in"?new jV(e,s):n==="array-contains-any"?new BV(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new VV(e,s):new kV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends FA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xi(e,n)}matches(e){return qA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qA(t){return t.op==="and"}function HA(t){return OV(t)&&qA(t)}function OV(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function Jg(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+cl(t.value);if(HA(t))return t.filters.map((e=>Jg(e))).join(",");{const e=t.filters.map((n=>Jg(n))).join(",");return`${t.op}(${e})`}}function GA(t,e){return t instanceof kt?(function(s,a){return a instanceof kt&&s.op===a.op&&s.field.isEqual(a.field)&&is(s.value,a.value)})(t,e):t instanceof xi?(function(s,a){return a instanceof xi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&GA(c,a.filters[f])),!0):!1})(t,e):void be(19439)}function YA(t){return t instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`})(t):t instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(YA).join(" ,")+"}"})(t):"Filter"}class PV extends kt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class VV extends kt{constructor(e,n){super(e,"in",n),this.keys=KA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kV extends kt{constructor(e,n){super(e,"not-in",n),this.keys=KA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function KA(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class LV extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&lc(n.arrayValue,this.value)}}class UV extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class jV extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}}class BV extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>lc(this.value.arrayValue,s)))}}class zV{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Xb(t,e=null,n=[],s=[],a=null,l=null,c=null){return new zV(t,e,n,s,a,l,c)}function ov(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>cl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>cl(s))).join(",")),e.Te=n}return e.Te}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function Zg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ac{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FV(t,e,n,s,a,l,c,f){return new Ac(t,e,n,s,a,l,c,f)}function Pd(t){return new Ac(t)}function Wb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $A(t){return t.collectionGroup!==null}function $u(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ft($t.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new td(l,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new td($t.keyField(),s))}return e.Ie}function Zi(t){const e=Re(t);return e.Ee||(e.Ee=qV(e,$u(t))),e.Ee}function qV(t,e){if(t.limitType==="F")return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new td(a.field,l)}));const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ey(t,e){const n=t.filters.concat([e]);return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ty(t,e,n){return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return lv(Zi(t),Zi(e))&&t.limitType===e.limitType}function QA(t){return`${ov(Zi(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>YA(a))).join(", ")}]`),Md(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>cl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>cl(a))).join(",")),`Target(${s})`})(Zi(t))}; limitType=${t.limitType})`}function kd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of $u(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=$b(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,$u(s),a)||s.endAt&&!(function(c,f,m){const p=$b(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,$u(s),a))})(t,e)}function HV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XA(t){return(e,n)=>{let s=!1;for(const a of $u(t)){const l=GV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function GV(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?ul(m,p):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return OA(this.inner)}size(){return this.innerSize}}const YV=new gt(ye.comparator);function ks(){return YV}const WA=new gt(ye.comparator);function zu(...t){let e=WA;for(const n of t)e=e.insert(n.key,n);return e}function JA(t){let e=WA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Pa(){return Qu()}function ZA(){return Qu()}function Qu(){return new Qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const KV=new gt(ye.comparator),$V=new Ft(ye.comparator);function Ue(...t){let e=$V;for(const n of t)e=e.add(n);return e}const QV=new Ft(Le);function XV(){return QV}function uv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function ex(t){return{integerValue:""+t}}function WV(t,e){return SV(e)?ex(e):uv(t,e)}class Ld{constructor(){this._=void 0}}function JV(t,e,n){return t instanceof nd?(function(a,l){const c={fields:{[kA]:{stringValue:VA},[UA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&rv(l)&&(l=Od(l)),l&&(c.fields[LA]=l),{mapValue:c}})(n,e):t instanceof uc?nx(t,e):t instanceof cc?ix(t,e):(function(a,l){const c=tx(a,l),f=Jb(c)+Jb(a.Ae);return Wg(c)&&Wg(a.Ae)?ex(f):uv(a.serializer,f)})(t,e)}function ZV(t,e,n){return t instanceof uc?nx(t,e):t instanceof cc?ix(t,e):n}function tx(t,e){return t instanceof id?(function(s){return Wg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class nd extends Ld{}class uc extends Ld{constructor(e){super(),this.elements=e}}function nx(t,e){const n=sx(e);for(const s of t.elements)n.some((a=>is(a,s)))||n.push(s);return{arrayValue:{values:n}}}class cc extends Ld{constructor(e){super(),this.elements=e}}function ix(t,e){let n=sx(e);for(const s of t.elements)n=n.filter((a=>!is(a,s)));return{arrayValue:{values:n}}}class id extends Ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Jb(t){return St(t.integerValue||t.doubleValue)}function sx(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ek(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof uc&&a instanceof uc||s instanceof cc&&a instanceof cc?ol(s.elements,a.elements,is):s instanceof id&&a instanceof id?is(s.Ae,a.Ae):s instanceof nd&&a instanceof nd})(t.transform,e.transform)}class tk{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function rx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ox(t.key,bi.none()):new xc(t.key,t.data,bi.none());{const n=t.data,s=Sn.empty();let a=new Ft($t.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Qr(t.key,s,new Un(a.toArray()),bi.none())}}function nk(t,e,n){t instanceof xc?(function(a,l,c){const f=a.value.clone(),m=e1(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Qr?(function(a,l,c){if(!Vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=e1(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(ax(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Xu(t,e,n,s){return t instanceof xc?(function(l,c,f,m){if(!Vf(l.precondition,c))return f;const p=l.value.clone(),y=t1(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Qr?(function(l,c,f,m){if(!Vf(l.precondition,c))return f;const p=t1(l.fieldTransforms,m,c),y=c.data;return y.setAll(ax(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,f){return Vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function ik(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=tx(s.transform,a||null);l!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,l))}return n||null}function Zb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ol(s,a,((l,c)=>ek(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends Ud{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qr extends Ud{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ax(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function e1(t,e,n){const s=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,ZV(c,f,n[a]))}return s}function t1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,JV(l,c,e))}return s}class ox extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sk extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rk{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&nk(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ZA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=rx(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((n,s)=>Zb(n,s)))&&ol(this.baseMutations,e.baseMutations,((n,s)=>Zb(n,s)))}}class cv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return KV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new cv(e,n,s,a)}}class ak{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ok{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,ze;function lk(t){switch(t){case ie.OK:return be(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function lx(t){if(t===void 0)return Vs("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return be(39323,{code:t})}}(ze=Pt||(Pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function uk(){return new TextEncoder}const ck=new Nr([4294967295,4294967295],0);function n1(t){const e=uk().encode(t),n=new TA;return n.update(e),new Uint8Array(n.digest())}function i1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Nr([n,s],0),new Nr([a,l],0)]}class hv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(s<0)throw new Fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Nr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Nr.fromNumber(s)));return a.compare(ck)===1&&(a=new Nr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n1(e),[s,a]=i1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hv(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=n1(e),[s,a]=i1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jd(Ae.min(),a,new gt(Le),ks(),Ue())}}class Rc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rc(s,n,Ue(),Ue(),Ue())}}class kf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class ux{constructor(e,n){this.targetId=e,this.Ce=n}}class cx{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class s1{constructor(){this.ve=0,this.Fe=r1(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be(38017,{changeType:l})}})),new Rc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=r1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hk{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=_f(),this.He=_f(),this.Ye=new gt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Zg(l))if(s===0){const c=new ye(l.path);this.et(n,c,un.newNoDocument(c,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=jr(s).toUint8Array()}catch(m){if(m instanceof PA)return Ha("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new hv(c,a,l)}catch(m){return Ha(m instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Zg(f.target)){const m=new ye(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,un.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Ue();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new jd(e,n,this.Ye,this.je,s);return this.je=ks(),this.Je=_f(),this.He=_f(),this.Ye=new gt(Le),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new s1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _f(){return new gt(ye.comparator)}function r1(){return new gt(ye.comparator)}const fk={asc:"ASCENDING",desc:"DESCENDING"},dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"};class pk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ny(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gk(t,e){return sd(t,e.toTimestamp())}function es(t){return Ke(!!t,49232),Ae.fromTimestamp((function(n){const s=Ur(n);return new Je(s.seconds,s.nanos)})(t))}function fv(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function fx(t){const e=rt.fromString(t);return Ke(yx(e),10190,{key:e.toString()}),e}function sy(t,e){return fv(t.databaseId,e.path)}function pg(t,e){const n=fx(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(mx(n))}function dx(t,e){return fv(t.databaseId,e)}function yk(t){const e=fx(t);return e.length===4?rt.emptyPath():mx(e)}function ry(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mx(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function a1(t,e,n){return{name:sy(t,e),fields:n.value.mapValue.fields}}function vk(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ke(y===void 0||typeof y=="string",58123),Qt.fromBase64String(y||"")):(Ke(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?ie.UNKNOWN:lx(p.code);return new he(y,p.message||"")})(c);n=new cx(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=pg(t,s.document.name),l=es(s.document.updateTime),c=s.document.createTime?es(s.document.createTime):Ae.min(),f=new Sn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new kf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=pg(t,s.document),l=s.readTime?es(s.readTime):Ae.min(),c=un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new kf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=pg(t,s.document),l=s.removedTargetIds||[];n=new kf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new ok(a,l),f=s.targetId;n=new ux(f,c)}}return n}function _k(t,e){let n;if(e instanceof xc)n={update:a1(t,e.key,e.value)};else if(e instanceof ox)n={delete:sy(t,e.key)};else if(e instanceof Qr)n={update:a1(t,e.key,e.data),updateMask:Ck(e.fieldMask)};else{if(!(e instanceof sk))return be(16599,{Vt:e.type});n={verify:sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof nd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof id)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw be(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:gk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function Tk(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?es(a.updateTime):es(l);return c.isEqual(Ae.min())&&(c=es(l)),new tk(c,a.transformResults||[])})(n,e)))):[]}function Ek(t,e){return{documents:[dx(t,e.path)]}}function bk(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dx(t,a);const l=(function(p){if(p.length!==0)return gx(xi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:Yo(b.field),direction:Ak(b.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ny(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function wk(t){let e=yk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ke(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const b=px(_);return b instanceof xi&&HA(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(N){return new td(Ko(N.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,Md(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,R=_.values||[];return new ed(R,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,R=_.values||[];return new ed(R,b)})(n.endAt)),FV(e,a,c,l,f,"F",m,p)}function Sk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function px(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ko(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ko(n.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(n.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(n.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return kt.create(Ko(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((s=>px(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function Ak(t){return fk[t]}function xk(t){return dk[t]}function Rk(t){return mk[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Ko(t){return $t.fromServerFormat(t.fieldPath)}function gx(t){return t instanceof kt?(function(n){if(n.op==="=="){if(Kb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(Yb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(Yb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:xk(n.op),value:n.value}}})(t):t instanceof xi?(function(n){const s=n.getFilters().map((a=>gx(a)));return s.length===1?s[0]:{compositeFilter:{op:Rk(n.op),filters:s}}})(t):be(54877,{filter:t})}function Ck(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class xr{constructor(e,n,s,a,l=Ae.min(),c=Ae.min(),f=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ik{constructor(e){this.yt=e}}function Dk(t){const e=wk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ty(e,e.limit,"L"):e}class Nk{constructor(){this.Cn=new Mk}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Lr.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Mk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ft(rt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ft(rt.comparator)).toArray()}}const o1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vx=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(vx,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}const l1="LruGarbageCollector",Ok=1048576;function u1([t,e],[n,s]){const a=Le(t,n);return a===0?Le(e,s):a}class Pk{constructor(e){this.Ir=e,this.buffer=new Ft(u1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();u1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(l1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?de(l1,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Vr(3e5)}))}}class kk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Nd.ce);const s=new Pk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(o1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Ho()<=ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function Lk(t,e){return new kk(t,e)}class Uk{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Bk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Xu(s.mutation,a,Un.empty(),Je.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const a=Pa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=zu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Pa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=ks();const c=Qu(),f=(function(){return Qu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Qr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Xu(y.mutation,p,y.mutation.getFieldMask(),Je.now())):c.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new jk(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Qu();let a=new gt(((c,f)=>c-f)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Un.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||Ue()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=ZA();y.forEach((b=>{if(!l.has(b)){const R=rx(n.get(b),s.get(b));R!==null&&_.set(b,R),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$A(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(Pa());let f=ac,m=l;return c.next((p=>re.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ue()))).next((y=>({batchId:f,changes:JA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const p=(function(_,b){return new Ac(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let f=zu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Xu(y.mutation,p,Un.empty(),Je.now()),kd(n,p)&&(f=f.insert(m,p))})),f}))}}class zk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:es(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Dk(a.bundledQuery),readTime:es(a.readTime)}})(n)),re.resolve()}}class Fk{constructor(){this.overlays=new gt(ye.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pa();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=Pa(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new gt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Pa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return re.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ak(n,s));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class qk{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class dv{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new Kt(n,e),a=new Kt(n,e+1);let l=Ue();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class Hk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rk(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?sv:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Le);return n.forEach((a=>{const l=new Kt(a,0),c=new Kt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new ye(l),0);let f=new Ft(Le);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),re.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Kt(n,0),a=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Gk{constructor(e){this.ri=e,this.docs=(function(){return new gt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=ks();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||TV(_V(y),s)<=0||(a.has(y.key)||kd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){be(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Yk(this)}getSize(e){return re.resolve(this.size)}}class Yk extends Uk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Kk{constructor(e){this.persistence=e,this.si=new Qa((n=>ov(n)),lv),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new dv,this.targetCount=0,this.ai=hl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class _x{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nd(0),this.li=!1,this.li=!0,this.hi=new qk,this.referenceDelegate=e(this),this.Pi=new Kk(this),this.indexManager=new Nk,this.remoteDocumentCache=(function(a){return new Gk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Ik(n),this.Ii=new zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Hk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new $k(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class $k extends bV{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.Ri=new dv,this.Vi=null}static mi(e){return new mv(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rd{constructor(e,n){this.persistence=e,this.pi=new Qa((s=>AV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Lk(this,n)}static mi(e,n){return new rd(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Of(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new pv(e,n.fromCache,s,a)}}class Qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Xk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DN()?8:wV(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Qk;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ho()<=ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ho()<=ke.DEBUG&&de("QueryEngine","Query:",Go(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ho()<=ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):re.resolve())}ys(e,n){if(Wb(n))return re.resolve(null);let s=Zi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ty(n,null,"F"),s=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,ty(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return Wb(n)||a.isEqual(Ae.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?re.resolve(null):(Ho()<=ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.vs(e,c,n,vV(a,ac)).next((f=>f)))}))}Ds(e,n){let s=new Ft(XA(e));return n.forEach(((a,l)=>{kd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Ho()<=ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ps.getDocumentsMatchingQuery(e,n,Lr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const gv="LocalStore",Wk=3e8;class Jk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new gt(Le),this.xs=new Qa((l=>ov(l)),lv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Zk(t,e,n,s){return new Jk(t,e,n,s)}async function Tx(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=Ue();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function e4(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,b=_.keys();let R=re.resolve();return b.forEach((N=>{R=R.next((()=>y.getEntry(m,N))).next((B=>{const O=p.docVersions.get(N);Ke(O!==null,48541),B.version.compareTo(O)<0&&(_.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Ue();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Ex(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function t4(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(_,R),(function(B,O,z){return B.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Wk?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(b,R,y)&&f.push(n.Pi.updateTargetData(l,R))}));let m=ks(),p=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(n4(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Ae.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function n4(t,e,n){let s=Ue(),a=Ue();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=ks();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):de(gv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function i4(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function s4(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new xr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ay(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!wl(c))throw c;de(gv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function c1(t,e,n){const s=Re(t);let a=Ae.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Re(m),b=_.xs.get(y);return b!==void 0?re.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,y)})(s,c,Zi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:Ue()))).next((f=>(r4(s,HV(e),f),{documents:f,Qs:l})))))}function r4(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class h1{constructor(){this.activeTargetIds=XV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a4{constructor(){this.Mo=new h1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o4{Oo(e){}shutdown(){}}const f1="ConnectivityMonitor";class d1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(f1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(f1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tf=null;function oy(){return Tf===null?Tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tf++,"0x"+Tf.toString(16)}const gg="RestConnection",l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=oy(),f=this.zo(e,n.toUriEncodedString());de(gg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Ya(p);return this.Jo(e,f,m,s,y).then((_=>(de(gg,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Ha(gg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=l4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class c4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class h4 extends u4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=oy();return new Promise(((f,m)=>{const p=new EA;p.setWithCredentials(!0),p.listenOnce(bA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const _=p.getResponseJson();de(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Mf.TIMEOUT:de(on,`RPC '${e}' ${c} timed out`),m(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const b=p.getStatus();if(de(on,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R?.error;if(N&&N.status&&N.message){const B=(function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN})(N.status);m(new he(B,N.message))}else m(new he(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(ie.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(on,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);de(on,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=oy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=AA(),f=SA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");de(on,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,R=!1;const N=new c4({Yo:O=>{R?de(on,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(b||(de(on,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),de(on,`RPC '${e}' stream ${a} sending:`,O),_.send(O))},Zo:()=>_.close()}),B=(O,z,$)=>{O.listen(z,(G=>{try{$(G)}catch(se){setTimeout((()=>{throw se}),0)}}))};return B(_,Bu.EventType.OPEN,(()=>{R||(de(on,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),B(_,Bu.EventType.CLOSE,(()=>{R||(R=!0,de(on,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(_))})),B(_,Bu.EventType.ERROR,(O=>{R||(R=!0,Ha(on,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),N.a_(new he(ie.UNAVAILABLE,"The operation could not be completed")))})),B(_,Bu.EventType.MESSAGE,(O=>{if(!R){const z=O.data[0];Ke(!!z,16349);const $=z,G=$?.error||$[0]?.error;if(G){de(on,`RPC '${e}' stream ${a} received error:`,G);const se=G.status;let ae=(function(x){const I=Pt[x];if(I!==void 0)return lx(I)})(se),le=G.message;ae===void 0&&(ae=ie.INTERNAL,le="Unknown error status: "+se+" with message "+G.message),R=!0,N.a_(new he(ae,le)),_.close()}else de(on,`RPC '${e}' stream ${a} received:`,z),N.u_(z)}})),B(f,wA.STAT_EVENT,(O=>{O.stat===$g.PROXY?de(on,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===$g.NOPROXY&&de(on,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function yg(){return typeof document<"u"?document:null}function Bd(t){return new pk(t,!0)}class bx{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const m1="PersistentStream";class wx{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(m1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(m1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f4 extends wx{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?es(c.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ry(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Zg(m)?{documents:Ek(l,m)}:{query:bk(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=hx(l,c.resumeToken);const p=ny(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=sd(l,c.snapshotVersion.toTimestamp());const p=ny(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=Sk(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ry(this.serializer),n.removeTarget=e,this.q_(n)}}class d4 extends wx{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Tk(e.writeResults,e.commitTime),s=es(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ry(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>_k(this.serializer,s)))};this.q_(n)}}class m4{}class p4 extends m4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,iy(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ie.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,iy(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class y4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Xa(this)&&(de(Ga,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await Cc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Ra=new g4(s,a)}}async function zd(t){if(Xa(t))for(const e of t.da)await e(!0)}async function Cc(t){for(const e of t.da)await e(!1)}function Sx(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tv(n)?_v(n):Sl(n).O_()&&vv(n,e))}function yv(t,e){const n=Re(t),s=Sl(n);n.Ia.delete(e),s.O_()&&Ax(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xa(n)&&n.Ra.set("Unknown"))}function vv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sl(t).Y_(e)}function Ax(t,e){t.Va.Ue(e),Sl(t).Z_(e)}function _v(t){t.Va=new hk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sl(t).start(),t.Ra.ua()}function Tv(t){return Xa(t)&&!Sl(t).x_()&&t.Ia.size>0}function Xa(t){return Re(t).Ea.size===0}function xx(t){t.Va=void 0}async function v4(t){t.Ra.set("Online")}async function _4(t){t.Ia.forEach(((e,n)=>{vv(t,e)}))}async function T4(t,e){xx(t),Tv(t)?(t.Ra.ha(e),_v(t)):t.Ra.set("Unknown")}async function E4(t,e,n){if(t.Ra.set("Online"),e instanceof cx&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){de(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ad(t,s)}else if(e instanceof kf?t.Va.Ze(e):e instanceof ux?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Ex(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),Ax(l,m);const _=new xr(y.target,m,p,y.sequenceNumber);vv(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){de(Ga,"Failed to raise snapshot:",s),await ad(t,s)}}async function ad(t,e,n){if(!wl(e))throw e;t.Ea.add(1),await Cc(t),t.Ra.set("Offline"),n||(n=()=>Ex(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Ga,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zd(t)}))}function Rx(t,e){return e().catch((n=>ad(t,n,e)))}async function Fd(t){const e=Re(t),n=zr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sv;for(;b4(e);)try{const a=await i4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,w4(e,a)}catch(a){await ad(e,a)}Cx(e)&&Ix(e)}function b4(t){return Xa(t)&&t.Ta.length<10}function w4(t,e){t.Ta.push(e);const n=zr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Cx(t){return Xa(t)&&!zr(t).x_()&&t.Ta.length>0}function Ix(t){zr(t).start()}async function S4(t){zr(t).ra()}async function A4(t){const e=zr(t);for(const n of t.Ta)e.ea(n.mutations)}async function x4(t,e,n){const s=t.Ta.shift(),a=cv.from(s,e,n);await Rx(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Fd(t)}async function R4(t,e){e&&zr(t).X_&&await(async function(s,a){if((function(c){return lk(c)&&c!==ie.ABORTED})(a.code)){const l=s.Ta.shift();zr(s).B_(),await Rx(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Fd(s)}})(t,e),Cx(t)&&Ix(t)}async function p1(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),de(Ga,"RemoteStore received new credentials");const s=Xa(n);n.Ea.add(3),await Cc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function C4(t,e){const n=Re(t);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await Cc(n),n.Ra.set("Unknown"))}function Sl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new f4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:v4.bind(null,t),t_:_4.bind(null,t),r_:T4.bind(null,t),H_:E4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Tv(t)?_v(t):t.Ra.set("Unknown")):(await t.ma.stop(),xx(t))}))),t.ma}function zr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new d4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:S4.bind(null,t),r_:R4.bind(null,t),ta:A4.bind(null,t),na:x4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Fd(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Ga,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Ev{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new Ev(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),wl(t))return new he(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=zu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new sl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class g1{constructor(){this.ga=new gt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class fl{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new fl(e,n,sl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class I4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class D4{constructor(){this.queries=y1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=y1(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function y1(){return new Qa((t=>QA(t)),Vd)}async function wv(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new I4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=bv(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Av(n)}async function Sv(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function N4(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&Av(n)}function M4(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Av(t){t.Ca.forEach((e=>{e.next()}))}var ly,v1;(v1=ly||(ly={})).Ma="default",v1.Cache="cache";class xv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new fl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ly.Cache}}class Dx{constructor(e){this.key=e}}class Nx{constructor(e){this.key=e}}class O4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=XA(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new g1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const b=a.get(y),R=kd(this.query,_)?_:null,N=!!b&&this.mutatedKeys.has(b.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let O=!1;b&&R?b.data.isEqual(R.data)?N!==B&&(s.track({type:3,doc:R}),O=!0):this.su(b,R)||(s.track({type:2,doc:R}),O=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(f=!0)):!b&&R?(s.track({type:0,doc:R}),O=!0):b&&!R&&(s.track({type:1,doc:b}),O=!0,(m||p)&&(f=!0)),O&&(R?(c=c.add(R),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(R,N){const B=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:O})}};return B(R)-B(N)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new fl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Nx(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Dx(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rv="SyncEngine";class P4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class V4{constructor(e){this.key=e,this.hu=!1}}class k4{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qa((f=>QA(f)),Vd),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ye.comparator),this.Au=new Map,this.Ru=new dv,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L4(t,e,n=!0){const s=Lx(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Mx(s,e,n,!0),a}async function U4(t,e){const n=Lx(t);await Mx(n,e,!0,!1)}async function Mx(t,e,n,s){const a=await s4(t.localStore,Zi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await j4(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Sx(t.remoteStore,a),f}async function j4(t,e,n,s,a){t.pu=(_,b,R)=>(async function(B,O,z,$){let G=O.view.ru(z);G.Cs&&(G=await c1(B.localStore,O.query,!1).then((({documents:C})=>O.view.ru(C,G))));const se=$&&$.targetChanges.get(O.targetId),ae=$&&$.targetMismatches.get(O.targetId)!=null,le=O.view.applyChanges(G,B.isPrimaryClient,se,ae);return T1(B,O.targetId,le.au),le.snapshot})(t,_,b,R);const l=await c1(t.localStore,e,!0),c=new O4(e,l.Qs),f=c.ru(l.documents),m=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);T1(t,n,p.au);const y=new P4(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function B4(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ay(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&yv(s.remoteStore,a.targetId),uy(s,a.targetId)})).catch(bl)):(uy(s,a.targetId),await ay(s.localStore,a.targetId,!0))}async function z4(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),yv(n.remoteStore,s.targetId))}async function F4(t,e,n){const s=Q4(t);try{const a=await(function(c,f){const m=Re(c),p=Je.now(),y=f.reduce(((R,N)=>R.add(N.key)),Ue());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let N=ks(),B=Ue();return m.Ns.getEntries(R,y).next((O=>{N=O,N.forEach(((z,$)=>{$.isValidDocument()||(B=B.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,N))).next((O=>{_=O;const z=[];for(const $ of f){const G=ik($,_.get($.key).overlayedDocument);G!=null&&z.push(new Qr($.key,G,zA(G.value.mapValue),bi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,z,f)})).next((O=>{b=O;const z=O.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(R,O.batchId,z)}))})).then((()=>({batchId:b.batchId,changes:JA(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new gt(Le)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Ic(s,a.changes),await Fd(s.remoteStore)}catch(a){const l=bv(a,"Failed to persist write");n.reject(l)}}async function Ox(t,e){const n=Re(t);try{const s=await t4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ke(c.hu,14607):a.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await Ic(n,s,e)}catch(s){await bl(s)}}function _1(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(f)&&(p=!0)})),p&&Av(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function q4(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new gt(ye.comparator);c=c.insert(l,un.newNoDocument(l,Ae.min()));const f=Ue().add(l),m=new jd(Ae.min(),new Map,new gt(Le),c,f);await Ox(s,m),s.du=s.du.remove(l),s.Au.delete(e),Cv(s)}else await ay(s.localStore,e,!1).then((()=>uy(s,e,n))).catch(bl)}async function H4(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await e4(n.localStore,e);Vx(n,s,null),Px(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ic(n,a)}catch(a){await bl(a)}}async function G4(t,e,n){const s=Re(t);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Ke(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);Vx(s,e,n),Px(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ic(s,a)}catch(a){await bl(a)}}function Px(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Vx(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||kx(t,s)}))}function kx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cv(t))}function T1(t,e,n){for(const s of n)s instanceof Dx?(t.Ru.addReference(s.key,e),Y4(t,s)):s instanceof Nx?(de(Rv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||kx(t,s.key)):be(19791,{wu:s})}function Y4(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(de(Rv,"New document in limbo: "+n),t.Eu.add(s),Cv(t))}function Cv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(rt.fromString(e)),s=t.fu.next();t.Au.set(s,new V4(n)),t.du=t.du.insert(n,s),Sx(t.remoteStore,new xr(Zi(Pd(n.path)),s,"TargetPurposeLimboResolution",Nd.ce))}}async function Ic(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=pv.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(p,(b=>re.forEach(b.Es,(R=>y.persistence.referenceDelegate.addReference(_,b.targetId,R))).next((()=>re.forEach(b.ds,(R=>y.persistence.referenceDelegate.removeReference(_,b.targetId,R)))))))))}catch(_){if(!wl(_))throw _;de(gv,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const R=y.Ms.get(b),N=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(N);y.Ms=y.Ms.insert(b,B)}}})(s.localStore,l))}async function K4(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){de(Rv,"User change. New user:",e.toKey());const s=await Tx(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new he(ie.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ic(n,s.Ls)}}function $4(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Lx(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q4.bind(null,e),e.Pu.H_=N4.bind(null,e.eventManager),e.Pu.yu=M4.bind(null,e.eventManager),e}function Q4(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G4.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Zk(this.persistence,new Xk,e.initialUser,this.serializer)}Cu(e){return new _x(mv.mi,this.serializer)}Du(e){return new a4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class X4 extends od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof rd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Vk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new _x((s=>rd.mi(s,n)),this.serializer)}}class cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await C4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new D4})()}createDatastore(e){const n=Bd(e.databaseInfo.databaseId),s=(function(l){return new h4(l)})(e.databaseInfo);return(function(l,c,f,m){return new p4(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new y4(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>_1(this.syncEngine,n,0)),(function(){return d1.v()?new d1:new o4})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,y){const _=new k4(a,l,c,f,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);de(Ga,"RemoteStore shutting down."),s.Ea.add(5),await Cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cy.provider={build:()=>new cy};class Iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Fr="FirestoreClient";class W4{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=Id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{de(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(de(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=bv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vg(t,e){t.asyncQueue.verifyOperationInProgress(),de(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Tx(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function E1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await J4(t);de(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>p1(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>p1(e.remoteStore,a))),t._onlineComponents=e}async function J4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Fr,"Using user provided OfflineComponentProvider");try{await vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await vg(t,new od)}}else de(Fr,"Using default OfflineComponentProvider"),await vg(t,new X4(void 0));return t._offlineComponents}async function Ux(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Fr,"Using user provided OnlineComponentProvider"),await E1(t,t._uninitializedComponentsProvider._online)):(de(Fr,"Using default OnlineComponentProvider"),await E1(t,new cy))),t._onlineComponents}function Z4(t){return Ux(t).then((e=>e.syncEngine))}async function ld(t){const e=await Ux(t),n=e.eventManager;return n.onListen=L4.bind(null,e.syncEngine),n.onUnlisten=B4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=U4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z4.bind(null,e.syncEngine),n}function eL(t,e,n={}){const s=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Iv({next:b=>{y.Nu(),c.enqueueAndForget((()=>Sv(l,_)));const R=b.docs.has(f);!R&&b.fromCache?p.reject(new he(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&m&&m.source==="server"?p.reject(new he(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new xv(Pd(f.path),y,{includeMetadataChanges:!0,qa:!0});return wv(l,_)})(await ld(t),t.asyncQueue,e,n,s))),s.promise}function tL(t,e,n={}){const s=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Iv({next:b=>{y.Nu(),c.enqueueAndForget((()=>Sv(l,_))),b.fromCache&&m.source==="server"?p.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new xv(f,y,{includeMetadataChanges:!0,qa:!0});return wv(l,_)})(await ld(t),t.asyncQueue,e,n,s))),s.promise}function jx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const b1=new Map;const Bx="firestore.googleapis.com",w1=!0;class S1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bx,this.ssl=w1}else this.host=e.host,this.ssl=e.ssl??w1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ok)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CA;switch(s.type){case"firstParty":return new fV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=b1.get(n);s&&(de("ComponentProvider","Removing Datastore"),b1.delete(n),s.terminate())})(this),Promise.resolve()}}function zx(t,e,n,s={}){t=xn(t,qd);const a=Ya(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Hy(`https://${f}`),Gy("Firestore",!0)),l.host!==Bx&&l.host!==f&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ba(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=ln.MOCK_USER;else{p=VS(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(_)}t._authCredentials=new uV(new RA(p,y))}}class Xr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Sc(n,pt._jsonSchema))return new pt(e,s||null,new ye(rt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Lt("string",pt._jsonSchemaVersion),referencePath:Lt("string")};class Ns extends Xr{constructor(e,n,s){super(e,n,Pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ye(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function Mr(t,e,...n){if(t=qt(t),IA("collection","path",e),t instanceof qd){const s=rt.fromString(e,...n);return Lb(s),new Ns(t,null,s)}{if(!(t instanceof pt||t instanceof Ns))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return Lb(s),new Ns(t.firestore,null,s)}}function ei(t,e,...n){if(t=qt(t),arguments.length===1&&(e=Id.newId()),IA("doc","path",e),t instanceof qd){const s=rt.fromString(e,...n);return kb(s),new pt(t,null,new ye(s))}{if(!(t instanceof pt||t instanceof Ns))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return kb(s),new pt(t.firestore,t instanceof Ns?t.converter:null,new ye(s))}}const A1="AsyncQueue";class x1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bx(this,"async_queue_retry"),this._c=()=>{const s=yg();s&&de(A1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;de(A1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",R1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Ev.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:R1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function R1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function C1(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Ls extends qd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new x1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x1(e),this._firestoreClient=void 0,await e}}}function Fx(t,e){const n=typeof t=="object"?t:$y(),s=typeof t=="string"?t:Jf,a=Sd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=MS("firestore");l&&zx(a,...l)}return a}function Dc(t){if(t._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nL(t),t._firestoreClient}function nL(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new CV(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,jx(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Qt.fromBase64String(e))}catch(n){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Lt("string",Ln._jsonSchemaVersion),bytes:Lt("string")};class Nc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hd{constructor(e){this._methodName=e}}class wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Lt("string",wi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Si(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Lt("string",Si._jsonSchemaVersion),vectorValues:Lt("object")};const iL=/^__.*__$/;class sL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class qx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class Dv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hx(this.Ac)&&iL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bd(e)}Cc(e,n,s,a=!1){return new Dv({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(t){const e=t._freezeSettings(),n=Bd(t._databaseId);return new rL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gx(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Nv("Data must be an object, but it was:",c,s);const f=Yx(s,c);let m,p;if(l.merge)m=new Un(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=hy(e,_,n);if(!c.contains(b))throw new he(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$x(y,b)||y.push(b)}m=new Un(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new sL(new Sn(f),m,p)}class Yd extends Hd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function aL(t,e,n,s){const a=t.Cc(1,e,n);Nv("Data must be an object, but it was:",a,s);const l=[],c=Sn.empty();$r(s,((m,p)=>{const y=Mv(e,m,n);p=qt(p);const _=a.yc(y);if(p instanceof Yd)l.push(y);else{const b=Mc(p,_);b!=null&&(l.push(y),c.set(y,b))}}));const f=new Un(l);return new qx(c,f,a.fieldTransforms)}function oL(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[hy(e,s,n)],m=[a];if(l.length%2!=0)throw new he(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(hy(e,l[b])),m.push(l[b+1]);const p=[],y=Sn.empty();for(let b=f.length-1;b>=0;--b)if(!$x(p,f[b])){const R=f[b];let N=m[b];N=qt(N);const B=c.yc(R);if(N instanceof Yd)p.push(R);else{const O=Mc(N,B);O!=null&&(p.push(R),y.set(R,O))}}const _=new Un(p);return new qx(y,_,c.fieldTransforms)}function lL(t,e,n,s=!1){return Mc(n,t.Cc(s?4:3,e))}function Mc(t,e){if(Kx(t=qt(t)))return Nv("Unsupported field value:",e,t),Yx(t,e);if(t instanceof Hd)return(function(s,a){if(!Hx(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Mc(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Je.fromDate(s);return{timestampValue:sd(a.serializer,l)}}if(s instanceof Je){const l=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sd(a.serializer,l)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:hx(a.serializer,s._byteString)};if(s instanceof pt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Si)return(function(c,f){return{mapValue:{fields:{[jA]:{stringValue:BA},[Zf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return uv(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Dd(s)}`)})(t,e)}function Yx(t,e){const n={};return OA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((s,a)=>{const l=Mc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Kx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof wi||t instanceof Ln||t instanceof pt||t instanceof Hd||t instanceof Si)}function Nv(t,e,n){if(!Kx(n)||!NA(n)){const s=Dd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function hy(t,e,n){if((e=qt(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return Mv(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const uL=new RegExp("[~\\*/\\[\\]]");function Mv(t,e,n){if(e.search(uL)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nc(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new he(ie.INVALID_ARGUMENT,f+t+m)}function $x(t,e){return t.some((n=>n.isEqual(e)))}class Qx{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cL extends Qx{data(){return super.data()}}function Ov(t,e){return typeof e=="string"?Mv(t,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}function Xx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pv{}class Wx extends Pv{}function La(t,e,...n){let s=[];e instanceof Pv&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Kd)).length,f=l.filter((m=>m instanceof Oc)).length;if(c>1||c>0&&f>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Oc extends Wx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Oc(e,n,s)}_apply(e){const n=this._parse(e);return Jx(e._query,n),new Xr(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=Gd(e.firestore);return(function(l,c,f,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){D1(_,y);const N=[];for(const B of _)N.push(I1(m,l,B));b={arrayValue:{values:N}}}else b=I1(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||D1(_,y),b=lL(f,c,_,y==="in"||y==="not-in");return kt.create(p,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rr(t,e,n){const s=e,a=Ov("where",t);return Oc._create(a,s,n)}class Kd extends Pv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kd(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)Jx(c,m),c=ey(c,m)})(e._query,n),new Xr(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function I1(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$A(e)&&n.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Gb(t,new ye(s))}if(n instanceof pt)return Gb(t,n._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dd(n)}.`)}function D1(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jx(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Zx{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $r(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Zf].arrayValue?.values?.map((s=>St(s.doubleValue)));return new Si(n)}convertGeoPoint(e){return new wi(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Od(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ke(yx(s),9688,{name:e});const a=new ll(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function eR(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Or extends Qx{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Or._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:Lt("string",Or._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Wu extends Or{data(e={}){return super.data(e)}}class Pr{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Qo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Wu(this._firestore,this._userDataWriter,s.key,s,new Qo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Wu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Qo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Wu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Qo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:hL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function tR(t){t=xn(t,pt);const e=xn(t.firestore,Ls);return eL(Dc(e),t._key).then((n=>iR(e,t,n)))}Pr._jsonSchemaVersion="firestore/querySnapshot/1.0",Pr._jsonSchema={type:Lt("string",Pr._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Vv extends Zx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function cd(t){t=xn(t,Xr);const e=xn(t.firestore,Ls),n=Dc(e),s=new Vv(e);return Xx(t._query),tL(n,t._query).then((a=>new Pr(e,s,t,a)))}function fL(t,e,n){t=xn(t,pt);const s=xn(t.firestore,Ls),a=eR(t.converter,e,n);return $d(s,[Gx(Gd(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bi.none())])}function qu(t,e,n,...s){t=xn(t,pt);const a=xn(t.firestore,Ls),l=Gd(a);let c;return c=typeof(e=qt(e))=="string"||e instanceof Nc?oL(l,"updateDoc",t._key,e,n,s):aL(l,"updateDoc",t._key,e),$d(a,[c.toMutation(t._key,bi.exists(!0))])}function nR(t,e){const n=xn(t.firestore,Ls),s=ei(t),a=eR(t.converter,e);return $d(n,[Gx(Gd(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,bi.exists(!1))]).then((()=>s))}function dl(t,...e){t=qt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||C1(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(C1(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,f;if(t instanceof pt)c=xn(t.firestore,Ls),f=Pd(t._key.path),l={next:m=>{e[s]&&e[s](iR(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=xn(t,Xr);c=xn(m.firestore,Ls),f=m._query;const p=new Vv(c);l={next:y=>{e[s]&&e[s](new Pr(c,p,m,y))},error:e[s+1],complete:e[s+2]},Xx(t._query)}return(function(p,y,_,b){const R=new Iv(b),N=new xv(y,R,_);return p.asyncQueue.enqueueAndForget((async()=>wv(await ld(p),N))),()=>{R.Nu(),p.asyncQueue.enqueueAndForget((async()=>Sv(await ld(p),N)))}})(Dc(c),f,a,l)}function $d(t,e){return(function(s,a){const l=new Ds;return s.asyncQueue.enqueueAndForget((async()=>F4(await Z4(s),a,l))),l.promise})(Dc(t),e)}function iR(t,e,n){const s=n.docs.get(e._key),a=new Vv(t);return new Or(t,a,e._key,s,new Qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){El=a})(Ka),za(new kr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Ls(new cV(s.getProvider("auth-internal")),new dV(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Xi(Mb,Ob,e),Xi(Mb,Ob,"esm2020")})();const dL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Zx,Bytes:Ln,CollectionReference:Ns,DocumentReference:pt,DocumentSnapshot:Or,FieldPath:Nc,FieldValue:Hd,Firestore:Ls,FirestoreError:he,GeoPoint:wi,Query:Xr,QueryCompositeFilterConstraint:Kd,QueryConstraint:Wx,QueryDocumentSnapshot:Wu,QueryFieldFilterConstraint:Oc,QuerySnapshot:Pr,SnapshotMetadata:Qo,Timestamp:Je,VectorValue:Si,_AutoId:Id,_ByteString:Qt,_DatabaseId:ll,_DocumentKey:ye,_EmptyAuthCredentialsProvider:CA,_FieldPath:$t,_cast:xn,_logWarn:Ha,_validateIsNotUsedTogether:DA,addDoc:nR,collection:Mr,connectFirestoreEmulator:zx,doc:ei,ensureFirestoreConfigured:Dc,executeWrite:$d,getDoc:tR,getDocs:cd,getFirestore:Fx,onSnapshot:dl,query:La,setDoc:fL,updateDoc:qu,where:Rr},Symbol.toStringTag,{value:"Module"}));const sR="firebasestorage.googleapis.com",mL="storageBucket",pL=120*1e3,gL=600*1e3;class os extends as{constructor(e,n,s=0){super(_g(e),`Firebase Storage: ${n} (${_g(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ss;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ss||(ss={}));function _g(t){return"storage/"+t}function yL(){const t="An unknown error occurred, please check the error payload for server response.";return new os(ss.UNKNOWN,t)}function vL(){return new os(ss.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _L(){return new os(ss.CANCELED,"User canceled the upload/download.")}function TL(t){return new os(ss.INVALID_URL,"Invalid URL '"+t+"'.")}function EL(t){return new os(ss.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N1(t){return new os(ss.INVALID_ARGUMENT,t)}function rR(){return new os(ss.APP_DELETED,"The Firebase app was deleted.")}function bL(t){return new os(ss.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Ei.makeFromUrl(e,n)}catch{return new Ei(e,"")}if(s.path==="")return s;throw EL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(se){se.path_=decodeURIComponent(se.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${a}/o${b}`,"i"),N={bucket:1,path:3},B=n===sR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",z=new RegExp(`^https?://${B}/${a}/${O}`,"i"),G=[{regex:f,indices:m,postModify:l},{regex:R,indices:N,postModify:p},{regex:z,indices:{bucket:1,path:2},postModify:p}];for(let se=0;se<G.length;se++){const ae=G[se],le=ae.regex.exec(e);if(le){const C=le[ae.indices.bucket];let x=le[ae.indices.path];x||(x=""),s=new Ei(C,x),ae.postModify(s);break}}if(s==null)throw TL(e);return s}}class wL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function SL(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...O){p||(p=!0,e.apply(null,O))}function _(O){a=setTimeout(()=>{a=null,t(R,m())},O)}function b(){l&&clearTimeout(l)}function R(O,...z){if(p){b();return}if(O){b(),y.call(null,O,...z);return}if(m()||c){b(),y.call(null,O,...z);return}s<64&&(s*=2);let G;f===1?(f=2,G=0):G=(s+Math.random())*1e3,_(G)}let N=!1;function B(O){N||(N=!0,b(),!p&&(a!==null?(O||(f=2),clearTimeout(a),_(0)):O||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,B(!0)},n),B}function AL(t){t(!1)}function xL(t){return t!==void 0}function M1(t,e,n,s){if(s<e)throw N1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw N1(`Invalid value for '${t}'. Expected ${n} or less.`)}function RL(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var hd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hd||(hd={}));function CL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class IL{constructor(e,n,s,a,l,c,f,m,p,y,_,b=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,B)=>{this.resolve_=N,this.reject_=B,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Ef(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===hd.NO_ERROR,m=l.getStatus();if(!f||CL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===hd.ABORT;s(!1,new Ef(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Ef(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());xL(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=yL();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?rR():_L();c(m)}else{const m=vL();c(m)}};this.canceled_?n(!1,new Ef(!1,null,!0)):this.backoffId_=SL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ef{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function DL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ML(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PL(t,e,n,s,a,l,c=!0,f=!1){const m=RL(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return ML(y,e),DL(y,n),NL(y,l),OL(y,s),new IL(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}function VL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class fd{constructor(e,n){this._service=e,n instanceof Ei?this._location=n:this._location=Ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fd(e,n)}get root(){const e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kL(this._location.path)}get storage(){return this._service}get parent(){const e=VL(this._location.path);if(e===null)return null;const n=new Ei(this._location.bucket,e);return new fd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bL(e)}}function O1(t,e){const n=e?.[mL];return n==null?null:Ei.makeFromBucketSpec(n,t)}function LL(t,e,n,s={}){t.host=`${e}:${n}`;const a=Ya(e);a&&(Hy(`https://${t.host}/b`),Gy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:VS(l,t.app.options.projectId))}class UL{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=sR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pL,this._maxUploadRetryTime=gL,this._requests=new Set,a!=null?this._bucket=Ei.makeFromBucketSpec(a,this._host):this._bucket=O1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=O1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new wL(rR());{const c=PL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const P1="@firebase/storage",V1="0.14.0";const aR="storage";function jL(t=$y(),e){t=qt(t);const s=Sd(t,aR).getImmediate({identifier:e}),a=MS("storage");return a&&BL(s,...a),s}function BL(t,e,n,s={}){LL(t,e,n,s)}function zL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new UL(n,s,a,e,Ka)}function FL(){za(new kr(aR,zL,"PUBLIC").setMultipleInstances(!0)),Xi(P1,V1,""),Xi(P1,V1,"esm2020")}FL();const qL={apiKey:"AIzaSyCGRAz4hNy9737rRC2XhGjihrroVFrBnyE",authDomain:"doctors-89de9.firebaseapp.com",projectId:"doctors-89de9",storageBucket:"doctors-89de9.firebasestorage.app",messagingSenderId:"843277629462",appId:"1:843277629462:web:c6ef4918f469d13dff5d37",measurementId:"G-RVBRHCX77H"},kv=US(qL),Lv=oV(kv),sn=Fx(kv);jL(kv);const oR=P.createContext();function HL(){return P.useContext(oR)}function GL({children:t}){const[e,n]=P.useState(null),[s,a]=P.useState(null),[l,c]=P.useState(!0);P.useEffect(()=>XO(Lv,async p=>{if(n(p),p){const y=ei(sn,"users",p.uid),_=await tR(y);_.exists()&&a(_.data())}else a(null);c(!1)}),[]);const f={currentUser:e,userData:s,isDoctor:s?.role==="doctor"};return w.jsx(oR.Provider,{value:f,children:!l&&t})}const YL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),k1=t=>{const e=KL(t);return e.charAt(0).toUpperCase()+e.slice(1)},lR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),$L=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var QL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XL=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>P.createElement("svg",{ref:m,...QL,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:lR("lucide",a),...!l&&!$L(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>P.createElement(p,y)),...Array.isArray(l)?l:[l]]));const lt=(t,e)=>{const n=P.forwardRef(({className:s,...a},l)=>P.createElement(XL,{ref:l,iconNode:e,className:lR(`lucide-${YL(k1(t))}`,`lucide-${t}`,s),...a}));return n.displayName=k1(t),n};const WL=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fy=lt("activity",WL);const JL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ZL=lt("arrow-right",JL);const e3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lf=lt("calendar",e3);const t3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],n3=lt("circle-alert",t3);const i3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uR=lt("circle-check",i3);const s3=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],r3=lt("circle-play",s3);const a3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],L1=lt("clipboard",a3);const o3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],l3=lt("clock",o3);const u3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],U1=lt("external-link",u3);const c3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h3=lt("eye",c3);const f3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],j1=lt("file-text",f3);const d3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],m3=lt("history",d3);const p3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cR=lt("info",p3);const g3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y3=lt("lock",g3);const v3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_3=lt("mail",v3);const T3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hR=lt("map-pin",T3);const E3=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],fR=lt("phone-call",E3);const b3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],w3=lt("phone",b3);const S3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A3=lt("save",S3);const x3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],B1=lt("settings",x3);const R3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C3=lt("shield-check",R3);const I3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],D3=lt("upload",I3);const N3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],z1=lt("user",N3);const M3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dR=lt("users",M3);const O3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],F1=lt("x",O3),Uv=P.createContext({});function jv(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bv=typeof window<"u",mR=Bv?P.useLayoutEffect:P.useEffect,Qd=P.createContext(null);function zv(t,e){t.indexOf(e)===-1&&t.push(e)}function Fv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Us=(t,e,n)=>n>e?e:n<t?t:n;let qv=()=>{};const js={},pR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function gR(t){return typeof t=="object"&&t!==null}const yR=t=>/^0[^.\s]+$/u.test(t);function Hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ii=t=>t,P3=(t,e)=>n=>e(t(n)),Pc=(...t)=>t.reduce(P3),hc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Gv{constructor(){this.subscriptions=[]}add(e){return zv(this.subscriptions,e),()=>Fv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ts=t=>t*1e3,ni=t=>t/1e3;function vR(t,e){return e?t*(1e3/e):0}const _R=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,V3=1e-7,k3=12;function L3(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=_R(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>V3&&++f<k3);return c}function Vc(t,e,n,s){if(t===e&&n===s)return ii;const a=l=>L3(l,0,1,t,n);return l=>l===0||l===1?l:_R(a(l),e,s)}const TR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ER=t=>e=>1-t(1-e),bR=Vc(.33,1.53,.69,.99),Yv=ER(bR),wR=TR(Yv),SR=t=>(t*=2)<1?.5*Yv(t):.5*(2-Math.pow(2,-10*(t-1))),Kv=t=>1-Math.sin(Math.acos(t)),AR=ER(Kv),xR=TR(Kv),U3=Vc(.42,0,1,1),j3=Vc(0,0,.58,1),RR=Vc(.42,0,.58,1),B3=t=>Array.isArray(t)&&typeof t[0]!="number",CR=t=>Array.isArray(t)&&typeof t[0]=="number",z3={linear:ii,easeIn:U3,easeInOut:RR,easeOut:j3,circIn:Kv,circInOut:xR,circOut:AR,backIn:Yv,backInOut:wR,backOut:bR,anticipate:SR},F3=t=>typeof t=="string",q1=t=>{if(CR(t)){qv(t.length===4);const[e,n,s,a]=t;return Vc(e,n,s,a)}else if(F3(t))return z3[t];return t},bf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,_=!1,b=!1)=>{const N=b&&a?n:s;return _&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const H3=40;function IR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=bf.reduce((G,se)=>(G[se]=q3(l),G),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:R,postRender:N}=c,B=()=>{const G=js.useManualTiming?a.timestamp:performance.now();n=!1,js.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(G-a.timestamp,H3),1)),a.timestamp=G,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),R.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(B))},O=()=>{n=!0,s=!0,a.isProcessing||t(B)};return{schedule:bf.reduce((G,se)=>{const ae=c[se];return G[se]=(le,C=!1,x=!1)=>(n||O(),ae.schedule(le,C,x)),G},{}),cancel:G=>{for(let se=0;se<bf.length;se++)c[bf[se]].cancel(G)},state:a,steps:c}}const{schedule:ft,cancel:qr,state:nn,steps:Tg}=IR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ii,!0);let Uf;function G3(){Uf=void 0}const An={now:()=>(Uf===void 0&&An.set(nn.isProcessing||js.useManualTiming?nn.timestamp:performance.now()),Uf),set:t=>{Uf=t,queueMicrotask(G3)}},DR=t=>e=>typeof e=="string"&&e.startsWith(t),NR=DR("--"),Y3=DR("var(--"),$v=t=>Y3(t)?K3.test(t.split("/*")[0].trim()):!1,K3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fc={...Al,transform:t=>Us(0,1,t)},wf={...Al,default:1},Ju=t=>Math.round(t*1e5)/1e5,Qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $3(t){return t==null}const Q3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xv=(t,e)=>n=>!!(typeof n=="string"&&Q3.test(n)&&n.startsWith(t)||e&&!$3(n)&&Object.prototype.hasOwnProperty.call(n,e)),MR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Qv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},X3=t=>Us(0,255,t),Eg={...Al,transform:t=>Math.round(X3(t))},Va={test:Xv("rgb","red"),parse:MR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Eg.transform(t)+", "+Eg.transform(e)+", "+Eg.transform(n)+", "+Ju(fc.transform(s))+")"};function W3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const dy={test:Xv("#"),parse:W3,transform:Va.transform},kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=kc("deg"),ns=kc("%"),we=kc("px"),J3=kc("vh"),Z3=kc("vw"),H1={...ns,parse:t=>ns.parse(t)/100,transform:t=>ns.transform(t*100)},Xo={test:Xv("hsl","hue"),parse:MR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ns.transform(Ju(e))+", "+ns.transform(Ju(n))+", "+Ju(fc.transform(s))+")"},Vt={test:t=>Va.test(t)||dy.test(t)||Xo.test(t),parse:t=>Va.test(t)?Va.parse(t):Xo.test(t)?Xo.parse(t):dy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Va.transform(t):Xo.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},e6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t6(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qv)?.length||0)+(t.match(e6)?.length||0)>0}const OR="number",PR="color",n6="var",i6="var(",G1="${}",s6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(s6,m=>(Vt.test(m)?(s.color.push(l),a.push(PR),n.push(Vt.parse(m))):m.startsWith(i6)?(s.var.push(l),a.push(n6),n.push(m)):(s.number.push(l),a.push(OR),n.push(parseFloat(m))),++l,G1)).split(G1);return{values:n,split:f,indexes:s,types:a}}function VR(t){return dc(t).values}function kR(t){const{split:e,types:n}=dc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===OR?l+=Ju(a[c]):f===PR?l+=Vt.transform(a[c]):l+=a[c]}return l}}const r6=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function a6(t){const e=VR(t);return kR(t)(e.map(r6))}const Hr={test:t6,parse:VR,createTransformer:kR,getAnimatableNone:a6};function bg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function o6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=bg(m,f,t+1/3),l=bg(m,f,t),c=bg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function dd(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,wg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},l6=[dy,Va,Xo],u6=t=>l6.find(e=>e.test(t));function Y1(t){const e=u6(t);if(!e)return!1;let n=e.parse(t);return e===Xo&&(n=o6(n)),n}const K1=(t,e)=>{const n=Y1(t),s=Y1(e);if(!n||!s)return dd(t,e);const a={...n};return l=>(a.red=wg(n.red,s.red,l),a.green=wg(n.green,s.green,l),a.blue=wg(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),Va.transform(a))},my=new Set(["none","hidden"]);function c6(t,e){return my.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function h6(t,e){return n=>mt(t,e,n)}function Wv(t){return typeof t=="number"?h6:typeof t=="string"?$v(t)?dd:Vt.test(t)?K1:m6:Array.isArray(t)?LR:typeof t=="object"?Vt.test(t)?K1:f6:dd}function LR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Wv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function f6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Wv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function d6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const m6=(t,e)=>{const n=Hr.createTransformer(e),s=dc(t),a=dc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?my.has(t)&&!a.values.length||my.has(e)&&!s.values.length?c6(t,e):Pc(LR(d6(s,a),a.values),n):dd(t,e)};function UR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):Wv(t)(t,e)}const p6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>qr(e),now:()=>nn.isProcessing?nn.timestamp:An.now()}},jR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},md=2e4;function Jv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<md;)e+=n,s=t.next(e);return e>=md?1/0:e}function g6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Jv(s),md);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ni(a)}}const y6=5;function BR(t,e,n){const s=Math.max(e-y6,0);return vR(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sg=.001;function v6({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,c=1-e;c=Us(_t.minDamping,_t.maxDamping,c),t=Us(_t.minDuration,_t.maxDuration,ni(t)),c<1?(a=p=>{const y=p*c,_=y*t,b=y-n,R=py(p,c),N=Math.exp(-_);return Sg-b/R*N},l=p=>{const _=p*c*t,b=_*n+n,R=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-_),B=py(Math.pow(p,2),c);return(-a(p)+Sg>0?-1:1)*((b-R)*N)/B}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Sg+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=T6(a,l,f);if(t=ts(t),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const _6=12;function T6(t,e,n){let s=n;for(let a=1;a<_6;a++)s=s-t(s)/e(s);return s}function py(t,e){return t*Math.sqrt(1-e*e)}const E6=["duration","bounce"],b6=["stiffness","damping","mass"];function $1(t,e){return e.some(n=>t[n]!==void 0)}function w6(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!$1(t,b6)&&$1(t,E6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Us(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=v6(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function pd(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:R}=w6({...n,velocity:-ni(n.velocity||0)}),N=b||0,B=p/(2*Math.sqrt(m*y)),O=c-l,z=ni(Math.sqrt(m/y)),$=Math.abs(O)<5;s||(s=$?_t.restSpeed.granular:_t.restSpeed.default),a||(a=$?_t.restDelta.granular:_t.restDelta.default);let G;if(B<1){const ae=py(z,B);G=le=>{const C=Math.exp(-B*z*le);return c-C*((N+B*z*O)/ae*Math.sin(ae*le)+O*Math.cos(ae*le))}}else if(B===1)G=ae=>c-Math.exp(-z*ae)*(O+(N+z*O)*ae);else{const ae=z*Math.sqrt(B*B-1);G=le=>{const C=Math.exp(-B*z*le),x=Math.min(ae*le,300);return c-C*((N+B*z*O)*Math.sinh(x)+ae*O*Math.cosh(x))/ae}}const se={calculatedDuration:R&&_||null,next:ae=>{const le=G(ae);if(R)f.done=ae>=_;else{let C=ae===0?N:0;B<1&&(C=ae===0?ts(N):BR(G,ae,le));const x=Math.abs(C)<=s,I=Math.abs(c-le)<=a;f.done=x&&I}return f.value=f.done?c:le,f},toString:()=>{const ae=Math.min(Jv(se),md),le=jR(C=>se.next(ae*C).value,ae,30);return ae+"ms "+le},toTransition:()=>{}};return se}pd.applyToOptions=t=>{const e=g6(t,100,pd);return t.ease=e.ease,t.duration=ts(e.duration),t.type="keyframes",t};function gy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],b={done:!1,value:_},R=x=>f!==void 0&&x<f||m!==void 0&&x>m,N=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let B=n*e;const O=_+B,z=c===void 0?O:c(O);z!==O&&(B=z-_);const $=x=>-B*Math.exp(-x/s),G=x=>z+$(x),se=x=>{const I=$(x),L=G(x);b.done=Math.abs(I)<=p,b.value=b.done?z:L};let ae,le;const C=x=>{R(b.value)&&(ae=x,le=pd({keyframes:[b.value,N(b.value)],velocity:BR(G,x,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return C(0),{calculatedDuration:null,next:x=>{let I=!1;return!le&&ae===void 0&&(I=!0,se(x),C(x)),ae!==void 0&&x>=ae?le.next(x-ae):(!I&&se(x),b)}}}function S6(t,e,n){const s=[],a=n||js.mix||UR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ii:e;f=Pc(m,f)}s.push(f)}return s}function A6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(qv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=S6(e,s,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const b=hc(t[_],t[_+1],y);return f[_](b)};return n?y=>p(Us(t[0],t[l-1],y)):p}function x6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=hc(0,e,s);t.push(mt(n,1,a))}}function R6(t){const e=[0];return x6(e,t.length-1),e}function C6(t,e){return t.map(n=>n*e)}function I6(t,e){return t.map(()=>e||RR).splice(0,t.length-1)}function Zu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=B3(s)?s.map(q1):q1(s),l={done:!1,value:e[0]},c=C6(n&&n.length===e.length?n:R6(e),t),f=A6(c,e,{ease:Array.isArray(a)?a:I6(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const D6=t=>t!==null;function Zv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(D6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const N6={decay:gy,inertia:gy,tween:Zu,keyframes:Zu,spring:pd};function zR(t){typeof t.type=="string"&&(t.type=N6[t.type])}class e0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const M6=t=>t/100;class t0 extends e0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zR(e);const{type:n=Zu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Zu;m!==Zu&&typeof f[0]!="number"&&(this.mixKeyframes=Pc(M6,UR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Jv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:R,type:N,onUpdate:B,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,se=s;if(_){const x=Math.min(this.currentTime,a)/f;let I=Math.floor(x),L=x%1;!L&&x>=1&&(L=1),L===1&&I--,I=Math.min(I,_+1),I%2&&(b==="reverse"?(L=1-L,R&&(L-=R/f)):b==="mirror"&&(se=c)),G=Us(0,1,L)*f}const ae=$?{done:!1,value:y[0]}:se.next(G);l&&(ae.value=l(ae.value));let{done:le}=ae;!$&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return C&&N!==gy&&(ae.value=Zv(y,this.options,O,this.speed)),B&&B(ae.value),C&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return ni(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(this.currentTime)}set time(e){e=ts(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=p6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function O6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ka=t=>t*180/Math.PI,yy=t=>{const e=ka(Math.atan2(t[1],t[0]));return vy(e)},P6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yy,rotateZ:yy,skewX:t=>ka(Math.atan(t[1])),skewY:t=>ka(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vy=t=>(t=t%360,t<0&&(t+=360),t),Q1=yy,X1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),W1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),V6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:X1,scaleY:W1,scale:t=>(X1(t)+W1(t))/2,rotateX:t=>vy(ka(Math.atan2(t[6],t[5]))),rotateY:t=>vy(ka(Math.atan2(-t[2],t[0]))),rotateZ:Q1,rotate:Q1,skewX:t=>ka(Math.atan(t[4])),skewY:t=>ka(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function _y(t){return t.includes("scale")?1:0}function Ty(t,e){if(!t||t==="none")return _y(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=V6,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=P6,a=f}if(!a)return _y(e);const l=s[e],c=a[1].split(",").map(L6);return typeof l=="function"?l(c):c[l]}const k6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ty(n,e)};function L6(t){return parseFloat(t.trim())}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rl=new Set(xl),J1=t=>t===Al||t===we,U6=new Set(["x","y","z"]),j6=xl.filter(t=>!U6.has(t));function B6(t){const e=[];return j6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ty(e,"x"),y:(t,{transform:e})=>Ty(e,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const ja=new Set;let Ey=!1,by=!1,wy=!1;function FR(){if(by){const t=Array.from(ja).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=B6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}by=!1,Ey=!1,ja.forEach(t=>t.complete(wy)),ja.clear()}function qR(){ja.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(by=!0)})}function z6(){wy=!0,qR(),FR(),wy=!1}class n0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),Ey||(Ey=!0,ft.read(qR),ft.resolveKeyframes(FR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}O6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const F6=t=>t.startsWith("--");function q6(t,e,n){F6(e)?t.style.setProperty(e,n):t.style[e]=n}const H6=Hv(()=>window.ScrollTimeline!==void 0),G6={};function Y6(t,e){const n=Hv(t);return()=>G6[e]??n()}const HR=Y6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Z1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hu([0,.65,.55,1]),circOut:Hu([.55,0,1,.45]),backIn:Hu([.31,.01,.66,-.59]),backOut:Hu([.33,1.53,.69,.99])};function GR(t,e){if(t)return typeof t=="function"?HR()?jR(t,e):"ease-out":CR(t)?Hu(t):Array.isArray(t)?t.map(n=>GR(n,e)||Z1.easeOut):Z1[t]}function K6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=GR(f,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function YR(t){return typeof t=="function"&&"applyToOptions"in t}function $6({type:t,...e}){return YR(t)&&HR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Q6 extends e0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,qv(typeof e.type!="string");const p=$6(e);this.animation=K6(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Zv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):q6(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ni(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ts(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&H6()?(this.animation.timeline=e,ii):n(this)}}const KR={anticipate:SR,backInOut:wR,circInOut:xR};function X6(t){return t in KR}function W6(t){typeof t.ease=="string"&&X6(t.ease)&&(t.ease=KR[t.ease])}const ew=10;class J6 extends Q6{constructor(e){W6(e),zR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new t0({...c,autoplay:!1}),m=ts(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-ew).value,f.sample(m).value,ew),f.stop()}}const tw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hr.test(t)||t==="0")&&!t.startsWith("url("));function Z6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eU(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=tw(a,e),f=tw(l,e);return!c||!f?!1:Z6(t)||(n==="spring"||YR(n))&&s}function Sy(t){t.duration=0,t.type="keyframes"}const tU=new Set(["opacity","clipPath","filter","transform"]),nU=Hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iU(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return nU()&&n&&tU.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const sU=40;class rU extends e0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},R=y?.KeyframeResolver||n0;this.keyframeResolver=new R(f,(N,B,O)=>this.onKeyframesResolved(N,B,b,!O),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=An.now(),eU(e,l,c,f)||((js.instantAnimations||!m)&&y?.(Zv(e,s,n)),e[0]=e[e.length-1],Sy(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>sU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!p&&iU(b)?new J6({...b,element:b.motionValue.owner.current}):new t0(b);R.finished.then(()=>this.notifyFinished()).catch(ii),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),z6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const aU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oU(t){const e=aU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function $R(t,e,n=1){const[s,a]=oU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return pR(c)?parseFloat(c):c}return $v(a)?$R(a,e,n+1):a}function i0(t,e){return t?.[e]??t?.default??t}const QR=new Set(["width","height","top","left","right","bottom",...xl]),lU={test:t=>t==="auto",parse:t=>t},XR=t=>e=>e.test(t),WR=[Al,we,ns,Er,Z3,J3,lU],nw=t=>WR.find(XR(t));function uU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yR(t):!0}const cU=new Set(["brightness","contrast","saturate","opacity"]);function hU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Qv)||[];if(!s)return t;const a=n.replace(s,"");let l=cU.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const fU=/\b([a-z-]*)\(.*?\)/gu,Ay={...Hr,getAnimatableNone:t=>{const e=t.match(fU);return e?e.map(hU).join(" "):t}},iw={...Al,transform:Math.round},dU={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:Er,skewX:Er,skewY:Er,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:fc,originX:H1,originY:H1,originZ:we},s0={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...dU,zIndex:iw,fillOpacity:fc,strokeOpacity:fc,numOctaves:iw},mU={...s0,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:Ay,WebkitFilter:Ay},JR=t=>mU[t];function ZR(t,e){let n=JR(t);return n!==Ay&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pU=new Set(["auto","none","0"]);function gU(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!pU.has(l)&&dc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=ZR(n,a)}class yU extends n0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),$v(p))){const y=$R(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!QR.has(s)||e.length!==2)return;const[a,l]=e,c=nw(a),f=nw(l);if(c!==f)if(J1(c)&&J1(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||uU(e[a]))&&s.push(a);s.length&&gU(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ua[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function vU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const eC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function tC(t){return gR(t)&&"offsetHeight"in t}const sw=30,_U=t=>!isNaN(parseFloat(t));class TU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=An.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_U(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gv);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sw);return vR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ml(t,e){return new TU(t,e)}const{schedule:r0}=IR(queueMicrotask,!1),_i={x:!1,y:!1};function nC(){return _i.x||_i.y}function EU(t){return t==="x"||t==="y"?_i[t]?null:(_i[t]=!0,()=>{_i[t]=!1}):_i.x||_i.y?null:(_i.x=_i.y=!0,()=>{_i.x=_i.y=!1})}function iC(t,e){const n=vU(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function rw(t){return!(t.pointerType==="touch"||nC())}function bU(t,e,n={}){const[s,a,l]=iC(t,n),c=f=>{if(!rw(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{rw(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const sC=(t,e)=>e?t===e?!0:sC(t,e.parentElement):!1,a0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SU(t){return wU.has(t.tagName)||t.tabIndex!==-1}const jf=new WeakSet;function aw(t){return e=>{e.key==="Enter"&&t(e)}}function Ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AU=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=aw(()=>{if(jf.has(n))return;Ag(n,"down");const a=aw(()=>{Ag(n,"up")}),l=()=>Ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function ow(t){return a0(t)&&!nC()}function xU(t,e,n={}){const[s,a,l]=iC(t,n),c=f=>{const m=f.currentTarget;if(!ow(f))return;jf.add(m);const p=e(m,f),y=(R,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),jf.has(m)&&jf.delete(m),ow(R)&&typeof p=="function"&&p(R,{success:N})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||sC(m,R.target))},b=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),tC(f)&&(f.addEventListener("focus",p=>AU(p,a)),!SU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function rC(t){return gR(t)&&"ownerSVGElement"in t}function RU(t){return rC(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),CU=[...WR,Vt,Hr],IU=t=>CU.find(XR(t)),o0=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function lw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=lw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():lw(t[a],null)}}}}function NU(...t){return P.useCallback(DU(...t),t)}class MU extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=tC(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function OU({children:t,isPresent:e,anchorX:n,root:s}){const a=P.useId(),l=P.useRef(null),c=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=P.useContext(o0),m=NU(l,t?.ref);return P.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:b,right:R}=c.current;if(e||!l.current||!p||!y)return;const N=n==="left"?`left: ${b}`:`right: ${R}`;l.current.dataset.motionPopId=a;const B=document.createElement("style");f&&(B.nonce=f);const O=s??document.head;return O.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${N}px !important;
            top: ${_}px !important;
          }
        `),()=>{O.contains(B)&&O.removeChild(B)}},[e]),w.jsx(MU,{isPresent:e,childRef:l,sizeRef:c,children:P.cloneElement(t,{ref:m})})}const PU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=jv(VU),y=P.useId();let _=!0,b=P.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:R=>{p.set(R,!0);for(const N of p.values())if(!N)return;s&&s()},register:R=>(p.set(R,!1),()=>p.delete(R))}),[n,p,s]);return l&&_&&(b={...b}),P.useMemo(()=>{p.forEach((R,N)=>p.set(N,!1))},[n]),P.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=w.jsx(OU,{isPresent:n,anchorX:f,root:m,children:t})),w.jsx(Qd.Provider,{value:b,children:t})};function VU(){return new Map}function aC(t=!0){const e=P.useContext(Qd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=P.useId();P.useEffect(()=>{if(t)return a(l)},[t]);const c=P.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Sf=t=>t.key||"";function uw(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const xy=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,y]=aC(c),_=P.useMemo(()=>uw(t),[t]),b=c&&!p?[]:_.map(Sf),R=P.useRef(!0),N=P.useRef(_),B=jv(()=>new Map),[O,z]=P.useState(_),[$,G]=P.useState(_);mR(()=>{R.current=!1,N.current=_;for(let le=0;le<$.length;le++){const C=Sf($[le]);b.includes(C)?B.delete(C):B.get(C)!==!0&&B.set(C,!1)}},[$,b.length,b.join("-")]);const se=[];if(_!==O){let le=[..._];for(let C=0;C<$.length;C++){const x=$[C],I=Sf(x);b.includes(I)||(le.splice(C,0,x),se.push(x))}return l==="wait"&&se.length&&(le=se),G(uw(le)),z(_),null}const{forceRender:ae}=P.useContext(Uv);return w.jsx(w.Fragment,{children:$.map(le=>{const C=Sf(le),x=c&&!p?!1:_===$||b.includes(C),I=()=>{if(B.has(C))B.set(C,!0);else return;let L=!0;B.forEach(V=>{V||(L=!1)}),L&&(ae?.(),G(N.current),c&&y?.(),s&&s())};return w.jsx(PU,{isPresent:x,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:x?void 0:I,anchorX:f,children:le},C)})})},oC=P.createContext({strict:!1}),cw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pl={};for(const t in cw)pl[t]={isEnabled:e=>cw[t].some(n=>!!e[n])};function kU(t){for(const e in t)pl[e]={...pl[e],...t[e]}}const LU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LU.has(t)}let lC=t=>!gd(t);function UU(t){typeof t=="function"&&(lC=e=>e.startsWith("on")?!gd(e):t(e))}try{UU(require("@emotion/is-prop-valid").default)}catch{}function jU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(lC(a)||n===!0&&gd(a)||!e&&!gd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Xd=P.createContext({});function Wd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mc(t){return typeof t=="string"||Array.isArray(t)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u0=["initial",...l0];function Jd(t){return Wd(t.animate)||u0.some(e=>mc(t[e]))}function uC(t){return!!(Jd(t)||t.variants)}function BU(t,e){if(Jd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||mc(n)?n:void 0,animate:mc(s)?s:void 0}}return t.inherit!==!1?e:{}}function zU(t){const{initial:e,animate:n}=BU(t,P.useContext(Xd));return P.useMemo(()=>({initial:e,animate:n}),[hw(e),hw(n)])}function hw(t){return Array.isArray(t)?t.join(" "):t}function fw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=fw(t,e.target.x),s=fw(t,e.target.y);return`${n}% ${s}%`}},FU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Hr.parse(t);if(a.length>5)return s;const l=Hr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=mt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Ry={borderRadius:{...Vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vu,borderTopRightRadius:Vu,borderBottomLeftRadius:Vu,borderBottomRightRadius:Vu,boxShadow:FU};function cC(t,{layout:e,layoutId:n}){return Rl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ry[t]||t==="opacity")}const qU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HU=xl.length;function GU(t,e,n){let s="",a=!0;for(let l=0;l<HU;l++){const c=xl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=eC(f,s0[c]);if(!m){a=!1;const y=qU[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function c0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Rl.has(m)){c=!0;continue}else if(NR(m)){a[m]=p;continue}else{const y=eC(p,s0[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=GU(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const h0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hC(t,e,n){for(const s in e)!cn(e[s])&&!cC(s,n)&&(t[s]=e[s])}function YU({transformTemplate:t},e){return P.useMemo(()=>{const n=h0();return c0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function KU(t,e){const n=t.style||{},s={};return hC(s,n,t),Object.assign(s,YU(t,e)),s}function $U(t,e){const n={},s=KU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const QU={offset:"stroke-dashoffset",array:"stroke-dasharray"},XU={offset:"strokeDashoffset",array:"strokeDasharray"};function WU(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?QU:XU;t[l.offset]=we.transform(-s);const c=we.transform(e),f=we.transform(n);t[l.array]=`${c} ${f}`}function fC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(c0(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&WU(_,a,l,c,!1)}const dC=()=>({...h0(),attrs:{}}),mC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JU(t,e,n,s){const a=P.useMemo(()=>{const l=dC();return fC(l,e,mC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};hC(l,t.style,t),a.style={...l,...a.style}}return a}const ZU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f0(t){return typeof t!="string"||t.includes("-")?!1:!!(ZU.indexOf(t)>-1||/[A-Z]/u.test(t))}function e5(t,e,n,{latestValues:s},a,l=!1){const f=(f0(t)?JU:$U)(e,s,a,t),m=jU(e,typeof t=="string",l),p=t!==P.Fragment?{...m,...f,ref:n}:{},{children:y}=e,_=P.useMemo(()=>cn(y)?y.get():y,[y]);return P.createElement(t,{...p,children:_})}function dw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function d0(t,e,n,s){if(typeof e=="function"){const[a,l]=dw(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=dw(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Bf(t){return cn(t)?t.get():t}function t5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:n5(n,s,a,t),renderState:e()}}function n5(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=Bf(l[b]);let{initial:c,animate:f}=t;const m=Jd(t),p=uC(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Wd(_)){const b=Array.isArray(_)?_:[_];for(let R=0;R<b.length;R++){const N=d0(t,b[R]);if(N){const{transitionEnd:B,transition:O,...z}=N;for(const $ in z){let G=z[$];if(Array.isArray(G)){const se=y?G.length-1:0;G=G[se]}G!==null&&(a[$]=G)}for(const $ in B)a[$]=B[$]}}}return a}const pC=t=>(e,n)=>{const s=P.useContext(Xd),a=P.useContext(Qd),l=()=>t5(t,e,s,a);return n?l():jv(l)};function m0(t,e,n){const{style:s}=t,a={};for(const l in s)(cn(s[l])||e.style&&cn(e.style[l])||cC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const i5=pC({scrapeMotionValuesFromProps:m0,createRenderState:h0});function gC(t,e,n){const s=m0(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=xl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const s5=pC({scrapeMotionValuesFromProps:gC,createRenderState:dC}),r5=Symbol.for("motionComponentSymbol");function Wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function a5(t,e,n){return P.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Wo(n)&&(n.current=s))},[e])}const p0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o5="framerAppearId",yC="data-"+p0(o5),vC=P.createContext({});function l5(t,e,n,s,a){const{visualElement:l}=P.useContext(Xd),c=P.useContext(oC),f=P.useContext(Qd),m=P.useContext(o0).reducedMotion,p=P.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=P.useContext(vC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&u5(p.current,n,a,_);const b=P.useRef(!1);P.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const R=n[yC],N=P.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return mR(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),N.current&&y.animationState&&y.animationState.animateChanges())}),P.useEffect(()=>{y&&(!N.current&&y.animationState&&y.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),N.current=!1),y.enteringChildren=void 0)}),y}function u5(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_C(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Wo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function _C(t){if(t)return t.options.allowProjection!==!1?t.projection:_C(t.parent)}function xg(t,{forwardMotionProps:e=!1}={},n,s){n&&kU(n);const a=f0(t)?s5:i5;function l(f,m){let p;const y={...P.useContext(o0),...f,layoutId:c5(f)},{isStatic:_}=y,b=zU(f),R=a(f,_);if(!_&&Bv){h5();const N=f5(y);p=N.MeasureLayout,b.visualElement=l5(t,R,y,s,N.ProjectionNode)}return w.jsxs(Xd.Provider,{value:b,children:[p&&b.visualElement?w.jsx(p,{visualElement:b.visualElement,...y}):null,e5(t,f,a5(R,b.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=P.forwardRef(l);return c[r5]=t,c}function c5({layoutId:t}){const e=P.useContext(Uv).id;return e&&t!==void 0?e+"-"+t:t}function h5(t,e){P.useContext(oC).strict}function f5(t){const{drag:e,layout:n}=pl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function d5(t,e){if(typeof Proxy>"u")return xg;const n=new Map,s=(l,c)=>xg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,xg(c,void 0,t,e)),n.get(c))})}function TC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function m5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Rg(t){return t===void 0||t===1}function Cy({scale:t,scaleX:e,scaleY:n}){return!Rg(t)||!Rg(e)||!Rg(n)}function Na(t){return Cy(t)||EC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function EC(t){return mw(t.x)||mw(t.y)}function mw(t){return t&&t!=="0%"}function yd(t,e,n){const s=t-n,a=e*s;return n+a}function pw(t,e,n,s,a){return a!==void 0&&(t=yd(t,a,s)),yd(t,n,s)+e}function Iy(t,e=0,n=1,s,a){t.min=pw(t.min,e,n,s,a),t.max=pw(t.max,e,n,s,a)}function bC(t,{x:e,y:n}){Iy(t.x,e.translate,e.scale,e.originPoint),Iy(t.y,n.translate,n.scale,n.originPoint)}const gw=.999999999999,yw=1.0000000000001;function g5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,bC(t,c)),s&&Na(l.latestValues)&&Zo(t,l.latestValues))}e.x<yw&&e.x>gw&&(e.x=1),e.y<yw&&e.y>gw&&(e.y=1)}function Jo(t,e){t.min=t.min+e,t.max=t.max+e}function vw(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);Iy(t,e,n,l,s)}function Zo(t,e){vw(t.x,e.x,e.scaleX,e.scale,e.originX),vw(t.y,e.y,e.scaleY,e.scale,e.originY)}function wC(t,e){return TC(p5(t.getBoundingClientRect(),e))}function y5(t,e,n){const s=wC(t,n),{scroll:a}=e;return a&&(Jo(s.x,a.offset.x),Jo(s.y,a.offset.y)),s}const _w=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:_w(),y:_w()}),Tw=()=>({min:0,max:0}),zt=()=>({x:Tw(),y:Tw()}),Dy={current:null},SC={current:!1};function v5(){if(SC.current=!0,!!Bv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dy.current=t.matches;t.addEventListener("change",e),e()}else Dy.current=!1}const _5=new WeakMap;function T5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,ml(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,ml(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class E5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=An.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Jd(n),this.isVariantNode=uC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const R=_[b];m[b]!==void 0&&cn(R)&&R.set(m[b])}}mount(e){this.current=e,_5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),SC.current||v5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Rl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pl){const n=pl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ew.length;s++){const a=Ew[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=T5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ml(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(pR(s)||yR(s))?s=parseFloat(s):!IU(s)&&Hr.test(n)&&(s=ZR(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=d0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){r0.render(this.render)}}class AC extends E5{constructor(){super(...arguments),this.KeyframeResolver=yU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xC(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function b5(t){return window.getComputedStyle(t)}class w5 extends AC{constructor(){super(...arguments),this.type="html",this.renderInstance=xC}readValueFromInstance(e,n){if(Rl.has(n))return this.projection?.isProjecting?_y(n):k6(e,n);{const s=b5(e),a=(NR(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wC(e,n)}build(e,n,s){c0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return m0(e,n,s)}}const RC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function S5(t,e,n,s){xC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(RC.has(a)?a:p0(a),e.attrs[a])}class A5 extends AC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rl.has(n)){const s=JR(n);return s&&s.default||0}return n=RC.has(n)?n:p0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return gC(e,n,s)}build(e,n,s){fC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){S5(e,n,s,a)}mount(e){this.isSVGTag=mC(e.tagName),super.mount(e)}}const x5=(t,e)=>f0(t)?new A5(e):new w5(e,{allowProjection:t!==P.Fragment});function rl(t,e,n){const s=t.getProps();return d0(s,e,n!==void 0?n:s.custom,t)}const Ny=t=>Array.isArray(t);function R5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ml(n))}function C5(t){return Ny(t)?t[t.length-1]||0:t}function I5(t,e){const n=rl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=C5(l[c]);R5(t,c,f)}}function D5(t){return!!(cn(t)&&t.add)}function My(t,e){const n=t.getValue("willChange");if(D5(n))return n.add(e);if(!n&&js.WillChange){const s=new js.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function CC(t){return t.props[yC]}const N5=t=>t!==null;function M5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(N5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const O5={type:"spring",stiffness:500,damping:25,restSpeed:10},P5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),V5={type:"keyframes",duration:.8},k5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L5=(t,{keyframes:e})=>e.length>2?V5:Rl.has(t)?t.startsWith("scale")?P5(e[1]):O5:k5;function U5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const g0=(t,e,n,s={},a,l)=>c=>{const f=i0(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-ts(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};U5(f)||Object.assign(y,L5(t,y)),y.duration&&(y.duration=ts(y.duration)),y.repeatDelay&&(y.repeatDelay=ts(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Sy(y),y.delay===0&&(_=!0)),(js.instantAnimations||js.skipAnimations)&&(_=!0,Sy(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=M5(y.keyframes,f);if(b!==void 0){ft.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new t0(y):new rU(y)};function j5({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function IC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const _=t.getValue(y,t.latestValues[y]??null),b=f[y];if(b===void 0||p&&j5(p,y))continue;const R={delay:n,...i0(l||{},y)},N=_.get();if(N!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===N&&!R.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const z=CC(t);if(z){const $=window.MotionHandoffAnimation(z,y,ft);$!==null&&(R.startTime=$,B=!0)}}My(t,y),_.start(g0(y,_,b,t.shouldReduceMotion&&QR.has(y)?{type:!1}:R,t,B));const O=_.animation;O&&m.push(O)}return c&&Promise.all(m).then(()=>{ft.update(()=>{c&&I5(t,c)})}),m}function DC(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function Oy(t,e,n={}){const s=rl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(IC(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return B5(t,e,m,p,y,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function B5(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Oy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+DC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function z5(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Oy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Oy(t,e,n);else{const a=typeof e=="function"?rl(t,e,n.custom):e;s=Promise.all(IC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function NC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const F5=u0.length;function MC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<F5;n++){const s=u0[n],a=t.props[s];(mc(a)||a===!1)&&(e[s]=a)}return e}const q5=[...l0].reverse(),H5=l0.length;function G5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>z5(t,n,s)))}function Y5(t){let e=G5(t),n=bw(),s=!0;const a=m=>(p,y)=>{const _=rl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:R,...N}=_;p={...p,...N,...R}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=MC(t.parent)||{},_=[],b=new Set;let R={},N=1/0;for(let O=0;O<H5;O++){const z=q5[O],$=n[z],G=p[z]!==void 0?p[z]:y[z],se=mc(G),ae=z===m?$.isActive:null;ae===!1&&(N=O);let le=G===y[z]&&G!==p[z]&&se;if(le&&s&&t.manuallyAnimateOnMount&&(le=!1),$.protectedKeys={...R},!$.isActive&&ae===null||!G&&!$.prevProp||Wd(G)||typeof G=="boolean")continue;const C=K5($.prevProp,G);let x=C||z===m&&$.isActive&&!le&&se||O>N&&se,I=!1;const L=Array.isArray(G)?G:[G];let V=L.reduce(a(z),{});ae===!1&&(V={});const{prevResolvedValues:q={}}=$,D={...q,...V},Ye=J=>{x=!0,b.has(J)&&(I=!0,b.delete(J)),$.needsAnimating[J]=!0;const oe=t.getValue(J);oe&&(oe.liveStyle=!1)};for(const J in D){const oe=V[J],pe=q[J];if(R.hasOwnProperty(J))continue;let _e=!1;Ny(oe)&&Ny(pe)?_e=!NC(oe,pe):_e=oe!==pe,_e?oe!=null?Ye(J):b.add(J):oe!==void 0&&b.has(J)?Ye(J):$.protectedKeys[J]=!0}$.prevProp=G,$.prevResolvedValues=V,$.isActive&&(R={...R,...V}),s&&t.blockInitialAnimation&&(x=!1);const st=le&&C;x&&(!st||I)&&_.push(...L.map(J=>{const oe={type:z};if(typeof J=="string"&&s&&!st&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,_e=rl(pe,J);if(pe.enteringChildren&&_e){const{delayChildren:k}=_e.transition||{};oe.delay=DC(pe.enteringChildren,t,k)}}return{animation:J,options:oe}}))}if(b.size){const O={};if(typeof p.initial!="boolean"){const z=rl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(O.transition=z.transition)}b.forEach(z=>{const $=t.getBaseTarget(z),G=t.getValue(z);G&&(G.liveStyle=!0),O[z]=$??null}),_.push({animation:O})}let B=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(B=!1),s=!1,B?e(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=bw()}}}function K5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!NC(e,t):!1}function Ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bw(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class Wr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $5 extends Wr{constructor(e){super(e),e.animationState||(e.animationState=Y5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Q5=0;class X5 extends Wr{constructor(){super(...arguments),this.id=Q5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const W5={animation:{Feature:$5},exit:{Feature:X5}};function pc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Lc(t){return{point:{x:t.pageX,y:t.pageY}}}const J5=t=>e=>a0(e)&&t(e,Lc(e));function ec(t,e,n,s){return pc(t,e,J5(n),s)}const OC=1e-4,Z5=1-OC,ej=1+OC,PC=.01,tj=0-PC,nj=0+PC;function pn(t){return t.max-t.min}function ij(t,e,n){return Math.abs(t-e)<=n}function ww(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Z5&&t.scale<=ej||isNaN(t.scale))&&(t.scale=1),(t.translate>=tj&&t.translate<=nj||isNaN(t.translate))&&(t.translate=0)}function tc(t,e,n,s){ww(t.x,e.x,n.x,s?s.originX:void 0),ww(t.y,e.y,n.y,s?s.originY:void 0)}function Sw(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function sj(t,e,n){Sw(t.x,e.x,n.x),Sw(t.y,e.y,n.y)}function Aw(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function vd(t,e,n){Aw(t.x,e.x,n.x),Aw(t.y,e.y,n.y)}function Zn(t){return[t("x"),t("y")]}const VC=({current:t})=>t?t.ownerDocument.defaultView:null,xw=(t,e)=>Math.abs(t-e);function rj(t,e){const n=xw(t.x,e.x),s=xw(t.y,e.y);return Math.sqrt(n**2+s**2)}class kC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ig(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,N=rj(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!N)return;const{point:B}=b,{timestamp:O}=nn;this.history.push({...B,timestamp:O});const{onStart:z,onMove:$}=this.handlers;R||(z&&z(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,b)},this.handlePointerMove=(b,R)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Cg(R,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(b,R)=>{this.end();const{onEnd:N,onSessionEnd:B,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Ig(b.type==="pointercancel"?this.lastMoveEventInfo:Cg(R,this.transformPagePoint),this.history);this.startEvent&&N&&N(b,z),B&&B(b,z)},!a0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Lc(e),m=Cg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=nn;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,Ig(m,this.history)),this.removeListeners=Pc(ec(this.contextWindow,"pointermove",this.handlePointerMove),ec(this.contextWindow,"pointerup",this.handlePointerUp),ec(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function Cg(t,e){return e?{point:e(t.point)}:t}function Rw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ig({point:t},e){return{point:t,delta:Rw(t,LC(e)),offset:Rw(t,aj(e)),velocity:oj(e,.1)}}function aj(t){return t[0]}function LC(t){return t[t.length-1]}function oj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=LC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ts(e)));)n--;if(!s)return{x:0,y:0};const l=ni(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function lj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function Cw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uj(t,{top:e,left:n,bottom:s,right:a}){return{x:Cw(t.x,n,a),y:Cw(t.y,e,s)}}function Iw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function cj(t,e){return{x:Iw(t.x,e.x),y:Iw(t.y,e.y)}}function hj(t,e){let n=.5;const s=pn(t),a=pn(e);return a>s?n=hc(e.min,e.max-s,t.min):s>a&&(n=hc(t.min,t.max-a,e.min)),Us(0,1,n)}function fj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Py=.35;function dj(t=Py){return t===!1?t=0:t===!0&&(t=Py),{x:Dw(t,"left","right"),y:Dw(t,"top","bottom")}}function Dw(t,e,n){return{min:Nw(t,e),max:Nw(t,n)}}function Nw(t,e){return typeof t=="number"?t:t[e]||0}const mj=new WeakMap;class pj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lc(_).point)},c=(_,b)=>{const{drag:R,dragPropagation:N,onDragStart:B}=this.getProps();if(R&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EU(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(z=>{let $=this.getAxisMotionValue(z).get()||0;if(ns.test($)){const{projection:G}=this.visualElement;if(G&&G.layout){const se=G.layout.layoutBox[z];se&&($=pn(se)*(parseFloat($)/100))}}this.originPoint[z]=$}),B&&ft.postRender(()=>B(_,b)),My(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:R,dragDirectionLock:N,onDirectionLock:B,onDrag:O}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:z}=b;if(N&&this.currentDirection===null){this.currentDirection=gj(z),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",b.point,z),this.updateAxis("y",b.point,z),this.visualElement.render(),O&&O(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Zn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new kC(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:VC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ft.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Af(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=lj(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Wo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=uj(s.layoutBox,e):this.constraints=!1,this.elastic=dj(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=fj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=y5(s,a.root,this.visualElement.getTransformPagePoint());let c=cj(a.layout.layoutBox,l);if(n){const f=n(m5(c));this.hasMutatedConstraints=!!f,f&&(c=TC(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Zn(y=>{if(!Af(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,R=a?40:1e7,N={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return My(this.visualElement,e),s.start(g0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zn(n=>{const{drag:s}=this.getProps();if(!Af(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-mt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Wo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=hj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Zn(c=>{if(!Af(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(mt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;mj.set(this.visualElement,this);const e=this.visualElement.current,n=ec(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Wo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const c=pc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Zn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Py,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Af(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yj extends Wr{constructor(e){super(e),this.removeGroupControls=ii,this.removeListeners=ii,this.controls=new pj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mw=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class vj extends Wr{constructor(){super(...arguments),this.removePointerDownListener=ii}onPointerDown(e){this.session=new kC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Mw(e),onStart:Mw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ft.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ec(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Dg=!1;class _j extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Dg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Dg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ft.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Dg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UC(t){const[e,n]=aC(),s=P.useContext(Uv);return w.jsx(_j,{...t,layoutGroup:s,switchLayoutGroup:P.useContext(vC),isPresent:e,safeToRemove:n})}function Tj(t,e,n){const s=cn(t)?t:ml(t);return s.start(g0("",s,e,n)),s.animation}const Ej=(t,e)=>t.depth-e.depth;class bj{constructor(){this.children=[],this.isDirty=!1}add(e){zv(this.children,e),this.isDirty=!0}remove(e){Fv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ej),this.isDirty=!1,this.children.forEach(e)}}function wj(t,e){const n=An.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(qr(s),t(l-e))};return ft.setup(s,!0),()=>qr(s)}const jC=["TopLeft","TopRight","BottomLeft","BottomRight"],Sj=jC.length,Ow=t=>typeof t=="string"?parseFloat(t):t,Pw=t=>typeof t=="number"||we.test(t);function Aj(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,xj(s)),t.opacityExit=mt(e.opacity??1,0,Rj(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let c=0;c<Sj;c++){const f=`border${jC[c]}Radius`;let m=Vw(e,f),p=Vw(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Pw(m)===Pw(p)?(t[f]=Math.max(mt(Ow(m),Ow(p),s),0),(ns.test(p)||ns.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function Vw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xj=BC(0,.5,AR),Rj=BC(.5,.95,ii);function BC(t,e,n){return s=>s<t?0:s>e?1:n(hc(t,e,s))}function kw(t,e){t.min=e.min,t.max=e.max}function vi(t,e){kw(t.x,e.x),kw(t.y,e.y)}function Lw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Uw(t,e,n,s,a){return t-=e,t=yd(t,1/n,s),a!==void 0&&(t=yd(t,1/a,s)),t}function Cj(t,e=0,n=1,s=.5,a,l=t,c=t){if(ns.test(e)&&(e=parseFloat(e),e=mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=mt(l.min,l.max,s);t===l&&(f-=e),t.min=Uw(t.min,e,n,f,a),t.max=Uw(t.max,e,n,f,a)}function jw(t,e,[n,s,a],l,c){Cj(t,e[n],e[s],e[a],e.scale,l,c)}const Ij=["x","scaleX","originX"],Dj=["y","scaleY","originY"];function Bw(t,e,n,s){jw(t.x,e,Ij,n?n.x:void 0,s?s.x:void 0),jw(t.y,e,Dj,n?n.y:void 0,s?s.y:void 0)}function zw(t){return t.translate===0&&t.scale===1}function zC(t){return zw(t.x)&&zw(t.y)}function Fw(t,e){return t.min===e.min&&t.max===e.max}function Nj(t,e){return Fw(t.x,e.x)&&Fw(t.y,e.y)}function qw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function FC(t,e){return qw(t.x,e.x)&&qw(t.y,e.y)}function Hw(t){return pn(t.x)/pn(t.y)}function Gw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Mj{constructor(){this.members=[]}add(e){zv(this.members,e),e.scheduleRender()}remove(e){if(Fv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Oj(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:R,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),R&&(s+=`skewX(${R}deg) `),N&&(s+=`skewY(${N}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Ng=["","X","Y","Z"],Pj=1e3;let Vj=0;function Mg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function qC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=CC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&qC(s)}function HC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=Vj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Uj),this.nodes.forEach(Fj),this.nodes.forEach(qj),this.nodes.forEach(jj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new bj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Gv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=rC(c)&&!RU(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{_=window.innerWidth}),t(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=wj(b,250),zf.hasAnimatedSinceResize&&(zf.hasAnimatedSinceResize=!1,this.nodes.forEach($w)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||$j,{onLayoutAnimationStart:B,onLayoutAnimationComplete:O}=p.getProps(),z=!this.targetLayout||!FC(this.targetLayout,R),$=!_&&b;if(this.options.layoutRoot||this.resumeFrom||$||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...i0(N,"layout"),onPlay:B,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(y,$)}else _||$w(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Kw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zj),this.nodes.forEach(kj),this.nodes.forEach(Lj)):this.nodes.forEach(Kw),this.clearAllSnapshots();const f=An.now();nn.delta=Us(0,1e3/60,f-nn.timestamp),nn.timestamp=f,nn.isProcessing=!0,Tg.update.process(nn),Tg.preRender.process(nn),Tg.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bj),this.sharedNodes.forEach(Gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!zC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Na(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),Qj(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return zt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Xj))){const{scroll:p}=this.root;p&&(Jo(f.x,p.offset.x),Jo(f.y,p.offset.y))}return f}removeElementScroll(c){const f=zt();if(vi(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&vi(f,c),Jo(f.x,y.offset.x),Jo(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=zt();vi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Zo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&Zo(m,y.latestValues)}return Na(this.latestValues)&&Zo(m,this.latestValues),m}removeTransform(c){const f=zt();vi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Na(p.latestValues))continue;Cy(p.latestValues)&&p.updateSnapshot();const y=zt(),_=p.measurePageBox();vi(y,_),Bw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&Bw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=nn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),bC(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Cy(this.parent.latestValues)||EC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),vd(this.relativeTargetOrigin,f,m),vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;vi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;g5(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=zt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lw(this.prevProjectionDelta.x,this.projectionDelta.x),Lw(this.prevProjectionDelta.y,this.projectionDelta.y)),tc(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!Gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=el(),this.projectionDelta=el(),this.projectionDeltaWithTransform=el()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=zt(),R=m?m.source:void 0,N=this.layout?this.layout.source:void 0,B=R!==N,O=this.getStack(),z=!O||O.members.length<=1,$=!!(B&&!z&&this.options.crossfade===!0&&!this.path.some(Kj));this.animationProgress=0;let G;this.mixTargetDelta=se=>{const ae=se/1e3;Qw(_.x,c.x,ae),Qw(_.y,c.y,ae),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yj(this.relativeTarget,this.relativeTargetOrigin,b,ae),G&&Nj(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=zt()),vi(G,this.relativeTarget)),B&&(this.animationValues=y,Aj(y,p,this.latestValues,ae,$,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{zf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ml(0)),this.currentAnimation=Tj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&GC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||zt();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}vi(f,m),Zo(f,y),tc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Mj),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Mg("z",c,p,this.animationValues);for(let y=0;y<Ng.length;y++)Mg(`rotate${Ng[y]}`,c,p,this.animationValues),Mg(`skew${Ng[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Bf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Bf(f?.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=Oj(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:b,y:R}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in Ry){if(y[N]===void 0)continue;const{correct:B,applyTo:O,isCSSVariable:z}=Ry[N],$=_==="none"?y[N]:B(y[N],p);if(O){const G=O.length;for(let se=0;se<G;se++)c[O[se]]=$}else z?this.options.visualElement.renderState.vars[N]=$:c[N]=$}this.options.layoutId&&(c.pointerEvents=p===this?Bf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Yw),this.root.sharedNodes.clear()}}}function kj(t){t.updateLayout()}function Lj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Zn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],b=pn(_);_.min=n[y].min,_.max=_.min+b}):GC(a,e.layoutBox,n)&&Zn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],b=pn(n[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const c=el();tc(c,n,e.layoutBox);const f=el();l?tc(f,t.applyTransform(s,!0),e.measuredBox):tc(f,n,e.layoutBox);const m=!zC(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const R=zt();vd(R,e.layoutBox,_.layoutBox);const N=zt();vd(N,n,b.layoutBox),FC(R,N)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Uj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Bj(t){t.clearSnapshot()}function Yw(t){t.clearMeasurements()}function Kw(t){t.isLayoutDirty=!1}function zj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $w(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Fj(t){t.resolveTargetDelta()}function qj(t){t.calcProjection()}function Hj(t){t.resetSkewAndRotation()}function Gj(t){t.removeLeadSnapshot()}function Qw(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Xw(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function Yj(t,e,n,s){Xw(t.x,e.x,n.x,s),Xw(t.y,e.y,n.y,s)}function Kj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $j={duration:.45,ease:[.4,0,.1,1]},Ww=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Jw=Ww("applewebkit/")&&!Ww("chrome/")?Math.round:ii;function Zw(t){t.min=Jw(t.min),t.max=Jw(t.max)}function Qj(t){Zw(t.x),Zw(t.y)}function GC(t,e,n){return t==="position"||t==="preserve-aspect"&&!ij(Hw(e),Hw(n),.2)}function Xj(t){return t!==t.root&&t.scroll?.wasRoot}const Wj=HC({attachResizeListener:(t,e)=>pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Og={current:void 0},YC=HC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Og.current){const t=new Wj({});t.mount(window),t.setOptions({layoutScroll:!0}),Og.current=t}return Og.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Jj={pan:{Feature:vj},drag:{Feature:yj,ProjectionNode:YC,MeasureLayout:UC}};function eS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Lc(e)))}class Zj extends Wr{mount(){const{current:e}=this.node;e&&(this.unmount=bU(e,(n,s)=>(eS(this.node,s,"Start"),a=>eS(this.node,a,"End"))))}unmount(){}}class e9 extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Lc(e)))}class t9 extends Wr{mount(){const{current:e}=this.node;e&&(this.unmount=xU(e,(n,s)=>(tS(this.node,s,"Start"),(a,{success:l})=>tS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vy=new WeakMap,Pg=new WeakMap,n9=t=>{const e=Vy.get(t.target);e&&e(t)},i9=t=>{t.forEach(n9)};function s9({root:t,...e}){const n=t||document;Pg.has(n)||Pg.set(n,{});const s=Pg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(i9,{root:t,...e})),s[a]}function r9(t,e,n){const s=s9(e);return Vy.set(t,n),s.observe(t),()=>{Vy.delete(t),s.unobserve(t)}}const a9={some:0,all:1};class o9 extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:a9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return r9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l9(e,n))&&this.startObserver()}unmount(){}}function l9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const u9={inView:{Feature:o9},tap:{Feature:t9},focus:{Feature:e9},hover:{Feature:Zj}},c9={layout:{ProjectionNode:YC,MeasureLayout:UC}},h9={...W5,...u9,...Jj,...c9},Vr=d5(h9,x5),f9=()=>{const t=[{name:"General Consultation",price:"$50",description:"Comprehensive health check and prescription."},{name:"Follow-up Visit",price:"$30",description:"Review of previous conditions and treatment progress."},{name:"Special Procedures",price:"From $100",description:"Minor surgical procedures and specialized tests."},{name:"Prescription Renewal",price:"$20",description:"Quick renewal of ongoing medications."}];return w.jsxs("div",{className:"flex flex-col min-h-screen",children:[w.jsxs("nav",{className:"bg-white border-b border-slate-100 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(fy,{className:"text-medical-600 w-8 h-8"}),w.jsx("span",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"MedicoQueue"})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx(Oa,{to:"/live-queue",className:"text-slate-600 hover:text-medical-600 font-medium",children:"Live Queue"}),w.jsx(Oa,{to:"/booking",className:"btn-primary",children:"Book Now"})]})]}),w.jsxs("main",{className:"flex-grow",children:[w.jsx("section",{className:"bg-gradient-to-b from-medical-50 to-white py-20 px-6 text-center",children:w.jsxs(Vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[w.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight",children:["Modern Healthcare ",w.jsx("br",{}),w.jsx("span",{className:"text-medical-600",children:"Simplified"})]}),w.jsx("p",{className:"text-xl text-slate-600 mb-10 max-w-2xl mx-auto",children:"Skip the waiting room. Book your appointment online, track your queue status in real-time, and get notified when it's your turn."}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsxs(Oa,{to:"/booking",className:"btn-primary text-lg px-8 py-3 flex items-center gap-2",children:["Start Booking ",w.jsx(ZL,{className:"w-5 h-5"})]}),w.jsx(Oa,{to:"/live-queue",className:"btn-secondary text-lg px-8 py-3",children:"View Live Queue"})]})]})}),w.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Our Services"}),w.jsx("p",{className:"text-slate-600",children:"Transparent pricing for all your medical needs."})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>w.jsxs(Vr.div,{whileHover:{y:-5},className:"medical-card flex flex-col justify-between",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:e.name}),w.jsx("p",{className:"text-slate-600 text-sm mb-4",children:e.description})]}),w.jsxs("div",{className:"mt-4",children:[w.jsx("span",{className:"text-2xl font-bold text-medical-600",children:e.price}),w.jsx("button",{className:"w-full mt-4 py-2 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-slate-700 font-medium",children:"Details"})]})]},n))})]})]}),w.jsx("footer",{className:"bg-slate-900 text-white py-12 px-6",children:w.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[w.jsxs("div",{className:"flex items-center gap-2 text-white",children:[w.jsx(fy,{className:"text-medical-400 w-8 h-8"}),w.jsx("span",{className:"text-xl font-bold",children:"MedicoQueue"})]}),w.jsx("div",{className:"text-slate-400 text-sm",children:" 2025 MedicoQueue. All rights reserved. Professional Medical Management System."}),w.jsx("div",{className:"flex gap-6",children:w.jsx(Oa,{to:"/login",className:"text-slate-400 hover:text-white transition-colors",children:"Doctor Portal"})})]})})]})},KC=6048e5,d9=864e5,m9=6e4,nS=Symbol.for("constructDateFrom");function Gr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&nS in t?t[nS](e):t instanceof Date?new t.constructor(e):new Date(e)}function ri(t,e){return Gr(e||t,t)}let p9={};function Zd(){return p9}function gc(t,e){const n=Zd(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ri(t,e?.in),l=a.getDay(),c=(l<s?7:0)+l-s;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function _d(t,e){return gc(t,{...e,weekStartsOn:1})}function $C(t,e){const n=ri(t,e?.in),s=n.getFullYear(),a=Gr(n,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const l=_d(a),c=Gr(n,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const f=_d(c);return n.getTime()>=l.getTime()?s+1:n.getTime()>=f.getTime()?s:s-1}function iS(t){const e=ri(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function g9(t,...e){const n=Gr.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function sS(t,e){const n=ri(t,e?.in);return n.setHours(0,0,0,0),n}function y9(t,e,n){const[s,a]=g9(n?.in,t,e),l=sS(s),c=sS(a),f=+l-iS(l),m=+c-iS(c);return Math.round((f-m)/d9)}function v9(t,e){const n=$C(t,e),s=Gr(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),_d(s)}function _9(t,e,n){const s=ri(t,n?.in);return s.setTime(s.getTime()+e*m9),s}function T9(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function E9(t){return!(!T9(t)&&typeof t!="number"||isNaN(+ri(t)))}function b9(t,e){const n=ri(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const w9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},S9=(t,e,n)=>{let s;const a=w9[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Vg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const A9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C9={date:Vg({formats:A9,defaultWidth:"full"}),time:Vg({formats:x9,defaultWidth:"full"}),dateTime:Vg({formats:R9,defaultWidth:"full"})},I9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D9=(t,e,n,s)=>I9[t];function ku(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,f=n?.width?String(n.width):c;a=t.formattingValues[f]||t.formattingValues[c]}else{const c=t.defaultWidth,f=n?.width?String(n.width):t.defaultWidth;a=t.values[f]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const N9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L9=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},U9={ordinalNumber:L9,era:ku({values:N9,defaultWidth:"wide"}),quarter:ku({values:M9,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ku({values:O9,defaultWidth:"wide"}),day:ku({values:P9,defaultWidth:"wide"}),dayPeriod:ku({values:V9,defaultWidth:"wide",formattingValues:k9,defaultFormattingWidth:"wide"})};function Lu(t){return(e,n={})=>{const s=n.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],f=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?B9(f,_=>_.test(c)):j9(f,_=>_.test(c));let p;p=t.valueCallback?t.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(c.length);return{value:p,rest:y}}}function j9(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function B9(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function z9(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(a.length);return{value:c,rest:f}}}const F9=/^(\d+)(th|st|nd|rd)?/i,q9=/\d+/i,H9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G9={any:[/^b/i,/^(a|c)/i]},Y9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K9={any:[/1/i,/2/i,/3/i,/4/i]},$9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},X9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},J9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eB={ordinalNumber:z9({matchPattern:F9,parsePattern:q9,valueCallback:t=>parseInt(t,10)}),era:Lu({matchPatterns:H9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),quarter:Lu({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:K9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lu({matchPatterns:$9,defaultMatchWidth:"wide",parsePatterns:Q9,defaultParseWidth:"any"}),day:Lu({matchPatterns:X9,defaultMatchWidth:"wide",parsePatterns:W9,defaultParseWidth:"any"}),dayPeriod:Lu({matchPatterns:J9,defaultMatchWidth:"any",parsePatterns:Z9,defaultParseWidth:"any"})},tB={code:"en-US",formatDistance:S9,formatLong:C9,formatRelative:D9,localize:U9,match:eB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nB(t,e){const n=ri(t,e?.in);return y9(n,b9(n))+1}function iB(t,e){const n=ri(t,e?.in),s=+_d(n)-+v9(n);return Math.round(s/KC)+1}function QC(t,e){const n=ri(t,e?.in),s=n.getFullYear(),a=Zd(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Gr(e?.in||t,0);c.setFullYear(s+1,0,l),c.setHours(0,0,0,0);const f=gc(c,e),m=Gr(e?.in||t,0);m.setFullYear(s,0,l),m.setHours(0,0,0,0);const p=gc(m,e);return+n>=+f?s+1:+n>=+p?s:s-1}function sB(t,e){const n=Zd(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=QC(t,e),l=Gr(e?.in||t,0);return l.setFullYear(a,0,s),l.setHours(0,0,0,0),gc(l,e)}function rB(t,e){const n=ri(t,e?.in),s=+gc(n,e)-+sB(n,e);return Math.round(s/KC)+1}function We(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Tr={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return We(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):We(n+1,2)},d(t,e){return We(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return We(t.getHours()%12||12,e.length)},H(t,e){return We(t.getHours(),e.length)},m(t,e){return We(t.getMinutes(),e.length)},s(t,e){return We(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return We(a,e.length)}},Fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rS={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Tr.y(t,e)},Y:function(t,e,n,s){const a=QC(t,s),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return We(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):We(l,e.length)},R:function(t,e){const n=$C(t);return We(n,e.length)},u:function(t,e){const n=t.getFullYear();return We(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return We(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return We(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Tr.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return We(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const a=rB(t,s);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):We(a,e.length)},I:function(t,e,n){const s=iB(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):We(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Tr.d(t,e)},D:function(t,e,n){const s=nB(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):We(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const a=t.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return We(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const a=t.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return We(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),a=s===0?7:s;switch(e){case"i":return String(a);case"ii":return We(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let a;switch(s===12?a=Fo.noon:s===0?a=Fo.midnight:a=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let a;switch(s>=17?a=Fo.evening:s>=12?a=Fo.afternoon:s>=4?a=Fo.morning:a=Fo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Tr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Tr.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):We(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):We(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Tr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Tr.s(t,e)},S:function(t,e){return Tr.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return oS(s);case"XXXX":case"XX":return Ma(s);default:return Ma(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return oS(s);case"xxxx":case"xx":return Ma(s);default:return Ma(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aS(s,":");default:return"GMT"+Ma(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aS(s,":");default:return"GMT"+Ma(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return We(s,e.length)},T:function(t,e,n){return We(+t,e.length)}};function aS(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),l=s%60;return l===0?n+String(a):n+String(a)+e+We(l,2)}function oS(t,e){return t%60===0?(t>0?"-":"+")+We(Math.abs(t)/60,2):Ma(t,e)}function Ma(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),a=We(Math.trunc(s/60),2),l=We(s%60,2);return n+a+e+l}const lS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},XC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},aB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return lS(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",lS(s,e)).replace("{{time}}",XC(a,e))},oB={p:XC,P:aB},lB=/^D+$/,uB=/^Y+$/,cB=["D","DD","YY","YYYY"];function hB(t){return lB.test(t)}function fB(t){return uB.test(t)}function dB(t,e,n){const s=mB(t,e,n);if(console.warn(s),cB.includes(t))throw new RangeError(s)}function mB(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yB=/^'([^]*?)'?$/,vB=/''/g,_B=/[a-zA-Z]/;function kn(t,e,n){const s=Zd(),a=s.locale??tB,l=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,f=ri(t,n?.in);if(!E9(f))throw new RangeError("Invalid time value");let m=e.match(gB).map(y=>{const _=y[0];if(_==="p"||_==="P"){const b=oB[_];return b(y,a.formatLong)}return y}).join("").match(pB).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:TB(y)};if(rS[_])return{isToken:!0,value:y};if(_.match(_B))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const _=y.value;(fB(_)||hB(_))&&dB(_,e,String(t));const b=rS[_[0]];return b(f,_,a.localize,p)}).join("")}function TB(t){const e=t.match(yB);return e?e[1].replace(vB,"'"):t}const EB=()=>{const t=Ed(),[e,n]=P.useState({name:"",phone:"",date:kn(new Date,"yyyy-MM-dd")}),[s,a]=P.useState(!1),[l,c]=P.useState(null),[f,m]=P.useState({intervalMinutes:10,dailyLimit:20,dailySchedules:{Monday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Tuesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Wednesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Thursday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Friday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Saturday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Sunday:{isOpen:!0,startTime:"09:00",endTime:"17:00"}},clinicAddress:"Clinic Address Here",clinicPhone:"+20 123 456 789",mapIframeUrl:""}),p=R=>{if(!R)return"---";const[N,B]=R.split(":"),O=parseInt(N),z=O>=12?"PM":"AM";return`${O%12||12}:${B} ${z}`},[y,_]=P.useState({totalBooked:0,estimatedWait:0});P.useEffect(()=>{(async()=>(ei(sn,"settings","clinic_settings"),await cd(La(Mr(sn,"settings"),Rr("id","==","clinic_settings"))),dl(ei(sn,"settings","clinic_settings"),O=>{O.exists()&&m(z=>({...z,...O.data()}))})))();const N=La(Mr(sn,"bookings"),Rr("date","==",e.date)),B=dl(N,O=>{_({totalBooked:O.size,estimatedWait:O.size*(f.intervalMinutes||15)})});return()=>B()},[e.date,f.intervalMinutes]);const b=async R=>{R.preventDefault(),console.log("Submit button clicked. Form data:",e),a(!0);let N=!1;setTimeout(()=>{N||(console.warn("Firestore submission is taking too long (15s timeout reached)"),a(!1),alert("The connection to the database is slow. Please refresh the page and try again."))},15e3);try{const B=kn(new Date(e.date),"EEEE"),O=f.dailySchedules?.[B];if(O&&!O.isOpen){alert(`Sorry, the clinic is closed on ${B}s.`),a(!1);return}if(y.totalBooked>=f.dailyLimit){alert("Sorry, we have reached the maximum number of bookings for this day."),a(!1);return}console.log("Current stats for queue calculation:",y);const z=(y.totalBooked||0)+1,$=O?.startTime||"09:00";let G=new Date(`${e.date}T${$}`);const se=new Date;e.date===kn(se,"yyyy-MM-dd")&&se>G&&(G=se);const ae=kn(_9(G,y.totalBooked*f.intervalMinutes),"HH:mm"),le=O?.endTime||"17:00";if(ae>le){alert("Sorry, we cannot accept more bookings for this day as it exceeds clinic working hours."),a(!1);return}const C=p(ae),x={name:String(e.name),phone:String(e.phone),date:String(e.date),queueNumber:Number(z),status:"pending",createdAt:new Date().toISOString(),estimatedTime:String(C)};console.log("Attempting to write to collection 'bookings' with data:",x);const I=await nR(Mr(sn,"bookings"),x);N=!0,console.log("Success! Firestore Document ID:",I.id),c({id:I.id,...x})}catch(B){N=!0,console.error("FIRESTORE ERROR DETECTED:",B),console.error("Error Code:",B.code),console.error("Error Message:",B.message),alert("Database Error: "+B.message)}finally{a(!1),console.log("handleSubmit execution completed.")}};return l?w.jsx("div",{className:"min-h-screen bg-medical-50 flex items-center justify-center px-6",children:w.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"medical-card max-w-md w-full text-center py-10",children:[w.jsx("div",{className:"bg-green-100 text-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(uR,{className:"w-10 h-10"})}),w.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Confirmed!"}),w.jsx("p",{className:"text-slate-600 mb-8",children:"Your appointment has been scheduled successfully."}),w.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-8 text-left space-y-4",children:[w.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[w.jsx("span",{className:"text-slate-500",children:"Queue Number"}),w.jsxs("span",{className:"font-bold text-medical-600 text-xl",children:["#",l.queueNumber]})]}),w.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[w.jsx("span",{className:"text-slate-500",children:"Scheduled Time"}),w.jsx("span",{className:"font-semibold",children:l.estimatedTime})]}),w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-slate-500",children:"Date"}),w.jsx("span",{className:"font-semibold",children:l.date})]})]}),w.jsxs("p",{className:"text-sm text-slate-500 mb-8 italic",children:["A confirmation message has been sent to ",l.phone," via WhatsApp."]}),w.jsx("button",{onClick:()=>t("/"),className:"w-full btn-primary",children:"Back to Home"})]})}):w.jsx("div",{className:"min-h-screen py-12 px-6",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Book an Appointment"}),w.jsx("p",{className:"text-slate-600",children:"Quick and easy booking in less than a minute."})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[w.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[w.jsxs("div",{className:"medical-card bg-medical-600 text-white border-none",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Live Availability"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(z1,{className:"w-5 h-5 opacity-80"}),w.jsxs("span",{children:[y.totalBooked," Patients Today"]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(l3,{className:"w-5 h-5 opacity-80"}),w.jsxs("span",{children:[y.estimatedWait," min Estimated Wait"]})]})]})]}),w.jsxs("div",{className:"medical-card",children:[w.jsxs("h4",{className:"font-bold text-slate-900 mb-3 flex items-center gap-2",children:[w.jsx(C3,{className:"w-5 h-5 text-medical-600"})," Clinic Info"]}),w.jsxs("div",{className:"text-sm text-slate-600 space-y-2",children:[w.jsxs("p",{className:"flex justify-between",children:[w.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Today's Status"}),w.jsx("span",{className:f.dailySchedules?.[kn(new Date(e.date),"EEEE")]?.isOpen?"text-green-600 font-bold":"text-red-500 font-bold",children:f.dailySchedules?.[kn(new Date(e.date),"EEEE")]?.isOpen?"Open":"Closed"})]}),w.jsxs("p",{className:"flex justify-between border-t border-slate-50 pt-2",children:[w.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Working Hours"}),w.jsx("span",{children:f.dailySchedules?.[kn(new Date(e.date),"EEEE")]?.isOpen?`${p(f.dailySchedules[kn(new Date(e.date),"EEEE")].startTime)} - ${p(f.dailySchedules[kn(new Date(e.date),"EEEE")].endTime)}`:"---"})]}),w.jsxs("p",{className:"flex justify-between border-t border-slate-50 pt-2",children:[w.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Daily Limit"}),w.jsxs("span",{children:["Max ",f.dailyLimit," patients"]})]}),w.jsxs("div",{className:"pt-4 border-t border-slate-50 space-y-3",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsx(hR,{className:"w-4 h-4 text-medical-600 shrink-0 mt-0.5"}),w.jsx("span",{className:"text-[11px] font-bold text-slate-700 leading-tight",children:f.clinicAddress})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx(fR,{className:"w-4 h-4 text-medical-600 shrink-0"}),w.jsx("span",{className:"text-[11px] font-bold text-slate-700",children:f.clinicPhone})]})]}),f.mapIframeUrl&&w.jsx("div",{className:"mt-3 rounded-lg overflow-hidden h-32 border border-slate-100 shadow-inner",children:w.jsx("iframe",{src:f.mapIframeUrl,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})]}),w.jsx("div",{className:"lg:col-span-2",children:w.jsx("div",{className:"medical-card",children:w.jsxs("form",{onSubmit:b,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),w.jsxs("div",{className:"relative",children:[w.jsx(z1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),w.jsx("input",{id:"fullName",name:"name",type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"Enter your full name",value:e.name,onChange:R=>n({...e,name:R.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"whatsappNumber",className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp Number"}),w.jsxs("div",{className:"relative",children:[w.jsx(w3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),w.jsx("input",{id:"whatsappNumber",name:"phone",type:"tel",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"+1 (123) 456-7890",value:e.phone,onChange:R=>n({...e,phone:R.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"appointmentDate",className:"block text-sm font-medium text-slate-700 mb-2",children:"Preferred Date"}),w.jsxs("div",{className:"relative",children:[w.jsx(Lf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),w.jsx("input",{id:"appointmentDate",name:"date",type:"date",required:!0,min:kn(new Date,"yyyy-MM-dd"),className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",value:e.date,onChange:R=>n({...e,date:R.target.value})})]})]}),w.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary py-4 text-lg flex justify-center items-center gap-2",children:s?"Processing...":"Confirm Booking"})]})})})]})]})})},bB=()=>{const[t,e]=P.useState([]),[n,s]=P.useState(0),a=kn(new Date,"yyyy-MM-dd");return P.useEffect(()=>{const l=La(Mr(sn,"bookings"),Rr("date","==",a)),c=dl(l,f=>{let m=f.docs.map(y=>({id:y.id,...y.data()}));m.sort((y,_)=>(y.queueNumber||0)-(_.queueNumber||0)),e(m);const p=m.find(y=>y.status==="calling");if(p)s(p.queueNumber);else{const y=[...m].reverse().find(_=>_.status==="completed");s(y?y.queueNumber:0)}});return()=>c()},[a]),w.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-6",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4 italic",children:"Live Queue Updates"}),w.jsx("p",{className:"text-slate-600",children:"Track the current clinic status in real-time."})]}),w.jsxs("div",{className:"bg-medical-600 rounded-2xl p-10 text-white shadow-xl shadow-medical-200 mb-12 text-center relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:w.jsx(dR,{className:"w-32 h-32"})}),w.jsx("p",{className:"text-medical-100 font-medium mb-2 uppercase tracking-widest",children:"Now Serving"}),w.jsxs("div",{className:"text-8xl font-black mb-4",children:["#",n]}),w.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"block text-2xl font-bold",children:t.filter(l=>l.status==="pending").length}),w.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:"Waiting"})]}),w.jsx("div",{className:"h-10 w-px bg-medical-400 opacity-50"}),w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"block text-2xl font-bold",children:t.filter(l=>l.status==="completed").length}),w.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:"Completed"})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-xl font-bold text-slate-900 px-2 mb-4",children:"Upcoming Patients"}),w.jsx(xy,{mode:"popLayout",children:t.filter(l=>l.status==="pending").map((l,c)=>w.jsxs(Vr.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},className:`medical-card flex justify-between items-center transition-all ${c===0?"bg-medical-50 border-medical-200":""}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${c===0?"bg-medical-600 text-white":"bg-slate-100 text-slate-600"}`,children:["#",l.queueNumber]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-slate-900",children:l.name}),w.jsxs("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:["Scheduled for ",l.estimatedTime]})]})]}),c===0&&w.jsx("div",{className:"bg-medical-100 text-medical-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:"UP NEXT"})]},l.id))}),t.filter(l=>l.status==="pending").length===0&&w.jsxs("div",{className:"text-center py-10 medical-card border-dashed",children:[w.jsx(cR,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),w.jsx("p",{className:"text-slate-500",children:"No pending appointments for today."})]})]})]})})},wB="modulepreload",SB=function(t){return"/Doctors/"+t},uS={},AB=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");a=p(n.map(y=>{if(y=SB(y),y in uS)return;uS[y]=!0;const _=y.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const R=document.createElement("link");if(R.rel=_?"stylesheet":wB,_||(R.as="script"),R.crossOrigin="",R.href=y,m&&R.setAttribute("nonce",m),document.head.appendChild(R),_)return new Promise((N,B)=>{R.addEventListener("load",N),R.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return a.then(f=>{for(const m of f||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},kg="https://script.google.com/macros/s/AKfycbyK_DSjFavVCsE0DH49qxke-NVR8Nq_nFP3saZD86VKGIQ1TDPxIF3WTmwz995Oa46tGw/exec",Lg=(t,e=!1)=>{if(!t||!t.includes("drive.google.com"))return t;let n="";return t.includes("/file/d/")?n=t.split("/file/d/")[1].split("/")[0]:t.includes("id=")&&(n=t.split("id=")[1].split("&")[0]),n?e?`https://drive.google.com/file/d/${n}/preview`:`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t},xB=()=>{const[t,e]=P.useState([]),[n,s]=P.useState(null),[a,l]=P.useState(""),[c,f]=P.useState(""),[m,p]=P.useState(""),[y,_]=P.useState([]),[b,R]=P.useState(!1),[N,B]=P.useState(null),[O,z]=P.useState(!1),[$,G]=P.useState(!1),[se,ae]=P.useState({intervalMinutes:10,dailyLimit:20,dailySchedules:{Monday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Tuesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Wednesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Thursday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Friday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Saturday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Sunday:{isOpen:!0,startTime:"09:00",endTime:"17:00"}},clinicAddress:"Clinic Address Here",clinicPhone:"+20 123 456 789",mapIframeUrl:""}),le=kn(new Date,"yyyy-MM-dd");P.useEffect(()=>{(async()=>(ei(sn,"settings","clinic_settings"),await cd(La(Mr(sn,"settings"),Rr("id","==","clinic_settings"))),dl(ei(sn,"settings","clinic_settings"),J=>{J.exists()&&ae(oe=>({...oe,...J.data()}))})))()},[]),P.useEffect(()=>{const U=La(Mr(sn,"bookings"),Rr("date","==",le)),J=dl(U,oe=>{let pe=oe.docs.map(_e=>({id:_e.id,..._e.data()}));pe.sort((_e,k)=>(_e.queueNumber||0)-(k.queueNumber||0)),e(pe)});return()=>J()},[le]);const C=async U=>{n&&(a!==(n.notes||"")||c!==(n.googleDriveLink||"")||m!==(n.nextAppointment||""))&&await x(!1),s(U),l(U.notes||""),f(U.googleDriveLink||""),p(U.nextAppointment||""),I(U.phone)},x=async(U=!0)=>{if(n)try{const J=ei(sn,"bookings",n.id);await qu(J,{notes:a,googleDriveLink:c,nextAppointment:m,updatedAt:Je.now()}),U&&alert("Draft saved successfully.")}catch(J){console.error("Save Draft Error:",J),U&&alert("Save failed: "+J.message)}},I=async U=>{try{const J=La(Mr(sn,"bookings"),Rr("phone","==",U),Rr("status","==","completed")),pe=(await cd(J)).docs.map(_e=>({id:_e.id,..._e.data()}));pe.sort((_e,k)=>{const ee=new Date(_e.date).getTime(),ce=new Date(k.date).getTime();if(ee!==ce)return ce-ee;const fe=_e.updatedAt?.toMillis()||0;return(k.updatedAt?.toMillis()||0)-fe}),_(pe)}catch(J){console.error("Error fetching history:",J)}},L=async U=>{U.preventDefault();try{await qu(ei(sn,"settings","clinic_settings"),se),alert("Clinic Settings updated successfully!"),G(!1)}catch(J){try{const{setDoc:oe}=await AB(async()=>{const{setDoc:pe}=await Promise.resolve().then(()=>dL);return{setDoc:pe}},[]);await oe(ei(sn,"settings","clinic_settings"),se),alert("Clinic Settings created and saved!"),G(!1)}catch{console.error("Save Settings Error:",J),alert("Failed to save settings.")}}},V=async U=>{const J=U.target.files[0];if(!(!J||!n)){if(kg.includes("YOUR_GOOGLE_SCRIPT")){alert("Please set your Google Script URL in Dashboard.jsx first!");return}z(!0);try{const oe=new FileReader;oe.readAsDataURL(J),oe.onload=async()=>{const pe=oe.result.split(",")[1],_e={name:J.name,type:J.type,base64:pe,phone:n.phone};console.log("Sending file to Drive bridge..."),await fetch(kg,{method:"POST",mode:"no-cors",body:JSON.stringify(_e)}),console.log("Upload sent, fetching new link via JSONP..."),window.handleDriveResponse=ee=>{console.log("JSONP Response received:",ee),ee.status==="success"?(f(ee.previewUrl),alert("File uploaded and linked successfully!")):(console.error("Link retrieval failed:",ee),alert("File uploaded but link retrieval failed. Please try again or check your Drive.")),z(!1)};const k=document.createElement("script");k.src=`${kg}?phone=${encodeURIComponent(n.phone)}&callback=handleDriveResponse&t=${Date.now()}`,k.onerror=()=>{console.error("JSONP Script load error"),z(!1),alert("Communication error with Google. Please try saving and refreshing.")},document.body.appendChild(k),setTimeout(()=>k.remove(),1e4)}}catch(oe){console.error("Upload Error:",oe),alert("Upload failed. Check console for details."),z(!1)}}},q=async(U,J)=>{try{const oe=ei(sn,"bookings",U);if(await qu(oe,{status:J,updatedAt:Je.now()}),J==="calling"){const pe=t.find(_e=>_e.id===U);C(pe)}}catch(oe){console.error(oe)}},D=async()=>{if(n)try{const U=ei(sn,"bookings",n.id),J={notes:a,googleDriveLink:c,nextAppointment:m,status:"completed",updatedAt:Je.now()};await qu(U,J),n.phone&&I(n.phone);const oe=t.map(pe=>pe.id===n.id?{...pe,...J}:pe);e(oe),s(null),l(""),f(""),p(""),alert("Consultation completed and records saved permanentely.")}catch(U){console.error("Save Notes Error:",U),alert("Failed to save final notes: "+U.message)}},Ye=t.find(U=>U.status==="calling"),st=t.find(U=>U.status==="pending");return w.jsxs("div",{className:"flex h-screen bg-slate-50",children:[w.jsxs("div",{className:"w-80 bg-white border-r border-slate-200 flex flex-col",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-3",children:[w.jsx("div",{className:"bg-medical-600 p-2 rounded-lg",children:w.jsx(dR,{className:"text-white w-6 h-6"})}),w.jsx("h2",{className:"font-bold text-slate-900 text-lg",children:"Daily Queue"})]}),w.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-3",children:[t.map(U=>w.jsxs("div",{onClick:()=>C(U),className:`p-3 rounded-xl border transition-all cursor-pointer ${n?.id===U.id?"bg-medical-50 border-medical-200 ring-2 ring-medical-100":"bg-white border-slate-100 hover:border-medical-200"}`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-1",children:[w.jsxs("span",{className:"text-xs font-bold text-medical-600",children:["#",U.queueNumber]}),w.jsx("span",{className:`text-[10px] uppercase font-black px-2 py-0.5 rounded-full ${U.status==="calling"?"bg-orange-100 text-orange-600":U.status==="completed"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-500"}`,children:U.status})]}),w.jsx("h4",{className:"font-bold text-slate-800 truncate",children:U.name}),w.jsx("p",{className:"text-xs text-slate-500",children:U.estimatedTime})]},U.id)),t.length===0&&w.jsx("p",{className:"text-center text-slate-400 py-10 text-sm",children:"No bookings for today."})]}),w.jsx("div",{className:"p-4 border-t border-slate-100",children:w.jsx("button",{onClick:()=>Lv.signOut(),className:"w-full py-2 text-slate-500 hover:text-red-500 text-sm font-medium",children:"Logout"})})]}),w.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden",children:[w.jsxs("div",{className:"bg-white border-b border-slate-200 p-6 flex justify-between items-center shadow-sm",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Patient Consultation"}),w.jsx("p",{className:"text-slate-500 text-sm font-medium",children:kn(new Date,"EEEE, MMMM do")})]}),w.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-4 py-2 bg-medical-50 text-medical-700 rounded-xl hover:bg-medical-100 transition-all border border-medical-100 font-bold text-sm",children:[w.jsx(B1,{className:"w-4 h-4"}),w.jsx("span",{children:"Clinic Settings"})]})]}),w.jsxs("div",{className:"flex gap-3",children:[st&&w.jsxs("button",{onClick:()=>q(st.id,"calling"),className:"btn-primary flex items-center gap-2",children:[w.jsx(r3,{className:"w-5 h-5"})," Call Next Patient (#",st.queueNumber,")"]}),Ye&&w.jsxs("button",{onClick:()=>q(Ye.id,"completed"),className:"btn-secondary flex items-center gap-2",children:[w.jsx(uR,{className:"w-5 h-5"})," Mark Completed"]})]})]}),w.jsx("div",{className:"flex-grow p-8 overflow-y-auto",children:n?w.jsxs(Vr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto space-y-8",children:[w.jsxs("div",{className:"flex justify-between items-end",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:n.name}),w.jsxs("p",{className:"text-slate-500 flex items-center gap-2 mt-1",children:[w.jsx(L1,{className:"w-4 h-4"})," Queue #",n.queueNumber,"  ",n.phone]})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-widest",children:"Booking Time"}),w.jsx("p",{className:"text-lg font-bold text-slate-700",children:n.estimatedTime})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{children:[w.jsx("label",{htmlFor:"clinicalNotes",className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Clinical Notes"}),w.jsx("textarea",{id:"clinicalNotes",name:"clinicalNotes",rows:10,className:"w-full p-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none resize-none bg-white",placeholder:"Enter examination details, diagnosis, and treatment plan...",value:a,onChange:U=>l(U.target.value)})]})}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Patient Records (Drive / Upload)"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("div",{className:"relative flex-grow",children:[w.jsx(U1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),w.jsx("input",{id:"driveLink",name:"driveLink",type:"url",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none",placeholder:"Drive Link or Auto-upload",value:c,onChange:U=>f(U.target.value)})]}),w.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-4 rounded-xl border-2 border-dashed border-medical-200 hover:bg-medical-50 transition-all ${O?"opacity-50 pointer-events-none":""}`,children:[w.jsx(D3,{className:"w-5 h-5 text-medical-600"}),w.jsx("input",{type:"file",className:"hidden",onChange:V,accept:"image/*,.pdf"})]})]}),O&&w.jsx("p",{className:"text-[10px] text-medical-600 mt-1 animate-pulse font-bold",children:"Uploading to Drive..."}),c&&w.jsxs("div",{className:"mt-4 border border-slate-200 rounded-xl overflow-hidden min-h-[200px] bg-slate-100 relative group flex items-center justify-center",children:[c.includes("drive.google.com")?w.jsx("div",{className:"w-full",children:w.jsx("img",{src:Lg(c),className:"max-h-[400px] w-auto object-contain mx-auto",alt:"Patient Record Preview",onError:U=>{U.target.style.display="none",U.target.parentElement.innerHTML=`
                                                                    <div class="p-12 text-center">
                                                                        <div class="bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm">
                                                                            <svg class="w-6 h-6 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                                        </div>
                                                                        <p class="text-xs text-slate-500 font-bold mb-4">PDF Document Detected</p>
                                                                        <a href="${c}" target="_blank" rel="noopener noreferrer" class="btn-primary py-2 px-6 text-xs inline-block">Open PDF in New Tab</a>
                                                                    </div>
                                                                `}})}):w.jsx("p",{className:"text-xs text-slate-400",children:"Preview not available for this link type"}),w.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-slate-900/60 p-2 opacity-0 group-hover:opacity-100 transition-opacity flex justify-between items-center",children:[w.jsx("span",{className:"text-[10px] text-white font-medium",children:"Record Preview"}),w.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-medical-200 font-bold hover:underline",children:"Open Original"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"nextAppt",className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Next Appointment"}),w.jsxs("div",{className:"relative",children:[w.jsx(Lf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),w.jsx("input",{id:"nextAppt",name:"nextAppt",type:"date",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none",value:m,onChange:U=>p(U.target.value)})]})]}),w.jsxs("div",{className:"bg-medical-50 rounded-xl p-6 border border-medical-100",children:[w.jsxs("h4",{className:"font-bold text-medical-800 mb-2 flex items-center gap-2",children:[w.jsx(j1,{className:"w-5 h-5"})," Quick Actions"]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("button",{onClick:()=>R(!0),className:"w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-white transition-colors text-slate-600 border border-transparent hover:border-medical-200 flex items-center gap-2",children:[w.jsx(m3,{className:"w-4 h-4"})," View Medical History (",y.length,")"]}),w.jsxs("button",{className:"w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-white transition-colors text-slate-600 border border-transparent hover:border-medical-200 flex items-center gap-2",children:[w.jsx(j1,{className:"w-4 h-4"})," Print Prescription"]})]})]})]})]}),w.jsxs("div",{className:"pt-6 border-t border-slate-200 flex justify-between items-center gap-3",children:[w.jsx("button",{onClick:()=>x(!0),className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-all font-bold text-sm",children:"Save Draft"}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>s(null),className:"px-6 py-2 text-slate-500 font-medium",children:"Cancel"}),w.jsx("button",{onClick:D,className:"btn-primary px-8",children:"Save & Complete Consultation"})]})]})]}):w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[w.jsx(L1,{className:"w-16 h-16 mb-4 opacity-20"}),w.jsx("p",{className:"text-lg",children:"Select a patient from the queue to start consultation"})]})})]}),w.jsx(xy,{children:b&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:w.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Medical History"}),w.jsx("p",{className:"text-sm text-slate-500",children:n?.name})]}),w.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:w.jsx(F1,{className:"w-6 h-6 text-slate-400"})})]}),w.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:y.length===0?w.jsx("div",{className:"text-center py-12 text-slate-400",children:"No previous records found for this patient."}):y.map(U=>w.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 bg-slate-50/50",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Lf,{className:"w-4 h-4 text-medical-600"}),w.jsx("span",{className:"font-bold text-slate-700",children:U.date})]}),w.jsx("span",{className:"text-[10px] uppercase font-black bg-green-100 text-green-600 px-2 py-0.5 rounded-full",children:"Completed"})]}),w.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-100 mb-3 text-sm text-slate-600 whitespace-pre-wrap relative",children:[U.notes||"No clinical notes provided.",U.nextAppointment&&w.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-50 flex items-center gap-2 text-medical-600 font-bold text-[10px] uppercase",children:[w.jsx(Lf,{className:"w-3 h-3"})," Next Appointment: ",U.nextAppointment]})]}),U.googleDriveLink&&w.jsxs("div",{className:"mt-3",children:[w.jsxs("div",{className:"flex gap-4 mb-2",children:[w.jsxs("a",{href:U.googleDriveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-bold text-medical-600 hover:underline",children:[w.jsx(U1,{className:"w-3 h-3"})," Open full file"]}),w.jsxs("button",{onClick:()=>B(N===U.id?null:U.id),className:"text-xs font-bold text-slate-500 hover:text-medical-600 flex items-center gap-1",children:[w.jsx(h3,{className:"w-3 h-3"})," ",N===U.id?"Hide Preview":"Show Preview"]})]}),N===U.id&&U.googleDriveLink.includes("drive.google.com")&&w.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden min-h-[150px] bg-white shadow-inner flex items-center justify-center",children:[w.jsx("img",{src:Lg(U.googleDriveLink),className:"max-h-[300px] w-auto object-contain",alt:"History Record",onError:J=>{J.target.style.display="none",J.target.nextSibling.style.display="block"}}),w.jsx("iframe",{src:Lg(U.googleDriveLink,!0),className:"w-full h-[300px] hidden",title:"History PDF Preview"})]})]})]},U.id))})]})})}),w.jsx(xy,{children:$&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:w.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-medical-600 text-white",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(B1,{className:"w-5 h-5"}),w.jsx("h3",{className:"text-xl font-bold",children:"Clinic Settings"})]}),w.jsx("button",{onClick:()=>G(!1),className:"p-2 hover:bg-medical-700 rounded-full transition-colors",children:w.jsx(F1,{className:"w-6 h-6 text-white"})})]}),w.jsxs("form",{onSubmit:L,className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Patients / Hour"}),w.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:60/se.intervalMinutes,onChange:U=>ae({...se,intervalMinutes:60/parseInt(U.target.value)}),children:[w.jsx("option",{value:"2",children:"2 (Every 30m)"}),w.jsx("option",{value:"3",children:"3 (Every 20m)"}),w.jsx("option",{value:"4",children:"4 (Every 15m)"}),w.jsx("option",{value:"6",children:"6 (Every 10m)"}),w.jsx("option",{value:"12",children:"12 (Every 5m)"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Daily Capacity"}),w.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:se.dailyLimit,onChange:U=>ae({...se,dailyLimit:parseInt(U.target.value)})})]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Weekly Schedule & Hours"}),Object.entries(se.dailySchedules).map(([U,J])=>w.jsxs("div",{className:`p-3 rounded-xl border transition-all flex items-center gap-4 ${J.isOpen?"bg-white border-slate-200 shadow-sm":"bg-slate-50 border-slate-100 opacity-60"}`,children:[w.jsx("button",{type:"button",onClick:()=>{const oe={...se.dailySchedules};oe[U].isOpen=!oe[U].isOpen,ae({...se,dailySchedules:oe})},className:`w-12 h-6 rounded-full relative transition-colors ${J.isOpen?"bg-medical-500":"bg-slate-300"}`,children:w.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${J.isOpen?"right-1":"left-1"}`})}),w.jsx("span",{className:"font-bold text-slate-700 w-20",children:U}),J.isOpen?w.jsxs("div",{className:"flex-grow flex items-center gap-2",children:[w.jsx("input",{type:"time",className:"flex-1 px-2 py-1 border border-slate-200 rounded text-xs outline-none",value:J.startTime,onChange:oe=>{const pe={...se.dailySchedules};pe[U].startTime=oe.target.value,ae({...se,dailySchedules:pe})}}),w.jsx("span",{className:"text-slate-400",children:"to"}),w.jsx("input",{type:"time",className:"flex-1 px-2 py-1 border border-slate-200 rounded text-xs outline-none",value:J.endTime,onChange:oe=>{const pe={...se.dailySchedules};pe[U].endTime=oe.target.value,ae({...se,dailySchedules:pe})}})]}):w.jsx("span",{className:"text-slate-400 text-xs italic",children:"Clinic Closed"})]},U))]}),w.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[w.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[w.jsx(cR,{className:"w-3 h-3"})," Clinic Public Info"]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:"Clinic Address"}),w.jsxs("div",{className:"relative",children:[w.jsx(hR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),w.jsx("input",{type:"text",placeholder:"Street Name, Building, Floor...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm transition-all focus:ring-2 focus:ring-medical-500 outline-none",value:se.clinicAddress,onChange:U=>ae({...se,clinicAddress:U.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:"Clinic Phone (Public)"}),w.jsxs("div",{className:"relative",children:[w.jsx(fR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),w.jsx("input",{type:"text",placeholder:"+20 1xx xxx xxxx",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm transition-all focus:ring-2 focus:ring-medical-500 outline-none",value:se.clinicPhone,onChange:U=>ae({...se,clinicPhone:U.target.value})})]})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase flex items-center justify-between",children:[w.jsx("span",{children:"Google Maps IFrame Link"}),w.jsx("a",{href:"https://www.google.com/maps",target:"_blank",rel:"noreferrer",className:"text-medical-600 hover:underline lowercase font-normal italic",children:"Get Link"})]}),w.jsx("textarea",{placeholder:'Paste the <iframe src="..."> here...',rows:2,className:"w-full px-4 py-2 border border-slate-200 rounded-lg text-xs transition-all focus:ring-2 focus:ring-medical-500 outline-none resize-none",value:se.mapIframeUrl,onChange:U=>{let J=U.target.value;J.includes('src="')&&(J=J.split('src="')[1].split('"')[0]),ae({...se,mapIframeUrl:J})}}),w.jsxs("p",{className:"text-[9px] text-slate-400 mt-1",children:["Tip: Share ",">"," Embed a map ",">",' Copy HTML (only the URL inside src="")']})]})]}),w.jsxs("div",{className:"pt-4 border-t border-slate-100 flex gap-3",children:[w.jsx("button",{type:"button",onClick:()=>G(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl font-bold hover:bg-slate-200",children:"Cancel"}),w.jsxs("button",{type:"submit",className:"flex-1 py-3 bg-medical-600 text-white rounded-xl font-bold hover:bg-medical-700 shadow-lg shadow-medical-200 flex items-center justify-center gap-2",children:[w.jsx(A3,{className:"w-4 h-4"})," Save Settings"]})]})]})]})})})]})},RB=()=>{const[t,e]=P.useState(""),[n,s]=P.useState(""),[a,l]=P.useState(""),[c,f]=P.useState(!1),m=Ed(),p=async y=>{y.preventDefault(),f(!0),l("");try{await KO(Lv,t,n),m("/dashboard")}catch(_){l("Invalid email or password. Please try again."),console.error(_)}f(!1)};return w.jsxs("div",{className:"min-h-screen bg-medical-50 flex flex-col justify-center py-12 px-6",children:[w.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx(fy,{className:"text-medical-600 w-12 h-12"})}),w.jsx("h2",{className:"text-center text-3xl font-extrabold text-slate-900",children:"Doctor Portal"}),w.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Sign in to manage your clinic and patients."})]}),w.jsx(Vr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:w.jsxs("div",{className:"medical-card",children:[w.jsxs("form",{className:"space-y-6",onSubmit:p,children:[a&&w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center gap-3 text-sm",children:[w.jsx(n3,{className:"w-5 h-5 flex-shrink-0"}),a]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"loginEmail",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),w.jsxs("div",{className:"relative",children:[w.jsx(_3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),w.jsx("input",{id:"loginEmail",name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"doctor@example.com",value:t,onChange:y=>e(y.target.value)})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"loginPassword",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx(y3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),w.jsx("input",{id:"loginPassword",name:"password",type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"",value:n,onChange:y=>s(y.target.value)})]})]}),w.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary py-3 text-lg",children:c?"Signing in...":"Sign In"})]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsx("p",{className:"text-xs text-slate-500",children:"Note: This portal is for authorized medical staff only."})})]})})]})},CB=({children:t,doctorOnly:e=!1})=>{const{currentUser:n,isDoctor:s}=HL();return n?e&&!s?w.jsx(JE,{to:"/"}):t:w.jsx(JE,{to:"/login"})};function IB(){return w.jsx(GL,{children:w.jsx(iN,{basename:"/Doctors",children:w.jsx("div",{className:"min-h-screen bg-slate-50",children:w.jsxs(OD,{children:[w.jsx(qo,{path:"/",element:w.jsx(f9,{})}),w.jsx(qo,{path:"/booking",element:w.jsx(EB,{})}),w.jsx(qo,{path:"/live-queue",element:w.jsx(bB,{})}),w.jsx(qo,{path:"/login",element:w.jsx(RB,{})}),w.jsx(qo,{path:"/dashboard",element:w.jsx(CB,{doctorOnly:!0,children:w.jsx(xB,{})})})]})})})})}kI.createRoot(document.getElementById("root")).render(w.jsx(P.StrictMode,{children:w.jsx(IB,{})}));

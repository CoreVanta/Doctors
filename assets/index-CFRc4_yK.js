(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var vg={exports:{}},Gc={};var pT;function BI(){if(pT)return Gc;pT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Gc.Fragment=e,Gc.jsx=n,Gc.jsxs=n,Gc}var gT;function FI(){return gT||(gT=1,vg.exports=BI()),vg.exports}var b=FI(),_g={exports:{}},Ie={};var yT;function HI(){if(yT)return Ie;yT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function M(U,B,Z){this.props=U,this.context=B,this.refs=k,this.updater=Z||I}M.prototype.isReactComponent={},M.prototype.setState=function(U,B){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,B,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=M.prototype;function q(U,B,Z){this.props=U,this.context=B,this.refs=k,this.updater=Z||I}var te=q.prototype=new z;te.constructor=q,L(te,M.prototype),te.isPureReactComponent=!0;var ne=Array.isArray;function oe(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(U,B,Z){var ce=Z.ref;return{$$typeof:t,type:U,key:B,ref:ce!==void 0?ce:null,props:Z}}function D(U,B){return C(U.type,B,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function F(U){var B={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return B[Z]})}var O=/\/+/g;function Se(U,B){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):B.toString(36)}function Ke(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(oe,oe):(U.status="pending",U.then(function(B){U.status==="pending"&&(U.status="fulfilled",U.value=B)},function(B){U.status==="pending"&&(U.status="rejected",U.reason=B)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,B,Z,ce,fe){var ye=typeof U;(ye==="undefined"||ye==="boolean")&&(U=null);var Ne=!1;if(U===null)Ne=!0;else switch(ye){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(U.$$typeof){case t:case e:Ne=!0;break;case y:return Ne=U._init,J(Ne(U._payload),B,Z,ce,fe)}}if(Ne)return fe=fe(U),Ne=ce===""?"."+Se(U,0):ce,ne(fe)?(Z="",Ne!=null&&(Z=Ne.replace(O,"$&/")+"/"),J(fe,B,Z,"",function(fs){return fs})):fe!=null&&(P(fe)&&(fe=D(fe,Z+(fe.key==null||U&&U.key===fe.key?"":(""+fe.key).replace(O,"$&/")+"/")+Ne)),B.push(fe)),1;Ne=0;var at=ce===""?".":ce+":";if(ne(U))for(var ot=0;ot<U.length;ot++)ce=U[ot],ye=at+Se(ce,ot),Ne+=J(ce,B,Z,ye,fe);else if(ot=w(U),typeof ot=="function")for(U=ot.call(U),ot=0;!(ce=U.next()).done;)ce=ce.value,ye=at+Se(ce,ot++),Ne+=J(ce,B,Z,ye,fe);else if(ye==="object"){if(typeof U.then=="function")return J(Ke(U),B,Z,ce,fe);throw B=String(U),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function le(U,B,Z){if(U==null)return U;var ce=[],fe=0;return J(U,ce,"","",function(ye){return B.call(Z,ye,fe++)}),ce}function he(U){if(U._status===-1){var B=U._result;B=B(),B.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=B)}if(U._status===1)return U._result.default;throw U._result}var be=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ce={map:le,forEach:function(U,B,Z){le(U,function(){B.apply(this,arguments)},Z)},count:function(U){var B=0;return le(U,function(){B++}),B},toArray:function(U){return le(U,function(B){return B})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ie.Activity=v,Ie.Children=Ce,Ie.Component=M,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=q,Ie.StrictMode=i,Ie.Suspense=f,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Ie.cache=function(U){return function(){return U.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(U,B,Z){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=L({},U.props),fe=U.key;if(B!=null)for(ye in B.key!==void 0&&(fe=""+B.key),B)!A.call(B,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&B.ref===void 0||(ce[ye]=B[ye]);var ye=arguments.length-2;if(ye===1)ce.children=Z;else if(1<ye){for(var Ne=Array(ye),at=0;at<ye;at++)Ne[at]=arguments[at+2];ce.children=Ne}return C(U.type,fe,ce)},Ie.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ie.createElement=function(U,B,Z){var ce,fe={},ye=null;if(B!=null)for(ce in B.key!==void 0&&(ye=""+B.key),B)A.call(B,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(fe[ce]=B[ce]);var Ne=arguments.length-2;if(Ne===1)fe.children=Z;else if(1<Ne){for(var at=Array(Ne),ot=0;ot<Ne;ot++)at[ot]=arguments[ot+2];fe.children=at}if(U&&U.defaultProps)for(ce in Ne=U.defaultProps,Ne)fe[ce]===void 0&&(fe[ce]=Ne[ce]);return C(U,ye,fe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(U){return{$$typeof:h,render:U}},Ie.isValidElement=P,Ie.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:he}},Ie.memo=function(U,B){return{$$typeof:m,type:U,compare:B===void 0?null:B}},Ie.startTransition=function(U){var B=N.T,Z={};N.T=Z;try{var ce=U(),fe=N.S;fe!==null&&fe(Z,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(oe,be)}catch(ye){be(ye)}finally{B!==null&&Z.types!==null&&(B.types=Z.types),N.T=B}},Ie.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ie.use=function(U){return N.H.use(U)},Ie.useActionState=function(U,B,Z){return N.H.useActionState(U,B,Z)},Ie.useCallback=function(U,B){return N.H.useCallback(U,B)},Ie.useContext=function(U){return N.H.useContext(U)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(U,B){return N.H.useDeferredValue(U,B)},Ie.useEffect=function(U,B){return N.H.useEffect(U,B)},Ie.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Ie.useId=function(){return N.H.useId()},Ie.useImperativeHandle=function(U,B,Z){return N.H.useImperativeHandle(U,B,Z)},Ie.useInsertionEffect=function(U,B){return N.H.useInsertionEffect(U,B)},Ie.useLayoutEffect=function(U,B){return N.H.useLayoutEffect(U,B)},Ie.useMemo=function(U,B){return N.H.useMemo(U,B)},Ie.useOptimistic=function(U,B){return N.H.useOptimistic(U,B)},Ie.useReducer=function(U,B,Z){return N.H.useReducer(U,B,Z)},Ie.useRef=function(U){return N.H.useRef(U)},Ie.useState=function(U){return N.H.useState(U)},Ie.useSyncExternalStore=function(U,B,Z){return N.H.useSyncExternalStore(U,B,Z)},Ie.useTransition=function(){return N.H.useTransition()},Ie.version="19.2.3",Ie}var vT;function Uf(){return vT||(vT=1,_g.exports=HI()),_g.exports}var V=Uf(),bg={exports:{}},Kc={},xg={exports:{}},Tg={};var _T;function qI(){return _T||(_T=1,(function(t){function e(J,le){var he=J.length;J.push(le);e:for(;0<he;){var be=he-1>>>1,Ce=J[be];if(0<a(Ce,le))J[be]=le,J[he]=Ce,he=be;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var le=J[0],he=J.pop();if(he!==le){J[0]=he;e:for(var be=0,Ce=J.length,U=Ce>>>1;be<U;){var B=2*(be+1)-1,Z=J[B],ce=B+1,fe=J[ce];if(0>a(Z,he))ce<Ce&&0>a(fe,Z)?(J[be]=fe,J[ce]=he,be=ce):(J[be]=Z,J[B]=he,be=B);else if(ce<Ce&&0>a(fe,he))J[be]=fe,J[ce]=he,be=ce;else break e}}return le}function a(J,le){var he=J.sortIndex-le.sortIndex;return he!==0?he:J.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,v=null,x=3,w=!1,I=!1,L=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function te(J){for(var le=n(m);le!==null;){if(le.callback===null)i(m);else if(le.startTime<=J)i(m),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(m)}}function ne(J){if(L=!1,te(J),!I)if(n(f)!==null)I=!0,oe||(oe=!0,F());else{var le=n(m);le!==null&&Ke(ne,le.startTime-J)}}var oe=!1,N=-1,A=5,C=-1;function D(){return k?!0:!(t.unstable_now()-C<A)}function P(){if(k=!1,oe){var J=t.unstable_now();C=J;var le=!0;try{e:{I=!1,L&&(L=!1,z(N),N=-1),w=!0;var he=x;try{t:{for(te(J),v=n(f);v!==null&&!(v.expirationTime>J&&D());){var be=v.callback;if(typeof be=="function"){v.callback=null,x=v.priorityLevel;var Ce=be(v.expirationTime<=J);if(J=t.unstable_now(),typeof Ce=="function"){v.callback=Ce,te(J),le=!0;break t}v===n(f)&&i(f),te(J)}else i(f);v=n(f)}if(v!==null)le=!0;else{var U=n(m);U!==null&&Ke(ne,U.startTime-J),le=!1}}break e}finally{v=null,x=he,w=!1}le=void 0}}finally{le?F():oe=!1}}}var F;if(typeof q=="function")F=function(){q(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Se=O.port2;O.port1.onmessage=P,F=function(){Se.postMessage(null)}}else F=function(){M(P,0)};function Ke(J,le){N=M(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var he=x;x=le;try{return J()}finally{x=he}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=x;x=J;try{return le()}finally{x=he}},t.unstable_scheduleCallback=function(J,le,he){var be=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?be+he:be):he=be,J){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=he+Ce,J={id:y++,callback:le,priorityLevel:J,startTime:he,expirationTime:Ce,sortIndex:-1},he>be?(J.sortIndex=he,e(m,J),n(f)===null&&J===n(m)&&(L?(z(N),N=-1):L=!0,Ke(ne,he-be))):(J.sortIndex=Ce,e(f,J),I||w||(I=!0,oe||(oe=!0,F()))),J},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(J){var le=x;return function(){var he=x;x=le;try{return J.apply(this,arguments)}finally{x=he}}}})(Tg)),Tg}var bT;function $I(){return bT||(bT=1,xg.exports=qI()),xg.exports}var Eg={exports:{}},on={};var xT;function GI(){if(xT)return on;xT=1;var t=Uf();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,y)},on.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},on.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},on.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},on.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},on.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},on.requestFormReset=function(f){i.d.r(f)},on.unstable_batchedUpdates=function(f,m){return f(m)},on.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.3",on}var TT;function KI(){if(TT)return Eg.exports;TT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eg.exports=GI(),Eg.exports}var ET;function YI(){if(ET)return Kc;ET=1;var t=$I(),e=Uf(),n=KI();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),s;if(g===u)return f(p),r;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=g;else{for(var T=!1,S=p.child;S;){if(S===o){T=!0,o=p,u=g;break}if(S===u){T=!0,u=p,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,u=p;break}if(S===u){T=!0,u=g,o=p;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case q:return s.displayName||"Context";case z:return(s._context.displayName||"Context")+".Consumer";case te:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return r=s.displayName||null,r!==null?r:Se(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return Se(s(r))}catch{}}return null}var Ke=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},be=[],Ce=-1;function U(s){return{current:s}}function B(s){0>Ce||(s.current=be[Ce],be[Ce]=null,Ce--)}function Z(s,r){Ce++,be[Ce]=s.current,s.current=r}var ce=U(null),fe=U(null),ye=U(null),Ne=U(null);function at(s,r){switch(Z(ye,r),Z(fe,s),Z(ce,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?jx(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=jx(r),s=Ux(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}B(ce),Z(ce,s)}function ot(){B(ce),B(fe),B(ye)}function fs(s){s.memoizedState!==null&&Z(Ne,s);var r=ce.current,o=Ux(r,s.type);r!==o&&(Z(fe,s),Z(ce,o))}function oa(s){fe.current===s&&(B(ce),B(fe)),Ne.current===s&&(B(Ne),Fc._currentValue=he)}var ho,fo;function Ni(s){if(ho===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ho=r&&r[1]||"",fo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ho+s+fo}var Fl=!1;function la(s,r){if(!s||Fl)return"";Fl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Q=X}Reflect.construct(s,[],se)}else{try{se.call()}catch(X){Q=X}s.call(se.prototype)}}else{try{throw Error()}catch(X){Q=X}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var j=T.split(`
`),Y=S.split(`
`);for(p=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(u===j.length||p===Y.length)for(u=j.length-1,p=Y.length-1;1<=u&&0<=p&&j[u]!==Y[p];)p--;for(;1<=u&&0<=p;u--,p--)if(j[u]!==Y[p]){if(u!==1||p!==1)do if(u--,p--,0>p||j[u]!==Y[p]){var ee=`
`+j[u].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=u&&0<=p);break}}}finally{Fl=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Ni(o):""}function Hl(s,r){switch(s.tag){case 26:case 27:case 5:return Ni(s.type);case 16:return Ni("Lazy");case 13:return s.child!==r&&r!==null?Ni("Suspense Fallback"):Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return la(s.type,!1);case 11:return la(s.type.render,!1);case 1:return la(s.type,!0);case 31:return Ni("Activity");default:return""}}function ql(s){try{var r="",o=null;do r+=Hl(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Rt=Object.prototype.hasOwnProperty,Bt=t.unstable_scheduleCallback,Ys=t.unstable_cancelCallback,bm=t.unstable_shouldYield,eh=t.unstable_requestPaint,mn=t.unstable_now,ca=t.unstable_getCurrentPriorityLevel,$l=t.unstable_ImmediatePriority,Gl=t.unstable_UserBlockingPriority,Qs=t.unstable_NormalPriority,xm=t.unstable_LowPriority,th=t.unstable_IdlePriority,nh=t.log,ih=t.unstable_setDisableYieldValue,li=null,Jt=null;function qn(s){if(typeof nh=="function"&&ih(s),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(li,s)}catch{}}var Tt=Math.clz32?Math.clz32:rh,sh=Math.log,mo=Math.LN2;function rh(s){return s>>>=0,s===0?32:31-(sh(s)/mo|0)|0}var Ii=256,ua=262144,Ct=4194304;function Di(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Oi(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?p=Di(u):(T&=S,T!==0?p=Di(T):o||(o=S&~s,o!==0&&(p=Di(o))))):(S=u&~g,S!==0?p=Di(S):T!==0?p=Di(T):o||(o=u&~s,o!==0&&(p=Di(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function ci(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Tm(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ah(){var s=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),s}function Pi(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ha(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Em(s,r,o,u,p,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,j=s.expirationTimes,Y=s.hiddenUpdates;for(o=T&~o;0<o;){var ee=31-Tt(o),se=1<<ee;S[ee]=0,j[ee]=-1;var Q=Y[ee];if(Q!==null)for(Y[ee]=null,ee=0;ee<Q.length;ee++){var X=Q[ee];X!==null&&(X.lane&=-536870913)}o&=~se}u!==0&&da(s,u,0),g!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function da(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Tt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Kl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-Tt(o),p=1<<u;p&r|s[u]&r&&(s[u]|=r),o&=~p}}function Yl(s,r){var o=r&-r;return o=(o&42)!==0?1:fa(o),(o&(s.suspendedLanes|r))!==0?0:o}function fa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ms(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function oh(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:lT(s.type))}function ui(s,r){var o=le.p;try{return le.p=s,r()}finally{le.p=o}}var hi=Math.random().toString(36).slice(2),Nt="__reactFiber$"+hi,Gt="__reactProps$"+hi,ki="__reactContainer$"+hi,po="__reactEvents$"+hi,wm="__reactListeners$"+hi,lh="__reactHandles$"+hi,ch="__reactResources$"+hi,Mi="__reactMarker$"+hi;function go(s){delete s[Nt],delete s[Gt],delete s[po],delete s[wm],delete s[lh]}function Vi(s){var r=s[Nt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[ki]||o[Nt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=Gx(s);s!==null;){if(o=s[Nt])return o;s=Gx(s)}return r}s=o,o=s.parentNode}return null}function $n(s){if(s=s[Nt]||s[ki]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Dn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Li(s){var r=s[ch];return r||(r=s[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(s){s[Mi]=!0}var Ql=new Set,Wl={};function ji(s,r){Ui(s,r),Ui(s+"Capture",r)}function Ui(s,r){for(Wl[s]=r,s=0;s<r.length;s++)Ql.add(r[s])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},Zl={};function uh(s){return Rt.call(Zl,s)?!0:Rt.call(Jl,s)?!1:Xl.test(s)?Zl[s]=!0:(Jl[s]=!0,!1)}function yo(s,r,o){if(uh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function On(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Dt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Kt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ws(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ec(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Xe(s){if(!s._valueTracker){var r=Ws(s)?"checked":"value";s._valueTracker=ec(s,r,""+s[r])}}function ma(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=Ws(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function zi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pa=/[\n"\\]/g;function _n(s){return s.replace(pa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vo(s,r,o,u,p,g,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Kt(r)):s.value!==""+Kt(r)&&(s.value=""+Kt(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?tc(s,T,Kt(r)):o!=null?tc(s,T,Kt(o)):u!=null&&s.removeAttribute("value"),p==null&&g!=null&&(s.defaultChecked=!!g),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Kt(S):s.removeAttribute("name")}function hh(s,r,o,u,p,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xe(s);return}o=o!=null?""+Kt(o):"",r=r!=null?""+Kt(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Xe(s)}function tc(s,r,o){r==="number"&&zi(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Xs(s,r,o,u){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Kt(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function dh(s,r,o){if(r!=null&&(r=""+Kt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Kt(o):""}function Js(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ke(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Kt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),Xe(s)}function bn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var fh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||fh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function ic(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&nc(s,p,u)}else for(var g in r)r.hasOwnProperty(g)&&nc(s,g,r[g])}function _o(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(s){return Zs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function di(){}var sc=null;function Gn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var er=null,Bi=null;function ga(s){var r=$n(s);if(r&&(s=r.stateNode)){var o=s[Gt]||null;e:switch(s=r.stateNode,r.type){case"input":if(vo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var p=u[Gt]||null;if(!p)throw Error(i(90));vo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&ma(u)}break e;case"textarea":dh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Xs(s,!!o.multiple,r,!1)}}}var xo=!1;function tr(s,r,o){if(xo)return s(r,o);xo=!0;try{var u=s(r);return u}finally{if(xo=!1,(er!==null||Bi!==null)&&(od(),er&&(r=er,s=Bi,Bi=er=null,ga(r),s)))for(r=0;r<s.length;r++)ga(s[r])}}function fi(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Gt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(Kn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ya=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ya=!1}var Fi=null,rc=null,va=null;function ac(){if(va)return va;var s,r=rc,o=r.length,u,p="value"in Fi?Fi.value:Fi.textContent,g=p.length;for(s=0;s<o&&r[s]===p[s];s++);var T=o-s;for(u=1;u<=T&&r[o-u]===p[g-u];u++);return va=p.slice(s,1<u?1-u:void 0)}function _a(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ps(){return!0}function mi(){return!1}function Zt(s){function r(o,u,p,g,T){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ps:mi,this.isPropagationStopped=mi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),r}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Zt(gs),nr=v({},gs,{view:0,detail:0}),oc=Zt(nr),ir,To,qi,Eo=v({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qi&&(qi&&s.type==="mousemove"?(ir=s.screenX-qi.screenX,To=s.screenY-qi.screenY):To=ir=0,qi=s),ir)},movementY:function(s){return"movementY"in s?s.movementY:To}}),lc=Zt(Eo),ba=v({},Eo,{dataTransfer:0}),ph=Zt(ba),gh=v({},nr,{relatedTarget:0}),xa=Zt(gh),cc=v({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),yh=Zt(cc),wo=v({},gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vh=Zt(wo),_h=v({},gs,{data:0}),$i=Zt(_h),bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Th[s])?!!r[s]:!1}function sr(){return Eh}var pn=v({},nr,{key:function(s){if(s.key){var r=bh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=_a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(s){return s.type==="keypress"?_a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),wh=Zt(pn),Sh=v({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=Zt(Sh),d=v({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),_=Zt(d),E=v({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Zt(E),G=v({},Eo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Zt(G),ue=v({},gs,{newState:0,oldState:0}),Oe=Zt(ue),Et=[9,13,27,32],Ye=Kn&&"CompositionEvent"in window,dt=null;Kn&&"documentMode"in document&&(dt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!dt,Gi=Kn&&(!Ye||dt&&8<dt&&11>=dt),pi=" ",gi=!1;function Ta(s,r){switch(s){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function So(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ao=!1;function hN(s,r){switch(s){case"compositionend":return So(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return s=r.data,s===pi&&gi?null:s;default:return null}}function dN(s,r){if(Ao)return s==="compositionend"||!Ye&&Ta(s,r)?(s=ac(),va=rc=Fi=null,Ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gi&&r.locale!=="ko"?null:r.data;default:return null}}var fN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!fN[s.type]:r==="textarea"}function Wv(s,r,o,u){er?Bi?Bi.push(u):Bi=[u]:er=u,r=md(r,"onChange"),0<r.length&&(o=new Hi("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var uc=null,hc=null;function mN(s){Ox(s,0)}function Ah(s){var r=Dn(s);if(ma(r))return s}function Xv(s,r){if(s==="change")return r}var Jv=!1;if(Kn){var Sm;if(Kn){var Am="oninput"in document;if(!Am){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),Am=typeof Zv.oninput=="function"}Sm=Am}else Sm=!1;Jv=Sm&&(!document.documentMode||9<document.documentMode)}function e_(){uc&&(uc.detachEvent("onpropertychange",t_),hc=uc=null)}function t_(s){if(s.propertyName==="value"&&Ah(hc)){var r=[];Wv(r,hc,s,Gn(s)),tr(mN,r)}}function pN(s,r,o){s==="focusin"?(e_(),uc=r,hc=o,uc.attachEvent("onpropertychange",t_)):s==="focusout"&&e_()}function gN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ah(hc)}function yN(s,r){if(s==="click")return Ah(r)}function vN(s,r){if(s==="input"||s==="change")return Ah(r)}function _N(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Pn=typeof Object.is=="function"?Object.is:_N;function dc(s,r){if(Pn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Rt.call(r,p)||!Pn(s[p],r[p]))return!1}return!0}function n_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function i_(s,r){var o=n_(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=n_(o)}}function s_(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?s_(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function r_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=zi(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=zi(s.document)}return r}function Rm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var bN=Kn&&"documentMode"in document&&11>=document.documentMode,Ro=null,Cm=null,fc=null,Nm=!1;function a_(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nm||Ro==null||Ro!==zi(u)||(u=Ro,"selectionStart"in u&&Rm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fc&&dc(fc,u)||(fc=u,u=md(Cm,"onSelect"),0<u.length&&(r=new Hi("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Ro)))}function Ea(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Co={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},Im={},o_={};Kn&&(o_=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function wa(s){if(Im[s])return Im[s];if(!Co[s])return s;var r=Co[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in o_)return Im[s]=r[o];return s}var l_=wa("animationend"),c_=wa("animationiteration"),u_=wa("animationstart"),xN=wa("transitionrun"),TN=wa("transitionstart"),EN=wa("transitioncancel"),h_=wa("transitionend"),d_=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function yi(s,r){d_.set(s,r),ji(r,[s])}var Rh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Qn=[],No=0,Om=0;function Ch(){for(var s=No,r=Om=No=0;r<s;){var o=Qn[r];Qn[r++]=null;var u=Qn[r];Qn[r++]=null;var p=Qn[r];Qn[r++]=null;var g=Qn[r];if(Qn[r++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}g!==0&&f_(o,p,g)}}function Nh(s,r,o,u){Qn[No++]=s,Qn[No++]=r,Qn[No++]=o,Qn[No++]=u,Om|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Pm(s,r,o,u){return Nh(s,r,o,u),Ih(s)}function Sa(s,r){return Nh(s,null,null,r),Ih(s)}function f_(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=s.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(p=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,p&&r!==null&&(p=31-Tt(o),s=g.hiddenUpdates,u=s[p],u===null?s[p]=[r]:u.push(r),r.lane=o|536870912),g):null}function Ih(s){if(50<Mc)throw Mc=0,Fp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Io={};function wN(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,r,o,u){return new wN(s,r,o,u)}function km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vs(s,r){var o=s.alternate;return o===null?(o=kn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function m_(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Dh(s,r,o,u,p,g){var T=0;if(u=s,typeof s=="function")km(s)&&(T=1);else if(typeof s=="string")T=NI(s,o,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=kn(31,o,r,p),s.elementType=C,s.lanes=g,s;case L:return Aa(o.children,p,g,r);case k:T=8,p|=24;break;case M:return s=kn(12,o,r,p|2),s.elementType=M,s.lanes=g,s;case ne:return s=kn(13,o,r,p),s.elementType=ne,s.lanes=g,s;case oe:return s=kn(19,o,r,p),s.elementType=oe,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:T=10;break e;case z:T=9;break e;case te:T=11;break e;case N:T=14;break e;case A:T=16,u=null;break e}T=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=kn(T,o,r,p),r.elementType=s,r.type=u,r.lanes=g,r}function Aa(s,r,o,u){return s=kn(7,s,u,r),s.lanes=o,s}function Mm(s,r,o){return s=kn(6,s,null,r),s.lanes=o,s}function p_(s){var r=kn(18,null,null,0);return r.stateNode=s,r}function Vm(s,r,o){return r=kn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var g_=new WeakMap;function Wn(s,r){if(typeof s=="object"&&s!==null){var o=g_.get(s);return o!==void 0?o:(r={value:s,source:r,stack:ql(r)},g_.set(s,r),r)}return{value:s,source:r,stack:ql(r)}}var Do=[],Oo=0,Oh=null,mc=0,Xn=[],Jn=0,rr=null,Ki=1,Yi="";function _s(s,r){Do[Oo++]=mc,Do[Oo++]=Oh,Oh=s,mc=r}function y_(s,r,o){Xn[Jn++]=Ki,Xn[Jn++]=Yi,Xn[Jn++]=rr,rr=s;var u=Ki;s=Yi;var p=32-Tt(u)-1;u&=~(1<<p),o+=1;var g=32-Tt(r)+p;if(30<g){var T=p-p%5;g=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Ki=1<<32-Tt(r)+p|o<<p|u,Yi=g+s}else Ki=1<<g|o<<p|u,Yi=s}function Lm(s){s.return!==null&&(_s(s,1),y_(s,1,0))}function jm(s){for(;s===Oh;)Oh=Do[--Oo],Do[Oo]=null,mc=Do[--Oo],Do[Oo]=null;for(;s===rr;)rr=Xn[--Jn],Xn[Jn]=null,Yi=Xn[--Jn],Xn[Jn]=null,Ki=Xn[--Jn],Xn[Jn]=null}function v_(s,r){Xn[Jn++]=Ki,Xn[Jn++]=Yi,Xn[Jn++]=rr,Ki=r.id,Yi=r.overflow,rr=s}var en=null,ut=null,Fe=!1,ar=null,Zn=!1,Um=Error(i(519));function or(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pc(Wn(r,s)),Um}function __(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Nt]=s,r[Gt]=u,o){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(o=0;o<Lc.length;o++)Ve(Lc[o],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),hh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Js(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Vx(r.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),u.onScroll!=null&&Ve("scroll",r),u.onScrollEnd!=null&&Ve("scrollend",r),u.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||or(s,!0)}function b_(s){for(en=s.return;en;)switch(en.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:en=en.return}}function Po(s){if(s!==en)return!1;if(!Fe)return b_(s),Fe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||ig(s.type,s.memoizedProps)),o=!o),o&&ut&&or(s),b_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ut=$x(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ut=$x(s)}else r===27?(r=ut,xr(s.type)?(s=lg,lg=null,ut=s):ut=r):ut=en?ti(s.stateNode.nextSibling):null;return!0}function Ra(){ut=en=null,Fe=!1}function zm(){var s=ar;return s!==null&&(wn===null?wn=s:wn.push.apply(wn,s),ar=null),s}function pc(s){ar===null?ar=[s]:ar.push(s)}var Bm=U(null),Ca=null,bs=null;function lr(s,r,o){Z(Bm,r._currentValue),r._currentValue=o}function xs(s){s._currentValue=Bm.current,B(Bm)}function Fm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Hm(s,r,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=p;for(var j=0;j<r.length;j++)if(S.context===r[j]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Fm(g.return,o,s),u||(T=null);break e}g=S.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Fm(T,o,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function ko(s,r,o,u){s=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=p.type;Pn(p.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(p===Ne.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Fc):s=[Fc])}p=p.return}s!==null&&Hm(r,s,o,u),r.flags|=262144}function Ph(s){for(s=s.firstContext;s!==null;){if(!Pn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Na(s){Ca=s,bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function tn(s){return x_(Ca,s)}function kh(s,r){return Ca===null&&Na(s),x_(s,r)}function x_(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},bs===null){if(s===null)throw Error(i(308));bs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else bs=bs.next=r;return o}var SN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},AN=t.unstable_scheduleCallback,RN=t.unstable_NormalPriority,Ot={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new SN,data:new Map,refCount:0}}function gc(s){s.refCount--,s.refCount===0&&AN(RN,function(){s.controller.abort()})}var yc=null,$m=0,Mo=0,Vo=null;function CN(s,r){if(yc===null){var o=yc=[];$m=0,Mo=Yp(),Vo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $m++,r.then(T_,T_),r}function T_(){if(--$m===0&&yc!==null){Vo!==null&&(Vo.status="fulfilled");var s=yc;yc=null,Mo=0,Vo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function NN(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var E_=J.S;J.S=function(s,r){ax=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&CN(s,r),E_!==null&&E_(s,r)};var Ia=U(null);function Gm(){var s=Ia.current;return s!==null?s:lt.pooledCache}function Mh(s,r){r===null?Z(Ia,Ia.current):Z(Ia,r.pool)}function w_(){var s=Gm();return s===null?null:{parent:Ot._currentValue,pool:s}}var Lo=Error(i(460)),Km=Error(i(474)),Vh=Error(i(542)),Lh={then:function(){}};function S_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function A_(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,C_(s),s;default:if(typeof r.status=="string")r.then(di,di);else{if(s=lt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,C_(s),s}throw Oa=r,Lo}}function Da(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Oa=o,Lo):o}}var Oa=null;function R_(){if(Oa===null)throw Error(i(459));var s=Oa;return Oa=null,s}function C_(s){if(s===Lo||s===Vh)throw Error(i(483))}var jo=null,vc=0;function jh(s){var r=vc;return vc+=1,jo===null&&(jo=[]),A_(jo,s,r)}function _c(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Uh(s,r){throw r.$$typeof===x?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function N_(s){function r($,H){if(s){var K=$.deletions;K===null?($.deletions=[H],$.flags|=16):K.push(H)}}function o($,H){if(!s)return null;for(;H!==null;)r($,H),H=H.sibling;return null}function u($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function p($,H){return $=vs($,H),$.index=0,$.sibling=null,$}function g($,H,K){return $.index=K,s?(K=$.alternate,K!==null?(K=K.index,K<H?($.flags|=67108866,H):K):($.flags|=67108866,H)):($.flags|=1048576,H)}function T($){return s&&$.alternate===null&&($.flags|=67108866),$}function S($,H,K,ie){return H===null||H.tag!==6?(H=Mm(K,$.mode,ie),H.return=$,H):(H=p(H,K),H.return=$,H)}function j($,H,K,ie){var _e=K.type;return _e===L?ee($,H,K.props.children,ie,K.key):H!==null&&(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Da(_e)===H.type)?(H=p(H,K.props),_c(H,K),H.return=$,H):(H=Dh(K.type,K.key,K.props,null,$.mode,ie),_c(H,K),H.return=$,H)}function Y($,H,K,ie){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Vm(K,$.mode,ie),H.return=$,H):(H=p(H,K.children||[]),H.return=$,H)}function ee($,H,K,ie,_e){return H===null||H.tag!==7?(H=Aa(K,$.mode,ie,_e),H.return=$,H):(H=p(H,K),H.return=$,H)}function se($,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Mm(""+H,$.mode,K),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return K=Dh(H.type,H.key,H.props,null,$.mode,K),_c(K,H),K.return=$,K;case I:return H=Vm(H,$.mode,K),H.return=$,H;case A:return H=Da(H),se($,H,K)}if(Ke(H)||F(H))return H=Aa(H,$.mode,K,null),H.return=$,H;if(typeof H.then=="function")return se($,jh(H),K);if(H.$$typeof===q)return se($,kh($,H),K);Uh($,H)}return null}function Q($,H,K,ie){var _e=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return _e!==null?null:S($,H,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===_e?j($,H,K,ie):null;case I:return K.key===_e?Y($,H,K,ie):null;case A:return K=Da(K),Q($,H,K,ie)}if(Ke(K)||F(K))return _e!==null?null:ee($,H,K,ie,null);if(typeof K.then=="function")return Q($,H,jh(K),ie);if(K.$$typeof===q)return Q($,H,kh($,K),ie);Uh($,K)}return null}function X($,H,K,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(K)||null,S(H,$,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return $=$.get(ie.key===null?K:ie.key)||null,j(H,$,ie,_e);case I:return $=$.get(ie.key===null?K:ie.key)||null,Y(H,$,ie,_e);case A:return ie=Da(ie),X($,H,K,ie,_e)}if(Ke(ie)||F(ie))return $=$.get(K)||null,ee(H,$,ie,_e,null);if(typeof ie.then=="function")return X($,H,K,jh(ie),_e);if(ie.$$typeof===q)return X($,H,K,kh(H,ie),_e);Uh(H,ie)}return null}function pe($,H,K,ie){for(var _e=null,$e=null,ge=H,ke=H=0,je=null;ge!==null&&ke<K.length;ke++){ge.index>ke?(je=ge,ge=null):je=ge.sibling;var Ge=Q($,ge,K[ke],ie);if(Ge===null){ge===null&&(ge=je);break}s&&ge&&Ge.alternate===null&&r($,ge),H=g(Ge,H,ke),$e===null?_e=Ge:$e.sibling=Ge,$e=Ge,ge=je}if(ke===K.length)return o($,ge),Fe&&_s($,ke),_e;if(ge===null){for(;ke<K.length;ke++)ge=se($,K[ke],ie),ge!==null&&(H=g(ge,H,ke),$e===null?_e=ge:$e.sibling=ge,$e=ge);return Fe&&_s($,ke),_e}for(ge=u(ge);ke<K.length;ke++)je=X(ge,$,ke,K[ke],ie),je!==null&&(s&&je.alternate!==null&&ge.delete(je.key===null?ke:je.key),H=g(je,H,ke),$e===null?_e=je:$e.sibling=je,$e=je);return s&&ge.forEach(function(Ar){return r($,Ar)}),Fe&&_s($,ke),_e}function xe($,H,K,ie){if(K==null)throw Error(i(151));for(var _e=null,$e=null,ge=H,ke=H=0,je=null,Ge=K.next();ge!==null&&!Ge.done;ke++,Ge=K.next()){ge.index>ke?(je=ge,ge=null):je=ge.sibling;var Ar=Q($,ge,Ge.value,ie);if(Ar===null){ge===null&&(ge=je);break}s&&ge&&Ar.alternate===null&&r($,ge),H=g(Ar,H,ke),$e===null?_e=Ar:$e.sibling=Ar,$e=Ar,ge=je}if(Ge.done)return o($,ge),Fe&&_s($,ke),_e;if(ge===null){for(;!Ge.done;ke++,Ge=K.next())Ge=se($,Ge.value,ie),Ge!==null&&(H=g(Ge,H,ke),$e===null?_e=Ge:$e.sibling=Ge,$e=Ge);return Fe&&_s($,ke),_e}for(ge=u(ge);!Ge.done;ke++,Ge=K.next())Ge=X(ge,$,ke,Ge.value,ie),Ge!==null&&(s&&Ge.alternate!==null&&ge.delete(Ge.key===null?ke:Ge.key),H=g(Ge,H,ke),$e===null?_e=Ge:$e.sibling=Ge,$e=Ge);return s&&ge.forEach(function(zI){return r($,zI)}),Fe&&_s($,ke),_e}function rt($,H,K,ie){if(typeof K=="object"&&K!==null&&K.type===L&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var _e=K.key;H!==null;){if(H.key===_e){if(_e=K.type,_e===L){if(H.tag===7){o($,H.sibling),ie=p(H,K.props.children),ie.return=$,$=ie;break e}}else if(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Da(_e)===H.type){o($,H.sibling),ie=p(H,K.props),_c(ie,K),ie.return=$,$=ie;break e}o($,H);break}else r($,H);H=H.sibling}K.type===L?(ie=Aa(K.props.children,$.mode,ie,K.key),ie.return=$,$=ie):(ie=Dh(K.type,K.key,K.props,null,$.mode,ie),_c(ie,K),ie.return=$,$=ie)}return T($);case I:e:{for(_e=K.key;H!==null;){if(H.key===_e)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){o($,H.sibling),ie=p(H,K.children||[]),ie.return=$,$=ie;break e}else{o($,H);break}else r($,H);H=H.sibling}ie=Vm(K,$.mode,ie),ie.return=$,$=ie}return T($);case A:return K=Da(K),rt($,H,K,ie)}if(Ke(K))return pe($,H,K,ie);if(F(K)){if(_e=F(K),typeof _e!="function")throw Error(i(150));return K=_e.call(K),xe($,H,K,ie)}if(typeof K.then=="function")return rt($,H,jh(K),ie);if(K.$$typeof===q)return rt($,H,kh($,K),ie);Uh($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(o($,H.sibling),ie=p(H,K),ie.return=$,$=ie):(o($,H),ie=Mm(K,$.mode,ie),ie.return=$,$=ie),T($)):o($,H)}return function($,H,K,ie){try{vc=0;var _e=rt($,H,K,ie);return jo=null,_e}catch(ge){if(ge===Lo||ge===Vh)throw ge;var $e=kn(29,ge,null,$.mode);return $e.lanes=ie,$e.return=$,$e}}}var Pa=N_(!0),I_=N_(!1),cr=!1;function Ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ur(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function hr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=Ih(s),f_(s,null,o),r}return Nh(s,u,r,o),Ih(s)}function bc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Kl(s,o)}}function Wm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Xm=!1;function xc(){if(Xm){var s=Vo;if(s!==null)throw s}}function Tc(s,r,o,u){Xm=!1;var p=s.updateQueue;cr=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var j=S,Y=j.next;j.next=null,T===null?g=Y:T.next=Y,T=j;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==T&&(S===null?ee.firstBaseUpdate=Y:S.next=Y,ee.lastBaseUpdate=j))}if(g!==null){var se=p.baseState;T=0,ee=Y=j=null,S=g;do{var Q=S.lane&-536870913,X=Q!==S.lane;if(X?(Le&Q)===Q:(u&Q)===Q){Q!==0&&Q===Mo&&(Xm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=s,xe=S;Q=r;var rt=o;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){se=pe.call(rt,se,Q);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,Q=typeof pe=="function"?pe.call(rt,se,Q):pe,Q==null)break e;se=v({},se,Q);break e;case 2:cr=!0}}Q=S.callback,Q!==null&&(s.flags|=64,X&&(s.flags|=8192),X=p.callbacks,X===null?p.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(Y=ee=X,j=se):ee=ee.next=X,T|=Q;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;X=S,S=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);ee===null&&(j=se),p.baseState=j,p.firstBaseUpdate=Y,p.lastBaseUpdate=ee,g===null&&(p.shared.lanes=0),gr|=T,s.lanes=T,s.memoizedState=se}}function D_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function O_(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)D_(o[s],r)}var Uo=U(null),zh=U(0);function P_(s,r){s=Is,Z(zh,s),Z(Uo,r),Is=s|r.baseLanes}function Jm(){Z(zh,Is),Z(Uo,Uo.current)}function Zm(){Is=zh.current,B(Uo),B(zh)}var Mn=U(null),ei=null;function dr(s){var r=s.alternate;Z(wt,wt.current&1),Z(Mn,s),ei===null&&(r===null||Uo.current!==null||r.memoizedState!==null)&&(ei=s)}function ep(s){Z(wt,wt.current),Z(Mn,s),ei===null&&(ei=s)}function k_(s){s.tag===22?(Z(wt,wt.current),Z(Mn,s),ei===null&&(ei=s)):fr()}function fr(){Z(wt,wt.current),Z(Mn,Mn.current)}function Vn(s){B(Mn),ei===s&&(ei=null),B(wt)}var wt=U(0);function Bh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ag(o)||og(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ts=0,Pe=null,it=null,Pt=null,Fh=!1,zo=!1,ka=!1,Hh=0,Ec=0,Bo=null,IN=0;function _t(){throw Error(i(321))}function tp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Pn(s[o],r[o]))return!1;return!0}function np(s,r,o,u,p,g){return Ts=g,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=s===null||s.memoizedState===null?yb:yp,ka=!1,g=o(u,p),ka=!1,zo&&(g=V_(r,o,u,p)),M_(s),g}function M_(s){J.H=Ac;var r=it!==null&&it.next!==null;if(Ts=0,Pt=it=Pe=null,Fh=!1,Ec=0,Bo=null,r)throw Error(i(300));s===null||kt||(s=s.dependencies,s!==null&&Ph(s)&&(kt=!0))}function V_(s,r,o,u){Pe=s;var p=0;do{if(zo&&(Bo=null),Ec=0,zo=!1,25<=p)throw Error(i(301));if(p+=1,Pt=it=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=vb,g=r(o,u)}while(zo);return g}function DN(){var s=J.H,r=s.useState()[0];return r=typeof r.then=="function"?wc(r):r,s=s.useState()[0],(it!==null?it.memoizedState:null)!==s&&(Pe.flags|=1024),r}function ip(){var s=Hh!==0;return Hh=0,s}function sp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function rp(s){if(Fh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Fh=!1}Ts=0,Pt=it=Pe=null,zo=!1,Ec=Hh=0,Bo=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function St(){if(it===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=it.next;var r=Pt===null?Pe.memoizedState:Pt.next;if(r!==null)Pt=r,it=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));it=s,s={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(s){var r=Ec;return Ec+=1,Bo===null&&(Bo=[]),s=A_(Bo,s,r),r=Pe,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?yb:yp),s}function $h(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wc(s);if(s.$$typeof===q)return tn(s)}throw Error(i(438,String(s)))}function ap(s){var r=null,o=Pe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=qh(),Pe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=D;return r.index++,o}function Es(s,r){return typeof r=="function"?r(s):r}function Gh(s){var r=St();return op(r,it,s)}function op(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=s.baseQueue,g=u.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}r.baseQueue=p=g,u.pending=null}if(g=s.baseState,p===null)s.memoizedState=g;else{r=p.next;var S=T=null,j=null,Y=r,ee=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Le&se)===se:(Ts&se)===se){var Q=Y.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===Mo&&(ee=!0);else if((Ts&Q)===Q){Y=Y.next,Q===Mo&&(ee=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(S=j=se,T=g):j=j.next=se,Pe.lanes|=Q,gr|=Q;se=Y.action,ka&&o(g,se),g=Y.hasEagerState?Y.eagerState:o(g,se)}else Q={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(S=j=Q,T=g):j=j.next=Q,Pe.lanes|=se,gr|=se;Y=Y.next}while(Y!==null&&Y!==r);if(j===null?T=g:j.next=S,!Pn(g,s.memoizedState)&&(kt=!0,ee&&(o=Vo,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=j,u.lastRenderedState=g}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function lp(s){var r=St(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do g=s(g,T.action),T=T.next;while(T!==p);Pn(g,r.memoizedState)||(kt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function L_(s,r,o){var u=Pe,p=St(),g=Fe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!Pn((it||p).memoizedState,o);if(T&&(p.memoizedState=o,kt=!0),p=p.queue,hp(z_.bind(null,u,p,s),[s]),p.getSnapshot!==r||T||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Fo(9,{destroy:void 0},U_.bind(null,u,p,o,r),null),lt===null)throw Error(i(349));g||(Ts&127)!==0||j_(u,r,o)}return o}function j_(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Pe.updateQueue,r===null?(r=qh(),Pe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function U_(s,r,o,u){r.value=o,r.getSnapshot=u,B_(r)&&F_(s)}function z_(s,r,o){return o(function(){B_(r)&&F_(s)})}function B_(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Pn(s,o)}catch{return!0}}function F_(s){var r=Sa(s,2);r!==null&&Sn(r,s,2)}function cp(s){var r=gn();if(typeof s=="function"){var o=s;if(s=o(),ka){qn(!0);try{o()}finally{qn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:s},r}function H_(s,r,o,u){return s.baseState=o,op(s,it,typeof u=="function"?u:Es)}function ON(s,r,o,u,p){if(Qh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,q_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function q_(s,r){var o=r.action,u=r.payload,p=s.state;if(r.isTransition){var g=J.T,T={};J.T=T;try{var S=o(p,u),j=J.S;j!==null&&j(T,S),$_(s,r,S)}catch(Y){up(s,r,Y)}finally{g!==null&&T.types!==null&&(g.types=T.types),J.T=g}}else try{g=o(p,u),$_(s,r,g)}catch(Y){up(s,r,Y)}}function $_(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){G_(s,r,u)},function(u){return up(s,r,u)}):G_(s,r,o)}function G_(s,r,o){r.status="fulfilled",r.value=o,K_(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,q_(s,o)))}function up(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,K_(r),r=r.next;while(r!==u)}s.action=null}function K_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Y_(s,r){return r}function Q_(s,r){if(Fe){var o=lt.formState;if(o!==null){e:{var u=Pe;if(Fe){if(ut){t:{for(var p=ut,g=Zn;p.nodeType!==8;){if(!g){p=null;break t}if(p=ti(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){ut=ti(p.nextSibling),u=p.data==="F!";break e}}or(u)}u=!1}u&&(r=o[0])}}return o=gn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y_,lastRenderedState:r},o.queue=u,o=mb.bind(null,Pe,u),u.dispatch=o,u=cp(!1),g=gp.bind(null,Pe,!1,u.queue),u=gn(),p={state:r,dispatch:null,action:s,pending:null},u.queue=p,o=ON.bind(null,Pe,p,g,o),p.dispatch=o,u.memoizedState=s,[r,o,!1]}function W_(s){var r=St();return X_(r,it,s)}function X_(s,r,o){if(r=op(s,r,Y_)[0],s=Gh(Es)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=wc(r)}catch(T){throw T===Lo?Vh:T}else u=r;r=St();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Pe.flags|=2048,Fo(9,{destroy:void 0},PN.bind(null,p,o),null)),[u,g,s]}function PN(s,r){s.action=r}function J_(s){var r=St(),o=it;if(o!==null)return X_(r,o,s);St(),r=r.memoizedState,o=St();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Fo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=qh(),Pe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function Z_(){return St().memoizedState}function Kh(s,r,o,u){var p=gn();Pe.flags|=s,p.memoizedState=Fo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Yh(s,r,o,u){var p=St();u=u===void 0?null:u;var g=p.memoizedState.inst;it!==null&&u!==null&&tp(u,it.memoizedState.deps)?p.memoizedState=Fo(r,g,o,u):(Pe.flags|=s,p.memoizedState=Fo(1|r,g,o,u))}function eb(s,r){Kh(8390656,8,s,r)}function hp(s,r){Yh(2048,8,s,r)}function kN(s){Pe.flags|=4;var r=Pe.updateQueue;if(r===null)r=qh(),Pe.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function tb(s){var r=St().memoizedState;return kN({ref:r,nextImpl:s}),function(){if((Qe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function nb(s,r){return Yh(4,2,s,r)}function ib(s,r){return Yh(4,4,s,r)}function sb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function rb(s,r,o){o=o!=null?o.concat([s]):null,Yh(4,4,sb.bind(null,r,s),o)}function dp(){}function ab(s,r){var o=St();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&tp(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function ob(s,r){var o=St();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&tp(r,u[1]))return u[0];if(u=s(),ka){qn(!0);try{s()}finally{qn(!1)}}return o.memoizedState=[u,r],u}function fp(s,r,o){return o===void 0||(Ts&1073741824)!==0&&(Le&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=lx(),Pe.lanes|=s,gr|=s,o)}function lb(s,r,o,u){return Pn(o,r)?o:Uo.current!==null?(s=fp(s,o,u),Pn(s,r)||(kt=!0),s):(Ts&42)===0||(Ts&1073741824)!==0&&(Le&261930)===0?(kt=!0,s.memoizedState=o):(s=lx(),Pe.lanes|=s,gr|=s,r)}function cb(s,r,o,u,p){var g=le.p;le.p=g!==0&&8>g?g:8;var T=J.T,S={};J.T=S,gp(s,!1,r,o);try{var j=p(),Y=J.S;if(Y!==null&&Y(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=NN(j,u);Sc(s,r,ee,Un(s))}else Sc(s,r,u,Un(s))}catch(se){Sc(s,r,{then:function(){},status:"rejected",reason:se},Un())}finally{le.p=g,T!==null&&S.types!==null&&(T.types=S.types),J.T=T}}function MN(){}function mp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var p=ub(s).queue;cb(s,p,r,he,o===null?MN:function(){return hb(s),o(u)})}function ub(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function hb(s){var r=ub(s);r.next===null&&(r=s.alternate.memoizedState),Sc(s,r.next.queue,{},Un())}function pp(){return tn(Fc)}function db(){return St().memoizedState}function fb(){return St().memoizedState}function VN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Un();s=ur(o);var u=hr(r,s,o);u!==null&&(Sn(u,r,o),bc(u,r,o)),r={cache:qm()},s.payload=r;return}r=r.return}}function LN(s,r,o){var u=Un();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qh(s)?pb(r,o):(o=Pm(s,r,o,u),o!==null&&(Sn(o,s,u),gb(o,r,u)))}function mb(s,r,o){var u=Un();Sc(s,r,o,u)}function Sc(s,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qh(s))pb(r,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(p.hasEagerState=!0,p.eagerState=S,Pn(S,T))return Nh(s,r,p,0),lt===null&&Ch(),!1}catch{}if(o=Pm(s,r,p,u),o!==null)return Sn(o,s,u),gb(o,r,u),!0}return!1}function gp(s,r,o,u){if(u={lane:2,revertLane:Yp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Qh(s)){if(r)throw Error(i(479))}else r=Pm(s,o,u,2),r!==null&&Sn(r,s,2)}function Qh(s){var r=s.alternate;return s===Pe||r!==null&&r===Pe}function pb(s,r){zo=Fh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function gb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Kl(s,o)}}var Ac={readContext:tn,use:$h,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ac.useEffectEvent=_t;var yb={readContext:tn,use:$h,useCallback:function(s,r){return gn().memoizedState=[s,r===void 0?null:r],s},useContext:tn,useEffect:eb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Kh(4194308,4,sb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Kh(4194308,4,s,r)},useInsertionEffect:function(s,r){Kh(4,2,s,r)},useMemo:function(s,r){var o=gn();r=r===void 0?null:r;var u=s();if(ka){qn(!0);try{s()}finally{qn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=gn();if(o!==void 0){var p=o(r);if(ka){qn(!0);try{o(r)}finally{qn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=LN.bind(null,Pe,s),[u.memoizedState,s]},useRef:function(s){var r=gn();return s={current:s},r.memoizedState=s},useState:function(s){s=cp(s);var r=s.queue,o=mb.bind(null,Pe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:dp,useDeferredValue:function(s,r){var o=gn();return fp(o,s,r)},useTransition:function(){var s=cp(!1);return s=cb.bind(null,Pe,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Pe,p=gn();if(Fe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),lt===null)throw Error(i(349));(Le&127)!==0||j_(u,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,eb(z_.bind(null,u,g,s),[s]),u.flags|=2048,Fo(9,{destroy:void 0},U_.bind(null,u,g,o,r),null),o},useId:function(){var s=gn(),r=lt.identifierPrefix;if(Fe){var o=Yi,u=Ki;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Hh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=IN++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:pp,useFormState:Q_,useActionState:Q_,useOptimistic:function(s){var r=gn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=gp.bind(null,Pe,!0,o),o.dispatch=r,[s,r]},useMemoCache:ap,useCacheRefresh:function(){return gn().memoizedState=VN.bind(null,Pe)},useEffectEvent:function(s){var r=gn(),o={impl:s};return r.memoizedState=o,function(){if((Qe&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},yp={readContext:tn,use:$h,useCallback:ab,useContext:tn,useEffect:hp,useImperativeHandle:rb,useInsertionEffect:nb,useLayoutEffect:ib,useMemo:ob,useReducer:Gh,useRef:Z_,useState:function(){return Gh(Es)},useDebugValue:dp,useDeferredValue:function(s,r){var o=St();return lb(o,it.memoizedState,s,r)},useTransition:function(){var s=Gh(Es)[0],r=St().memoizedState;return[typeof s=="boolean"?s:wc(s),r]},useSyncExternalStore:L_,useId:db,useHostTransitionStatus:pp,useFormState:W_,useActionState:W_,useOptimistic:function(s,r){var o=St();return H_(o,it,s,r)},useMemoCache:ap,useCacheRefresh:fb};yp.useEffectEvent=tb;var vb={readContext:tn,use:$h,useCallback:ab,useContext:tn,useEffect:hp,useImperativeHandle:rb,useInsertionEffect:nb,useLayoutEffect:ib,useMemo:ob,useReducer:lp,useRef:Z_,useState:function(){return lp(Es)},useDebugValue:dp,useDeferredValue:function(s,r){var o=St();return it===null?fp(o,s,r):lb(o,it.memoizedState,s,r)},useTransition:function(){var s=lp(Es)[0],r=St().memoizedState;return[typeof s=="boolean"?s:wc(s),r]},useSyncExternalStore:L_,useId:db,useHostTransitionStatus:pp,useFormState:J_,useActionState:J_,useOptimistic:function(s,r){var o=St();return it!==null?H_(o,it,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:ap,useCacheRefresh:fb};vb.useEffectEvent=tb;function vp(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var _p={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Un(),p=ur(u);p.payload=r,o!=null&&(p.callback=o),r=hr(s,p,u),r!==null&&(Sn(r,s,u),bc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Un(),p=ur(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=hr(s,p,u),r!==null&&(Sn(r,s,u),bc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Un(),u=ur(o);u.tag=2,r!=null&&(u.callback=r),r=hr(s,u,o),r!==null&&(Sn(r,s,o),bc(r,s,o))}};function _b(s,r,o,u,p,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!dc(o,u)||!dc(p,g):!0}function bb(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&_p.enqueueReplaceState(r,r.state,null)}function Ma(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function xb(s){Rh(s)}function Tb(s){console.error(s)}function Eb(s){Rh(s)}function Wh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function wb(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function bp(s,r,o){return o=ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Wh(s,r)},o}function Sb(s){return s=ur(s),s.tag=3,s}function Ab(s,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;s.payload=function(){return p(g)},s.callback=function(){wb(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){wb(r,o,u),typeof p!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function jN(s,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ko(r,o,p,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return ei===null?ld():o.alternate===null&&bt===0&&(bt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Lh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),$p(s,u,p)),!1;case 22:return o.flags|=65536,u===Lh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),$p(s,u,p)),!1}throw Error(i(435,o.tag))}return $p(s,u,p),ld(),!1}if(Fe)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Um&&(s=Error(i(422),{cause:u}),pc(Wn(s,o)))):(u!==Um&&(r=Error(i(423),{cause:u}),pc(Wn(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=Wn(u,o),p=bp(s.stateNode,u,p),Wm(s,p),bt!==4&&(bt=2)),!1;var g=Error(i(520),{cause:u});if(g=Wn(g,o),kc===null?kc=[g]:kc.push(g),bt!==4&&(bt=2),r===null)return!0;u=Wn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=bp(o.stateNode,u,s),Wm(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(yr===null||!yr.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Sb(p),Ab(p,s,o,u),Wm(o,p),!1}o=o.return}while(o!==null);return!1}var xp=Error(i(461)),kt=!1;function nn(s,r,o,u){r.child=s===null?I_(r,null,o,u):Pa(r,s.child,o,u)}function Rb(s,r,o,u,p){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Na(r),u=np(s,r,o,T,g,p),S=ip(),s!==null&&!kt?(sp(s,r,p),ws(s,r,p)):(Fe&&S&&Lm(r),r.flags|=1,nn(s,r,u,p),r.child)}function Cb(s,r,o,u,p){if(s===null){var g=o.type;return typeof g=="function"&&!km(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Nb(s,r,g,u,p)):(s=Dh(o.type,null,u,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Np(s,p)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:dc,o(T,u)&&s.ref===r.ref)return ws(s,r,p)}return r.flags|=1,s=vs(g,u),s.ref=r.ref,s.return=r,r.child=s}function Nb(s,r,o,u,p){if(s!==null){var g=s.memoizedProps;if(dc(g,u)&&s.ref===r.ref)if(kt=!1,r.pendingProps=u=g,Np(s,p))(s.flags&131072)!==0&&(kt=!0);else return r.lanes=s.lanes,ws(s,r,p)}return Tp(s,r,o,u,p)}function Ib(s,r,o,u){var p=u.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(u=r.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,r.child=null;return Db(s,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Mh(r,g!==null?g.cachePool:null),g!==null?P_(r,g):Jm(),k_(r);else return u=r.lanes=536870912,Db(s,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Mh(r,g.cachePool),P_(r,g),fr(),r.memoizedState=null):(s!==null&&Mh(r,null),Jm(),fr());return nn(s,r,p,o),r.child}function Rc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Db(s,r,o,u,p){var g=Gm();return g=g===null?null:{parent:Ot._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&Mh(r,null),Jm(),k_(r),s!==null&&ko(s,r,u,!0),r.childLanes=p,null}function Xh(s,r){return r=Zh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Ob(s,r,o){return Pa(r,s.child,null,o),s=Xh(r,r.pendingProps),s.flags|=2,Vn(r),r.memoizedState=null,s}function UN(s,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Fe){if(u.mode==="hidden")return s=Xh(r,u),r.lanes=536870912,Rc(null,s);if(ep(r),(s=ut)?(s=qx(s,Zn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:rr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=p_(s),o.return=r,r.child=o,en=r,ut=null)):s=null,s===null)throw or(r);return r.lanes=536870912,null}return Xh(r,u)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(ep(r),p)if(r.flags&256)r.flags&=-257,r=Ob(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(kt||ko(s,r,o,!1),p=(o&s.childLanes)!==0,kt||p){if(u=lt,u!==null&&(T=Yl(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Sa(s,T),Sn(u,s,T),xp;ld(),r=Ob(s,r,o)}else s=g.treeContext,ut=ti(T.nextSibling),en=r,Fe=!0,ar=null,Zn=!1,s!==null&&v_(r,s),r=Xh(r,u),r.flags|=4096;return r}return s=vs(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Jh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Tp(s,r,o,u,p){return Na(r),o=np(s,r,o,u,void 0,p),u=ip(),s!==null&&!kt?(sp(s,r,p),ws(s,r,p)):(Fe&&u&&Lm(r),r.flags|=1,nn(s,r,o,p),r.child)}function Pb(s,r,o,u,p,g){return Na(r),r.updateQueue=null,o=V_(r,u,o,p),M_(s),u=ip(),s!==null&&!kt?(sp(s,r,g),ws(s,r,g)):(Fe&&u&&Lm(r),r.flags|=1,nn(s,r,o,g),r.child)}function kb(s,r,o,u,p){if(Na(r),r.stateNode===null){var g=Io,T=o.contextType;typeof T=="object"&&T!==null&&(g=tn(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_p,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Ym(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?tn(T):Io,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(vp(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&_p.enqueueReplaceState(g,g.state,null),Tc(r,u,g,p),xc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){g=r.stateNode;var S=r.memoizedProps,j=Ma(o,S);g.props=j;var Y=g.context,ee=o.contextType;T=Io,typeof ee=="object"&&ee!==null&&(T=tn(ee));var se=o.getDerivedStateFromProps;ee=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==T)&&bb(r,g,u,T),cr=!1;var Q=r.memoizedState;g.state=Q,Tc(r,u,g,p),xc(),Y=r.memoizedState,S||Q!==Y||cr?(typeof se=="function"&&(vp(r,o,se,u),Y=r.memoizedState),(j=cr||_b(r,o,j,u,Q,Y,T))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),g.props=u,g.state=Y,g.context=T,u=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Qm(s,r),T=r.memoizedProps,ee=Ma(o,T),g.props=ee,se=r.pendingProps,Q=g.context,Y=o.contextType,j=Io,typeof Y=="object"&&Y!==null&&(j=tn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==se||Q!==j)&&bb(r,g,u,j),cr=!1,Q=r.memoizedState,g.state=Q,Tc(r,u,g,p),xc();var X=r.memoizedState;T!==se||Q!==X||cr||s!==null&&s.dependencies!==null&&Ph(s.dependencies)?(typeof S=="function"&&(vp(r,o,S,u),X=r.memoizedState),(ee=cr||_b(r,o,ee,u,Q,X,j)||s!==null&&s.dependencies!==null&&Ph(s.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=j,u=ee):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),u=!1)}return g=u,Jh(s,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&u?(r.child=Pa(r,s.child,null,p),r.child=Pa(r,null,o,p)):nn(s,r,o,p),r.memoizedState=g.state,s=r.child):s=ws(s,r,p),s}function Mb(s,r,o,u){return Ra(),r.flags|=256,nn(s,r,o,u),r.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(s){return{baseLanes:s,cachePool:w_()}}function Sp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=jn),s}function Vb(s,r,o){var u=r.pendingProps,p=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(wt.current&2)!==0),T&&(p=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(Fe){if(p?dr(r):fr(),(s=ut)?(s=qx(s,Zn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:rr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=p_(s),o.return=r,r.child=o,en=r,ut=null)):s=null,s===null)throw or(r);return og(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,p?(fr(),p=r.mode,S=Zh({mode:"hidden",children:S},p),u=Aa(u,p,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=wp(o),u.childLanes=Sp(s,T,o),r.memoizedState=Ep,Rc(null,u)):(dr(r),Ap(r,S))}var j=s.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(g)r.flags&256?(dr(r),r.flags&=-257,r=Rp(s,r,o)):r.memoizedState!==null?(fr(),r.child=s.child,r.flags|=128,r=null):(fr(),S=u.fallback,p=r.mode,u=Zh({mode:"visible",children:u.children},p),S=Aa(S,p,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Pa(r,s.child,null,o),u=r.child,u.memoizedState=wp(o),u.childLanes=Sp(s,T,o),r.memoizedState=Ep,r=Rc(null,u));else if(dr(r),og(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(i(419)),u.stack="",u.digest=T,pc({value:u,source:null,stack:null}),r=Rp(s,r,o)}else if(kt||ko(s,r,o,!1),T=(o&s.childLanes)!==0,kt||T){if(T=lt,T!==null&&(u=Yl(T,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Sa(s,u),Sn(T,s,u),xp;ag(S)||ld(),r=Rp(s,r,o)}else ag(S)?(r.flags|=192,r.child=s.child,r=null):(s=j.treeContext,ut=ti(S.nextSibling),en=r,Fe=!0,ar=null,Zn=!1,s!==null&&v_(r,s),r=Ap(r,u.children),r.flags|=4096);return r}return p?(fr(),S=u.fallback,p=r.mode,j=s.child,Y=j.sibling,u=vs(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,Y!==null?S=vs(Y,S):(S=Aa(S,p,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Rc(null,u),u=r.child,S=s.child.memoizedState,S===null?S=wp(o):(p=S.cachePool,p!==null?(j=Ot._currentValue,p=p.parent!==j?{parent:j,pool:j}:p):p=w_(),S={baseLanes:S.baseLanes|o,cachePool:p}),u.memoizedState=S,u.childLanes=Sp(s,T,o),r.memoizedState=Ep,Rc(s.child,u)):(dr(r),o=s.child,s=o.sibling,o=vs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function Ap(s,r){return r=Zh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Zh(s,r){return s=kn(22,s,null,r),s.lanes=0,s}function Rp(s,r,o){return Pa(r,s.child,null,o),s=Ap(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Lb(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Fm(s.return,r,o)}function Cp(s,r,o,u,p,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=p,T.treeForkCount=g)}function jb(s,r,o){var u=r.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var T=wt.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,Z(wt,T),nn(s,r,u,o),u=Fe?mc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lb(s,o,r);else if(s.tag===19)Lb(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&Bh(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Cp(r,!1,p,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&Bh(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}Cp(r,!0,o,null,g,u);break;case"together":Cp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ws(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),gr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(ko(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=vs(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=vs(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Np(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ph(s)))}function zN(s,r,o){switch(r.tag){case 3:at(r,r.stateNode.containerInfo),lr(r,Ot,s.memoizedState.cache),Ra();break;case 27:case 5:fs(r);break;case 4:at(r,r.stateNode.containerInfo);break;case 10:lr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ep(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(dr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Vb(s,r,o):(dr(r),s=ws(s,r,o),s!==null?s.sibling:null);dr(r);break;case 19:var p=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ko(s,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return jb(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(wt,wt.current),u)break;return null;case 22:return r.lanes=0,Ib(s,r,o,r.pendingProps);case 24:lr(r,Ot,s.memoizedState.cache)}return ws(s,r,o)}function Ub(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)kt=!0;else{if(!Np(s,o)&&(r.flags&128)===0)return kt=!1,zN(s,r,o);kt=(s.flags&131072)!==0}else kt=!1,Fe&&(r.flags&1048576)!==0&&y_(r,mc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Da(r.elementType),r.type=s,typeof s=="function")km(s)?(u=Ma(s,u),r.tag=1,r=kb(null,r,s,u,o)):(r.tag=0,r=Tp(null,r,s,u,o));else{if(s!=null){var p=s.$$typeof;if(p===te){r.tag=11,r=Rb(null,r,s,u,o);break e}else if(p===N){r.tag=14,r=Cb(null,r,s,u,o);break e}}throw r=Se(s)||s,Error(i(306,r,""))}}return r;case 0:return Tp(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Ma(u,r.pendingProps),kb(s,r,u,p,o);case 3:e:{if(at(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;p=g.element,Qm(s,r),Tc(r,u,null,o);var T=r.memoizedState;if(u=T.cache,lr(r,Ot,u),u!==g.cache&&Hm(r,[Ot],o,!0),xc(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Mb(s,r,u,o);break e}else if(u!==p){p=Wn(Error(i(424)),r),pc(p),r=Mb(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ut=ti(s.firstChild),en=r,Fe=!0,ar=null,Zn=!0,o=I_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ra(),u===p){r=ws(s,r,o);break e}nn(s,r,u,o)}r=r.child}return r;case 26:return Jh(s,r),s===null?(o=Wx(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,s=r.pendingProps,u=pd(ye.current).createElement(o),u[Nt]=r,u[Gt]=s,sn(u,o,s),It(u),r.stateNode=u):r.memoizedState=Wx(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return fs(r),s===null&&Fe&&(u=r.stateNode=Kx(r.type,r.pendingProps,ye.current),en=r,Zn=!0,p=ut,xr(r.type)?(lg=p,ut=ti(u.firstChild)):ut=p),nn(s,r,r.pendingProps.children,o),Jh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Fe&&((p=u=ut)&&(u=gI(u,r.type,r.pendingProps,Zn),u!==null?(r.stateNode=u,en=r,ut=ti(u.firstChild),Zn=!1,p=!0):p=!1),p||or(r)),fs(r),p=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,u=g.children,ig(p,g)?u=null:T!==null&&ig(p,T)&&(r.flags|=32),r.memoizedState!==null&&(p=np(s,r,DN,null,null,o),Fc._currentValue=p),Jh(s,r),nn(s,r,u,o),r.child;case 6:return s===null&&Fe&&((s=o=ut)&&(o=yI(o,r.pendingProps,Zn),o!==null?(r.stateNode=o,en=r,ut=null,s=!0):s=!1),s||or(r)),null;case 13:return Vb(s,r,o);case 4:return at(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Pa(r,null,u,o):nn(s,r,u,o),r.child;case 11:return Rb(s,r,r.type,r.pendingProps,o);case 7:return nn(s,r,r.pendingProps,o),r.child;case 8:return nn(s,r,r.pendingProps.children,o),r.child;case 12:return nn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,lr(r,r.type,u.value),nn(s,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Na(r),p=tn(p),u=u(p),r.flags|=1,nn(s,r,u,o),r.child;case 14:return Cb(s,r,r.type,r.pendingProps,o);case 15:return Nb(s,r,r.type,r.pendingProps,o);case 19:return jb(s,r,o);case 31:return UN(s,r,o);case 22:return Ib(s,r,o,r.pendingProps);case 24:return Na(r),u=tn(Ot),s===null?(p=Gm(),p===null&&(p=lt,g=qm(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:u,cache:p},Ym(r),lr(r,Ot,p)):((s.lanes&o)!==0&&(Qm(s,r),Tc(r,null,null,o),xc()),p=s.memoizedState,g=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),lr(r,Ot,u)):(u=g.cache,lr(r,Ot,u),u!==p.cache&&Hm(r,[Ot],o,!0))),nn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ss(s){s.flags|=4}function Ip(s,r,o,u,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(dx())s.flags|=8192;else throw Oa=Lh,Km}else s.flags&=-16777217}function zb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!tT(r))if(dx())s.flags|=8192;else throw Oa=Lh,Km}function ed(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?ah():536870912,s.lanes|=r,Go|=r)}function Cc(s,r){if(!Fe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ht(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function BN(s,r,o){var u=r.pendingProps;switch(jm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),xs(Ot),ot(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Po(r)?Ss(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zm())),ht(r),null;case 26:var p=r.type,g=r.memoizedState;return s===null?(Ss(r),g!==null?(ht(r),zb(r,g)):(ht(r),Ip(r,p,null,u,o))):g?g!==s.memoizedState?(Ss(r),ht(r),zb(r,g)):(ht(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ss(r),ht(r),Ip(r,p,s,u,o)),null;case 27:if(oa(r),o=ye.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ss(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ht(r),null}s=ce.current,Po(r)?__(r):(s=Kx(p,u,o),r.stateNode=s,Ss(r))}return ht(r),null;case 5:if(oa(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ss(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ht(r),null}if(g=ce.current,Po(r))__(r);else{var T=pd(ye.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(p,{is:u.is}):T.createElement(p)}}g[Nt]=r,g[Gt]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(sn(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ss(r)}}return ht(r),Ip(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Ss(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=ye.current,Po(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,p=en,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Nt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Vx(s.nodeValue,o)),s||or(r,!0)}else s=pd(s).createTextNode(u),s[Nt]=r,r.stateNode=s}return ht(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Po(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Nt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),s=!1}else o=zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ht(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Po(r),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Nt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),p=!1}else p=zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),ed(r,r.updateQueue),ht(r),null);case 4:return ot(),s===null&&Jp(r.stateNode.containerInfo),ht(r),null;case 10:return xs(r.type),ht(r),null;case 19:if(B(wt),u=r.memoizedState,u===null)return ht(r),null;if(p=(r.flags&128)!==0,g=u.rendering,g===null)if(p)Cc(u,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Bh(s),g!==null){for(r.flags|=128,Cc(u,!1),s=g.updateQueue,r.updateQueue=s,ed(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)m_(o,s),o=o.sibling;return Z(wt,wt.current&1|2),Fe&&_s(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&mn()>rd&&(r.flags|=128,p=!0,Cc(u,!1),r.lanes=4194304)}else{if(!p)if(s=Bh(g),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,ed(r,s),Cc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Fe)return ht(r),null}else 2*mn()-u.renderingStartTime>rd&&o!==536870912&&(r.flags|=128,p=!0,Cc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(s=u.last,s!==null?s.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=mn(),s.sibling=null,o=wt.current,Z(wt,p?o&1|2:o&1),Fe&&_s(r,u.treeForkCount),s):(ht(r),null);case 22:case 23:return Vn(r),Zm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),o=r.updateQueue,o!==null&&ed(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&B(Ia),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),xs(Ot),ht(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function FN(s,r){switch(jm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return xs(Ot),ot(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return oa(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Vn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return B(wt),null;case 4:return ot(),null;case 10:return xs(r.type),null;case 22:case 23:return Vn(r),Zm(),s!==null&&B(Ia),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return xs(Ot),null;case 25:return null;default:return null}}function Bb(s,r){switch(jm(r),r.tag){case 3:xs(Ot),ot();break;case 26:case 27:case 5:oa(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:B(wt);break;case 10:xs(r.type);break;case 22:case 23:Vn(r),Zm(),s!==null&&B(Ia);break;case 24:xs(Ot)}}function Nc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==p)}}catch(S){Ze(r,r.return,S)}}function mr(s,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&s)===s){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,p=r;var j=o,Y=S;try{Y()}catch(ee){Ze(p,j,ee)}}}u=u.next}while(u!==g)}}catch(ee){Ze(r,r.return,ee)}}function Fb(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{O_(r,o)}catch(u){Ze(s,s.return,u)}}}function Hb(s,r,o){o.props=Ma(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){Ze(s,r,u)}}function Ic(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){Ze(s,r,p)}}function Qi(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ze(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ze(s,r,p)}else o.current=null}function qb(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ze(s,s.return,p)}}function Dp(s,r,o){try{var u=s.stateNode;uI(u,s.type,o,r),u[Gt]=r}catch(p){Ze(s,s.return,p)}}function $b(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&xr(s.type)||s.tag===4}function Op(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$b(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&xr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(u!==4&&(u===27&&xr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Pp(s,r,o),s=s.sibling;s!==null;)Pp(s,r,o),s=s.sibling}function td(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&xr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(td(s,r,o),s=s.sibling;s!==null;)td(s,r,o),s=s.sibling}function Gb(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);sn(r,u,o),r[Nt]=s,r[Gt]=o}catch(g){Ze(s,s.return,g)}}var As=!1,Mt=!1,kp=!1,Kb=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function HN(s,r){if(s=s.containerInfo,tg=Td,s=r_(s),Rm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,j=-1,Y=0,ee=0,se=s,Q=null;t:for(;;){for(var X;se!==o||p!==0&&se.nodeType!==3||(S=T+p),se!==g||u!==0&&se.nodeType!==3||(j=T+u),se.nodeType===3&&(T+=se.nodeValue.length),(X=se.firstChild)!==null;)Q=se,se=X;for(;;){if(se===s)break t;if(Q===o&&++Y===p&&(S=T),Q===g&&++ee===u&&(j=T),(X=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=X}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(ng={focusedElem:s,selectionRange:o},Td=!1,Yt=r;Yt!==null;)if(r=Yt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Yt=s;else for(;Yt!==null;){switch(r=Yt,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pe=Ma(o.type,p);s=u.getSnapshotBeforeUpdate(pe,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(xe){Ze(o,o.return,xe)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)rg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":rg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Yt=s;break}Yt=r.return}}function Yb(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Cs(s,o),u&4&&Nc(5,o);break;case 1:if(Cs(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){Ze(o,o.return,T)}else{var p=Ma(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){Ze(o,o.return,T)}}u&64&&Fb(o),u&512&&Ic(o,o.return);break;case 3:if(Cs(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{O_(s,r)}catch(T){Ze(o,o.return,T)}}break;case 27:r===null&&u&4&&Gb(o);case 26:case 5:Cs(s,o),r===null&&u&4&&qb(o),u&512&&Ic(o,o.return);break;case 12:Cs(s,o);break;case 31:Cs(s,o),u&4&&Xb(s,o);break;case 13:Cs(s,o),u&4&&Jb(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=JN.bind(null,o),vI(s,o))));break;case 22:if(u=o.memoizedState!==null||As,!u){r=r!==null&&r.memoizedState!==null||Mt,p=As;var g=Mt;As=u,(Mt=r)&&!g?Ns(s,o,(o.subtreeFlags&8772)!==0):Cs(s,o),As=p,Mt=g}break;case 30:break;default:Cs(s,o)}}function Qb(s){var r=s.alternate;r!==null&&(s.alternate=null,Qb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&go(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ft=null,xn=!1;function Rs(s,r,o){for(o=o.child;o!==null;)Wb(s,r,o),o=o.sibling}function Wb(s,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:Mt||Qi(o,r),Rs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||Qi(o,r);var u=ft,p=xn;xr(o.type)&&(ft=o.stateNode,xn=!1),Rs(s,r,o),Uc(o.stateNode),ft=u,xn=p;break;case 5:Mt||Qi(o,r);case 6:if(u=ft,p=xn,ft=null,Rs(s,r,o),ft=u,xn=p,ft!==null)if(xn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){Ze(o,r,g)}else try{ft.removeChild(o.stateNode)}catch(g){Ze(o,r,g)}break;case 18:ft!==null&&(xn?(s=ft,Fx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),el(s)):Fx(ft,o.stateNode));break;case 4:u=ft,p=xn,ft=o.stateNode.containerInfo,xn=!0,Rs(s,r,o),ft=u,xn=p;break;case 0:case 11:case 14:case 15:mr(2,o,r),Mt||mr(4,o,r),Rs(s,r,o);break;case 1:Mt||(Qi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Hb(o,r,u)),Rs(s,r,o);break;case 21:Rs(s,r,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,Rs(s,r,o),Mt=u;break;default:Rs(s,r,o)}}function Xb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{el(s)}catch(o){Ze(r,r.return,o)}}}function Jb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{el(s)}catch(o){Ze(r,r.return,o)}}function qN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Kb),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Kb),r;default:throw Error(i(435,s.tag))}}function nd(s,r){var o=qN(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=ZN.bind(null,s,u);u.then(p,p)}})}function Tn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=s,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(xr(S.type)){ft=S.stateNode,xn=!1;break e}break;case 5:ft=S.stateNode,xn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,xn=!0;break e}S=S.return}if(ft===null)throw Error(i(160));Wb(g,T,p),ft=null,xn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Zb(r,s),r=r.sibling}var vi=null;function Zb(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Tn(r,s),En(s),u&4&&(mr(3,s,s.return),Nc(3,s),mr(5,s,s.return));break;case 1:Tn(r,s),En(s),u&512&&(Mt||o===null||Qi(o,o.return)),u&64&&As&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=vi;if(Tn(r,s),En(s),u&512&&(Mt||o===null||Qi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Mi]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),sn(g,u,o),g[Nt]=s,It(g),u=g;break e;case"link":var T=Zx("link","href",p).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=p.createElement(u),sn(g,u,o),p.head.appendChild(g);break;case"meta":if(T=Zx("meta","content",p).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=p.createElement(u),sn(g,u,o),p.head.appendChild(g);break;default:throw Error(i(468,u))}g[Nt]=s,It(g),u=g}s.stateNode=u}else eT(p,s.type,s.stateNode);else s.stateNode=Jx(p,u,s.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?eT(p,s.type,s.stateNode):Jx(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Dp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,s),En(s),u&512&&(Mt||o===null||Qi(o,o.return)),o!==null&&u&4&&Dp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,s),En(s),u&512&&(Mt||o===null||Qi(o,o.return)),s.flags&32){p=s.stateNode;try{bn(p,"")}catch(pe){Ze(s,s.return,pe)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Dp(s,p,o!==null?o.memoizedProps:p)),u&1024&&(kp=!0);break;case 6:if(Tn(r,s),En(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(pe){Ze(s,s.return,pe)}}break;case 3:if(vd=null,p=vi,vi=gd(r.containerInfo),Tn(r,s),vi=p,En(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{el(r.containerInfo)}catch(pe){Ze(s,s.return,pe)}kp&&(kp=!1,ex(s));break;case 4:u=vi,vi=gd(s.stateNode.containerInfo),Tn(r,s),En(s),vi=u;break;case 12:Tn(r,s),En(s);break;case 31:Tn(r,s),En(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,nd(s,u)));break;case 13:Tn(r,s),En(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(sd=mn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,nd(s,u)));break;case 22:p=s.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,Y=As,ee=Mt;if(As=Y||p,Mt=ee||j,Tn(r,s),Mt=ee,As=Y,En(s),u&8192)e:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||j||As||Mt||Va(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=j.stateNode;var se=j.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){Ze(j,j.return,pe)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(pe){Ze(j,j.return,pe)}}}else if(r.tag===18){if(o===null){j=r;try{var X=j.stateNode;p?Hx(X,!0):Hx(j.stateNode,!1)}catch(pe){Ze(j,j.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,nd(s,o))));break;case 19:Tn(r,s),En(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,nd(s,u)));break;case 30:break;case 21:break;default:Tn(r,s),En(s)}}function En(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if($b(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,g=Op(s);td(s,g,p);break;case 5:var T=o.stateNode;o.flags&32&&(bn(T,""),o.flags&=-33);var S=Op(s);td(s,S,T);break;case 3:case 4:var j=o.stateNode.containerInfo,Y=Op(s);Pp(s,Y,j);break;default:throw Error(i(161))}}catch(ee){Ze(s,s.return,ee)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function ex(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;ex(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Cs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yb(s,r.alternate,r),r=r.sibling}function Va(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:mr(4,r,r.return),Va(r);break;case 1:Qi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Hb(r,r.return,o),Va(r);break;case 27:Uc(r.stateNode);case 26:case 5:Qi(r,r.return),Va(r);break;case 22:r.memoizedState===null&&Va(r);break;case 30:Va(r);break;default:Va(r)}s=s.sibling}}function Ns(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ns(p,g,o),Nc(4,g);break;case 1:if(Ns(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){Ze(u,u.return,Y)}if(u=g,p=u.updateQueue,p!==null){var S=u.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)D_(j[p],S)}catch(Y){Ze(u,u.return,Y)}}o&&T&64&&Fb(g),Ic(g,g.return);break;case 27:Gb(g);case 26:case 5:Ns(p,g,o),o&&u===null&&T&4&&qb(g),Ic(g,g.return);break;case 12:Ns(p,g,o);break;case 31:Ns(p,g,o),o&&T&4&&Xb(p,g);break;case 13:Ns(p,g,o),o&&T&4&&Jb(p,g);break;case 22:g.memoizedState===null&&Ns(p,g,o),Ic(g,g.return);break;case 30:break;default:Ns(p,g,o)}r=r.sibling}}function Mp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&gc(o))}function Vp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&gc(s))}function _i(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tx(s,r,o,u),r=r.sibling}function tx(s,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:_i(s,r,o,u),p&2048&&Nc(9,r);break;case 1:_i(s,r,o,u);break;case 3:_i(s,r,o,u),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&gc(s)));break;case 12:if(p&2048){_i(s,r,o,u),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){Ze(r,r.return,j)}}else _i(s,r,o,u);break;case 31:_i(s,r,o,u);break;case 13:_i(s,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?_i(s,r,o,u):Dc(s,r):g._visibility&2?_i(s,r,o,u):(g._visibility|=2,Ho(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Mp(T,r);break;case 24:_i(s,r,o,u),p&2048&&Vp(r.alternate,r);break;default:_i(s,r,o,u)}}function Ho(s,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,T=r,S=o,j=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Ho(g,T,S,j,p),Nc(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?Ho(g,T,S,j,p):Dc(g,T):(ee._visibility|=2,Ho(g,T,S,j,p)),p&&Y&2048&&Mp(T.alternate,T);break;case 24:Ho(g,T,S,j,p),p&&Y&2048&&Vp(T.alternate,T);break;default:Ho(g,T,S,j,p)}r=r.sibling}}function Dc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,p=u.flags;switch(u.tag){case 22:Dc(o,u),p&2048&&Mp(u.alternate,u);break;case 24:Dc(o,u),p&2048&&Vp(u.alternate,u);break;default:Dc(o,u)}r=r.sibling}}var Oc=8192;function qo(s,r,o){if(s.subtreeFlags&Oc)for(s=s.child;s!==null;)nx(s,r,o),s=s.sibling}function nx(s,r,o){switch(s.tag){case 26:qo(s,r,o),s.flags&Oc&&s.memoizedState!==null&&II(o,vi,s.memoizedState,s.memoizedProps);break;case 5:qo(s,r,o);break;case 3:case 4:var u=vi;vi=gd(s.stateNode.containerInfo),qo(s,r,o),vi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Oc,Oc=16777216,qo(s,r,o),Oc=u):qo(s,r,o));break;default:qo(s,r,o)}}function ix(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Pc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Yt=u,rx(u,s)}ix(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sx(s),s=s.sibling}function sx(s){switch(s.tag){case 0:case 11:case 15:Pc(s),s.flags&2048&&mr(9,s,s.return);break;case 3:Pc(s);break;case 12:Pc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,id(s)):Pc(s);break;default:Pc(s)}}function id(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Yt=u,rx(u,s)}ix(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:mr(8,r,r.return),id(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,id(r));break;default:id(r)}s=s.sibling}}function rx(s,r){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:mr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=s;Yt!==null;){u=Yt;var p=u.sibling,g=u.return;if(Qb(u),u===o){Yt=null;break e}if(p!==null){p.return=g,Yt=p;break e}Yt=g}}}var $N={getCacheForType:function(s){var r=tn(Ot),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return tn(Ot).controller.signal}},GN=typeof WeakMap=="function"?WeakMap:Map,Qe=0,lt=null,Me=null,Le=0,Je=0,Ln=null,pr=!1,$o=!1,Lp=!1,Is=0,bt=0,gr=0,La=0,jp=0,jn=0,Go=0,kc=null,wn=null,Up=!1,sd=0,ax=0,rd=1/0,ad=null,yr=null,Ft=0,vr=null,Ko=null,Ds=0,zp=0,Bp=null,ox=null,Mc=0,Fp=null;function Un(){return(Qe&2)!==0&&Le!==0?Le&-Le:J.T!==null?Yp():oh()}function lx(){if(jn===0)if((Le&536870912)===0||Fe){var s=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),jn=s}else jn=536870912;return s=Mn.current,s!==null&&(s.flags|=32),jn}function Sn(s,r,o){(s===lt&&(Je===2||Je===9)||s.cancelPendingCommit!==null)&&(Yo(s,0),_r(s,Le,jn,!1)),ha(s,o),((Qe&2)===0||s!==lt)&&(s===lt&&((Qe&2)===0&&(La|=o),bt===4&&_r(s,Le,jn,!1)),Wi(s))}function cx(s,r,o){if((Qe&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ci(s,r),p=u?QN(s,r):qp(s,r,!0),g=u;do{if(p===0){$o&&!u&&_r(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!KN(o)){p=qp(s,r,!1),g=!1;continue}if(p===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=s;p=kc;var j=S.current.memoizedState.isDehydrated;if(j&&(Yo(S,T).flags|=256),T=qp(S,T,!1),T!==2){if(Lp&&!j){S.errorRecoveryDisabledLanes|=g,La|=g,p=4;break e}g=wn,wn=p,g!==null&&(wn===null?wn=g:wn.push.apply(wn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Yo(s,0),_r(s,r,0,!0);break}e:{switch(u=s,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:_r(u,r,jn,!pr);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=sd+300-mn(),10<p)){if(_r(u,r,jn,!pr),Oi(u,0,!0)!==0)break e;Ds=r,u.timeoutHandle=zx(ux.bind(null,u,o,wn,ad,Up,r,jn,La,Go,pr,g,"Throttled",-0,0),p);break e}ux(u,o,wn,ad,Up,r,jn,La,Go,pr,g,null,-0,0)}}break}while(!0);Wi(s)}function ux(s,r,o,u,p,g,T,S,j,Y,ee,se,Q,X){if(s.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},nx(r,g,se);var pe=(g&62914560)===g?sd-mn():(g&4194048)===g?ax-mn():0;if(pe=DI(se,pe),pe!==null){Ds=g,s.cancelPendingCommit=pe(vx.bind(null,s,r,g,o,u,p,T,S,j,ee,se,null,Q,X)),_r(s,g,T,!Y);return}}vx(s,r,g,o,u,p,T,S,j)}function KN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!Pn(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _r(s,r,o,u){r&=~jp,r&=~La,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var p=r;0<p;){var g=31-Tt(p),T=1<<g;u[g]=-1,p&=~T}o!==0&&da(s,o,r)}function od(){return(Qe&6)===0?(Vc(0),!1):!0}function Hp(){if(Me!==null){if(Je===0)var s=Me.return;else s=Me,bs=Ca=null,rp(s),jo=null,vc=0,s=Me;for(;s!==null;)Bb(s.alternate,s),s=s.return;Me=null}}function Yo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,fI(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ds=0,Hp(),lt=s,Me=o=vs(s.current,null),Le=r,Je=0,Ln=null,pr=!1,$o=ci(s,r),Lp=!1,Go=jn=jp=La=gr=bt=0,wn=kc=null,Up=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var p=31-Tt(u),g=1<<p;r|=s[p],u&=~g}return Is=r,Ch(),o}function hx(s,r){Pe=null,J.H=Ac,r===Lo||r===Vh?(r=R_(),Je=3):r===Km?(r=R_(),Je=4):Je=r===xp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Me===null&&(bt=1,Wh(s,Wn(r,s.current)))}function dx(){var s=Mn.current;return s===null?!0:(Le&4194048)===Le?ei===null:(Le&62914560)===Le||(Le&536870912)!==0?s===ei:!1}function fx(){var s=J.H;return J.H=Ac,s===null?Ac:s}function mx(){var s=J.A;return J.A=$N,s}function ld(){bt=4,pr||(Le&4194048)!==Le&&Mn.current!==null||($o=!0),(gr&134217727)===0&&(La&134217727)===0||lt===null||_r(lt,Le,jn,!1)}function qp(s,r,o){var u=Qe;Qe|=2;var p=fx(),g=mx();(lt!==s||Le!==r)&&(ad=null,Yo(s,r)),r=!1;var T=bt;e:do try{if(Je!==0&&Me!==null){var S=Me,j=Ln;switch(Je){case 8:Hp(),T=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var Y=Je;if(Je=0,Ln=null,Qo(s,S,j,Y),o&&$o){T=0;break e}break;default:Y=Je,Je=0,Ln=null,Qo(s,S,j,Y)}}YN(),T=bt;break}catch(ee){hx(s,ee)}while(!0);return r&&s.shellSuspendCounter++,bs=Ca=null,Qe=u,J.H=p,J.A=g,Me===null&&(lt=null,Le=0,Ch()),T}function YN(){for(;Me!==null;)px(Me)}function QN(s,r){var o=Qe;Qe|=2;var u=fx(),p=mx();lt!==s||Le!==r?(ad=null,rd=mn()+500,Yo(s,r)):$o=ci(s,r);e:do try{if(Je!==0&&Me!==null){r=Me;var g=Ln;t:switch(Je){case 1:Je=0,Ln=null,Qo(s,r,g,1);break;case 2:case 9:if(S_(g)){Je=0,Ln=null,gx(r);break}r=function(){Je!==2&&Je!==9||lt!==s||(Je=7),Wi(s)},g.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:S_(g)?(Je=0,Ln=null,gx(r)):(Je=0,Ln=null,Qo(s,r,g,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var S=Me;if(T?tT(T):S.stateNode.complete){Je=0,Ln=null;var j=S.sibling;if(j!==null)Me=j;else{var Y=S.return;Y!==null?(Me=Y,cd(Y)):Me=null}break t}}Je=0,Ln=null,Qo(s,r,g,5);break;case 6:Je=0,Ln=null,Qo(s,r,g,6);break;case 8:Hp(),bt=6;break e;default:throw Error(i(462))}}WN();break}catch(ee){hx(s,ee)}while(!0);return bs=Ca=null,J.H=u,J.A=p,Qe=o,Me!==null?0:(lt=null,Le=0,Ch(),bt)}function WN(){for(;Me!==null&&!bm();)px(Me)}function px(s){var r=Ub(s.alternate,s,Is);s.memoizedProps=s.pendingProps,r===null?cd(s):Me=r}function gx(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Pb(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Pb(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:rp(r);default:Bb(o,r),r=Me=m_(r,Is),r=Ub(o,r,Is)}s.memoizedProps=s.pendingProps,r===null?cd(s):Me=r}function Qo(s,r,o,u){bs=Ca=null,rp(r),jo=null,vc=0;var p=r.return;try{if(jN(s,p,r,o,Le)){bt=1,Wh(s,Wn(o,s.current)),Me=null;return}}catch(g){if(p!==null)throw Me=p,g;bt=1,Wh(s,Wn(o,s.current)),Me=null;return}r.flags&32768?(Fe||u===1?s=!0:$o||(Le&536870912)!==0?s=!1:(pr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),yx(r,s)):cd(r)}function cd(s){var r=s;do{if((r.flags&32768)!==0){yx(r,pr);return}s=r.return;var o=BN(r.alternate,r,Is);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=s}while(r!==null);bt===0&&(bt=5)}function yx(s,r){do{var o=FN(s.alternate,s);if(o!==null){o.flags&=32767,Me=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Me=s;return}Me=s=o}while(s!==null);bt=6,Me=null}function vx(s,r,o,u,p,g,T,S,j){s.cancelPendingCommit=null;do ud();while(Ft!==0);if((Qe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Om,Em(s,o,g,T,S,j),s===lt&&(Me=lt=null,Le=0),Ko=r,vr=s,Ds=o,zp=g,Bp=p,ox=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,eI(Qs,function(){return Ex(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,p=le.p,le.p=2,T=Qe,Qe|=4;try{HN(s,r,o)}finally{Qe=T,le.p=p,J.T=u}}Ft=1,_x(),bx(),xx()}}function _x(){if(Ft===1){Ft=0;var s=vr,r=Ko,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=le.p;le.p=2;var p=Qe;Qe|=4;try{Zb(r,s);var g=ng,T=r_(s.containerInfo),S=g.focusedElem,j=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&s_(S.ownerDocument.documentElement,S)){if(j!==null&&Rm(S)){var Y=j.start,ee=j.end;if(ee===void 0&&(ee=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ee,S.value.length);else{var se=S.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),pe=S.textContent.length,xe=Math.min(j.start,pe),rt=j.end===void 0?xe:Math.min(j.end,pe);!X.extend&&xe>rt&&(T=rt,rt=xe,xe=T);var $=i_(S,xe),H=i_(S,rt);if($&&H&&(X.rangeCount!==1||X.anchorNode!==$.node||X.anchorOffset!==$.offset||X.focusNode!==H.node||X.focusOffset!==H.offset)){var K=se.createRange();K.setStart($.node,$.offset),X.removeAllRanges(),xe>rt?(X.addRange(K),X.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),X.addRange(K))}}}}for(se=[],X=S;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Td=!!tg,ng=tg=null}finally{Qe=p,le.p=u,J.T=o}}s.current=r,Ft=2}}function bx(){if(Ft===2){Ft=0;var s=vr,r=Ko,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=le.p;le.p=2;var p=Qe;Qe|=4;try{Yb(s,r.alternate,r)}finally{Qe=p,le.p=u,J.T=o}}Ft=3}}function xx(){if(Ft===4||Ft===3){Ft=0,eh();var s=vr,r=Ko,o=Ds,u=ox;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,Ko=vr=null,Tx(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(yr=null),ms(o),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,p=le.p,le.p=2,J.T=null;try{for(var g=s.onRecoverableError,T=0;T<u.length;T++){var S=u[T];g(S.value,{componentStack:S.stack})}}finally{J.T=r,le.p=p}}(Ds&3)!==0&&ud(),Wi(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Fp?Mc++:(Mc=0,Fp=s):Mc=0,Vc(0)}}function Tx(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,gc(r)))}function ud(){return _x(),bx(),xx(),Ex()}function Ex(){if(Ft!==5)return!1;var s=vr,r=zp;zp=0;var o=ms(Ds),u=J.T,p=le.p;try{le.p=32>o?32:o,J.T=null,o=Bp,Bp=null;var g=vr,T=Ds;if(Ft=0,Ko=vr=null,Ds=0,(Qe&6)!==0)throw Error(i(331));var S=Qe;if(Qe|=4,sx(g.current),tx(g,g.current,T,o),Qe=S,Vc(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{le.p=p,J.T=u,Tx(s,r)}}function wx(s,r,o){r=Wn(o,r),r=bp(s.stateNode,r,2),s=hr(s,r,2),s!==null&&(ha(s,2),Wi(s))}function Ze(s,r,o){if(s.tag===3)wx(s,s,o);else for(;r!==null;){if(r.tag===3){wx(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(yr===null||!yr.has(u))){s=Wn(o,s),o=Sb(2),u=hr(r,o,2),u!==null&&(Ab(o,u,r,s),ha(u,2),Wi(u));break}}r=r.return}}function $p(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new GN;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Lp=!0,p.add(o),s=XN.bind(null,s,r,o),r.then(s,s))}function XN(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,lt===s&&(Le&o)===o&&(bt===4||bt===3&&(Le&62914560)===Le&&300>mn()-sd?(Qe&2)===0&&Yo(s,0):jp|=o,Go===Le&&(Go=0)),Wi(s)}function Sx(s,r){r===0&&(r=ah()),s=Sa(s,r),s!==null&&(ha(s,r),Wi(s))}function JN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),Sx(s,o)}function ZN(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Sx(s,o)}function eI(s,r){return Bt(s,r)}var hd=null,Wo=null,Gp=!1,dd=!1,Kp=!1,br=0;function Wi(s){s!==Wo&&s.next===null&&(Wo===null?hd=Wo=s:Wo=Wo.next=s),dd=!0,Gp||(Gp=!0,nI())}function Vc(s,r){if(!Kp&&dd){Kp=!0;do for(var o=!1,u=hd;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var T=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Tt(42|s)+1)-1,g&=p&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Nx(u,g))}else g=Le,g=Oi(u,u===lt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ci(u,g)||(o=!0,Nx(u,g));u=u.next}while(o);Kp=!1}}function tI(){Ax()}function Ax(){dd=Gp=!1;var s=0;br!==0&&dI()&&(s=br);for(var r=mn(),o=null,u=hd;u!==null;){var p=u.next,g=Rx(u,r);g===0?(u.next=null,o===null?hd=p:o.next=p,p===null&&(Wo=o)):(o=u,(s!==0||(g&3)!==0)&&(dd=!0)),u=p}Ft!==0&&Ft!==5||Vc(s),br!==0&&(br=0)}function Rx(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-Tt(g),S=1<<T,j=p[T];j===-1?((S&o)===0||(S&u)!==0)&&(p[T]=Tm(S,r)):j<=r&&(s.expiredLanes|=S),g&=~S}if(r=lt,o=Le,o=Oi(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(Je===2||Je===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Ys(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ci(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Ys(u),ms(o)){case 2:case 8:o=Gl;break;case 32:o=Qs;break;case 268435456:o=th;break;default:o=Qs}return u=Cx.bind(null,s),o=Bt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Ys(u),s.callbackPriority=2,s.callbackNode=null,2}function Cx(s,r){if(Ft!==0&&Ft!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(ud()&&s.callbackNode!==o)return null;var u=Le;return u=Oi(s,s===lt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(cx(s,u,r),Rx(s,mn()),s.callbackNode!=null&&s.callbackNode===o?Cx.bind(null,s):null)}function Nx(s,r){if(ud())return null;cx(s,r,!0)}function nI(){mI(function(){(Qe&6)!==0?Bt($l,tI):Ax()})}function Yp(){if(br===0){var s=Mo;s===0&&(s=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),br=s}return br}function Ix(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:bo(""+s)}function Dx(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function iI(s,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var g=Ix((p[Gt]||null).action),T=u.submitter;T&&(r=(r=T[Gt]||null)?Ix(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new Hi("action","action",null,u,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(br!==0){var j=T?Dx(p,T):new FormData(p);mp(o,{pending:!0,data:j,method:p.method,action:g},null,j)}}else typeof g=="function"&&(S.preventDefault(),j=T?Dx(p,T):new FormData(p),mp(o,{pending:!0,data:j,method:p.method,action:g},g,j))},currentTarget:p}]})}}for(var Qp=0;Qp<Dm.length;Qp++){var Wp=Dm[Qp],sI=Wp.toLowerCase(),rI=Wp[0].toUpperCase()+Wp.slice(1);yi(sI,"on"+rI)}yi(l_,"onAnimationEnd"),yi(c_,"onAnimationIteration"),yi(u_,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(xN,"onTransitionRun"),yi(TN,"onTransitionStart"),yi(EN,"onTransitionCancel"),yi(h_,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function Ox(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],j=S.instance,Y=S.currentTarget;if(S=S.listener,j!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=Y;try{g(p)}catch(ee){Rh(ee)}p.currentTarget=null,g=j}else for(T=0;T<u.length;T++){if(S=u[T],j=S.instance,Y=S.currentTarget,S=S.listener,j!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=Y;try{g(p)}catch(ee){Rh(ee)}p.currentTarget=null,g=j}}}}function Ve(s,r){var o=r[po];o===void 0&&(o=r[po]=new Set);var u=s+"__bubble";o.has(u)||(Px(r,s,2,!1),o.add(u))}function Xp(s,r,o){var u=0;r&&(u|=4),Px(o,s,u,r)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Jp(s){if(!s[fd]){s[fd]=!0,Ql.forEach(function(o){o!=="selectionchange"&&(aI.has(o)||Xp(o,!1,s),Xp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[fd]||(r[fd]=!0,Xp("selectionchange",!1,r))}}function Px(s,r,o,u){switch(lT(r)){case 2:var p=kI;break;case 8:p=MI;break;default:p=fg}o=p.bind(null,r,o,s),p=void 0,!ya||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function Zp(s,r,o,u,p){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===p)break;if(T===4)for(T=u.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;S!==null;){if(T=Vi(S),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){u=g=T;continue e}S=S.parentNode}}u=u.return}tr(function(){var Y=g,ee=Gn(o),se=[];e:{var Q=d_.get(s);if(Q!==void 0){var X=Hi,pe=s;switch(s){case"keypress":if(_a(o)===0)break e;case"keydown":case"keyup":X=wh;break;case"focusin":pe="focus",X=xa;break;case"focusout":pe="blur",X=xa;break;case"beforeblur":case"afterblur":X=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case l_:case c_:case u_:X=yh;break;case h_:X=R;break;case"scroll":case"scrollend":X=oc;break;case"wheel":X=W;break;case"copy":case"cut":case"paste":X=vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ys;break;case"toggle":case"beforetoggle":X=Oe}var xe=(r&4)!==0,rt=!xe&&(s==="scroll"||s==="scrollend"),$=xe?Q!==null?Q+"Capture":null:Q;xe=[];for(var H=Y,K;H!==null;){var ie=H;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||$===null||(ie=fi(H,$),ie!=null&&xe.push(jc(H,ie,K))),rt)break;H=H.return}0<xe.length&&(Q=new X(Q,pe,null,o,ee),se.push({event:Q,listeners:xe}))}}if((r&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",Q&&o!==sc&&(pe=o.relatedTarget||o.fromElement)&&(Vi(pe)||pe[ki]))break e;if((X||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(pe=o.relatedTarget||o.toElement,X=Y,pe=pe?Vi(pe):null,pe!==null&&(rt=l(pe),xe=pe.tag,pe!==rt||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):(X=null,pe=Y),X!==pe)){if(xe=lc,ie="onMouseLeave",$="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(xe=ys,ie="onPointerLeave",$="onPointerEnter",H="pointer"),rt=X==null?Q:Dn(X),K=pe==null?Q:Dn(pe),Q=new xe(ie,H+"leave",X,o,ee),Q.target=rt,Q.relatedTarget=K,ie=null,Vi(ee)===Y&&(xe=new xe($,H+"enter",pe,o,ee),xe.target=K,xe.relatedTarget=rt,ie=xe),rt=ie,X&&pe)t:{for(xe=oI,$=X,H=pe,K=0,ie=$;ie;ie=xe(ie))K++;ie=0;for(var _e=H;_e;_e=xe(_e))ie++;for(;0<K-ie;)$=xe($),K--;for(;0<ie-K;)H=xe(H),ie--;for(;K--;){if($===H||H!==null&&$===H.alternate){xe=$;break t}$=xe($),H=xe(H)}xe=null}else xe=null;X!==null&&kx(se,Q,X,xe,!1),pe!==null&&rt!==null&&kx(se,rt,pe,xe,!0)}}e:{if(Q=Y?Dn(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var $e=Xv;else if(Qv(Q))if(Jv)$e=vN;else{$e=gN;var ge=pN}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&_o(Y.elementType)&&($e=Xv):$e=yN;if($e&&($e=$e(s,Y))){Wv(se,$e,o,ee);break e}ge&&ge(s,Q,Y),s==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&tc(Q,"number",Q.value)}switch(ge=Y?Dn(Y):window,s){case"focusin":(Qv(ge)||ge.contentEditable==="true")&&(Ro=ge,Cm=Y,fc=null);break;case"focusout":fc=Cm=Ro=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,a_(se,o,ee);break;case"selectionchange":if(bN)break;case"keydown":case"keyup":a_(se,o,ee)}var ke;if(Ye)e:{switch(s){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ao?Ta(s,o)&&(je="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Gi&&o.locale!=="ko"&&(Ao||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ao&&(ke=ac()):(Fi=ee,rc="value"in Fi?Fi.value:Fi.textContent,Ao=!0)),ge=md(Y,je),0<ge.length&&(je=new $i(je,s,null,o,ee),se.push({event:je,listeners:ge}),ke?je.data=ke:(ke=So(o),ke!==null&&(je.data=ke)))),(ke=Yn?hN(s,o):dN(s,o))&&(je=md(Y,"onBeforeInput"),0<je.length&&(ge=new $i("onBeforeInput","beforeinput",null,o,ee),se.push({event:ge,listeners:je}),ge.data=ke)),iI(se,s,Y,o,ee)}Ox(se,r)})}function jc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function md(s,r){for(var o=r+"Capture",u=[];s!==null;){var p=s,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=fi(s,o),p!=null&&u.unshift(jc(s,p,g)),p=fi(s,r),p!=null&&u.push(jc(s,p,g))),s.tag===3)return u;s=s.return}return[]}function oI(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kx(s,r,o,u,p){for(var g=r._reactName,T=[];o!==null&&o!==u;){var S=o,j=S.alternate,Y=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||Y===null||(j=Y,p?(Y=fi(o,g),Y!=null&&T.unshift(jc(o,Y,j))):p||(Y=fi(o,g),Y!=null&&T.push(jc(o,Y,j)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var lI=/\r\n?/g,cI=/\u0000|\uFFFD/g;function Mx(s){return(typeof s=="string"?s:""+s).replace(lI,`
`).replace(cI,"")}function Vx(s,r){return r=Mx(r),Mx(s)===r}function st(s,r,o,u,p,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||bn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&bn(s,""+u);break;case"className":On(s,"class",u);break;case"tabIndex":On(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":On(s,o,u);break;case"style":ic(s,u,g);break;case"data":if(r!=="object"){On(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=bo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&st(s,r,"name",p.name,p,null),st(s,r,"formEncType",p.formEncType,p,null),st(s,r,"formMethod",p.formMethod,p,null),st(s,r,"formTarget",p.formTarget,p,null)):(st(s,r,"encType",p.encType,p,null),st(s,r,"method",p.method,p,null),st(s,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=bo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=di);break;case"onScroll":u!=null&&Ve("scroll",s);break;case"onScrollEnd":u!=null&&Ve("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=bo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Ve("beforetoggle",s),Ve("toggle",s),yo(s,"popover",u);break;case"xlinkActuate":Dt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Dt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Dt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Dt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Dt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Dt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":yo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=mh.get(o)||o,yo(s,o,u))}}function eg(s,r,o,u,p,g){switch(o){case"style":ic(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?bn(s,u):(typeof u=="number"||typeof u=="bigint")&&bn(s,""+u);break;case"onScroll":u!=null&&Ve("scroll",s);break;case"onScrollEnd":u!=null&&Ve("scrollend",s);break;case"onClick":u!=null&&(s.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=s[Gt]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,p);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):yo(s,o,u)}}}function sn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",s),Ve("load",s);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,g,T,o,null)}}p&&st(s,r,"srcSet",o.srcSet,o,null),u&&st(s,r,"src",o.src,o,null);return;case"input":Ve("invalid",s);var S=g=T=p=null,j=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":p=ee;break;case"type":T=ee;break;case"checked":j=ee;break;case"defaultChecked":Y=ee;break;case"value":g=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:st(s,r,u,ee,o,null)}}hh(s,g,S,j,Y,T,p,!1);return;case"select":Ve("invalid",s),u=T=g=null;for(p in o)if(o.hasOwnProperty(p)&&(S=o[p],S!=null))switch(p){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:st(s,r,p,S,o,null)}r=g,o=T,s.multiple=!!u,r!=null?Xs(s,!!u,r,!1):o!=null&&Xs(s,!!u,o,!0);return;case"textarea":Ve("invalid",s),g=p=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":p=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:st(s,r,T,S,o,null)}Js(s,u,p,g);return;case"option":for(j in o)o.hasOwnProperty(j)&&(u=o[j],u!=null)&&(j==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":st(s,r,j,u,o,null));return;case"dialog":Ve("beforetoggle",s),Ve("toggle",s),Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":Ve("load",s);break;case"video":case"audio":for(u=0;u<Lc.length;u++)Ve(Lc[u],s);break;case"image":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"embed":case"source":case"link":Ve("error",s),Ve("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,Y,u,o,null)}return;default:if(_o(r)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&eg(s,r,ee,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&st(s,r,S,u,o,null))}function uI(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,S=null,j=null,Y=null,ee=null;for(X in o){var se=o[X];if(o.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=se;default:u.hasOwnProperty(X)||st(s,r,X,null,u,se)}}for(var Q in u){var X=u[Q];if(se=o[Q],u.hasOwnProperty(Q)&&(X!=null||se!=null))switch(Q){case"type":g=X;break;case"name":p=X;break;case"checked":Y=X;break;case"defaultChecked":ee=X;break;case"value":T=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:X!==se&&st(s,r,Q,X,u,se)}}vo(s,T,S,j,Y,ee,g,p);return;case"select":X=T=S=Q=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":X=j;default:u.hasOwnProperty(g)||st(s,r,g,null,u,j)}for(p in u)if(g=u[p],j=o[p],u.hasOwnProperty(p)&&(g!=null||j!=null))switch(p){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==j&&st(s,r,p,g,u,j)}r=S,o=T,u=X,Q!=null?Xs(s,!!o,Q,!1):!!u!=!!o&&(r!=null?Xs(s,!!o,r,!0):Xs(s,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(S in o)if(p=o[S],o.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(s,r,S,null,u,p)}for(T in u)if(p=u[T],g=o[T],u.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":Q=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&st(s,r,T,p,u,g)}dh(s,Q,X);return;case"option":for(var pe in o)Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!u.hasOwnProperty(pe)&&(pe==="selected"?s.selected=!1:st(s,r,pe,null,u,Q));for(j in u)Q=u[j],X=o[j],u.hasOwnProperty(j)&&Q!==X&&(Q!=null||X!=null)&&(j==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":st(s,r,j,Q,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Q=o[xe],o.hasOwnProperty(xe)&&Q!=null&&!u.hasOwnProperty(xe)&&st(s,r,xe,null,u,Q);for(Y in u)if(Q=u[Y],X=o[Y],u.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:st(s,r,Y,Q,u,X)}return;default:if(_o(r)){for(var rt in o)Q=o[rt],o.hasOwnProperty(rt)&&Q!==void 0&&!u.hasOwnProperty(rt)&&eg(s,r,rt,void 0,u,Q);for(ee in u)Q=u[ee],X=o[ee],!u.hasOwnProperty(ee)||Q===X||Q===void 0&&X===void 0||eg(s,r,ee,Q,u,X);return}}for(var $ in o)Q=o[$],o.hasOwnProperty($)&&Q!=null&&!u.hasOwnProperty($)&&st(s,r,$,null,u,Q);for(se in u)Q=u[se],X=o[se],!u.hasOwnProperty(se)||Q===X||Q==null&&X==null||st(s,r,se,Q,u,X)}function Lx(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hI(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],g=p.transferSize,T=p.initiatorType,S=p.duration;if(g&&S&&Lx(T)){for(T=0,S=p.responseEnd,u+=1;u<o.length;u++){var j=o[u],Y=j.startTime;if(Y>S)break;var ee=j.transferSize,se=j.initiatorType;ee&&Lx(se)&&(j=j.responseEnd,T+=ee*(j<S?1:(S-Y)/(j-Y)))}if(--u,r+=8*(g+T)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var tg=null,ng=null;function pd(s){return s.nodeType===9?s:s.ownerDocument}function jx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ux(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function ig(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sg=null;function dI(){var s=window.event;return s&&s.type==="popstate"?s===sg?!1:(sg=s,!0):(sg=null,!1)}var zx=typeof setTimeout=="function"?setTimeout:void 0,fI=typeof clearTimeout=="function"?clearTimeout:void 0,Bx=typeof Promise=="function"?Promise:void 0,mI=typeof queueMicrotask=="function"?queueMicrotask:typeof Bx<"u"?function(s){return Bx.resolve(null).then(s).catch(pI)}:zx;function pI(s){setTimeout(function(){throw s})}function xr(s){return s==="head"}function Fx(s,r){var o=r,u=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(p),el(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Uc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Uc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Uc(s.ownerDocument.body);o=p}while(o);el(r)}function Hx(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function rg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rg(o),go(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function gI(s,r,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Mi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=ti(s.nextSibling),s===null)break}return null}function yI(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ti(s.nextSibling),s===null))return null;return s}function qx(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ti(s.nextSibling),s===null))return null;return s}function ag(s){return s.data==="$?"||s.data==="$~"}function og(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function vI(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ti(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var lg=null;function $x(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ti(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function Gx(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function Kx(s,r,o){switch(r=pd(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Uc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);go(s)}var ni=new Map,Yx=new Set;function gd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Os=le.d;le.d={f:_I,r:bI,D:xI,C:TI,L:EI,m:wI,X:AI,S:SI,M:RI};function _I(){var s=Os.f(),r=od();return s||r}function bI(s){var r=$n(s);r!==null&&r.tag===5&&r.type==="form"?hb(r):Os.r(s)}var Xo=typeof document>"u"?null:document;function Qx(s,r,o){var u=Xo;if(u&&typeof r=="string"&&r){var p=_n(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Yx.has(p)||(Yx.add(p),s={rel:s,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),sn(r,"link",s),It(r),u.head.appendChild(r)))}}function xI(s){Os.D(s),Qx("dns-prefetch",s,null)}function TI(s,r){Os.C(s,r),Qx("preconnect",s,r)}function EI(s,r,o){Os.L(s,r,o);var u=Xo;if(u&&s&&r){var p='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+_n(o.imageSizes)+'"]')):p+='[href="'+_n(s)+'"]';var g=p;switch(r){case"style":g=Jo(s);break;case"script":g=Zo(s)}ni.has(g)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ni.set(g,s),u.querySelector(p)!==null||r==="style"&&u.querySelector(zc(g))||r==="script"&&u.querySelector(Bc(g))||(r=u.createElement("link"),sn(r,"link",s),It(r),u.head.appendChild(r)))}}function wI(s,r){Os.m(s,r);var o=Xo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(s)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zo(s)}if(!ni.has(g)&&(s=v({rel:"modulepreload",href:s},r),ni.set(g,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bc(g)))return}u=o.createElement("link"),sn(u,"link",s),It(u),o.head.appendChild(u)}}}function SI(s,r,o){Os.S(s,r,o);var u=Xo;if(u&&s){var p=Li(u).hoistableStyles,g=Jo(s);r=r||"default";var T=p.get(g);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(zc(g)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ni.get(g))&&cg(s,o);var j=T=u.createElement("link");It(j),sn(j,"link",s),j._p=new Promise(function(Y,ee){j.onload=Y,j.onerror=ee}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,yd(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},p.set(g,T)}}}function AI(s,r){Os.X(s,r);var o=Xo;if(o&&s){var u=Li(o).hoistableScripts,p=Zo(s),g=u.get(p);g||(g=o.querySelector(Bc(p)),g||(s=v({src:s,async:!0},r),(r=ni.get(p))&&ug(s,r),g=o.createElement("script"),It(g),sn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function RI(s,r){Os.M(s,r);var o=Xo;if(o&&s){var u=Li(o).hoistableScripts,p=Zo(s),g=u.get(p);g||(g=o.querySelector(Bc(p)),g||(s=v({src:s,async:!0,type:"module"},r),(r=ni.get(p))&&ug(s,r),g=o.createElement("script"),It(g),sn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Wx(s,r,o,u){var p=(p=ye.current)?gd(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Jo(o.href),o=Li(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Jo(o.href);var g=Li(p).hoistableStyles,T=g.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=p.querySelector(zc(s)))&&!g._p&&(T.instance=g,T.state.loading=5),ni.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(s,o),g||CI(p,s,o,T.state))),r&&u===null)throw Error(i(528,""));return T}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Zo(o),o=Li(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Jo(s){return'href="'+_n(s)+'"'}function zc(s){return'link[rel="stylesheet"]['+s+"]"}function Xx(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function CI(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),sn(r,"link",o),It(r),s.head.appendChild(r))}function Zo(s){return'[src="'+_n(s)+'"]'}function Bc(s){return"script[async]"+s}function Jx(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+_n(o.href)+'"]');if(u)return r.instance=u,It(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),It(u),sn(u,"style",p),yd(u,o.precedence,s),r.instance=u;case"stylesheet":p=Jo(o.href);var g=s.querySelector(zc(p));if(g)return r.state.loading|=4,r.instance=g,It(g),g;u=Xx(o),(p=ni.get(p))&&cg(u,p),g=(s.ownerDocument||s).createElement("link"),It(g);var T=g;return T._p=new Promise(function(S,j){T.onload=S,T.onerror=j}),sn(g,"link",u),r.state.loading|=4,yd(g,o.precedence,s),r.instance=g;case"script":return g=Zo(o.src),(p=s.querySelector(Bc(g)))?(r.instance=p,It(p),p):(u=o,(p=ni.get(g))&&(u=v({},o),ug(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),It(p),sn(p,"link",u),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,yd(u,o.precedence,s));return r.instance}function yd(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)g=S;else if(g!==p)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function cg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function ug(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var vd=null;function Zx(s,r,o){if(vd===null){var u=new Map,p=vd=new Map;p.set(o,u)}else p=vd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var g=o[p];if(!(g[Mi]||g[Nt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var S=u.get(T);S?S.push(g):u.set(T,[g])}}return u}function eT(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function NI(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function tT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function II(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Jo(u.href),g=r.querySelector(zc(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=_d.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,It(g);return}g=r.ownerDocument||r,u=Xx(u),(p=ni.get(p))&&cg(u,p),g=g.createElement("link"),It(g);var T=g;T._p=new Promise(function(S,j){T.onload=S,T.onerror=j}),sn(g,"link",u),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=_d.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var hg=0;function DI(s,r){return s.stylesheets&&s.count===0&&xd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&xd(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&hg===0&&(hg=62500*hI());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&xd(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>hg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function _d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var bd=null;function xd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,bd=new Map,r.forEach(OI,s),bd=null,_d.call(s))}function OI(s,r){if(!(r.state.loading&4)){var o=bd.get(s);if(o)var u=o.get(null);else{o=new Map,bd.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}p=r.instance,T=p.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,p),o.set(T,p),this.count++,u=_d.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Fc={$$typeof:q,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function PI(s,r,o,u,p,g,T,S,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function nT(s,r,o,u,p,g,T,S,j,Y,ee,se){return s=new PI(s,r,o,T,j,Y,ee,se,S),r=1,g===!0&&(r|=24),g=kn(3,null,null,r),s.current=g,g.stateNode=s,r=qm(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Ym(g),s}function iT(s){return s?(s=Io,s):Io}function sT(s,r,o,u,p,g){p=iT(p),u.context===null?u.context=p:u.pendingContext=p,u=ur(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=hr(s,u,r),o!==null&&(Sn(o,s,r),bc(o,s,r))}function rT(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function dg(s,r){rT(s,r),(s=s.alternate)&&rT(s,r)}function aT(s){if(s.tag===13||s.tag===31){var r=Sa(s,67108864);r!==null&&Sn(r,s,67108864),dg(s,67108864)}}function oT(s){if(s.tag===13||s.tag===31){var r=Un();r=fa(r);var o=Sa(s,r);o!==null&&Sn(o,s,r),dg(s,r)}}var Td=!0;function kI(s,r,o,u){var p=J.T;J.T=null;var g=le.p;try{le.p=2,fg(s,r,o,u)}finally{le.p=g,J.T=p}}function MI(s,r,o,u){var p=J.T;J.T=null;var g=le.p;try{le.p=8,fg(s,r,o,u)}finally{le.p=g,J.T=p}}function fg(s,r,o,u){if(Td){var p=mg(u);if(p===null)Zp(s,r,u,Ed,o),cT(s,u);else if(LI(p,s,r,o,u))u.stopPropagation();else if(cT(s,u),r&4&&-1<VI.indexOf(s)){for(;p!==null;){var g=$n(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Di(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var j=1<<31-Tt(T);S.entanglements[1]|=j,T&=~j}Wi(g),(Qe&6)===0&&(rd=mn()+500,Vc(0))}}break;case 31:case 13:S=Sa(g,2),S!==null&&Sn(S,g,2),od(),dg(g,2)}if(g=mg(u),g===null&&Zp(s,r,u,Ed,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else Zp(s,r,u,null,o)}}function mg(s){return s=Gn(s),pg(s)}var Ed=null;function pg(s){if(Ed=null,s=Vi(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Ed=s,null}function lT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case $l:return 2;case Gl:return 8;case Qs:case xm:return 32;case th:return 268435456;default:return 32}default:return 32}}var gg=!1,Tr=null,Er=null,wr=null,Hc=new Map,qc=new Map,Sr=[],VI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cT(s,r){switch(s){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Hc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(r.pointerId)}}function $c(s,r,o,u,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},r!==null&&(r=$n(r),r!==null&&aT(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function LI(s,r,o,u,p){switch(r){case"focusin":return Tr=$c(Tr,s,r,o,u,p),!0;case"dragenter":return Er=$c(Er,s,r,o,u,p),!0;case"mouseover":return wr=$c(wr,s,r,o,u,p),!0;case"pointerover":var g=p.pointerId;return Hc.set(g,$c(Hc.get(g)||null,s,r,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,qc.set(g,$c(qc.get(g)||null,s,r,o,u,p)),!0}return!1}function uT(s){var r=Vi(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,ui(s.priority,function(){oT(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,ui(s.priority,function(){oT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=mg(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);sc=u,o.target.dispatchEvent(u),sc=null}else return r=$n(o),r!==null&&aT(r),s.blockedOn=o,!1;r.shift()}return!0}function hT(s,r,o){wd(s)&&o.delete(r)}function jI(){gg=!1,Tr!==null&&wd(Tr)&&(Tr=null),Er!==null&&wd(Er)&&(Er=null),wr!==null&&wd(wr)&&(wr=null),Hc.forEach(hT),qc.forEach(hT)}function Sd(s,r){s.blockedOn===r&&(s.blockedOn=null,gg||(gg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jI)))}var Ad=null;function dT(s){Ad!==s&&(Ad=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ad===s&&(Ad=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],p=s[r+2];if(typeof u!="function"){if(pg(u||o)===null)continue;break}var g=$n(o);g!==null&&(s.splice(r,3),r-=3,mp(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function el(s){function r(j){return Sd(j,s)}Tr!==null&&Sd(Tr,s),Er!==null&&Sd(Er,s),wr!==null&&Sd(wr,s),Hc.forEach(r),qc.forEach(r);for(var o=0;o<Sr.length;o++){var u=Sr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Sr.length&&(o=Sr[0],o.blockedOn===null);)uT(o),o.blockedOn===null&&Sr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],T=p[Gt]||null;if(typeof g=="function")T||dT(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Gt]||null)S=T.formAction;else if(pg(p)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),dT(o)}}}function fT(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function yg(s){this._internalRoot=s}Rd.prototype.render=yg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Un();sT(o,u,s,r,null,null)},Rd.prototype.unmount=yg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;sT(s.current,2,null,s,null,null),od(),r[ki]=null}};function Rd(s){this._internalRoot=s}Rd.prototype.unstable_scheduleHydration=function(s){if(s){var r=oh();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Sr.length&&r!==0&&r<Sr[o].priority;o++);Sr.splice(o,0,s),o===0&&uT(s)}};var mT=e.version;if(mT!=="19.2.3")throw Error(i(527,mT,"19.2.3"));le.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var UI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{li=Cd.inject(UI),Jt=Cd}catch{}}return Kc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",p=xb,g=Tb,T=Eb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=nT(s,1,!1,null,null,o,u,null,p,g,T,fT),s[ki]=r.current,Jp(s),new yg(r)},Kc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,p="",g=xb,T=Tb,S=Eb,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=nT(s,1,!0,r,o??null,u,p,j,g,T,S,fT),r.context=iT(null),o=r.current,u=Un(),u=fa(u),p=ur(u),p.callback=null,hr(o,p,u),o=u,r.current.lanes=o,ha(r,o),Wi(r),s[ki]=r.current,Jp(s),new Rd(r)},Kc.version="19.2.3",Kc}var wT;function QI(){if(wT)return bg.exports;wT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bg.exports=YI(),bg.exports}var WI=QI();const Ae=t=>typeof t=="string",Yc=()=>{let t,e;const n=new Promise((i,a)=>{t=i,e=a});return n.resolve=t,n.reject=e,n},ST=t=>t==null?"":""+t,XI=(t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},JI=/###/g,AT=t=>t&&t.indexOf("###")>-1?t.replace(JI,"."):t,RT=t=>!t||Ae(t),su=(t,e,n)=>{const i=Ae(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(RT(t))return{};const l=AT(i[a]);!t[l]&&n&&(t[l]=new n),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={},++a}return RT(t)?{}:{obj:t,k:AT(i[a])}},CT=(t,e,n)=>{const{obj:i,k:a}=su(t,e,Object);if(i!==void 0||e.length===1){i[a]=n;return}let l=e[e.length-1],c=e.slice(0,e.length-1),h=su(t,c,Object);for(;h.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),h=su(t,c,Object),h?.obj&&typeof h.obj[`${h.k}.${l}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${l}`]=n},ZI=(t,e,n,i)=>{const{obj:a,k:l}=su(t,e,Object);a[l]=a[l]||[],a[l].push(n)},sf=(t,e)=>{const{obj:n,k:i}=su(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},eD=(t,e,n)=>{const i=sf(t,n);return i!==void 0?i:sf(e,n)},uS=(t,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?Ae(t[i])||t[i]instanceof String||Ae(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):uS(t[i],e[i],n):t[i]=e[i]);return t},tl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var tD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const nD=t=>Ae(t)?t.replace(/[&<>"'\/]/g,e=>tD[e]):t;class iD{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const sD=[" ",",","?","!",";"],rD=new iD(20),aD=(t,e,n)=>{e=e||"",n=n||"";const i=sD.filter(c=>e.indexOf(c)<0&&n.indexOf(c)<0);if(i.length===0)return!0;const a=rD.getRegExp(`(${i.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(t);if(!l){const c=t.indexOf(n);c>0&&!a.test(t.substring(0,c))&&(l=!0)}return l},oy=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const i=e.split(n);let a=t;for(let l=0;l<i.length;){if(!a||typeof a!="object")return;let c,h="";for(let f=l;f<i.length;++f)if(f!==l&&(h+=n),h+=i[f],c=a[h],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&f<i.length-1)continue;l+=f-l+1;break}a=c}return a},yu=t=>t?.replace("_","-"),oD={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};let lD=class ly{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||oD,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,a){return a&&!this.debug?null:(Ae(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ly(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ly(this.logger,e)}};var es=new lD;class zf{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(n)||0;this.observers[i].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a.apply(a,[e,...n])})}}class NT extends zf{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,n],i&&(Array.isArray(i)?h.push(...i):Ae(i)&&l?h.push(...i.split(l)):h.push(i)));const f=sf(this.data,h);return!f&&!n&&!i&&e.indexOf(".")>-1&&(e=h[0],n=h[1],i=h.slice(2).join(".")),f||!c||!Ae(i)?f:oy(this.data?.[e]?.[n],i,l)}addResource(e,n,i,a,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let h=[e,n];i&&(h=h.concat(c?i.split(c):i)),e.indexOf(".")>-1&&(h=e.split("."),a=n,n=h[1]),this.addNamespaces(n),CT(this.data,h,a),l.silent||this.emit("added",e,n,i,a)}addResources(e,n,i,a={silent:!1}){for(const l in i)(Ae(i[l])||Array.isArray(i[l]))&&this.addResource(e,n,l,i[l],{silent:!0});a.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,a,l,c={silent:!1,skipCopy:!1}){let h=[e,n];e.indexOf(".")>-1&&(h=e.split("."),a=i,i=n,n=h[1]),this.addNamespaces(n);let f=sf(this.data,h)||{};c.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?uS(f,i,l):f={...f,...i},CT(this.data,h,f),c.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var hS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,a){return t.forEach(l=>{e=this.processors[l]?.process(e,n,i,a)??e}),e}};const dS=Symbol("i18next/PATH_KEY");function cD(){const t=[],e=Object.create(null);let n;return e.get=(i,a)=>(n?.revoke?.(),a===dS?t:(t.push(a),n=Proxy.revocable(i,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function cy(t,e){const{[dS]:n}=t(cD());return n.join(e?.keySeparator??".")}const IT={},wg=t=>!Ae(t)&&typeof t!="boolean"&&typeof t!="number";class rf extends zf{constructor(e,n={}){super(),XI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=es.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const i={...n};if(e==null)return!1;const a=this.resolve(e,i);if(a?.res===void 0)return!1;const l=wg(a.res);return!(i.returnObjects===!1&&l)}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const c=i&&e.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!aD(e,i,a);if(c&&!h){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Ae(l)?[l]:l};const m=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(m[0])>-1)&&(l=m.shift()),e=m.join(a)}return{key:e,namespaces:Ae(l)?[l]:l}}translate(e,n,i){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=cy(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:f}=this.extractFromKey(e[e.length-1],a),m=f[f.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=a.lng||this.language,x=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return x?l?{res:`${m}${y}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:`${m}${y}${h}`:l?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:h;const w=this.resolve(e,a);let I=w?.res;const L=w?.usedKey||h,k=w?.exactUsedKey||h,M=["[object Number]","[object Function]","[object RegExp]"],z=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,q=!this.i18nFormat||this.i18nFormat.handleAsObject,te=a.count!==void 0&&!Ae(a.count),ne=rf.hasDefaultValue(a),oe=te?this.pluralResolver.getSuffix(v,a.count,a):"",N=a.ordinal&&te?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",A=te&&!a.ordinal&&a.count===0,C=A&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${oe}`]||a[`defaultValue${N}`]||a.defaultValue;let D=I;q&&!I&&ne&&(D=C);const P=wg(D),F=Object.prototype.toString.apply(D);if(q&&D&&P&&M.indexOf(F)<0&&!(Ae(z)&&Array.isArray(D))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(L,D,{...a,ns:f}):`key '${h} (${this.language})' returned an object instead of string.`;return l?(w.res=O,w.usedParams=this.getUsedParamsDetails(a),w):O}if(c){const O=Array.isArray(D),Se=O?[]:{},Ke=O?k:L;for(const J in D)if(Object.prototype.hasOwnProperty.call(D,J)){const le=`${Ke}${c}${J}`;ne&&!I?Se[J]=this.translate(le,{...a,defaultValue:wg(C)?C[J]:void 0,joinArrays:!1,ns:f}):Se[J]=this.translate(le,{...a,joinArrays:!1,ns:f}),Se[J]===le&&(Se[J]=D[J])}I=Se}}else if(q&&Ae(z)&&Array.isArray(I))I=I.join(z),I&&(I=this.extendTranslation(I,e,a,i));else{let O=!1,Se=!1;!this.isValidLookup(I)&&ne&&(O=!0,I=C),this.isValidLookup(I)||(Se=!0,I=h);const J=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Se?void 0:I,le=ne&&C!==I&&this.options.updateMissing;if(Se||O||le){if(this.logger.log(le?"updateKey":"missingKey",v,m,h,le?C:I),c){const U=this.resolve(h,{...a,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let he=[];const be=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&be&&be[0])for(let U=0;U<be.length;U++)he.push(be[U]);else this.options.saveMissingTo==="all"?he=this.languageUtils.toResolveHierarchy(a.lng||this.language):he.push(a.lng||this.language);const Ce=(U,B,Z)=>{const ce=ne&&Z!==I?Z:J;this.options.missingKeyHandler?this.options.missingKeyHandler(U,m,B,ce,le,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(U,m,B,ce,le,a),this.emit("missingKey",U,m,B,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&te?he.forEach(U=>{const B=this.pluralResolver.getSuffixes(U,a);A&&a[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(Z=>{Ce([U],h+Z,a[`defaultValue${Z}`]||C)})}):Ce(he,h,C))}I=this.extendTranslation(I,e,a,w,i),Se&&I===h&&this.options.appendNamespaceToMissingKey&&(I=`${m}${y}${h}`),(Se||O)&&this.options.parseMissingKeyHandler&&(I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${y}${h}`:h,O?I:void 0,a))}return l?(w.res=I,w.usedParams=this.getUsedParamsDetails(a),w):I}extendTranslation(e,n,i,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=Ae(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(f){const v=e.match(this.interpolator.nestingRegexp);m=v&&v.length}let y=i.replace&&!Ae(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,i.lng||this.language||a.usedLng,i),f){const v=e.match(this.interpolator.nestingRegexp),x=v&&v.length;m<x&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>l?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const c=i.postProcess||this.options.postProcess,h=Ae(c)?[c]:c;return e!=null&&h?.length&&i.applyPostProcessor!==!1&&(e=hS.handle(h,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,n={}){let i,a,l,c,h;return Ae(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(i))return;const m=this.extractFromKey(f,n),y=m.key;a=y;let v=m.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const x=n.count!==void 0&&!Ae(n.count),w=x&&!n.ordinal&&n.count===0,I=n.context!==void 0&&(Ae(n.context)||typeof n.context=="number")&&n.context!=="",L=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(k=>{this.isValidLookup(i)||(h=k,!IT[`${L[0]}-${k}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(IT[`${L[0]}-${k}`]=!0,this.logger.warn(`key "${a}" for languages "${L.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),L.forEach(M=>{if(this.isValidLookup(i))return;c=M;const z=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(z,y,M,k,n);else{let te;x&&(te=this.pluralResolver.getSuffix(M,n.count,n));const ne=`${this.options.pluralSeparator}zero`,oe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&te.indexOf(oe)===0&&z.push(y+te.replace(oe,this.options.pluralSeparator)),z.push(y+te),w&&z.push(y+ne)),I){const N=`${y}${this.options.contextSeparator||"_"}${n.context}`;z.push(N),x&&(n.ordinal&&te.indexOf(oe)===0&&z.push(N+te.replace(oe,this.options.pluralSeparator)),z.push(N+te),w&&z.push(N+ne))}}let q;for(;q=z.pop();)this.isValidLookup(i)||(l=q,i=this.getResource(M,k,q,n))}))})}),{res:i,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,i,a):this.resourceStore.getResource(e,n,i,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Ae(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const l of n)delete a[l]}return a}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}class DT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=es.create("languageUtils")}getScriptPartFromCode(e){if(e=yu(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=yu(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ae(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const a=this.getScriptPartFromCode(i);if(this.isSupportedCode(a))return n=a;const l=this.getLanguagePartFromCode(i);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ae(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Ae(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Ae(e)&&l(this.formatLanguageCode(e)),i.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const OT={zero:0,one:1,two:2,few:3,many:4,other:5},PT={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class uD{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=es.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const i=yu(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),PT;if(!e.match(/-|_/))return PT;const f=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(f,n)}return this.pluralRulesCache[l]=c,c}needsPlural(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,i={}){return this.getSuffixes(e,i).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((a,l)=>OT[a]-OT[l]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,i={}){const a=this.getRule(e,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,i))}}const kT=(t,e,n,i=".",a=!0)=>{let l=eD(t,e,n);return!l&&a&&Ae(n)&&(l=oy(t,n,i),l===void 0&&(l=oy(e,n,i))),l},Sg=t=>t.replace(/\$/g,"$$$$");class MT{constructor(e={}){this.logger=es.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:h,suffixEscaped:f,formatSeparator:m,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:x,nestingPrefixEscaped:w,nestingSuffix:I,nestingSuffixEscaped:L,nestingOptionsSeparator:k,maxReplaces:M,alwaysFormat:z}=e.interpolation;this.escape=n!==void 0?n:nD,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?tl(l):c||"{{",this.suffix=h?tl(h):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=x?tl(x):w||tl("$t("),this.nestingSuffix=I?tl(I):L||tl(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=M||1e3,this.alwaysFormat=z!==void 0?z:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,i,a){let l,c,h;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=w=>{if(w.indexOf(this.formatSeparator)<0){const M=kT(n,f,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(M,void 0,i,{...a,...n,interpolationkey:w}):M}const I=w.split(this.formatSeparator),L=I.shift().trim(),k=I.join(this.formatSeparator).trim();return this.format(kT(n,f,L,this.options.keySeparator,this.options.ignoreJSONStructure),k,i,{...a,...n,interpolationkey:L})};this.resetRegExp();const y=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Sg(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Sg(this.escape(w)):Sg(w)}].forEach(w=>{for(h=0;l=w.regex.exec(e);){const I=l[1].trim();if(c=m(I),c===void 0)if(typeof y=="function"){const k=y(e,l,a);c=Ae(k)?k:""}else if(a&&Object.prototype.hasOwnProperty.call(a,I))c="";else if(v){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${e}`),c="";else!Ae(c)&&!this.useRawValueToEscape&&(c=ST(c));const L=w.safeValue(c);if(e=e.replace(l[0],L),v?(w.regex.lastIndex+=c.length,w.regex.lastIndex-=l[0].length):w.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,n,i={}){let a,l,c;const h=(f,m)=>{const y=this.nestingOptionsSeparator;if(f.indexOf(y)<0)return f;const v=f.split(new RegExp(`${y}[ ]*{`));let x=`{${v[1]}`;f=v[0],x=this.interpolate(x,c);const w=x.match(/'/g),I=x.match(/"/g);((w?.length??0)%2===0&&!I||I.length%2!==0)&&(x=x.replace(/'/g,'"'));try{c=JSON.parse(x),m&&(c={...m,...c})}catch(L){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,L),`${f}${y}${x}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,f};for(;a=this.nestingRegexp.exec(e);){let f=[];c={...i},c=c.replace&&!Ae(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const m=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(m!==-1&&(f=a[1].slice(m).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),a[1]=a[1].slice(0,m)),l=n(h.call(this,a[1].trim(),c),c),l&&a[0]===e&&!Ae(l))return l;Ae(l)||(l=ST(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),f.length&&(l=f.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const hD=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(c=>{if(c){const[h,...f]=c.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();n[y]||(n[y]=m),m==="false"&&(n[y]=!1),m==="true"&&(n[y]=!0),isNaN(m)||(n[y]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},VT=t=>{const e={};return(n,i,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=i+JSON.stringify(l);let h=e[c];return h||(h=t(yu(i),a),e[c]=h),h(n)}},dD=t=>(e,n,i)=>t(yu(n),i)(e);class fD{constructor(e={}){this.logger=es.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?VT:dD;this.formats={number:i((a,l)=>{const c=new Intl.NumberFormat(a,{...l});return h=>c.format(h)}),currency:i((a,l)=>{const c=new Intl.NumberFormat(a,{...l,style:"currency"});return h=>c.format(h)}),datetime:i((a,l)=>{const c=new Intl.DateTimeFormat(a,{...l});return h=>c.format(h)}),relativetime:i((a,l)=>{const c=new Intl.RelativeTimeFormat(a,{...l});return h=>c.format(h,l.range||"day")}),list:i((a,l)=>{const c=new Intl.ListFormat(a,{...l});return h=>c.format(h)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=VT(n)}format(e,n,i,a={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(h=>h.indexOf(")")>-1)){const h=l.findIndex(f=>f.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,h)].join(this.formatSeparator)}return l.reduce((h,f)=>{const{formatName:m,formatOptions:y}=hD(f);if(this.formats[m]){let v=h;try{const x=a?.formatParams?.[a.interpolationkey]||{},w=x.locale||x.lng||a.locale||a.lng||i;v=this.formats[m](h,w,{...y,...a,...x})}catch(x){this.logger.warn(x)}return v}else this.logger.warn(`there was no format function for ${m}`);return h},e)}}const mD=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class pD extends zf{constructor(e,n,i,a={}){super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=es.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,a.backend,a)}queueLoad(e,n,i,a){const l={},c={},h={},f={};return e.forEach(m=>{let y=!0;n.forEach(v=>{const x=`${m}|${v}`;!i.reload&&this.store.hasResourceBundle(m,v)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?c[x]===void 0&&(c[x]=!0):(this.state[x]=1,y=!1,c[x]===void 0&&(c[x]=!0),l[x]===void 0&&(l[x]=!0),f[v]===void 0&&(f[v]=!0)))}),y||(h[m]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}loaded(e,n,i){const a=e.split("|"),l=a[0],c=a[1];n&&this.emit("failedLoading",l,c,n),!n&&i&&this.store.addResourceBundle(l,c,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const h={};this.queue.forEach(f=>{ZI(f.loaded,[l],c),mD(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{h[m]||(h[m]={});const y=f.loaded[m];y.length&&y.forEach(v=>{h[m][v]===void 0&&(h[m][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(f=>!f.done)}read(e,n,i,a=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:a,wait:l,callback:c});return}this.readingCalls++;const h=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,a+1,l*2,c)},l);return}c(m,y)},f=this.backend[i].bind(this.backend);if(f.length===2){try{const m=f(e,n);m&&typeof m.then=="function"?m.then(y=>h(null,y)).catch(h):h(null,m)}catch(m){h(m)}return}return f(e,n,h)}prepareLoading(e,n,i={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ae(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ae(n)&&(n=[n]);const l=this.queueLoad(e,n,i,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e,n=""){const i=e.split("|"),a=i[0],l=i[1];this.read(a,l,"read",void 0,void 0,(c,h)=>{c&&this.logger.warn(`${n}loading namespace ${l} for language ${a} failed`,c),!c&&h&&this.logger.log(`${n}loaded namespace ${l} for language ${a}`,h),this.loaded(e,c,h)})}saveMissing(e,n,i,a,l,c={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const f={...c,isUpdate:l},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,n,i,a,f):y=m(e,n,i,a),y&&typeof y.then=="function"?y.then(v=>h(null,v)).catch(h):h(null,y)}catch(y){h(y)}else m(e,n,i,a,h,f)}!e||!e[0]||this.store.addResource(e[0],n,i,a)}}}const LT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ae(t[1])&&(e.defaultValue=t[1]),Ae(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),jT=t=>(Ae(t.ns)&&(t.ns=[t.ns]),Ae(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ae(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Nd=()=>{},gD=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ru extends zf{constructor(e={},n){if(super(),this.options=jT(e),this.services={},this.logger=es,this.modules={external:[]},gD(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ae(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=LT();this.options={...i,...this.options,...jT(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?es.init(a(this.modules.logger),this.options):es.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=fD;const y=new DT(this.options);this.store=new NT(this.options.resources,this.options);const v=this.services;v.logger=es,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new uD(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=a(m),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new MT(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new pD(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(w,...I)=>{this.emit(w,...I)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new rf(this.services,this.options),this.translator.on("*",(w,...I)=>{this.emit(w,...I)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Nd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...y)=>this.store[m](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...y)=>(this.store[m](...y),this)});const h=Yc(),f=()=>{const m=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),n(y,v)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),h}loadResources(e,n=Nd){let i=n;const a=Ae(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],c=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>c(f)),this.options.preload?.forEach?.(h=>c(h)),this.services.backendConnector.load(l,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(h)})}else i(null)}reloadResources(e,n,i){const a=Yc();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=Nd),this.services.backendConnector.reload(e,n,l=>{a.resolve(),i(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&hS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const i=Yc();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},l=(h,f)=>{f?this.isLanguageChangingTo===e&&(a(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve((...m)=>this.t(...m)),n&&n(h,(...m)=>this.t(...m))},c=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const f=Ae(h)?h:h&&h[0],m=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Ae(h)?[h]:h);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,y=>{l(y,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),i}getFixedT(e,n,i){const a=(l,c,...h)=>{let f;typeof c!="object"?f=this.options.overloadTranslationOptionHandler([l,c].concat(h)):f={...c},f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||a.keyPrefix);const m=this.options.keySeparator||".";let y;return f.keyPrefix&&Array.isArray(l)?y=l.map(v=>(typeof v=="function"&&(v=cy(v,{...this.options,...c})),`${f.keyPrefix}${m}${v}`)):(typeof l=="function"&&(l=cy(l,{...this.options,...c})),y=f.keyPrefix?`${f.keyPrefix}${m}${l}`:l),this.t(y,f)};return Ae(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=i,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const c=(h,f)=>{const m=this.services.backendConnector.state[`${h}|${f}`];return m===-1||m===0||m===2};if(n.precheck){const h=n.precheck(this,c);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(i,e)&&(!a||c(l,e)))}loadNamespaces(e,n){const i=Yc();return this.options.ns?(Ae(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=Yc();Ae(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{i.resolve(),n&&n(c)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new DT(LT());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const i=new ru(e,n);return i.createInstance=ru.createInstance,i}cloneInstance(e={},n=Nd){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new ru(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(h=>{l[h]=this[h]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i){const h=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},f[m]=Object.keys(f[m]).reduce((y,v)=>(y[v]={...f[m][v]},y),f[m]),f),{});l.store=new NT(h,a),l.services.resourceStore=l.store}return e.interpolation&&(l.services.interpolator=new MT(a)),l.translator=new rf(l.services,a),l.translator.on("*",(h,...f)=>{l.emit(h,...f)}),l.init(a,n),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const fn=ru.createInstance();fn.createInstance;fn.dir;fn.init;fn.loadResources;fn.reloadResources;fn.use;fn.changeLanguage;fn.getFixedT;fn.t;fn.exists;fn.setDefaultNamespace;fn.hasLoadedNamespace;fn.loadNamespaces;fn.loadLanguages;const yD=(t,e,n,i)=>{const a=[n,{code:e,...i||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);Qa(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},UT={},fS=(t,e,n,i)=>{Qa(n)&&UT[n]||(Qa(n)&&(UT[n]=new Date),yD(t,e,n,i))},mS=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},uy=(t,e,n)=>{t.loadNamespaces(e,mS(t,n))},zT=(t,e,n,i)=>{if(Qa(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return uy(t,n,i);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,mS(t,i))},vD=(t,e,n={})=>!e.languages||!e.languages.length?(fS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,t))return!1}}),Qa=t=>typeof t=="string",_D=t=>typeof t=="object"&&t!==null,bD=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xD={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},TD=t=>xD[t],ED=t=>t.replace(bD,TD);let hy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ED,transDefaultProps:void 0};const wD=(t={})=>{hy={...hy,...t}},SD=()=>hy;let pS;const AD=t=>{pS=t},RD=()=>pS,CD={type:"3rdParty",init(t){wD(t.options.react),AD(t)}},ND=V.createContext();class ID{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Ag={exports:{}},Rg={};var BT;function DD(){if(BT)return Rg;BT=1;var t=Uf();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function h(v,x){var w=x(),I=i({inst:{value:w,getSnapshot:x}}),L=I[0].inst,k=I[1];return l(function(){L.value=w,L.getSnapshot=x,f(L)&&k({inst:L})},[v,w,x]),a(function(){return f(L)&&k({inst:L}),v(function(){f(L)&&k({inst:L})})},[v]),c(w),w}function f(v){var x=v.getSnapshot;v=v.value;try{var w=x();return!n(v,w)}catch{return!0}}function m(v,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Rg}var FT;function OD(){return FT||(FT=1,Ag.exports=DD()),Ag.exports}var PD=OD();const kD=(t,e)=>Qa(e)?e:_D(e)&&Qa(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,MD={t:kD,ready:!1},VD=()=>()=>{},Ks=(t,e={})=>{const{i18n:n}=e,{i18n:i,defaultNS:a}=V.useContext(ND)||{},l=n||i||RD();l&&!l.reportNamespaces&&(l.reportNamespaces=new ID),l||fS(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=V.useMemo(()=>({...SD(),...l?.options?.react,...e}),[l,e]),{useSuspense:h,keyPrefix:f}=c,m=a||l?.options?.defaultNS,y=Qa(m)?[m]:m||["translation"],v=V.useMemo(()=>y,y);l?.reportNamespaces?.addUsedNamespaces?.(v);const x=V.useRef(0),w=V.useCallback(C=>{if(!l)return VD;const{bindI18n:D,bindI18nStore:P}=c,F=()=>{x.current+=1,C()};return D&&l.on(D,F),P&&l.store.on(P,F),()=>{D&&D.split(" ").forEach(O=>l.off(O,F)),P&&P.split(" ").forEach(O=>l.store.off(O,F))}},[l,c]),I=V.useRef(),L=V.useCallback(()=>{if(!l)return MD;const C=!!(l.isInitialized||l.initializedStoreOnce)&&v.every(Ke=>vD(Ke,l,c)),D=e.lng||l.language,P=x.current,F=I.current;if(F&&F.ready===C&&F.lng===D&&F.keyPrefix===f&&F.revision===P)return F;const Se={t:l.getFixedT(D,c.nsMode==="fallback"?v:v[0],f),ready:C,lng:D,keyPrefix:f,revision:P};return I.current=Se,Se},[l,v,f,c,e.lng]),[k,M]=V.useState(0),{t:z,ready:q}=PD.useSyncExternalStore(w,L,L);V.useEffect(()=>{if(l&&!q&&!h){const C=()=>M(D=>D+1);e.lng?zT(l,e.lng,v,C):uy(l,v,C)}},[l,e.lng,v,q,h,k]);const te=l||{},ne=V.useRef(null),oe=V.useRef(),N=C=>{const D=Object.getOwnPropertyDescriptors(C);D.__original&&delete D.__original;const P=Object.create(Object.getPrototypeOf(C),D);if(!Object.prototype.hasOwnProperty.call(P,"__original"))try{Object.defineProperty(P,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return P},A=V.useMemo(()=>{const C=te,D=C?.language;let P=C;C&&(ne.current&&ne.current.__original===C?oe.current!==D?(P=N(C),ne.current=P,oe.current=D):P=ne.current:(P=N(C),ne.current=P,oe.current=D));const F=[z,P,q];return F.t=z,F.i18n=P,F.ready=q,F},[z,te,q,te.resolvedLanguage,te.language,te.languages]);if(l&&h&&!q)throw new Promise(C=>{const D=()=>C();e.lng?zT(l,e.lng,v,D):uy(l,v,D)});return A},{slice:LD,forEach:jD}=[];function UD(t){return jD.call(LD.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function zD(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const HT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,BD=function(t,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${t}=${a}`;if(i.maxAge>0){const c=i.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(c)}`}if(i.domain){if(!HT.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!HT.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(l+="; Partitioned"),l},qT={create(t,e,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),i&&(a.domain=i),document.cookie=BD(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let a=n[i];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var FD={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return qT.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:i,cookieDomain:a,cookieOptions:l}=e;n&&typeof document<"u"&&qT.create(n,t,i,a,l)}},HD={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let c=0;c<l.length;c++){const h=l[c].indexOf("=");h>0&&l[c].substring(0,h)===e&&(n=l[c].substring(h+1))}}return n}},qD={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,i;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const c=l.split("&");for(let h=0;h<c.length;h++){const f=c[h].indexOf("=");f>0&&c[h].substring(0,f)===e&&(i=c[h].substring(f+1))}}if(i)return i;if(!i&&n>-1){const c=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?c[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let nl=null;const $T=()=>{if(nl!==null)return nl;try{if(nl=typeof window<"u"&&window.localStorage!==null,!nl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{nl=!1}return nl};var $D={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&$T())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&$T()&&window.localStorage.setItem(n,t)}};let il=null;const GT=()=>{if(il!==null)return il;try{if(il=typeof window<"u"&&window.sessionStorage!==null,!il)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{il=!1}return il};var GD={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&GT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&GT()&&window.sessionStorage.setItem(n,t)}},KD={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:a}=navigator;if(n)for(let l=0;l<n.length;l++)e.push(n[l]);i&&e.push(i),a&&e.push(a)}return e.length>0?e:void 0}},YD={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},QD={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},WD={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let gS=!1;try{document.cookie,gS=!0}catch{}const yS=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];gS||yS.splice(1,1);const XD=()=>({order:yS,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class vS{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=UD(n,this.options||{},XD()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(FD),this.addDetector(HD),this.addDetector($D),this.addDetector(GD),this.addDetector(KD),this.addDetector(YD),this.addDetector(QD),this.addDetector(WD),this.addDetector(qD)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(i=>{if(this.detectors[i]){let a=this.detectors[i].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(i=>i!=null&&!zD(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}vS.type="languageDetector";const JD={live_queue:"Live Queue",book_now:"Book Now",doctor_portal:"Doctor Portal"},ZD={hero_title:"Modern Healthcare",hero_subtitle:"Simplified",hero_desc:"Skip the waiting room. Book your appointment online, track your queue status in real-time, and get notified when it's your turn.",start_booking:"Start Booking",view_live_queue:"View Live Queue",our_services:"Our Services",pricing_desc:"Transparent pricing for all your medical needs.",footer_copy:" 2025 MedicoQueue. All rights reserved. Professional Medical Management System.",services:{gen_con:"General Consultation",gen_con_desc:"Comprehensive health check and prescription.",follow_up:"Follow-up Visit",follow_up_desc:"Review of previous conditions and treatment progress.",special:"Special Procedures",special_desc:"Minor surgical procedures and specialized tests.",renewal:"Prescription Renewal",renewal_desc:"Quick renewal of ongoing medications."},details:"Details",from:"From"},eO={title:"Book an Appointment",subtitle:"Quick and easy booking in less than a minute.",patient_info:"Patient Information",placeholder_name:"Enter your full name",placeholder_phone:"+20 1xx xxx xxxx",date_label:"Preferred Date",date_hint:"Select a date to check availability and clinic hours.",submit_btn:"Confirm My Appointment",processing:"Processing...",status:{title:"Live Queue Status",desc:"Real-time availability and estimated waiting times for today.",patients_today:"Patients Today",estimated_wait:"Estimated Wait",total:"Total",minutes:"Minutes"},schedule:{title:"Clinic Schedule",open:"Open Now",closed:"Closed",hours:"Office Hours",location:"Location",phone:"Phone"},validation:{closed_day:"Sorry, the clinic is closed on {{day}}s.",capacity:"Sorry, we have reached the maximum number of bookings for this day.",slow_db:"The connection to the database is slow. Please refresh the page and try again.",timeout:"The connection to the database is slow. Please refresh the page and try again.",hours_exceeded:"Sorry, we cannot accept more bookings for this day as it exceeds clinic working hours.",db_error:"Database Error"},success:{title:"Booking Confirmed!",desc:"Your appointment has been successfully scheduled.",queue_number:"Your Queue Number",wait_time:"Estimated Wait",time_desc:"Please arrive 10 minutes before your appointment.",back_home:"Back to Home"}},tO={title:"Live Queue Updates",subtitle:"Track the current clinic status in real-time.",now_serving:"Now Serving",waiting:"Waiting",completed:"Completed",upcoming:"Upcoming Patients",up_next:"UP NEXT",no_pending:"No pending appointments for today.",scheduled_for:"Scheduled for",empty:"No bookings for today.",status:{pending:"Waiting",calling:"Calling",completed:"Completed"}},nO={title:"Doctor Portal",subtitle:"Sign in to manage your clinic and patients.",email_label:"Email Address",pass_label:"Password",sign_in:"Sign In",signing_in:"Signing in...",note:"Note: This portal is for authorized medical staff only.",error:"Invalid email or password. Please try again."},iO={title:"Patient Consultation",settings_btn:"Clinic Settings",call_next:"Call Next Patient",mark_completed:"Mark Completed",notes_title:"Clinical Notes & Diagnosis",notes_placeholder:"Start typing examination details, diagnosis, and treatment plan...",autosave:"Autosave Enabled",records_title:"Patient Records & Media",upload_btn:"Upload File",uploading:"Uploading...",drive_link_label:"Google Drive Folder/File Link",drive_link_placeholder:"Paste folder link for persistent storage...",no_records:"No records uploaded yet. Upload a prescription or test result.",next_app:"Next Appointment",quick_actions:"Quick Actions",med_history:"Medical History",print_pres:"Print Prescription",save_draft:"Save Case Draft",complete_con:"Complete Case",no_patient:"Select a patient from the queue to start consultation.",waiting_list:"Waiting List",no_waiting:"No patients waiting.",no_history:"No previous records found for this patient.",no_notes:"No clinical notes provided.",open_file:"Open full file",show_preview:"Show Preview",hide_preview:"Hide Preview",map_link:"Google Maps IFrame Link",get_link:"Get Link",map_placeholder:'Paste the <iframe src="..."> here...',map_hint:'Tip: Share > Embed a map > Copy HTML (only the URL inside src="")',patients_hour:"Patients / Hour",daily_cap:"Daily Capacity",weekly_schedule:"Weekly Schedule & Hours",to:"to",clinic_info:"Clinic Public Info",exit_session:"Exit Session",consultation_saved:"Consultation completed and records saved permanentely.",records_found:"Previous Records",print_hint:"Generate & Print",sidebar:{queue:"Queue",serving:"Now Serving",logout:"Logout"}},sO={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},rO={cancel:"Cancel",save:"Save",full_name:"Full Name",whatsapp_number:"WhatsApp Number",preferred_date:"Preferred Date"},aO={title:"Privacy Policy",last_updated:"Last Updated: December 2025",intro:"Your privacy is important to us. This policy explains how we collect, use, and protect your personal information.",data_collection:"Data Collection",data_collection_desc:"We collect information such as your name, phone number, and medical history solely for appointment scheduling and clinical management.",data_usage:"Data Usage",data_usage_desc:"Your data is used to manage your queue position, send notifications, and provide medical staff with necessary clinical context.",data_protection:"Data Protection",data_protection_desc:"We use industry-standard encryption and secure databases (Firebase) to ensure your information remains confidential.",third_party:"Third-Party Services",third_party_desc:"We use Meta (WhatsApp) for notifications and Google Drive for secure file storage. Each service has its own privacy standards."},oO={title:"Terms of Use",last_updated:"Last Updated: December 2025",acceptance:"Acceptance of Terms",acceptance_desc:"By using this application, you agree to comply with our scheduling rules and respect clinic policies.",user_conduct:"User Conduct",user_conduct_desc:"Users must provide accurate information and arrive on time for their appointments.",cancellation:"Cancellations",cancellation_desc:"Please cancel or reschedule appointments at least 24 hours in advance if you cannot attend.",liability:"Limitation of Liability",liability_desc:"The application provides estimated times which may vary based on clinical requirements. We are not liable for delays."},lO={nav:JD,home:ZD,booking:eO,live_queue:tO,login:nO,dashboard:iO,days:sO,labels:rO,privacy_policy:aO,terms_of_use:oO},cO={live_queue:" ",book_now:" ",doctor_portal:" "},uO={hero_title:"  ",hero_subtitle:" ",hero_desc:"  .               .",start_booking:" ",view_live_queue:"  ",our_services:"",pricing_desc:"    .",footer_copy:" 2025 MedicoQueue.   .    .",services:{gen_con:" ",gen_con_desc:"    .",follow_up:" ",follow_up_desc:"     .",special:" ",special_desc:"    .",renewal:" ",renewal_desc:"   ."},details:"",from:""},hO={title:" ",subtitle:"      .",patient_info:" ",placeholder_name:"  ",placeholder_phone:"+20 1xx xxx xxxx",date_label:" ",date_hint:"      .",submit_btn:" ",processing:" ...",status:{title:"  ",desc:"       .",patients_today:" ",estimated_wait:" ",total:"",minutes:""},schedule:{title:"  ",open:" ",closed:"",hours:" ",location:"",phone:""},validation:{closed_day:"    {{day}}.",capacity:"       .",slow_db:"   .      .",timeout:"   .      .",hours_exceeded:"            .",db_error:"   "},success:{title:"  !",desc:"   .",queue_number:" ",wait_time:" ",time_desc:"     10 .",back_home:" "}},dO={title:"  ",subtitle:"      .",now_serving:"  ",waiting:" ",completed:"",upcoming:" ",up_next:"",no_pending:"    .",scheduled_for:" ",empty:"   .",status:{pending:" ",calling:" ",completed:""}},fO={title:" ",subtitle:"    .",email_label:" ",pass_label:" ",sign_in:" ",signing_in:" ...",note:":        .",error:"      .   ."},mO={title:" ",settings_btn:" ",call_next:"  ",mark_completed:" ",notes_title:"  ",notes_placeholder:"      ...",autosave:"  ",records_title:"  ",upload_btn:" ",uploading:" ...",drive_link_label:" /  ",drive_link_placeholder:"    ...",no_records:"    .      .",next_app:" ",quick_actions:" ",med_history:" ",print_pres:" ",save_draft:"  ",complete_con:" ",no_patient:"     .",waiting_list:" ",no_waiting:"    .",no_history:"       .",no_notes:"    .",open_file:"  ",show_preview:" ",hide_preview:" ",map_link:"   (IFrame)",get_link:"  ",map_placeholder:'  <iframe src="..."> ...',map_hint:':  >   >   HTML (   src="")',patients_hour:" / ",daily_cap:" ",weekly_schedule:"   ",to:"",clinic_info:"  ",exit_session:" ",consultation_saved:"      .",records_found:" ",print_hint:" ",sidebar:{queue:" ",serving:" ",logout:" "}},pO={monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""},gO={cancel:"",save:"",full_name:" ",whatsapp_number:" ",preferred_date:" "},yO={title:" ",last_updated:" :  2025",intro:" .         .",data_collection:" ",data_collection_desc:"             .",data_usage:" ",data_usage_desc:"              .",data_protection:" ",data_protection_desc:"       (Firebase)    .",third_party:"  ",third_party_desc:" Meta (WhatsApp)   Google Drive    .      ."},vO={title:" ",last_updated:" :  2025",acceptance:"  ",acceptance_desc:"            .",user_conduct:" ",user_conduct_desc:"          .",cancellation:"",cancellation_desc:"       24        .",liability:" ",liability_desc:"         .     ."},_O={nav:cO,home:uO,booking:hO,live_queue:dO,login:fO,dashboard:mO,days:pO,labels:gO,privacy_policy:yO,terms_of_use:vO};fn.use(vS).use(CD).init({resources:{en:{translation:lO},ar:{translation:_O}},fallbackLng:"ar",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const _S=fn.language||"ar";document.documentElement.dir=_S.startsWith("ar")?"rtl":"ltr";document.documentElement.lang=_S;var KT="popstate";function bO(t={}){function e(a,l){let{pathname:c="/",search:h="",hash:f=""}=io(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),dy("",{pathname:c,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=a.location.href,m=f.indexOf("#");h=m===-1?f:f.slice(0,m)}return h+"#"+(typeof l=="string"?l:vu(l))}function i(a,l){Fn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return TO(e,n,i,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xO(){return Math.random().toString(36).substring(2,10)}function YT(t,e){return{usr:t.state,key:t.key,idx:e}}function dy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||i||xO()}}function vu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function TO(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",f=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function v(){h="POP";let k=y(),M=k==null?null:k-m;m=k,f&&f({action:h,location:L.location,delta:M})}function x(k,M){h="PUSH";let z=dy(L.location,k,M);n&&n(z,k),m=y()+1;let q=YT(z,m),te=L.createHref(z);try{c.pushState(q,"",te)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(te)}l&&f&&f({action:h,location:L.location,delta:1})}function w(k,M){h="REPLACE";let z=dy(L.location,k,M);n&&n(z,k),m=y();let q=YT(z,m),te=L.createHref(z);c.replaceState(q,"",te),l&&f&&f({action:h,location:L.location,delta:0})}function I(k){return EO(k)}let L={get action(){return h},get location(){return t(a,c)},listen(k){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(KT,v),f=k,()=>{a.removeEventListener(KT,v),f=null}},createHref(k){return e(a,k)},createURL:I,encodeLocation(k){let M=I(k);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:w,go(k){return c.go(k)}};return L}function EO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:vu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function bS(t,e,n="/"){return wO(t,e,n,!1)}function wO(t,e,n,i){let a=typeof e=="string"?io(e):e,l=Us(a.pathname||"/",n);if(l==null)return null;let c=xS(t);SO(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let m=VO(l);h=kO(c[f],m,i)}return h}function xS(t,e=[],n=[],i="",a=!1){let l=(c,h,f=a,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;pt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Vs([i,y.relativePath]),x=n.concat(y);c.children&&c.children.length>0&&(pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),xS(c.children,e,x,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:OO(v,c.index),routesMeta:x})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let f of TS(c.path))l(c,h,!0,f)}),e}function TS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=TS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function SO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var AO=/^:[\w-]+$/,RO=3,CO=2,NO=1,IO=10,DO=-2,QT=t=>t==="*";function OO(t,e){let n=t.split("/"),i=n.length;return n.some(QT)&&(i+=DO),e&&(i+=CO),n.filter(a=>!QT(a)).reduce((a,l)=>a+(AO.test(l)?RO:l===""?NO:IO),i)}function PO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function kO(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=af({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),x=f.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=af({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Vs([l,v.pathname]),pathnameBase:zO(Vs([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Vs([l,v.pathnameBase]))}return c}function af(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=MO(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},x)=>{if(y==="*"){let I=h[x]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const w=h[x];return v&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function MO(t,e=!1,n=!0){Fn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function VO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LO=t=>ES.test(t);function jO(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?io(t):t,l;if(n)if(LO(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Fn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=WT(n.substring(1),"/"):l=WT(n,e)}else l=e;return{pathname:l,search:BO(i),hash:FO(a)}}function WT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Cg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d0(t){let e=UO(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function f0(t,e,n,i=!1){let a;typeof t=="string"?a=io(t):(a={...t},pt(!a.pathname||!a.pathname.includes("?"),Cg("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),Cg("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),Cg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}h=v>=0?e[v]:"/"}let f=jO(a,h),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),zO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,HO=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function $O(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function SS(t,e){let n=t;if(typeof n!="string"||!ES.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(wS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Us(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Fn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var GO=["GET",...AS];new Set(GO);var Dl=V.createContext(null);Dl.displayName="DataRouter";var Bf=V.createContext(null);Bf.displayName="DataRouterState";var KO=V.createContext(!1),RS=V.createContext({isTransitioning:!1});RS.displayName="ViewTransition";var YO=V.createContext(new Map);YO.displayName="Fetchers";var QO=V.createContext(null);QO.displayName="Await";var Hn=V.createContext(null);Hn.displayName="Navigation";var Pu=V.createContext(null);Pu.displayName="Location";var us=V.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var m0=V.createContext(null);m0.displayName="RouteError";var CS="REACT_ROUTER_ERROR",WO="REDIRECT",XO="ROUTE_ERROR_RESPONSE";function JO(t){if(t.startsWith(`${CS}:${WO}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZO(t){if(t.startsWith(`${CS}:${XO}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new HO(e.status,e.statusText,e.data)}catch{}}function eP(t,{relative:e}={}){pt(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(Hn),{hash:a,pathname:l,search:c}=ku(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Vs([n,l])),i.createHref({pathname:h,search:c,hash:a})}function Ol(){return V.useContext(Pu)!=null}function ta(){return pt(Ol(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Pu).location}var NS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IS(t){V.useContext(Hn).static||V.useLayoutEffect(t)}function so(){let{isDataRoute:t}=V.useContext(us);return t?fP():tP()}function tP(){pt(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Dl),{basename:e,navigator:n}=V.useContext(Hn),{matches:i}=V.useContext(us),{pathname:a}=ta(),l=JSON.stringify(d0(i)),c=V.useRef(!1);return IS(()=>{c.current=!0}),V.useCallback((f,m={})=>{if(Fn(c.current,NS),!c.current)return;if(typeof f=="number"){n.go(f);return}let y=f0(f,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Vs([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,a,t])}V.createContext(null);function ku(t,{relative:e}={}){let{matches:n}=V.useContext(us),{pathname:i}=ta(),a=JSON.stringify(d0(n));return V.useMemo(()=>f0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function nP(t,e){return DS(t,e)}function DS(t,e,n,i,a){pt(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(Hn),{matches:c}=V.useContext(us),h=c[c.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let z=v&&v.path||"";PS(m,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let x=ta(),w;if(e){let z=typeof e=="string"?io(e):e;pt(y==="/"||z.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),w=z}else w=x;let I=w.pathname||"/",L=I;if(y!=="/"){let z=y.replace(/^\//,"").split("/");L="/"+I.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=bS(t,{pathname:L});Fn(v||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Fn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=oP(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:Vs([y,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Vs([y,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,n,i,a);return e&&M?V.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function iP(){let t=dP(),e=qO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,c)}var sP=V.createElement(iP,null),OS=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ZO(t.digest);n&&(t=n)}let e=t!==void 0?V.createElement(us.Provider,{value:this.props.routeContext},V.createElement(m0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?V.createElement(rP,{error:t},e):e}};OS.contextType=KO;var Ng=new WeakMap;function rP({children:t,error:e}){let{basename:n}=V.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=JO(e.digest);if(i){let a=Ng.get(e);if(a)throw a;let l=SS(i.location,n);if(wS&&!Ng.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ng.set(e,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function aP({routeContext:t,match:e,children:n}){let i=V.useContext(Dl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(us.Provider,{value:t},n)}function oP(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);pt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:x,errors:w}=n,I=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||I){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=n&&i?(y,v)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:$O(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,x)=>{let w,I=!1,L=null,k=null;n&&(w=c&&v.route.id?c[v.route.id]:void 0,L=v.route.errorElement||sP,h&&(f<0&&x===0?(PS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):f===x&&(I=!0,k=v.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,x+1)),z=()=>{let q;return w?q=L:I?q=k:v.route.Component?q=V.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=y,V.createElement(aP,{match:v,routeContext:{outlet:y,matches:M,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?V.createElement(OS,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:z(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):z()},null)}function p0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lP(t){let e=V.useContext(Dl);return pt(e,p0(t)),e}function cP(t){let e=V.useContext(Bf);return pt(e,p0(t)),e}function uP(t){let e=V.useContext(us);return pt(e,p0(t)),e}function g0(t){let e=uP(t),n=e.matches[e.matches.length-1];return pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hP(){return g0("useRouteId")}function dP(){let t=V.useContext(m0),e=cP("useRouteError"),n=g0("useRouteError");return t!==void 0?t:e.errors?.[n]}function fP(){let{router:t}=lP("useNavigate"),e=g0("useNavigate"),n=V.useRef(!1);return IS(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{Fn(n.current,NS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var XT={};function PS(t,e,n){!e&&!XT[t]&&(XT[t]=!0,Fn(!1,n))}V.memo(mP);function mP({routes:t,future:e,state:n,onError:i}){return DS(t,void 0,n,i,e)}function JT({to:t,replace:e,state:n,relative:i}){pt(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(Hn);Fn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(us),{pathname:c}=ta(),h=so(),f=f0(t,d0(l),c,i==="path"),m=JSON.stringify(f);return V.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function Nr(t){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pP({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){pt(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=io(n));let{pathname:m="/",search:y="",hash:v="",state:x=null,key:w="default"}=n,I=V.useMemo(()=>{let L=Us(m,h);return L==null?null:{location:{pathname:L,search:y,hash:v,state:x,key:w},navigationType:i}},[h,m,y,v,x,w,i]);return Fn(I!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:V.createElement(Hn.Provider,{value:f},V.createElement(Pu.Provider,{children:e,value:I}))}function gP({children:t,location:e}){return nP(fy(t),e)}function fy(t,e=[]){let n=[];return V.Children.forEach(t,(i,a)=>{if(!V.isValidElement(i))return;let l=[...e,a];if(i.type===V.Fragment){n.push.apply(n,fy(i.props.children,l));return}pt(i.type===Nr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=fy(i.props.children,l)),n.push(c)}),n}var Fd="get",Hd="application/x-www-form-urlencoded";function Ff(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function yP(t){return Ff(t)&&t.tagName.toLowerCase()==="button"}function vP(t){return Ff(t)&&t.tagName.toLowerCase()==="form"}function _P(t){return Ff(t)&&t.tagName.toLowerCase()==="input"}function bP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xP(t,e){return t.button===0&&(!e||e==="_self")&&!bP(t)}var Id=null;function TP(){if(Id===null)try{new FormData(document.createElement("form"),0),Id=!1}catch{Id=!0}return Id}var EP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(t){return t!=null&&!EP.has(t)?(Fn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hd}"`),null):t}function wP(t,e){let n,i,a,l,c;if(vP(t)){let h=t.getAttribute("action");i=h?Us(h,e):null,n=t.getAttribute("method")||Fd,a=Ig(t.getAttribute("enctype"))||Hd,l=new FormData(t)}else if(yP(t)||_P(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Us(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Fd,a=Ig(t.getAttribute("formenctype"))||Ig(h.getAttribute("enctype"))||Hd,l=new FormData(h,t),!TP()){let{name:m,type:y,value:v}=t;if(y==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,v)}}else{if(Ff(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fd,i=null,a=Hd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function y0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SP(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Us(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function AP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CP(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await AP(l,n);return c.links?c.links():[]}return[]}));return OP(i.flat(1).filter(RP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ZT(t,e,n,i,a,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>c(f,m)||h(f,m)):l==="data"?e.filter((f,m)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function NP(t,e,{includeHydrateFallback:n}={}){return IP(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function IP(t){return[...new Set(t)]}function DP(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function OP(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(DP(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function kS(){let t=V.useContext(Dl);return y0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PP(){let t=V.useContext(Bf);return y0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var v0=V.createContext(void 0);v0.displayName="FrameworkContext";function MS(){let t=V.useContext(v0);return y0(t,"You must render this element inside a <HydratedRouter> element"),t}function kP(t,e){let n=V.useContext(v0),[i,a]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,x=V.useRef(null);V.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let L=M=>{M.forEach(z=>{c(z.isIntersecting)})},k=new IntersectionObserver(L,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[t]),V.useEffect(()=>{if(i){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[i]);let w=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Qc(h,w),onBlur:Qc(f,I),onMouseEnter:Qc(m,w),onMouseLeave:Qc(y,I),onTouchStart:Qc(v,w)}]:[!1,x,{}]}function Qc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function MP({page:t,...e}){let{router:n}=kS(),i=V.useMemo(()=>bS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(LP,{page:t,matches:i,...e}):null}function VP(t){let{manifest:e,routeModules:n}=MS(),[i,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return CP(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function LP({page:t,matches:e,...n}){let i=ta(),{manifest:a,routeModules:l}=MS(),{basename:c}=kS(),{loaderData:h,matches:f}=PP(),m=V.useMemo(()=>ZT(t,e,f,a,i,"data"),[t,e,f,a,i]),y=V.useMemo(()=>ZT(t,e,f,a,i,"assets"),[t,e,f,a,i]),v=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,L=!1;if(e.forEach(M=>{let z=a.routes[M.route.id];!z||!z.hasLoader||(!m.some(q=>q.route.id===M.route.id)&&M.route.id in h&&l[M.route.id]?.shouldRevalidate||z.hasClientLoader?L=!0:I.add(M.route.id))}),I.size===0)return[];let k=SP(t,c,"data");return L&&I.size>0&&k.searchParams.set("_routes",e.filter(M=>I.has(M.route.id)).map(M=>M.route.id).join(",")),[k.pathname+k.search]},[c,h,i,a,m,e,t,l]),x=V.useMemo(()=>NP(y,a),[y,a]),w=VP(y);return V.createElement(V.Fragment,null,v.map(I=>V.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),x.map(I=>V.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),w.map(({key:I,link:L})=>V.createElement("link",{key:I,nonce:n.nonce,...L})))}function jP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UP&&(window.__reactRouterVersion="7.11.0")}catch{}function zP({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=V.useRef();a.current==null&&(a.current=bO({window:i,v5Compat:!0}));let l=a.current,[c,h]=V.useState({action:l.action,location:l.location}),f=V.useCallback(m=>{n===!1?h(m):V.startTransition(()=>h(m))},[n]);return V.useLayoutEffect(()=>l.listen(f),[l,f]),V.createElement(pP,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ps=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x,...w},I){let{basename:L,unstable_useTransitions:k}=V.useContext(Hn),M=typeof m=="string"&&VS.test(m),z=SS(m,L);m=z.to;let q=eP(m,{relative:a}),[te,ne,oe]=kP(i,w),N=qP(m,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function A(D){e&&e(D),D.defaultPrevented||N(D)}let C=V.createElement("a",{...w,...oe,href:z.absoluteURL||q,onClick:z.isExternal||l?e:A,ref:jP(I,ne),target:f,"data-discover":!M&&n==="render"?"true":void 0});return te&&!M?V.createElement(V.Fragment,null,C,V.createElement(MP,{page:q})):C});Ps.displayName="Link";var BP=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...m},y){let v=ku(c,{relative:m.relative}),x=ta(),w=V.useContext(Bf),{navigator:I,basename:L}=V.useContext(Hn),k=w!=null&&QP(v)&&h===!0,M=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,z=x.pathname,q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(z=z.toLowerCase(),q=q?q.toLowerCase():null,M=M.toLowerCase()),q&&L&&(q=Us(q,L)||q);const te=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let ne=z===M||!a&&z.startsWith(M)&&z.charAt(te)==="/",oe=q!=null&&(q===M||!a&&q.startsWith(M)&&q.charAt(M.length)==="/"),N={isActive:ne,isPending:oe,isTransitioning:k},A=ne?e:void 0,C;typeof i=="function"?C=i(N):C=[i,ne?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(N):l;return V.createElement(Ps,{...m,"aria-current":A,className:C,ref:y,style:D,to:c,viewTransition:h},typeof f=="function"?f(N):f)});BP.displayName="NavLink";var FP=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Fd,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x,...w},I)=>{let{unstable_useTransitions:L}=V.useContext(Hn),k=KP(),M=YP(h,{relative:m}),z=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&VS.test(h),te=ne=>{if(f&&f(ne),ne.defaultPrevented)return;ne.preventDefault();let oe=ne.nativeEvent.submitter,N=oe?.getAttribute("formmethod")||c,A=()=>k(oe||ne.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x});L&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:I,method:z,action:M,onSubmit:i?f:te,...w,"data-discover":!q&&t==="render"?"true":void 0})});FP.displayName="Form";function HP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(t){let e=V.useContext(Dl);return pt(e,HP(t)),e}function qP(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let m=so(),y=ta(),v=ku(t,{relative:l});return V.useCallback(x=>{if(xP(x,e)){x.preventDefault();let w=n!==void 0?n:vu(y)===vu(v),I=()=>m(t,{replace:w,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});f?V.startTransition(()=>I()):I()}},[y,m,v,n,i,e,t,a,l,c,h,f])}var $P=0,GP=()=>`__${String(++$P)}__`;function KP(){let{router:t}=LS("useSubmit"),{basename:e}=V.useContext(Hn),n=hP(),i=t.fetch,a=t.navigate;return V.useCallback(async(l,c={})=>{let{action:h,method:f,encType:m,formData:y,body:v}=wP(l,e);if(c.navigate===!1){let x=c.fetcherKey||GP();await i(x,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function YP(t,{relative:e}={}){let{basename:n}=V.useContext(Hn),i=V.useContext(us);pt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ku(t||".",{relative:e})},c=ta();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Vs([n,l.pathname])),vu(l)}function QP(t,{relative:e}={}){let n=V.useContext(RS);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=LS("useViewTransitionState"),a=ku(t,{relative:e});if(!n.isTransitioning)return!1;let l=Us(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Us(n.nextLocation.pathname,i)||n.nextLocation.pathname;return af(a.pathname,c)!=null||af(a.pathname,l)!=null}const WP=()=>{};var eE={};const jS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},XP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let x=(h&15)<<2|m>>6,w=m&63;f||(w=64,c||(x=64)),i.push(n[y],n[v],n[x],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new JP;const x=l<<2|h>>4;if(i.push(x),m!==64){const w=h<<4&240|m>>2;if(i.push(w),v!==64){const I=m<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZP=function(t){const e=jS(t);return US.encodeByteArray(e,!0)},of=function(t){return ZP(t).replace(/\./g,"")},zS=function(t){try{return US.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tk=()=>ek().__FIREBASE_DEFAULTS__,nk=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ik=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},Hf=()=>{try{return WP()||tk()||nk()||ik()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>Hf()?.emulatorHosts?.[t],FS=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},HS=()=>Hf()?.config,qS=t=>Hf()?.[`_${t}`];class sk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function ro(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _0(t){return(await fetch(t,{credentials:"include"})).ok}function $S(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[of(JSON.stringify(n)),of(JSON.stringify(c)),""].join(".")}const au={};function rk(){const t={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?t.emulator.push(e):t.prod.push(e);return t}function ak(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tE=!1;function b0(t,e){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||au[t]===e||au[t]||tE)return;au[t]=e;function n(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=rk().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{tE=!0,c()},x}function y(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=ak(i),w=n("text"),I=document.getElementById(w)||document.createElement("span"),L=n("learnmore"),k=document.getElementById(L)||document.createElement("a"),M=n("preprendIcon"),z=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const q=x.element;h(q),y(k,L);const te=m();f(z,M),q.append(z,I,k,te),document.body.appendChild(q)}l?(I.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ok(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function lk(){const t=Hf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ck(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dk(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fk(){return!lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mk(){try{return typeof indexedDB=="object"}catch{return!1}}function pk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const gk="FirebaseError";class hs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gk,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?yk(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new hs(a,h,i)}}function yk(t,e){return t.replace(vk,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const vk=/\{\$([^}]+)}/g;function _k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(nE(l)&&nE(c)){if(!Wa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function nE(t){return t!==null&&typeof t=="object"}function Vu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Jc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bk(t,e){const n=new xk(t,e);return n.subscribe.bind(n)}class xk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Tk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Dg),a.error===void 0&&(a.error=Dg),a.complete===void 0&&(a.complete=Dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}function $t(t){return t&&t._delegate?t._delegate:t}class $r{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ua="[DEFAULT]";class Ek{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new sk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sk(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wk(t){return t===Ua?void 0:t}function Sk(t){return t.instantiationMode==="EAGER"}class Ak{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ek(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const Rk={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Ck=Ue.INFO,Nk={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Ik=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=Nk[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x0{constructor(e){this.name=e,this._logLevel=Ck,this._logHandler=Ik,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Dk=(t,e)=>e.some(n=>t instanceof n);let iE,sE;function Ok(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pk(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,my=new WeakMap,KS=new WeakMap,Og=new WeakMap,T0=new WeakMap;function kk(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Lr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,t)}).catch(()=>{}),T0.set(e,t),e}function Mk(t){if(my.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});my.set(t,e)}let py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vk(t){py=t(py)}function Lk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Pg(this),e,...n);return KS.set(i,e.sort?e.sort():[e]),Lr(i)}:Pk().includes(t)?function(...e){return t.apply(Pg(this),e),Lr(GS.get(this))}:function(...e){return Lr(t.apply(Pg(this),e))}}function jk(t){return typeof t=="function"?Lk(t):(t instanceof IDBTransaction&&Mk(t),Dk(t,Ok())?new Proxy(t,py):t)}function Lr(t){if(t instanceof IDBRequest)return kk(t);if(Og.has(t))return Og.get(t);const e=jk(t);return e!==t&&(Og.set(t,e),T0.set(e,t)),e}const Pg=t=>T0.get(t);function Uk(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Lr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Lr(c.result),f.oldVersion,f.newVersion,Lr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const zk=["get","getKey","getAll","getAllKeys","count"],Bk=["put","add","delete","clear"],kg=new Map;function rE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=Bk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||zk.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&f.done]))[0]};return kg.set(e,l),l}Vk(t=>({...t,get:(e,n,i)=>rE(e,n)||t.get(e,n,i),has:(e,n)=>!!rE(e,n)||t.has(e,n)}));class Fk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Hk(t){return t.getComponent()?.type==="VERSION"}const gy="@firebase/app",aE="0.14.6";const zs=new x0("@firebase/app"),qk="@firebase/app-compat",$k="@firebase/analytics-compat",Gk="@firebase/analytics",Kk="@firebase/app-check-compat",Yk="@firebase/app-check",Qk="@firebase/auth",Wk="@firebase/auth-compat",Xk="@firebase/database",Jk="@firebase/data-connect",Zk="@firebase/database-compat",eM="@firebase/functions",tM="@firebase/functions-compat",nM="@firebase/installations",iM="@firebase/installations-compat",sM="@firebase/messaging",rM="@firebase/messaging-compat",aM="@firebase/performance",oM="@firebase/performance-compat",lM="@firebase/remote-config",cM="@firebase/remote-config-compat",uM="@firebase/storage",hM="@firebase/storage-compat",dM="@firebase/firestore",fM="@firebase/ai",mM="@firebase/firestore-compat",pM="firebase",gM="12.6.0";const yy="[DEFAULT]",yM={[gy]:"fire-core",[qk]:"fire-core-compat",[Gk]:"fire-analytics",[$k]:"fire-analytics-compat",[Yk]:"fire-app-check",[Kk]:"fire-app-check-compat",[Qk]:"fire-auth",[Wk]:"fire-auth-compat",[Xk]:"fire-rtdb",[Jk]:"fire-data-connect",[Zk]:"fire-rtdb-compat",[eM]:"fire-fn",[tM]:"fire-fn-compat",[nM]:"fire-iid",[iM]:"fire-iid-compat",[sM]:"fire-fcm",[rM]:"fire-fcm-compat",[aM]:"fire-perf",[oM]:"fire-perf-compat",[lM]:"fire-rc",[cM]:"fire-rc-compat",[uM]:"fire-gcs",[hM]:"fire-gcs-compat",[dM]:"fire-fst",[mM]:"fire-fst-compat",[fM]:"fire-vertex","fire-js":"fire-js",[pM]:"fire-js-all"};const lf=new Map,vM=new Map,vy=new Map;function oE(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xa(t){const e=t.name;if(vy.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of lf.values())oE(n,t);for(const n of vM.values())oE(n,t);return!0}function qf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t==null?!1:t.settings!==void 0}const _M={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Mu("app","Firebase",_M);class bM{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const ao=gM;function YS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:yy,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw jr.create("bad-app-name",{appName:String(a)});if(n||(n=HS()),!n)throw jr.create("no-options");const l=lf.get(a);if(l){if(Wa(n,l.options)&&Wa(i,l.config))return l;throw jr.create("duplicate-app",{appName:a})}const c=new Ak(a);for(const f of vy.values())c.addComponent(f);const h=new bM(n,i,c);return lf.set(a,h),h}function E0(t=yy){const e=lf.get(t);if(!e&&t===yy&&HS())return YS();if(!e)throw jr.create("no-app",{appName:t});return e}function ts(t,e,n){let i=yM[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(c.join(" "));return}Xa(new $r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const xM="firebase-heartbeat-database",TM=1,_u="firebase-heartbeat-store";let Mg=null;function QS(){return Mg||(Mg=Uk(xM,TM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function EM(t){try{const n=(await QS()).transaction(_u),i=await n.objectStore(_u).get(WS(t));return await n.done,i}catch(e){if(e instanceof hs)zs.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function lE(t,e){try{const i=(await QS()).transaction(_u,"readwrite");await i.objectStore(_u).put(e,WS(t)),await i.done}catch(n){if(n instanceof hs)zs.warn(n.message);else{const i=jr.create("idb-set",{originalErrorMessage:n?.message});zs.warn(i.message)}}}function WS(t){return`${t.name}!${t.options.appId}`}const wM=1024,SM=30;class AM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>SM){const a=NM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cE(),{heartbeatsToSend:n,unsentEntries:i}=RM(this._heartbeatsCache.heartbeats),a=of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return zs.warn(e),""}}}function cE(){return new Date().toISOString().substring(0,10)}function RM(t,e=wM){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),uE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),uE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class CM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mk()?pk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return lE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return lE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uE(t){return of(JSON.stringify({version:2,heartbeats:t})).length}function NM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function IM(t){Xa(new $r("platform-logger",e=>new Fk(e),"PRIVATE")),Xa(new $r("heartbeat",e=>new AM(e),"PRIVATE")),ts(gy,aE,t),ts(gy,aE,"esm2020"),ts("fire-js","")}IM("");var DM="firebase",OM="12.7.0";ts(DM,OM,"app");function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PM=XS,JS=new Mu("auth","Firebase",XS());const cf=new x0("@firebase/auth");function kM(t,...e){cf.logLevel<=Ue.WARN&&cf.warn(`Auth (${ao}): ${t}`,...e)}function qd(t,...e){cf.logLevel<=Ue.ERROR&&cf.error(`Auth (${ao}): ${t}`,...e)}function Ri(t,...e){throw w0(t,...e)}function ns(t,...e){return w0(t,...e)}function ZS(t,e,n){const i={...PM(),[e]:n};return new Mu("auth","Firebase",i).create(e,{appName:t.name})}function Ur(t){return ZS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return JS.create(t,...e)}function Te(t,e,...n){if(!t)throw w0(e,...n)}function ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function Bs(t,e){t||ks(e)}function _y(){return typeof self<"u"&&self.location?.href||""}function MM(){return hE()==="http:"||hE()==="https:"}function hE(){return typeof self<"u"&&self.location?.protocol||null}function VM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MM()||uk()||"connection"in navigator)?navigator.onLine:!0}function LM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bs(n>e,"Short delay should be less than long delay!"),this.isMobile=ok()||hk()}get(){return VM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function S0(t,e){Bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class eA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zM=new Lu(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function na(t,e,n,i,a={}){return tA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Vu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...l};return ck()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ro(t.emulatorConfig.host)&&(m.credentials="include"),eA.fetch()(await nA(t,t.config.apiHost,n,h),m)})}async function tA(t,e,n){t._canInitEmulator=!1;const i={...jM,...e};try{const a=new FM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Dd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Dd(t,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ZS(t,y,m);Ri(t,y)}}catch(a){if(a instanceof hs)throw a;Ri(t,"network-request-failed",{message:String(a)})}}async function $f(t,e,n,i,a={}){const l=await na(t,e,n,i,a);return"mfaPendingCredential"in l&&Ri(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function nA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?S0(t.config,a):`${t.config.apiScheme}://${a}`;return UM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function BM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ns(this.auth,"network-request-failed")),zM.get())})}}function Dd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ns(t,e,i);return a.customData._tokenResponse=n,a}function dE(t){return t!==void 0&&t.enterprise!==void 0}class HM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qM(t,e){return na(t,"GET","/v2/recaptchaConfig",oo(t,e))}async function $M(t,e){return na(t,"POST","/v1/accounts:delete",e)}async function uf(t,e){return na(t,"POST","/v1/accounts:lookup",e)}function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GM(t,e=!1){const n=$t(t),i=await n.getIdToken(e),a=A0(i);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ou(Vg(a.auth_time)),issuedAtTime:ou(Vg(a.iat)),expirationTime:ou(Vg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Vg(t){return Number(t)*1e3}function A0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const a=zS(n);return a?JSON.parse(a):(qd("Failed to decode base64 JWT payload"),null)}catch(a){return qd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fE(t){const e=A0(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof hs&&KM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function KM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class YM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class by{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hf(t){const e=t.auth,n=await t.getIdToken(),i=await bu(t,uf(e,{idToken:n}));Te(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?iA(a.providerUserInfo):[],c=WM(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!c?.length,m=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function QM(t){const e=$t(t);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WM(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function iA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function XM(t,e){const n=await tA(t,{},async()=>{const i=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await nA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return t.emulatorConfig&&ro(t.emulatorConfig.host)&&(f.credentials="include"),eA.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JM(t,e){return na(t,"POST","/v2/accounts:revokeToken",oo(t,e))}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=fE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await XM(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new gl;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Rr(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new YM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new by(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await bu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GM(this,e)}reload(){return QM(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await bu(this,$M(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:w,providerData:I,stsTokenManager:L}=n;Te(v&&L,e,"internal-error");const k=gl.fromJSON(this.name,L);Te(typeof v=="string",e,"internal-error"),Rr(i,e.name),Rr(a,e.name),Te(typeof x=="boolean",e,"internal-error"),Te(typeof w=="boolean",e,"internal-error"),Rr(l,e.name),Rr(c,e.name),Rr(h,e.name),Rr(f,e.name),Rr(m,e.name),Rr(y,e.name);const M=new Ti({uid:v,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:k,createdAt:m,lastLoginAt:y});return I&&Array.isArray(I)&&(M.providerData=I.map(z=>({...z}))),f&&(M._redirectEventId=f),M}static async _fromIdTokenResponse(e,n,i=!1){const a=new gl;a.updateFromServerResponse(n);const l=new Ti({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await hf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?iA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new gl;h.updateFromIdToken(i);const f=new Ti({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,m),f}}const mE=new Map;function Ms(t){Bs(t instanceof Function,"Expected a class definition");let e=mE.get(t);return e?(Bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mE.set(t,e),e)}class sA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sA.type="NONE";const pE=sA;function $d(t,e,n){return`firebase:${t}:${e}:${n}`}class yl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=$d(this.userKey,a.apiKey,l),this.fullPersistenceKey=$d("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uf(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new yl(Ms(pE),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Ms(pE);const c=$d(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const x=await uf(e,{idToken:y}).catch(()=>{});if(!x)break;v=await Ti._fromGetAccountInfoResponse(e,x,y)}else v=Ti._fromJSON(e,y);m!==l&&(h=v),l=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new yl(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new yl(l,e,i))}}function gE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uA(e))return"Blackberry";if(hA(e))return"Webos";if(aA(e))return"Safari";if((e.includes("chrome/")||oA(e))&&!e.includes("edge/"))return"Chrome";if(cA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function rA(t=dn()){return/firefox\//i.test(t)}function aA(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oA(t=dn()){return/crios\//i.test(t)}function lA(t=dn()){return/iemobile/i.test(t)}function cA(t=dn()){return/android/i.test(t)}function uA(t=dn()){return/blackberry/i.test(t)}function hA(t=dn()){return/webos/i.test(t)}function R0(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZM(t=dn()){return R0(t)&&!!window.navigator?.standalone}function eV(){return dk()&&document.documentMode===10}function dA(t=dn()){return R0(t)||cA(t)||hA(t)||uA(t)||/windows phone/i.test(t)||lA(t)}function fA(t,e=[]){let n;switch(t){case"Browser":n=gE(dn());break;case"Worker":n=`${gE(dn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${i}`}class tV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function nV(t,e={}){return na(t,"GET","/v2/passwordPolicy",oo(t,e))}const iV=6;class sV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class rV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new tV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uf(this,{idToken:e}),i=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ur(this));const n=e?$t(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nV(this),n=new sV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await JM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ms(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[Ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pl(t){return $t(t)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bk(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aV(t){Gf=t}function mA(t){return Gf.loadJS(t)}function oV(){return Gf.recaptchaEnterpriseScript}function lV(){return Gf.gapiScript}function cV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uV{constructor(){this.enterprise=new hV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dV="recaptcha-enterprise",pA="NO_RECAPTCHA";class fV{constructor(e){this.type=dV,this.auth=Pl(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{qM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new HM(f);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function a(l,c,h){const f=window.grecaptcha;dE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(pA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!n&&dE(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=oV();f.length!==0&&(f+=h),mA(f).then(()=>{a(h,l,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function vE(t,e,n,i=!1,a=!1){const l=new fV(t);let c;if(a)c=pA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function _E(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await vE(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await vE(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(l)})}function mV(t,e){const n=qf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Wa(l,e??{}))return a;Ri(a,"already-initialized")}return n.initialize({options:e})}function pV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ms);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function gV(t,e,n){const i=Pl(t);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=gA(e),{host:c,port:h}=yV(e),f=h===null?"":`:${h}`,m={url:`${l}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Wa(m,i.config.emulator)&&Wa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ro(c)?(_0(`${l}//${c}${f}`),b0("Auth",!0)):vV()}function gA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yV(t){const e=gA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:bE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:bE(c)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class C0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,n){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function _V(t,e){return na(t,"POST","/v1/accounts:signUp",e)}async function bV(t,e){return $f(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}async function xV(t,e){return $f(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function TV(t,e){return $f(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}class xu extends C0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new xu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _E(e,n,"signInWithPassword",bV);case"emailLink":return xV(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _E(e,i,"signUpPassword",_V);case"emailLink":return TV(e,{idToken:n,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vl(t,e){return $f(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}const EV="http://localhost";class Ja extends C0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ja(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,vl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:EV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}function wV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SV(t){const e=Xc(Jc(t)).link,n=e?Xc(Jc(e)).deep_link_id:null,i=Xc(Jc(t)).deep_link_id;return(i?Xc(Jc(i)).link:null)||i||n||e||t}class N0{constructor(e){const n=Xc(Jc(e)),i=n.apiKey??null,a=n.oobCode??null,l=wV(n.mode??null);Te(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SV(e);try{return new N0(n)}catch{return null}}}class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,n){return xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=N0.parseLink(n);return Te(i,"argument-error"),xu._fromEmailAndCode(e,i.code,i.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends yA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Dr extends ju{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";class Or extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Or.credential(n,i)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";class Pr extends ju{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";class kr extends ju{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return kr.credential(n,i)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ti._fromIdTokenResponse(e,i,a),c=xE(i);return new Tl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=xE(i);return new Tl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function xE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class df extends hs{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new df(e,n,i,a)}}function vA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,l,e,i):l})}async function AV(t,e,n=!1){const i=await bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tl._forOperation(t,"link",i)}async function RV(t,e,n=!1){const{auth:i}=t;if(si(i.app))return Promise.reject(Ur(i));const a="reauthenticate";try{const l=await bu(t,vA(i,a,e,t),n);Te(l.idToken,i,"internal-error");const c=A0(l.idToken);Te(c,i,"internal-error");const{sub:h}=c;return Te(t.uid===h,i,"user-mismatch"),Tl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ri(i,"user-mismatch"),l}}async function _A(t,e,n=!1){if(si(t.app))return Promise.reject(Ur(t));const i="signIn",a=await vA(t,i,e),l=await Tl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function CV(t,e){return _A(Pl(t),e)}async function NV(t){const e=Pl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function IV(t,e,n){return si(t.app)?Promise.reject(Ur(t)):CV($t(t),kl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&NV(t),i})}function DV(t,e,n,i){return $t(t).onIdTokenChanged(e,n,i)}function OV(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function PV(t,e,n,i){return $t(t).onAuthStateChanged(e,n,i)}const ff="__sak";class bA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kV=1e3,MV=10;class xA extends bA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);eV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,MV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},kV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xA.type="LOCAL";const VV=xA;class TA extends bA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TA.type="SESSION";const EA=TA;function LV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Kf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),f=await LV(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];function I0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class jV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const m=I0("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const x=v;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function is(){return window}function UV(t){is().location.href=t}function wA(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function zV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BV(){return navigator?.serviceWorker?.controller||null}function FV(){return wA()?self:null}const SA="firebaseLocalStorageDb",HV=1,mf="firebaseLocalStorage",AA="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yf(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function qV(){const t=indexedDB.deleteDatabase(SA);return new Uu(t).toPromise()}function xy(){const t=indexedDB.open(SA,HV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(mf,{keyPath:AA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(mf)?e(i):(i.close(),await qV(),e(await xy()))})})}async function TE(t,e,n){const i=Yf(t,!0).put({[AA]:e,value:n});return new Uu(i).toPromise()}async function $V(t,e){const n=Yf(t,!1).get(e),i=await new Uu(n).toPromise();return i===void 0?null:i.value}function EE(t,e){const n=Yf(t,!0).delete(e);return new Uu(n).toPromise()}const GV=800,KV=3;class RA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>KV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(FV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zV(),!this.activeServiceWorker)return;this.sender=new jV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xy();return await TE(e,ff,"1"),await EE(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>TE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$V(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>EE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Yf(a,!1).getAll();return new Uu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RA.type="LOCAL";const YV=RA;new Lu(3e4,6e4);function QV(t,e){return e?Ms(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class D0 extends C0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WV(t){return _A(t.auth,new D0(t),t.bypassAuthState)}function XV(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),RV(n,new D0(t),t.bypassAuthState)}async function JV(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),AV(n,new D0(t),t.bypassAuthState)}class CA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WV;case"linkViaPopup":case"linkViaRedirect":return JV;case"reauthViaPopup":case"reauthViaRedirect":return XV;default:Ri(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZV=new Lu(2e3,1e4);class cl extends CA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=I0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZV.get())};e()}}cl.currentPopupAction=null;const e4="pendingRedirect",Gd=new Map;class t4 extends CA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const i=await n4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n4(t,e){const n=r4(e),i=s4(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function i4(t,e){Gd.set(t._key(),e)}function s4(t){return Ms(t._redirectPersistence)}function r4(t){return $d(e4,t.config.apiKey,t.name)}async function a4(t,e,n=!1){if(si(t.app))return Promise.reject(Ur(t));const i=Pl(t),a=QV(i,e),c=await new t4(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const o4=600*1e3;class l4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!NA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ns(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o4&&this.cachedEventUids.clear(),this.cachedEventUids.has(wE(e))}saveEventToCache(e){this.cachedEventUids.add(wE(e)),this.lastProcessedEventTime=Date.now()}}function wE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function c4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NA(t);default:return!1}}async function u4(t,e={}){return na(t,"GET","/v1/projects",e)}const h4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d4=/^https?/;async function f4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u4(t);for(const n of e)try{if(m4(n))return}catch{}Ri(t,"unauthorized-domain")}function m4(t){const e=_y(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!d4.test(n))return!1;if(h4.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const p4=new Lu(3e4,6e4);function SE(){const t=is().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g4(t){return new Promise((e,n)=>{function i(){SE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SE(),n(ns(t,"network-request-failed"))},timeout:p4.get()})}if(is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(is().gapi?.load)i();else{const a=cV("iframefcb");return is()[a]=()=>{gapi.load?i():n(ns(t,"network-request-failed"))},mA(`${lV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function y4(t){return Kd=Kd||g4(t),Kd}const v4=new Lu(5e3,15e3),_4="__/auth/iframe",b4="emulator/auth/iframe",x4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E4(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S0(e,b4):`https://${t.config.authDomain}/${_4}`,i={apiKey:e.apiKey,appName:t.name,v:ao},a=T4.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Vu(i).slice(1)}`}async function w4(t){const e=await y4(t),n=is().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:E4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x4,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ns(t,"network-request-failed"),h=is().setTimeout(()=>{l(c)},v4.get());function f(){is().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(c)})}))}const S4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A4=500,R4=600,C4="_blank",N4="http://localhost";class AE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I4(t,e,n,i=A4,a=R4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...S4,width:i.toString(),height:a.toString(),top:l,left:c},m=dn().toLowerCase();n&&(h=oA(m)?C4:n),rA(m)&&(e=e||N4,f.scrollbars="yes");const y=Object.entries(f).reduce((x,[w,I])=>`${x}${w}=${I},`,"");if(ZM(m)&&h!=="_self")return D4(e||"",h),new AE(null);const v=window.open(e||"",h,y);Te(v,t,"popup-blocked");try{v.focus()}catch{}return new AE(v)}function D4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const O4="__/auth/handler",P4="emulator/auth/handler",k4=encodeURIComponent("fac");async function RE(t,e,n,i,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ao,eventId:a};if(e instanceof yA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",_k(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof ju){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),m=f?`#${k4}=${encodeURIComponent(f)}`:"";return`${M4(t)}?${Vu(h).slice(1)}${m}`}function M4({config:t}){return t.emulator?S0(t,P4):`https://${t.authDomain}/${O4}`}const Lg="webStorageSupport";class V4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EA,this._completeRedirectFn=a4,this._overrideRedirectResult=i4}async _openPopup(e,n,i,a){Bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await RE(e,n,i,_y(),a);return I4(e,l,I0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await RE(e,n,i,_y(),a);return UV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Bs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await w4(e),i=new l4(e);return n.register("authEvent",a=>(Te(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lg,{type:Lg},a=>{const l=a?.[0]?.[Lg];l!==void 0&&n(!!l),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dA()||aA()||R0()}}const L4=V4;var CE="@firebase/auth",NE="1.12.0";class j4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function U4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z4(t){Xa(new $r("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fA(t)},m=new rV(i,a,l,f);return pV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xa(new $r("auth-internal",e=>{const n=Pl(e.getProvider("auth").getImmediate());return(i=>new j4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(CE,NE,U4(t)),ts(CE,NE,"esm2020")}const B4=300,F4=qS("authIdTokenMaxAge")||B4;let IE=null;const H4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>F4)return;const a=n?.token;IE!==a&&(IE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function q4(t=E0()){const e=qf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mV(t,{popupRedirectResolver:L4,persistence:[YV,VV,EA]}),i=qS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=H4(l.toString());OV(n,c,()=>c(n.currentUser)),DV(n,h=>c(h))}}const a=BS("auth");return a&&gV(n,`http://${a}`),n}function $4(){return document.getElementsByTagName("head")?.[0]??document}aV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ns("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",$4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z4("Browser");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zr,IA;(function(){var t;function e(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(D,P,F){for(var O=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)O[Se-2]=arguments[Se];return A.prototype[P].apply(D,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,C){C||(C=0);const D=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)D[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;P<16;++P)D[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],P=N.g[2];let F=N.g[3],O;O=A+(F^C&(P^F))+D[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=F+(P^A&(C^P))+D[1]+3905402710&4294967295,F=A+(O<<12&4294967295|O>>>20),O=P+(C^F&(A^C))+D[2]+606105819&4294967295,P=F+(O<<17&4294967295|O>>>15),O=C+(A^P&(F^A))+D[3]+3250441966&4294967295,C=P+(O<<22&4294967295|O>>>10),O=A+(F^C&(P^F))+D[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=F+(P^A&(C^P))+D[5]+1200080426&4294967295,F=A+(O<<12&4294967295|O>>>20),O=P+(C^F&(A^C))+D[6]+2821735955&4294967295,P=F+(O<<17&4294967295|O>>>15),O=C+(A^P&(F^A))+D[7]+4249261313&4294967295,C=P+(O<<22&4294967295|O>>>10),O=A+(F^C&(P^F))+D[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=F+(P^A&(C^P))+D[9]+2336552879&4294967295,F=A+(O<<12&4294967295|O>>>20),O=P+(C^F&(A^C))+D[10]+4294925233&4294967295,P=F+(O<<17&4294967295|O>>>15),O=C+(A^P&(F^A))+D[11]+2304563134&4294967295,C=P+(O<<22&4294967295|O>>>10),O=A+(F^C&(P^F))+D[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=F+(P^A&(C^P))+D[13]+4254626195&4294967295,F=A+(O<<12&4294967295|O>>>20),O=P+(C^F&(A^C))+D[14]+2792965006&4294967295,P=F+(O<<17&4294967295|O>>>15),O=C+(A^P&(F^A))+D[15]+1236535329&4294967295,C=P+(O<<22&4294967295|O>>>10),O=A+(P^F&(C^P))+D[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=F+(C^P&(A^C))+D[6]+3225465664&4294967295,F=A+(O<<9&4294967295|O>>>23),O=P+(A^C&(F^A))+D[11]+643717713&4294967295,P=F+(O<<14&4294967295|O>>>18),O=C+(F^A&(P^F))+D[0]+3921069994&4294967295,C=P+(O<<20&4294967295|O>>>12),O=A+(P^F&(C^P))+D[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=F+(C^P&(A^C))+D[10]+38016083&4294967295,F=A+(O<<9&4294967295|O>>>23),O=P+(A^C&(F^A))+D[15]+3634488961&4294967295,P=F+(O<<14&4294967295|O>>>18),O=C+(F^A&(P^F))+D[4]+3889429448&4294967295,C=P+(O<<20&4294967295|O>>>12),O=A+(P^F&(C^P))+D[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=F+(C^P&(A^C))+D[14]+3275163606&4294967295,F=A+(O<<9&4294967295|O>>>23),O=P+(A^C&(F^A))+D[3]+4107603335&4294967295,P=F+(O<<14&4294967295|O>>>18),O=C+(F^A&(P^F))+D[8]+1163531501&4294967295,C=P+(O<<20&4294967295|O>>>12),O=A+(P^F&(C^P))+D[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=F+(C^P&(A^C))+D[2]+4243563512&4294967295,F=A+(O<<9&4294967295|O>>>23),O=P+(A^C&(F^A))+D[7]+1735328473&4294967295,P=F+(O<<14&4294967295|O>>>18),O=C+(F^A&(P^F))+D[12]+2368359562&4294967295,C=P+(O<<20&4294967295|O>>>12),O=A+(C^P^F)+D[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=F+(A^C^P)+D[8]+2272392833&4294967295,F=A+(O<<11&4294967295|O>>>21),O=P+(F^A^C)+D[11]+1839030562&4294967295,P=F+(O<<16&4294967295|O>>>16),O=C+(P^F^A)+D[14]+4259657740&4294967295,C=P+(O<<23&4294967295|O>>>9),O=A+(C^P^F)+D[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=F+(A^C^P)+D[4]+1272893353&4294967295,F=A+(O<<11&4294967295|O>>>21),O=P+(F^A^C)+D[7]+4139469664&4294967295,P=F+(O<<16&4294967295|O>>>16),O=C+(P^F^A)+D[10]+3200236656&4294967295,C=P+(O<<23&4294967295|O>>>9),O=A+(C^P^F)+D[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=F+(A^C^P)+D[0]+3936430074&4294967295,F=A+(O<<11&4294967295|O>>>21),O=P+(F^A^C)+D[3]+3572445317&4294967295,P=F+(O<<16&4294967295|O>>>16),O=C+(P^F^A)+D[6]+76029189&4294967295,C=P+(O<<23&4294967295|O>>>9),O=A+(C^P^F)+D[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=F+(A^C^P)+D[12]+3873151461&4294967295,F=A+(O<<11&4294967295|O>>>21),O=P+(F^A^C)+D[15]+530742520&4294967295,P=F+(O<<16&4294967295|O>>>16),O=C+(P^F^A)+D[2]+3299628645&4294967295,C=P+(O<<23&4294967295|O>>>9),O=A+(P^(C|~F))+D[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=F+(C^(A|~P))+D[7]+1126891415&4294967295,F=A+(O<<10&4294967295|O>>>22),O=P+(A^(F|~C))+D[14]+2878612391&4294967295,P=F+(O<<15&4294967295|O>>>17),O=C+(F^(P|~A))+D[5]+4237533241&4294967295,C=P+(O<<21&4294967295|O>>>11),O=A+(P^(C|~F))+D[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=F+(C^(A|~P))+D[3]+2399980690&4294967295,F=A+(O<<10&4294967295|O>>>22),O=P+(A^(F|~C))+D[10]+4293915773&4294967295,P=F+(O<<15&4294967295|O>>>17),O=C+(F^(P|~A))+D[1]+2240044497&4294967295,C=P+(O<<21&4294967295|O>>>11),O=A+(P^(C|~F))+D[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=F+(C^(A|~P))+D[15]+4264355552&4294967295,F=A+(O<<10&4294967295|O>>>22),O=P+(A^(F|~C))+D[6]+2734768916&4294967295,P=F+(O<<15&4294967295|O>>>17),O=C+(F^(P|~A))+D[13]+1309151649&4294967295,C=P+(O<<21&4294967295|O>>>11),O=A+(P^(C|~F))+D[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=F+(C^(A|~P))+D[11]+3174756917&4294967295,F=A+(O<<10&4294967295|O>>>22),O=P+(A^(F|~C))+D[2]+718787259&4294967295,P=F+(O<<15&4294967295|O>>>17),O=C+(F^(P|~A))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+F&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,D=this.C;let P=this.h,F=0;for(;F<A;){if(P==0)for(;F<=C;)a(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<A;)if(D[P++]=N.charCodeAt(F++),P==this.blockSize){a(this,D),P=0;break}}else for(;F<A;)if(D[P++]=N[F++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)N[A++]=this.g[C]>>>D&255;return N};function l(N,A){var C=h;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function c(N,A){this.h=A;const C=[];let D=!0;for(let P=N.length-1;P>=0;P--){const F=N[P]|0;D&&F==A||(C[P]=F,D=!1)}this.g=C}var h={};function f(N){return-128<=N&&N<128?l(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return k(m(-N));const A=[];let C=1;for(let D=0;N>=C;D++)A[D]=N/C|0,C*=4294967296;return new c(A,0)}function y(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return k(y(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(A,8));let D=v;for(let F=0;F<N.length;F+=8){var P=Math.min(8,N.length-F);const O=parseInt(N.substring(F,F+P),A);P<8?(P=m(Math.pow(A,P)),D=D.j(P).add(m(O))):(D=D.j(C),D=D.add(m(O)))}return D}var v=f(0),x=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(L(this))return-k(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);N+=(D>=0?D:4294967296+D)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(L(this))return"-"+k(this).toString(N);const A=m(Math.pow(N,6));var C=this;let D="";for(;;){const P=te(C,A).g;C=M(C,P.j(A));let F=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=P,I(C))return F+D;for(;F.length<6;)F="0"+F;D=F+D}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function L(N){return N.h==-1}t.l=function(N){return N=M(this,N),L(N)?-1:I(N)?0:1};function k(N){const A=N.g.length,C=[];for(let D=0;D<A;D++)C[D]=~N.g[D];return new c(C,~N.h).add(x)}t.abs=function(){return L(this)?k(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let D=0;for(let P=0;P<=A;P++){let F=D+(this.i(P)&65535)+(N.i(P)&65535),O=(F>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);D=O>>>16,F&=65535,O&=65535,C[P]=O<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function M(N,A){return N.add(k(A))}t.j=function(N){if(I(this)||I(N))return v;if(L(this))return L(N)?k(this).j(k(N)):k(k(this).j(N));if(L(N))return k(this.j(k(N)));if(this.l(w)<0&&N.l(w)<0)return m(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let P=0;P<N.g.length;P++){const F=this.i(D)>>>16,O=this.i(D)&65535,Se=N.i(P)>>>16,Ke=N.i(P)&65535;C[2*D+2*P]+=O*Ke,z(C,2*D+2*P),C[2*D+2*P+1]+=F*Ke,z(C,2*D+2*P+1),C[2*D+2*P+1]+=O*Se,z(C,2*D+2*P+1),C[2*D+2*P+2]+=F*Se,z(C,2*D+2*P+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new c(C,0)};function z(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function q(N,A){this.g=N,this.h=A}function te(N,A){if(I(A))throw Error("division by zero");if(I(N))return new q(v,v);if(L(N))return A=te(k(N),A),new q(k(A.g),k(A.h));if(L(A))return A=te(N,k(A)),new q(k(A.g),A.h);if(N.g.length>30){if(L(N)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var C=x,D=A;D.l(N)<=0;)C=ne(C),D=ne(D);var P=oe(C,1),F=oe(D,1);for(D=oe(D,2),C=oe(C,2);!I(D);){var O=F.add(D);O.l(N)<=0&&(P=P.add(C),F=O),D=oe(D,1),C=oe(C,1)}return A=M(N,P.j(A)),new q(P,A)}for(P=v;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),F=m(C),O=F.j(A);L(O)||O.l(N)>0;)C-=D,F=m(C),O=F.j(A);I(F)&&(F=x),P=P.add(F),N=M(N,O)}return new q(P,N)}t.B=function(N){return te(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)&N.i(D);return new c(C,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)|N.i(D);return new c(C,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)^N.i(D);return new c(C,this.h^N.h)};function ne(N){const A=N.g.length+1,C=[];for(let D=0;D<A;D++)C[D]=N.i(D)<<1|N.i(D-1)>>>31;return new c(C,N.h)}function oe(N,A){const C=A>>5;A%=32;const D=N.g.length-C,P=[];for(let F=0;F<D;F++)P[F]=A>0?N.i(F+C)>>>A|N.i(F+C+1)<<32-A:N.i(F+C);return new c(P,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,IA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,zr=c}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var DA,Zc,OA,Yd,Ty,PA,kA,MA;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Od=="object"&&Od];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(d,_){if(_)e:{var E=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var G=d[R];if(!(G in E))break e;E=E[G]}d=d[d.length-1],R=E[d],_=_(R),_!=R&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var l=l||{},c=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function f(d,_,E){return d.call.apply(d.bind,arguments)}function m(d,_,E){return m=f,m.apply(null,arguments)}function y(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function v(d,_){function E(){}E.prototype=_.prototype,d.Z=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(R,G,W){for(var ue=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ue[Oe-2]=arguments[Oe];return _.prototype[G].apply(R,ue)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function w(d){const _=d.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=d[R];return E}return[]}function I(d,_){for(let R=1;R<arguments.length;R++){const G=arguments[R];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=d.length||0;const W=G.length||0;d.length=E+W;for(let ue=0;ue<W;ue++)d[E+ue]=G[ue]}else d.push(G)}}class L{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(d){c.setTimeout(()=>{throw d},0)}function M(){var d=N;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,E){const R=q.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new L(()=>new te,d=>d.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,oe=!1,N=new z,A=()=>{const d=Promise.resolve(void 0);ne=()=>{d.then(C)}};function C(){for(var d;d=M();){try{d.h.call(d.g)}catch(E){k(E)}var _=q;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}oe=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Se(d,_){P.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(Se,P),Se.prototype.init=function(d,_){const E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),J=0;function le(d,_,E,R,G){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=G,this.key=++J,this.da=this.fa=!1}function he(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d,_,E){for(const R in d)_.call(E,d[R],R,d)}function Ce(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function U(d){const _={};for(const E in d)_[E]=d[E];return _}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(d,_){let E,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(E in R)d[E]=R[E];for(let W=0;W<B.length;W++)E=B[W],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,_,E,R,G){const W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);const ue=ye(d,_,R,G);return ue>-1?(_=d[ue],E||(_.fa=!1)):(_=new le(_,this.src,W,!!R,G),_.fa=E,d.push(_)),_};function fe(d,_){const E=_.type;if(E in d.g){var R=d.g[E],G=Array.prototype.indexOf.call(R,_,void 0),W;(W=G>=0)&&Array.prototype.splice.call(R,G,1),W&&(he(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ye(d,_,E,R){for(let G=0;G<d.length;++G){const W=d[G];if(!W.da&&W.listener==_&&W.capture==!!E&&W.ha==R)return G}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),at={};function ot(d,_,E,R,G){if(Array.isArray(_)){for(let W=0;W<_.length;W++)ot(d,_[W],E,R,G);return null}return E=ql(E),d&&d[Ke]?d.J(_,E,h(R)?!!R.capture:!1,G):fs(d,_,E,!1,R,G)}function fs(d,_,E,R,G,W){if(!_)throw Error("Invalid event type");const ue=h(G)?!!G.capture:!!G;let Oe=la(d);if(Oe||(d[Ne]=Oe=new ce(d)),E=Oe.add(_,E,R,ue,W),E.proxy)return E;if(R=oa(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)F||(G=ue),G===void 0&&(G=!1),d.addEventListener(_.toString(),R,G);else if(d.attachEvent)d.attachEvent(Ni(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function oa(){function d(E){return _.call(d.src,d.listener,E)}const _=Fl;return d}function ho(d,_,E,R,G){if(Array.isArray(_))for(var W=0;W<_.length;W++)ho(d,_[W],E,R,G);else R=h(R)?!!R.capture:!!R,E=ql(E),d&&d[Ke]?(d=d.i,W=String(_).toString(),W in d.g&&(_=d.g[W],E=ye(_,E,R,G),E>-1&&(he(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete d.g[W],d.h--)))):d&&(d=la(d))&&(_=d.g[_.toString()],d=-1,_&&(d=ye(_,E,R,G)),(E=d>-1?_[d]:null)&&fo(E))}function fo(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Ke])fe(_.i,d);else{var E=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(E,R,d.capture):_.detachEvent?_.detachEvent(Ni(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=la(_))?(fe(E,d),E.h==0&&(E.src=null,_[Ne]=null)):he(d)}}}function Ni(d){return d in at?at[d]:at[d]="on"+d}function Fl(d,_){if(d.da)d=!0;else{_=new Se(_,this);const E=d.listener,R=d.ha||d.src;d.fa&&fo(d),d=E.call(R,_)}return d}function la(d){return d=d[Ne],d instanceof ce?d:null}var Hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ql(d){return typeof d=="function"?d:(d[Hl]||(d[Hl]=function(_){return d.handleEvent(_)}),d[Hl])}function Rt(){D.call(this),this.i=new ce(this),this.M=this,this.G=null}v(Rt,D),Rt.prototype[Ke]=!0,Rt.prototype.removeEventListener=function(d,_,E,R){ho(this,d,_,E,R)};function Bt(d,_){var E,R=d.G;if(R)for(E=[];R;R=R.G)E.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new P(_,d);else if(_ instanceof P)_.target=_.target||d;else{var G=_;_=new P(R,d),Z(_,G)}G=!0;let W,ue;if(E)for(ue=E.length-1;ue>=0;ue--)W=_.g=E[ue],G=Ys(W,R,!0,_)&&G;if(W=_.g=d,G=Ys(W,R,!0,_)&&G,G=Ys(W,R,!1,_)&&G,E)for(ue=0;ue<E.length;ue++)W=_.g=E[ue],G=Ys(W,R,!1,_)&&G}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const E=d.g[_];for(let R=0;R<E.length;R++)he(E[R]);delete d.g[_],d.h--}}this.G=null},Rt.prototype.J=function(d,_,E,R){return this.i.add(String(d),_,!1,E,R)},Rt.prototype.K=function(d,_,E,R){return this.i.add(String(d),_,!0,E,R)};function Ys(d,_,E,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let W=0;W<_.length;++W){const ue=_[W];if(ue&&!ue.da&&ue.capture==E){const Oe=ue.listener,Et=ue.ha||ue.src;ue.fa&&fe(d.i,ue),G=Oe.call(Et,R)!==!1&&G}}return G&&!R.defaultPrevented}function bm(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(d,_||0)}function eh(d){d.g=bm(()=>{d.g=null,d.i&&(d.i=!1,eh(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class mn extends D{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:eh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(d){D.call(this),this.h=d,this.g={}}v(ca,D);var $l=[];function Gl(d){be(d.g,function(_,E){this.g.hasOwnProperty(E)&&fo(_)},d),d.g={}}ca.prototype.N=function(){ca.Z.N.call(this),Gl(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=c.JSON.stringify,xm=c.JSON.parse,th=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function nh(){}function ih(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){P.call(this,"d")}v(Jt,P);function qn(){P.call(this,"c")}v(qn,P);var Tt={},sh=null;function mo(){return sh=sh||new Rt}Tt.Ia="serverreachability";function rh(d){P.call(this,Tt.Ia,d)}v(rh,P);function Ii(d){const _=mo();Bt(_,new rh(_))}Tt.STAT_EVENT="statevent";function ua(d,_){P.call(this,Tt.STAT_EVENT,d),this.stat=_}v(ua,P);function Ct(d){const _=mo();Bt(_,new ua(_,d))}Tt.Ja="timingevent";function Di(d,_){P.call(this,Tt.Ja,d),this.size=_}v(Di,P);function Oi(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function Tm(d,_,E,R,G,W){d.info(function(){if(d.g)if(W){var ue="",Oe=W.split("&");for(let Ye=0;Ye<Oe.length;Ye++){var Et=Oe[Ye].split("=");if(Et.length>1){const dt=Et[0];Et=Et[1];const Yn=dt.split("_");ue=Yn.length>=2&&Yn[1]=="type"?ue+(dt+"="+Et+"&"):ue+(dt+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+_+`
`+E+`
`+ue})}function ah(d,_,E,R,G,W,ue){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+_+`
`+E+`
`+W+" "+ue})}function Pi(d,_,E,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Em(d,E)+(R?" "+R:"")})}function ha(d,_){d.info(function(){return"TIMEOUT: "+_})}ci.prototype.info=function(){};function Em(d,_){if(!d.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(d=0;d<W.length;d++)if(Array.isArray(W[d])){var E=W[d];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return Qs(W)}catch{return _}}var da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function fa(){}v(fa,nh),fa.prototype.g=function(){return new XMLHttpRequest},Yl=new fa;function ms(d){return encodeURIComponent(String(d))}function oh(d){var _=1;d=d.split(":");const E=[];for(;_>0&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function ui(d,_,E,R){this.j=d,this.i=_,this.l=E,this.S=R||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function ki(d,_,E){d.M=1,d.A=ma(Dt(_)),d.u=E,d.R=!0,po(d,null)}function po(d,_){d.F=Date.now(),Mi(d),d.B=Dt(d.A);var E=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),_o(E.i,"t",R),d.C=0,E=d.j.L,d.h=new hi,d.g=Th(d.j,E?_:null,!d.u),d.P>0&&(d.O=new mn(m(d.Y,d,d.g),d.P)),_=d.V,E=d.g,R=d.ba;var G="readystatechange";Array.isArray(G)||(G&&($l[0]=G.toString()),G=$l);for(let W=0;W<G.length;W++){const ue=ot(E,G[W],R||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=d.J?U(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Ii(),Tm(d.i,d.v,d.B,d.l,d.S,d.u)}ui.prototype.ba=function(d){d=d.target;const _=this.O;_&&mi(d)==3?_.j():this.Y(d)},ui.prototype.Y=function(d){try{if(d==this.g)e:{const Oe=mi(this.g),Et=this.g.ya(),Ye=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Oe!=4||Et==7||(Et==8||Ye<=0?Ii(3):Ii(2)),Vi(this);var _=this.g.ca();this.X=_;var E=wm(this);if(this.o=_==200,ah(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var W=R;break t}}W=null}if(d=W)Pi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,d);else{this.o=!1,this.m=3,Ct(12),Dn(this),$n(this);break e}}if(this.R){d=!0;let dt;for(;!this.K&&this.C<E.length;)if(dt=ch(this,E),dt==Gt){Oe==4&&(this.m=4,Ct(14),d=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Nt){this.m=4,Ct(15),Pi(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Pi(this.i,this.l,dt,null),Li(this,dt);if(lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||E.length!=0||this.h.h||(this.m=1,Ct(16),d=!1),this.o=this.o&&d,!d)Pi(this.i,this.l,E,"[Invalid Chunked Response]"),Dn(this),$n(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),cc(ue),ue.P=!0,Ct(11))}}else Pi(this.i,this.l,E,null),Li(this,E);Oe==4&&Dn(this),this.o&&!this.K&&(Oe==4?vh(this.j,this):(this.o=!1,Mi(this)))}else gs(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Dn(this),$n(this)}}}catch{}};function wm(d){if(!lh(d))return d.g.la();const _=Zt(d.g);if(_==="")return"";let E="";const R=_.length,G=mi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Dn(d),$n(d),"";d.h.i=new c.TextDecoder}for(let W=0;W<R;W++)d.h.h=!0,E+=d.h.i.decode(_[W],{stream:!(G&&W==R-1)});return _.length=0,d.h.g+=E,d.C=0,d.h.g}function lh(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function ch(d,_){var E=d.C,R=_.indexOf(`
`,E);return R==-1?Gt:(E=Number(_.substring(E,R)),isNaN(E)?Nt:(R+=1,R+E>_.length?Gt:(_=_.slice(R,R+E),d.C=R+E,_)))}ui.prototype.cancel=function(){this.K=!0,Dn(this)};function Mi(d){d.T=Date.now()+d.H,go(d,d.H)}function go(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Oi(m(d.aa,d),_)}function Vi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}ui.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ha(this.i,this.B),this.M!=2&&(Ii(),Ct(17)),Dn(this),this.m=2,$n(this)):go(this,this.T-d)};function $n(d){d.j.I==0||d.K||vh(d.j,d)}function Dn(d){Vi(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Gl(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Li(d,_){try{var E=d.j;if(E.I!=0&&(E.g==d||Ui(E.h,d))){if(!d.L&&Ui(E.h,d)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)wo(E),ir(E);else break e;xa(E),Ct(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Oi(m(E.Va,E),6e3));ji(E.h)<=1&&E.ta&&(E.ta=void 0)}else $i(E,11)}else if((d.L||E.g==d)&&wo(E),!O(_))for(G=E.Ba.g.parse(_),_=0;_<G.length;_++){let Ye=G[_];const dt=Ye[0];if(!(dt<=E.K))if(E.K=dt,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Yn=Ye[3];Yn!=null&&(E.ka=Yn,E.j.info("VER="+E.ka));const Gi=Ye[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const pi=Ye[5];pi!=null&&typeof pi=="number"&&pi>0&&(R=1.5*pi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const gi=d.g;if(gi){const Ta=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var W=R.h;W.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Xl(W,W.h),W.h=null))}if(R.G){const So=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(R.wa=So,Xe(R.J,R.G,So))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ue=d;if(R.na=xh(R,R.L?R.ba:null,R.W),ue.L){Jl(R.h,ue);var Oe=ue,Et=R.O;Et&&(Oe.H=Et),Oe.D&&(Vi(Oe),Mi(Oe)),R.g=ue}else gh(R);E.i.length>0&&qi(E)}else Ye[0]!="stop"&&Ye[0]!="close"||$i(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?$i(E,7):oc(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}Ii(4)}catch{}}var It=class{constructor(d,_){this.g=d,this.map=_}};function Ql(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ji(d){return d.h?1:d.g?d.g.size:0}function Ui(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Xl(d,_){d.g?d.g.add(_):d.h=_}function Jl(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Ql.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Zl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.G);return _}return w(d.i)}var uh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(d,_){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const R=d[E].indexOf("=");let G,W=null;R>=0?(G=d[E].substring(0,R),W=d[E].substring(R+1)):G=d[E],_(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function On(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof On?(this.l=d.l,Kt(this,d.j),this.o=d.o,this.g=d.g,Ws(this,d.u),this.h=d.h,ec(this,mh(d.i)),this.m=d.m):d&&(_=String(d).match(uh))?(this.l=!1,Kt(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),Ws(this,_[4]),this.h=zi(_[5]||"",!0),ec(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}On.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(pa(_,vo,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(pa(_,vo,!0),"@"),d.push(ms(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(pa(E,E.charAt(0)=="/"?tc:hh,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",pa(E,dh)),d.join("")},On.prototype.resolve=function(d){const _=Dt(this);let E=!!d.j;E?Kt(_,d.j):E=!!d.o,E?_.o=d.o:E=!!d.g,E?_.g=d.g:E=d.u!=null;var R=d.h;if(E)Ws(_,d.u);else if(E=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=_.h.lastIndexOf("/");G!=-1&&(R=_.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let ue=0;ue<G.length;){const Oe=G[ue++];Oe=="."?R&&ue==G.length&&W.push(""):Oe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&ue==G.length&&W.push("")):(W.push(Oe),R=!0)}R=W.join("/")}else R=G}return E?_.h=R:E=d.i.toString()!=="",E?ec(_,mh(d.i)):E=!!d.m,E&&(_.m=d.m),_};function Dt(d){return new On(d)}function Kt(d,_,E){d.j=E?zi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ws(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function ec(d,_,E){_ instanceof Js?(d.i=_,bo(d.i,d.l)):(E||(_=pa(_,Xs)),d.i=new Js(_,d.l))}function Xe(d,_,E){d.i.set(_,E)}function ma(d){return Xe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function zi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function pa(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,_n),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _n(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var vo=/[#\/\?@]/g,hh=/[#\?:]/g,tc=/[#\?]/g,Xs=/[#\?@]/g,dh=/#/g;function Js(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function bn(d){d.g||(d.g=new Map,d.h=0,d.i&&yo(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Js.prototype,t.add=function(d,_){bn(this),this.i=null,d=Zs(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function fh(d,_){bn(d),_=Zs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function nc(d,_){return bn(d),_=Zs(d,_),d.g.has(_)}t.forEach=function(d,_){bn(this),this.g.forEach(function(E,R){E.forEach(function(G){d.call(_,G,R,this)},this)},this)};function ic(d,_){bn(d);let E=[];if(typeof _=="string")nc(d,_)&&(E=E.concat(d.g.get(Zs(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)E=E.concat(d[_]);return E}t.set=function(d,_){return bn(this),this.i=null,d=Zs(this,d),nc(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=ic(this,d),d.length>0?String(d[0]):_):_};function _o(d,_,E){fh(d,_),E.length>0&&(d.i=null,d.g.set(Zs(d,_),w(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const G=ms(E);E=ic(this,E);for(let W=0;W<E.length;W++){let ue=G;E[W]!==""&&(ue+="="+ms(E[W])),d.push(ue)}}return this.i=d.join("&")};function mh(d){const _=new Js;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Zs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function bo(d,_){_&&!d.j&&(bn(d),d.i=null,d.g.forEach(function(E,R){const G=R.toLowerCase();R!=G&&(fh(this,R),_o(this,G,E))},d)),d.j=_}function di(d,_){const E=new ci;if(c.Image){const R=new Image;R.onload=y(Gn,E,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Gn,E,"TestLoadImage: error",!1,_,R),R.onabort=y(Gn,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Gn,E,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function sc(d,_){const E=new ci,R=new AbortController,G=setTimeout(()=>{R.abort(),Gn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(W=>{clearTimeout(G),W.ok?Gn(E,"TestPingServer: ok",!0,_):Gn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Gn(E,"TestPingServer: error",!1,_)})}function Gn(d,_,E,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(E)}catch{}}function er(){this.g=new th}function Bi(d){this.i=d.Sb||null,this.h=d.ab||!1}v(Bi,nh),Bi.prototype.g=function(){return new ga(this.i,this.h)};function ga(d,_){Rt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ga,Rt),t=ga.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,fi(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function xo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?tr(this):fi(this),this.readyState==3&&xo(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,tr(this))},t.Na=function(d){this.g&&(this.response=d,tr(this))},t.ga=function(){this.g&&tr(this)};function tr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,fi(d)}t.setRequestHeader=function(d,_){this.A.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function fi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Kn(d){let _="";return be(d,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function ya(d,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Kn(E),typeof d=="string"?E!=null&&ms(E):Xe(d,_,E))}function nt(d){Rt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nt,Rt);var Fi=/^https?$/i,rc=["POST","PUT"];t=nt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(W){va(this,W);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)E.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())E.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),G=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(rc,_,void 0)>=0)||R||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of E)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(W){va(this,W)}};function va(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,ac(d),ps(d)}function ac(d){d.A||(d.A=!0,Bt(d,"complete"),Bt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Bt(this,"complete"),Bt(this,"abort"),ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},t.Xa=function(){_a(this)};function _a(d){if(d.h&&typeof l<"u"){if(d.v&&mi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Bt(d,"readystatechange"),mi(d)==4){d.h=!1;try{const W=d.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=W===0){let ue=String(d.D).match(uh)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),R=!Fi.test(ue?ue.toLowerCase():"")}E=R}if(E)Bt(d,"complete"),Bt(d,"success");else{d.o=6;try{var G=mi(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",ac(d)}}finally{ps(d)}}}}function ps(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,_||Bt(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(d){return d.g?d.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),xm(_)}};function Zt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(d){const _={};d=(d.g&&mi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(O(d[R]))continue;var E=oh(d[R]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=_[G]||[];_[G]=W,W.push(E)}Ce(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function nr(d){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,d),this.Za=Hi("retryDelaySeedMs",1e4,d),this.Ta=Hi("forwardChannelMaxRetries",2,d),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ql(d&&d.concurrentRequestLimit),this.Ba=new er,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nr.prototype,t.ka=8,t.I=1,t.connect=function(d,_,E,R){Ct(0),this.W=d,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=xh(this,null,this.W),qi(this)};function oc(d){if(To(d),d.I==3){var _=d.V++,E=Dt(d.J);if(Xe(E,"SID",d.M),Xe(E,"RID",_),Xe(E,"TYPE","terminate"),ba(d,E),_=new ui(d,d.j,_),_.M=2,_.A=ma(Dt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Th(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Mi(_)}bh(d)}function ir(d){d.g&&(cc(d),d.g.cancel(),d.g=null)}function To(d){ir(d),d.v&&(c.clearTimeout(d.v),d.v=null),wo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function qi(d){if(!Wl(d.h)&&!d.m){d.m=!0;var _=d.Ea;ne||A(),oe||(ne(),oe=!0),N.add(_,d),d.D=0}}function Eo(d,_){return ji(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Oi(m(d.Ea,d,_),_h(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new ui(this,this.j,d);let W=this.o;if(this.U&&(W?(W=U(W),Z(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ph(this,G,_),E=Dt(this.J),Xe(E,"RID",d),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),ba(this,E),W&&(this.R?_="headers="+ms(Kn(W))+"&"+_:this.u&&ya(E,this.u,W)),Xl(this.h,G),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",_),Xe(E,"SID","null"),G.U=!0,ki(G,E,null)):ki(G,E,_),this.I=2}}else this.I==3&&(d?lc(this,d):this.i.length==0||Wl(this.h)||lc(this))};function lc(d,_){var E;_?E=_.l:E=d.V++;const R=Dt(d.J);Xe(R,"SID",d.M),Xe(R,"RID",E),Xe(R,"AID",d.K),ba(d,R),d.u&&d.o&&ya(R,d.u,d.o),E=new ui(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),_&&(d.i=_.G.concat(d.i)),_=ph(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Xl(d.h,E),ki(E,R,_)}function ba(d,_){d.H&&be(d.H,function(E,R){Xe(_,R,E)}),d.l&&be({},function(E,R){Xe(_,R,E)})}function ph(d,_,E){E=Math.min(d.i.length,E);const R=d.l?m(d.l.Ka,d.l,d):null;e:{var G=d.i;let Oe=-1;for(;;){const Et=["count="+E];Oe==-1?E>0?(Oe=G[0].g,Et.push("ofs="+Oe)):Oe=0:Et.push("ofs="+Oe);let Ye=!0;for(let dt=0;dt<E;dt++){var W=G[dt].g;const Yn=G[dt].map;if(W-=Oe,W<0)Oe=Math.max(0,G[dt].g-100),Ye=!1;else try{W="req"+W+"_"||"";try{var ue=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Gi,pi]of ue){let gi=pi;h(pi)&&(gi=Qs(pi)),Et.push(W+Gi+"="+encodeURIComponent(gi))}}catch(Gi){throw Et.push(W+"type="+encodeURIComponent("_badmap")),Gi}}catch{R&&R(Yn)}}if(Ye){ue=Et.join("&");break e}}ue=void 0}return d=d.i.splice(0,E),_.G=d,ue}function gh(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;ne||A(),oe||(ne(),oe=!0),N.add(_,d),d.A=0}}function xa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Oi(m(d.Da,d),_h(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,yh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Oi(m(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),ir(this),yh(this))};function cc(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function yh(d){d.g=new ui(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Dt(d.na);Xe(_,"RID","rpc"),Xe(_,"SID",d.M),Xe(_,"AID",d.K),Xe(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xe(_,"TO",d.ia),Xe(_,"TYPE","xmlhttp"),ba(d,_),d.u&&d.o&&ya(_,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=ma(Dt(_)),E.u=null,E.R=!0,po(E,d)}t.Va=function(){this.C!=null&&(this.C=null,ir(this),xa(this),Ct(19))};function wo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function vh(d,_){var E=null;if(d.g==_){wo(d),cc(d),d.g=null;var R=2}else if(Ui(d.h,_))E=_.G,Jl(d.h,_),R=1;else return;if(d.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var G=d.D;R=mo(),Bt(R,new Di(R,E)),qi(d)}else gh(d);else if(G=_.m,G==3||G==0&&_.X>0||!(R==1&&Eo(d,_)||R==2&&xa(d)))switch(E&&E.length>0&&(_=d.h,_.i=_.i.concat(E)),G){case 1:$i(d,5);break;case 4:$i(d,10);break;case 3:$i(d,6);break;default:$i(d,2)}}}function _h(d,_){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*_}function $i(d,_){if(d.j.info("Error code "+_),_==2){var E=m(d.bb,d),R=d.Ua;const G=!R;R=new On(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Kt(R,"https"),ma(R),G?di(R.toString(),E):sc(R.toString(),E)}else Ct(2);d.I=0,d.l&&d.l.pa(_),bh(d),To(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function bh(d){if(d.I=0,d.ja=[],d.l){const _=Zl(d.h);(_.length!=0||d.i.length!=0)&&(I(d.ja,_),I(d.ja,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.oa()}}function xh(d,_,E){var R=E instanceof On?Dt(E):new On(E);if(R.g!="")_&&(R.g=_+"."+R.g),Ws(R,R.u);else{var G=c.location;R=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const W=new On(null);R&&Kt(W,R),_&&(W.g=_),G&&Ws(W,G),E&&(W.h=E),R=W}return E=d.G,_=d.wa,E&&_&&Xe(R,E,_),Xe(R,"VER",d.ka),ba(d,R),R}function Th(d,_,E){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new nt(new Bi({ab:E})):new nt(d.ma),_.Fa(d.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eh(){}t=Eh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sr(){}sr.prototype.g=function(d,_){return new pn(d,_)};function pn(d,_){Rt.call(this),this.g=new nr(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ys(this)}v(pn,Rt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){oc(this.g)},pn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Qs(d),d=E);_.i.push(new It(_.Ya++,d)),_.I==3&&qi(_)},pn.prototype.N=function(){this.g.l=null,delete this.j,oc(this.g),delete this.g,pn.Z.N.call(this)};function wh(d){Jt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(wh,Jt);function Sh(){qn.call(this),this.status=1}v(Sh,qn);function ys(d){this.g=d}v(ys,Eh),ys.prototype.ra=function(){Bt(this.g,"a")},ys.prototype.qa=function(d){Bt(this.g,new wh(d))},ys.prototype.pa=function(d){Bt(this.g,new Sh)},ys.prototype.oa=function(){Bt(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,MA=function(){return new sr},kA=function(){return mo()},PA=Tt,Ty={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,Yd=da,Kl.COMPLETE="complete",OA=Kl,ih.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Zc=ih,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,DA=nt}).apply(typeof Od<"u"?Od:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",PE="4.9.3";let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Ml="12.7.0";const Za=new x0("@firebase/firestore");function rl(){return Za.logLevel}function me(t,...e){if(Za.logLevel<=Ue.DEBUG){const n=e.map(O0);Za.debug(`Firestore (${Ml}): ${t}`,...n)}}function Fs(t,...e){if(Za.logLevel<=Ue.ERROR){const n=e.map(O0);Za.error(`Firestore (${Ml}): ${t}`,...n)}}function eo(t,...e){if(Za.logLevel<=Ue.WARN){const n=e.map(O0);Za.warn(`Firestore (${Ml}): ${t}`,...n)}}function O0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ee(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,VA(t,i,n)}function VA(t,e,n){let i=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Fs(i),new Error(i)}function We(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||VA(e,a,i)}function De(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class LA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class G4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class K4{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ls,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ls)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new LA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class Y4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Y4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Qf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=X4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function ze(t,e){return t<e?-1:t>e?1:0}function Ey(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return jg(a)===jg(l)?ze(a,l):jg(a)?1:-1}return ze(t.length,e.length)}const J4=55296,Z4=57343;function jg(t){const e=t.charCodeAt(0);return e>=J4&&e<=Z4}function El(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const ME="__name__";class Xi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Xi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const i=Xi.isNumericId(e),a=Xi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Xi.extractNumericId(e).compare(Xi.extractNumericId(n)):Ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zr.fromString(e.substring(4,e.length-2))}}class ct extends Xi{construct(e,n,i){return new ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const eL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Xi{construct(e,n,i){return new Wt(e,n,i)}static isValidIdentifier(e){return eL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new Wt([ME])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ct.fromString(e))}static fromName(e){return new ve(ct.fromString(e).popFirst(5))}static empty(){return new ve(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ct(e.slice()))}}function UA(t,e,n){if(!n)throw new de(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zA(t,e,n,i){if(e===!0&&i===!0)throw new de(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VE(t){if(!ve.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LE(t){if(ve.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wf(t);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function zu(t,e){if(!BA(t))throw new de(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new de(re.INVALID_ARGUMENT,n);return!0}const jE=-62135596800,UE=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*UE);return new tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jE)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:zt("string",tt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new tt(0,0))}static max(){return new Re(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function tL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(i===1e9?new tt(n+1,0):new tt(n,i));return new Gr(a,ve.empty(),e)}function nL(t){return new Gr(t.readTime,t.key,Tu)}class Gr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Gr(Re.min(),ve.empty(),Tu)}static max(){return new Gr(Re.max(),ve.empty(),Tu)}}function iL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}const sL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==sL)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((a=>a?ae.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const m=f;n(e[m]).next((y=>{c[m]=y,++h,h===l&&i(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ae(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function aL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}class Xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xf.ce=-1;const P0=-1;function Jf(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function oL(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const FA="";function lL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zE(e)),e=cL(t.get(n),e);return zE(e)}function cL(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case FA:n+="";break;default:n+=l}}return n}function zE(t){return t+FA+""}function BE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new an(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new qt(Wt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class qA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qA("Invalid base64 string: "+l):l}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const uL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=uL.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yr(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}const $A="server_timestamp",GA="__type__",KA="__previous_value__",YA="__local_write_time__";function k0(t){return(t?.mapValue?.fields||{})[GA]?.stringValue===$A}function Zf(t){const e=t.mapValue.fields[KA];return k0(e)?Zf(e):e}function Eu(t){const e=Kr(t.mapValue.fields[YA].timestampValue);return new tt(e.seconds,e.nanos)}class hL{constructor(e,n,i,a,l,c,h,f,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const gf="(default)";class wl{constructor(e,n){this.projectId=e,this.database=n||gf}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===gf}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}const QA="__type__",dL="__max__",kd={mapValue:{}},WA="__vector__",yf="value";function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k0(t)?4:mL(t)?9007199254740991:fL(t)?10:11:Ee(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eu(t).isEqual(Eu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Kr(a.timestampValue),h=Kr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Yr(a.bytesValue).isEqual(Yr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=At(a.doubleValue),h=At(l.doubleValue);return c===h?pf(c)===pf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(BE(c)!==BE(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ls(c[f],h[f])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function wu(t,e){return(t.values||[]).find((n=>ls(n,e)))!==void 0}function Sl(t,e){if(t===e)return 0;const n=Qr(t),i=Qr(e);if(n!==i)return ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=At(l.integerValue||l.doubleValue),f=At(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return HE(t.timestampValue,e.timestampValue);case 4:return HE(Eu(t),Eu(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Yr(l),f=Yr(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=ze(h[m],f[m]);if(y!==0)return y}return ze(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=ze(At(l.latitude),At(c.latitude));return h!==0?h:ze(At(l.longitude),At(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return qE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},f=c.fields||{},m=h[yf]?.arrayValue,y=f[yf]?.arrayValue,v=ze(m?.values?.length||0,y?.values?.length||0);return v!==0?v:qE(m,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===kd.mapValue&&c===kd.mapValue)return 0;if(l===kd.mapValue)return 1;if(c===kd.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const x=Ey(f[v],y[v]);if(x!==0)return x;const w=Sl(h[f[v]],m[y[v]]);if(w!==0)return w}return ze(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function HE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Kr(t),i=Kr(e),a=ze(n.seconds,i.seconds);return a!==0?a:ze(n.nanos,i.nanos)}function qE(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Sl(n[a],i[a]);if(l)return l}return ze(n.length,i.length)}function Al(t){return wy(t)}function wy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Kr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Yr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=wy(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${wy(n.fields[c])}`;return a+"}"})(t.mapValue):Ee(61005,{value:t})}function Qd(t){switch(Qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zf(t);return e?16+Qd(e):16;case 5:return 2*t.stringValue.length;case 6:return Yr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Qd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ia(i.fields,((l,c)=>{a+=l.length+Qd(c)})),a})(t.mapValue);default:throw Ee(13486,{value:t})}}function $E(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function M0(t){return!!t&&"arrayValue"in t}function GE(t){return!!t&&"nullValue"in t}function KE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function fL(t){return(t?.mapValue?.fields||{})[QA]?.stringValue===WA}function lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=lu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return{...t}}function mL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dL}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=Wt.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=lu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Wd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ia(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Cn(lu(this.value))}}function XA(t){const e=[];return ia(t.fields,((n,i)=>{const a=new Wt([n]);if(Wd(i)){const l=XA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Bn(e)}class un{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),Cn.empty(),0)}static newFoundDocument(e,n,i,a){return new un(e,1,n,Re.min(),i,a,0)}static newNoDocument(e,n){return new un(e,2,n,Re.min(),Re.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Re.min(),Re.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vf{constructor(e,n){this.position=e,this.inclusive=n}}function YE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),n.key):i=Sl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function QE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}class _f{constructor(e,n="asc"){this.field=e,this.dir=n}}function pL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class JA{}class Ut extends JA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new yL(e,n,i):n==="array-contains"?new bL(e,i):n==="in"?new xL(e,i):n==="not-in"?new TL(e,i):n==="array-contains-any"?new EL(e,i):new Ut(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new vL(e,i):new _L(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends JA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ci(e,n)}matches(e){return ZA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZA(t){return t.op==="and"}function eR(t){return gL(t)&&ZA(t)}function gL(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function Ay(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+Al(t.value);if(eR(t))return t.filters.map((e=>Ay(e))).join(",");{const e=t.filters.map((n=>Ay(n))).join(",");return`${t.op}(${e})`}}function tR(t,e){return t instanceof Ut?(function(i,a){return a instanceof Ut&&i.op===a.op&&i.field.isEqual(a.field)&&ls(i.value,a.value)})(t,e):t instanceof Ci?(function(i,a){return a instanceof Ci&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&tR(c,a.filters[h])),!0):!1})(t,e):void Ee(19439)}function nR(t){return t instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`})(t):t instanceof Ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(nR).join(" ,")+"}"})(t):"Filter"}class yL extends Ut{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class vL extends Ut{constructor(e,n){super(e,"in",n),this.keys=iR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _L extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=iR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function iR(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class bL extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return M0(n)&&wu(n.arrayValue,this.value)}}class xL extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class TL extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class EL extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!M0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>wu(this.value.arrayValue,i)))}}class wL{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function WE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new wL(t,e,n,i,a,l,c)}function V0(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ay(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Al(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Al(i))).join(",")),e.Te=n}return e.Te}function L0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QE(t.startAt,e.startAt)&&QE(t.endAt,e.endAt)}function Ry(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bu{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SL(t,e,n,i,a,l,c,h){return new Bu(t,e,n,i,a,l,c,h)}function em(t){return new Bu(t)}function XE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sR(t){return t.collectionGroup!==null}function cu(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new qt(Wt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new _f(l,i))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new _f(Wt.keyField(),i))}return e.Ie}function ss(t){const e=De(t);return e.Ee||(e.Ee=AL(e,cu(t))),e.Ee}function AL(t,e){if(t.limitType==="F")return WE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new _f(a.field,l)}));const n=t.endAt?new vf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vf(t.startAt.position,t.startAt.inclusive):null;return WE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Cy(t,e){const n=t.filters.concat([e]);return new Bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ny(t,e,n){return new Bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tm(t,e){return L0(ss(t),ss(e))&&t.limitType===e.limitType}function rR(t){return`${V0(ss(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>nR(a))).join(", ")}]`),Jf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Al(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Al(a))).join(",")),`Target(${i})`})(ss(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of cu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const m=YE(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,cu(i),a)||i.endAt&&!(function(c,h,f){const m=YE(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,cu(i),a))})(t,e)}function RL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aR(t){return(e,n)=>{let i=!1;for(const a of cu(t)){const l=CL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function CL(t,e,n){const i=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,c,h){const f=c.data.field(l),m=h.data.field(l);return f!==null&&m!==null?Sl(f,m):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:t.dir})}}class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}const NL=new vt(ve.comparator);function Hs(){return NL}const oR=new vt(ve.comparator);function eu(...t){let e=oR;for(const n of t)e=e.insert(n.key,n);return e}function lR(t){let e=oR;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Fa(){return uu()}function cR(){return uu()}function uu(){return new lo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const IL=new vt(ve.comparator),DL=new qt(ve.comparator);function Be(...t){let e=DL;for(const n of t)e=e.add(n);return e}const OL=new qt(ze);function PL(){return OL}function j0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function uR(t){return{integerValue:""+t}}function kL(t,e){return oL(e)?uR(e):j0(t,e)}class im{constructor(){this._=void 0}}function ML(t,e,n){return t instanceof bf?(function(a,l){const c={fields:{[GA]:{stringValue:$A},[YA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&k0(l)&&(l=Zf(l)),l&&(c.fields[KA]=l),{mapValue:c}})(n,e):t instanceof Su?dR(t,e):t instanceof Au?fR(t,e):(function(a,l){const c=hR(a,l),h=JE(c)+JE(a.Ae);return Sy(c)&&Sy(a.Ae)?uR(h):j0(a.serializer,h)})(t,e)}function VL(t,e,n){return t instanceof Su?dR(t,e):t instanceof Au?fR(t,e):n}function hR(t,e){return t instanceof xf?(function(i){return Sy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class bf extends im{}class Su extends im{constructor(e){super(),this.elements=e}}function dR(t,e){const n=mR(e);for(const i of t.elements)n.some((a=>ls(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Au extends im{constructor(e){super(),this.elements=e}}function fR(t,e){let n=mR(e);for(const i of t.elements)n=n.filter((a=>!ls(a,i)));return{arrayValue:{values:n}}}class xf extends im{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function JE(t){return At(t.integerValue||t.doubleValue)}function mR(t){return M0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LL(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Su&&a instanceof Su||i instanceof Au&&a instanceof Au?El(i.elements,a.elements,ls):i instanceof xf&&a instanceof xf?ls(i.Ae,a.Ae):i instanceof bf&&a instanceof bf})(t.transform,e.transform)}class jL{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function pR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yR(t.key,wi.none()):new Fu(t.key,t.data,wi.none());{const n=t.data,i=Cn.empty();let a=new qt(Wt.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new sa(t.key,i,new Bn(a.toArray()),wi.none())}}function UL(t,e,n){t instanceof Fu?(function(a,l,c){const h=a.value.clone(),f=ew(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof sa?(function(a,l,c){if(!Xd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=ew(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(gR(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function hu(t,e,n,i){return t instanceof Fu?(function(l,c,h,f){if(!Xd(l.precondition,c))return h;const m=l.value.clone(),y=tw(l.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof sa?(function(l,c,h,f){if(!Xd(l.precondition,c))return h;const m=tw(l.fieldTransforms,f,c),y=c.data;return y.setAll(gR(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(l,c,h){return Xd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function zL(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=hR(i.transform,a||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(i.field,l))}return n||null}function ZE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&El(i,a,((l,c)=>LL(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends sm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sa extends sm{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function ew(t,e,n){const i=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,VL(c,h,n[a]))}return i}function tw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,ML(l,c,e))}return i}class yR extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BL extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FL{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&UL(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=hu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=hu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=cR();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const f=pR(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,((n,i)=>ZE(n,i)))&&El(this.baseMutations,e.baseMutations,((n,i)=>ZE(n,i)))}}class U0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return IL})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new U0(e,n,i,a)}}class HL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,He;function $L(t){switch(t){case re.OK:return Ee(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function vR(t){if(t===void 0)return Fs("GRPC error has no .code"),re.UNKNOWN;switch(t){case Vt.OK:return re.OK;case Vt.CANCELLED:return re.CANCELLED;case Vt.UNKNOWN:return re.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return re.INTERNAL;case Vt.UNAVAILABLE:return re.UNAVAILABLE;case Vt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Vt.NOT_FOUND:return re.NOT_FOUND;case Vt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Vt.ABORTED:return re.ABORTED;case Vt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Vt.DATA_LOSS:return re.DATA_LOSS;default:return Ee(39323,{code:t})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function GL(){return new TextEncoder}const KL=new zr([4294967295,4294967295],0);function nw(t){const e=GL().encode(t),n=new IA;return n.update(e),new Uint8Array(n.digest())}function iw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zr([n,i],0),new zr([a,l],0)]}class z0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(i<0)throw new tu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(zr.fromNumber(i)));return a.compare(KL)===1&&(a=new zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nw(e),[i,a]=iw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new z0(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=nw(e),[i,a]=iw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new rm(Re.min(),a,new vt(ze),Hs(),Be())}}class Hu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Hu(i,n,Be(),Be(),Be())}}class Jd{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class _R{constructor(e,n){this.targetId=e,this.Ce=n}}class bR{constructor(e,n,i=Xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class sw{constructor(){this.ve=0,this.Fe=rw(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),i=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ee(38017,{changeType:l})}})),new Hu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=rw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.Je=Md(),this.He=Md(),this.Ye=new vt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ry(l))if(i===0){const c=new ve(l.path);this.et(n,c,un.newNoDocument(c,Re.min()))}else We(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Yr(i).toUint8Array()}catch(f){if(f instanceof qA)return eo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new z0(c,a,l)}catch(f){return eo(f instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&Ry(h.target)){const f=new ve(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,un.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=Be();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new rm(e,n,this.Ye,this.je,i);return this.je=Hs(),this.Je=Md(),this.He=Md(),this.Ye=new vt(ze),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Md(){return new vt(ve.comparator)}function rw(){return new vt(ve.comparator)}const QL={asc:"ASCENDING",desc:"DESCENDING"},WL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XL={and:"AND",or:"OR"};class JL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iy(t,e){return t.useProto3Json||Jf(e)?e:{value:e}}function Tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZL(t,e){return Tf(t,e.toTimestamp())}function rs(t){return We(!!t,49232),Re.fromTimestamp((function(n){const i=Kr(n);return new tt(i.seconds,i.nanos)})(t))}function B0(t,e){return Dy(t,e).canonicalString()}function Dy(t,e){const n=(function(a){return new ct(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TR(t){const e=ct.fromString(t);return We(RR(e),10190,{key:e.toString()}),e}function Oy(t,e){return B0(t.databaseId,e.path)}function Ug(t,e){const n=TR(e);if(n.get(1)!==t.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(wR(n))}function ER(t,e){return B0(t.databaseId,e)}function ej(t){const e=TR(t);return e.length===4?ct.emptyPath():wR(e)}function Py(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wR(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aw(t,e,n){return{name:Oy(t,e),fields:n.value.mapValue.fields}}function tj(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(We(y===void 0||typeof y=="string",58123),Xt.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Xt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?re.UNKNOWN:vR(m.code);return new de(y,m.message||"")})(c);n=new bR(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ug(t,i.document.name),l=rs(i.document.updateTime),c=i.document.createTime?rs(i.document.createTime):Re.min(),h=new Cn({mapValue:{fields:i.document.fields}}),f=un.newFoundDocument(a,l,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Jd(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ug(t,i.document),l=i.readTime?rs(i.readTime):Re.min(),c=un.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Jd([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ug(t,i.document),l=i.removedTargetIds||[];n=new Jd([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new qL(a,l),h=i.targetId;n=new _R(h,c)}}return n}function nj(t,e){let n;if(e instanceof Fu)n={update:aw(t,e.key,e.value)};else if(e instanceof yR)n={delete:Oy(t,e.key)};else if(e instanceof sa)n={update:aw(t,e.key,e.data),updateMask:hj(e.fieldMask)};else{if(!(e instanceof BL))return Ee(16599,{Vt:e.type});n={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof bf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Su)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Au)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof xf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ee(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ZL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(t,e.precondition)),n}function ij(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?rs(a.updateTime):rs(l);return c.isEqual(Re.min())&&(c=rs(l)),new jL(c,a.transformResults||[])})(n,e)))):[]}function sj(t,e){return{documents:[ER(t,e.path)]}}function rj(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=ER(t,a);const l=(function(m){if(m.length!==0)return AR(Ci.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((y=>(function(x){return{field:ol(x.field),direction:lj(x.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Iy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function aj(t){let e=ej(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){We(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const x=SR(v);return x instanceof Ci&&eR(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((x=>(function(I){return new _f(ll(I.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let x;return x=typeof v=="object"?v.value:v,Jf(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(v){const x=!!v.before,w=v.values||[];return new vf(w,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const x=!v.before,w=v.values||[];return new vf(w,x)})(n.endAt)),SL(e,a,c,l,h,"F",f,m)}function oj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ll(n.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(n.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(n.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ll(n.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ut.create(ll(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ci.create(n.compositeFilter.filters.map((i=>SR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function lj(t){return QL[t]}function cj(t){return WL[t]}function uj(t){return XL[t]}function ol(t){return{fieldPath:t.canonicalString()}}function ll(t){return Wt.fromServerFormat(t.fieldPath)}function AR(t){return t instanceof Ut?(function(n){if(n.op==="=="){if(KE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:cj(n.op),value:n.value}}})(t):t instanceof Ci?(function(n){const i=n.getFilters().map((a=>AR(a)));return i.length===1?i[0]:{compositeFilter:{op:uj(n.op),filters:i}}})(t):Ee(54877,{filter:t})}function hj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function RR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Mr{constructor(e,n,i,a,l=Re.min(),c=Re.min(),h=Xt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dj{constructor(e){this.yt=e}}function fj(t){const e=aj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ny(e,e.limit,"L"):e}class mj{constructor(){this.Cn=new pj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Gr.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class pj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new qt(ct.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new qt(ct.comparator)).toArray()}}const ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CR=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(CR,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rl(0)}static cr(){return new Rl(-1)}}const lw="LruGarbageCollector",gj=1048576;function cw([t,e],[n,i]){const a=ze(t,n);return a===0?ze(e,i):a}class yj{constructor(e){this.Ir=e,this.buffer=new qt(cw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();cw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(lw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?me(lw,"Ignoring IndexedDB error during garbage collection: ",n):await Vl(n)}await this.Vr(3e5)}))}}class _j{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Xf.ce);const i=new yj(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(ow)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ow):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,c,h,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,n)))).next((v=>(l=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(m=Date.now(),rl()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function bj(t,e){return new _j(t,e)}class xj{constructor(){this.changes=new lo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ej{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&hu(i.mutation,a,Bn.empty(),tt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Be()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Be()){const a=Fa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=eu();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Fa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Be())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=Hs();const c=uu(),h=(function(){return uu()})();return n.forEach(((f,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof sa)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),hu(y.mutation,m,y.mutation.getFieldMask(),tt.now())):c.set(m.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((m,y)=>c.set(m,y))),n.forEach(((m,y)=>h.set(m,new Tj(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=uu();let a=new vt(((c,h)=>c-h)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let y=i.get(f)||Bn.empty();y=h.applyToLocalView(m,y),i.set(f,y);const v=(a.get(h.batchId)||Be()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,v=cR();y.forEach((x=>{if(!l.has(x)){const w=pR(n.get(x),i.get(x));w!==null&&v.set(x,w),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ae.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(Fa());let h=Tu,f=l;return c.next((m=>ae.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{f=f.insert(y,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,f,m,Be()))).next((y=>({batchId:h,changes:lR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((i=>{let a=eu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=eu();return this.indexManager.getCollectionParents(e,l).next((h=>ae.forEach(h,(f=>{const m=(function(v,x){return new Bu(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((y=>{y.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let h=eu();return c.forEach(((f,m)=>{const y=l.get(f);y!==void 0&&hu(y.mutation,m,Bn.empty(),tt.now()),nm(n,m)&&(h=h.insert(f,m))})),h}))}}class wj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:rs(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:fj(a.bundledQuery),readTime:rs(a.readTime)}})(n)),ae.resolve()}}class Sj{constructor(){this.overlays=new vt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Fa();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=Fa(),l=n.length+1,c=new ve(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new vt(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Fa(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Fa(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return ae.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new HL(n,i));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class Aj{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class F0{constructor(){this.Qr=new qt(Qt.$r),this.Ur=new qt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Qt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new ve(new ct([])),i=new Qt(n,e),a=new Qt(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ct([])),i=new Qt(n,e),a=new Qt(n,e+1);let l=Be();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Qt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class Rj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Qt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FL(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Qt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?P0:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Qt(n,0),a=new Qt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);l.push(h)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new qt(ze);return n.forEach((a=>{const l=new Qt(a,0),c=new Qt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{i=i.add(h.Yr)}))})),ae.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new Qt(new ve(l),0);let h=new qt(ze);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Yr)),!0)}),c),ae.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new Qt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Qt(n,0),a=this.Zr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Cj{constructor(e){this.ri=e,this.docs=(function(){return new vt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let i=Hs();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Hs();const c=n.path,h=new ve(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||iL(nL(y),i)<=0||(a.has(y.key)||nm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ee(9500)}ii(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new Nj(this)}getSize(e){return ae.resolve(this.size)}}class Nj extends xj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Ij{constructor(e){this.persistence=e,this.si=new lo((n=>V0(n)),L0),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new F0,this.targetCount=0,this.ai=Rl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}class NR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xf(0),this.li=!1,this.li=!0,this.hi=new Aj,this.referenceDelegate=e(this),this.Pi=new Ij(this),this.indexManager=new mj,this.remoteDocumentCache=(function(a){return new Cj(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new dj(n),this.Ii=new wj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new Rj(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new Dj(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class Dj extends rL{constructor(e){super(),this.currentSequenceNumber=e}}class H0{constructor(e){this.persistence=e,this.Ri=new F0,this.Vi=null}static mi(e){return new H0(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(i=>{const a=ve.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ef{constructor(e,n){this.persistence=e,this.pi=new lo((i=>lL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=bj(this,n)}static mi(e,n){return new Ef(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(i++,l.removeEntry(c,Re.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qd(e.data.value)),n}br(e,n,i){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class q0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new q0(e,n.fromCache,i,a)}}class Oj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Pj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fk()?8:aL(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Oj;return this.Ss(e,n,c).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(rl()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(rl()<=Ue.DEBUG&&me("QueryEngine","Query:",al(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(rl()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(n))):ae.resolve())}ys(e,n){if(XE(n))return ae.resolve(null);let i=ss(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ny(n,null,"F"),i=ss(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const m=this.Ds(n,h);return this.Cs(n,m,c,f.readTime)?this.ys(e,Ny(n,null,"F")):this.vs(e,m,n,f)}))))})))))}ws(e,n,i,a){return XE(n)||a.isEqual(Re.min())?ae.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?ae.resolve(null):(rl()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(n)),this.vs(e,c,n,tL(a,Tu)).next((h=>h)))}))}Ds(e,n){let i=new qt(aR(e));return n.forEach(((a,l)=>{nm(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return rl()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",al(n)),this.ps.getDocumentsMatchingQuery(e,n,Gr.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const $0="LocalStore",kj=3e8;class Mj{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new vt(ze),this.xs=new lo((l=>V0(l)),L0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ej(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Vj(t,e,n,i){return new Mj(t,e,n,i)}async function IR(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let f=Be();for(const m of a){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Lj(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const v=m.batch,x=v.keys();let w=ae.resolve();return x.forEach((I=>{w=w.next((()=>y.getEntry(f,I))).next((L=>{const k=m.docVersions.get(I);We(k!==null,48541),L.version.compareTo(k)<0&&(v.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),y.addEntry(L)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Be();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function DR(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function jj(t,e){const n=De(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const x=a.get(v);if(!x)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let w=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Xt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),a=a.insert(v,w),(function(L,k,M){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=kj?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(x,w,y)&&h.push(n.Pi.updateTargetData(l,w))}));let f=Hs(),m=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(Uj(l,c,e.documentUpdates).next((y=>{f=y.ks,m=y.qs}))),!i.isEqual(Re.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return ae.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,m))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function Uj(t,e,n){let i=Be(),a=Be();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Hs();return n.forEach(((h,f)=>{const m=l.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Re.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):me($0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function zj(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=P0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Bj(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new Mr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ky(t,e,n){const i=De(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ll(c))throw c;me($0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function uw(t,e,n){const i=De(t);let a=Re.min(),l=Be();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const v=De(f),x=v.xs.get(y);return x!==void 0?ae.resolve(v.Ms.get(x)):v.Pi.getTargetData(m,y)})(i,c,ss(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Re.min(),n?l:Be()))).next((h=>(Fj(i,RL(e),h),{documents:h,Qs:l})))))}function Fj(t,e,n){let i=t.Os.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class hw{constructor(){this.activeTargetIds=PL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hj{constructor(){this.Mo=new hw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qj{Oo(e){}shutdown(){}}const dw="ConnectivityMonitor";class fw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(dw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(dw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vd=null;function My(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}const zg="RestConnection",$j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===gf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const c=My(),h=this.zo(e,n.toUriEncodedString());me(zg,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:m}=new URL(h),y=ro(m);return this.Jo(e,h,f,i,y).then((v=>(me(zg,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw eo(zg,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,n,i,a,l,c){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=$j[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class Kj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class Yj extends Gj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const c=My();return new Promise(((h,f)=>{const m=new DA;m.setWithCredentials(!0),m.listenOnce(OA.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Yd.NO_ERROR:const v=m.getResponseJson();me(ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case Yd.TIMEOUT:me(ln,`RPC '${e}' ${c} timed out`),f(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:const x=m.getStatus();if(me(ln,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w?.error;if(I&&I.status&&I.message){const L=(function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(z)>=0?z:re.UNKNOWN})(I.status);f(new de(L,I.message))}else f(new de(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new de(re.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(ln,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);me(ln,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=My(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=MA(),h=kA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const y=l.join("");me(ln,`Creating RPC '${e}' stream ${a}: ${y}`,f);const v=c.createWebChannel(y,f);this.I_(v);let x=!1,w=!1;const I=new Kj({Yo:k=>{w?me(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(x||(me(ln,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),me(ln,`RPC '${e}' stream ${a} sending:`,k),v.send(k))},Zo:()=>v.close()}),L=(k,M,z)=>{k.listen(M,(q=>{try{z(q)}catch(te){setTimeout((()=>{throw te}),0)}}))};return L(v,Zc.EventType.OPEN,(()=>{w||(me(ln,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),L(v,Zc.EventType.CLOSE,(()=>{w||(w=!0,me(ln,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(v))})),L(v,Zc.EventType.ERROR,(k=>{w||(w=!0,eo(ln,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new de(re.UNAVAILABLE,"The operation could not be completed")))})),L(v,Zc.EventType.MESSAGE,(k=>{if(!w){const M=k.data[0];We(!!M,16349);const z=M,q=z?.error||z[0]?.error;if(q){me(ln,`RPC '${e}' stream ${a} received error:`,q);const te=q.status;let ne=(function(A){const C=Vt[A];if(C!==void 0)return vR(C)})(te),oe=q.message;ne===void 0&&(ne=re.INTERNAL,oe="Unknown error status: "+te+" with message "+q.message),w=!0,I.a_(new de(ne,oe)),v.close()}else me(ln,`RPC '${e}' stream ${a} received:`,M),I.u_(M)}})),L(h,PA.STAT_EVENT,(k=>{k.stat===Ty.PROXY?me(ln,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Ty.NOPROXY&&me(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Bg(){return typeof document<"u"?document:null}function am(t){return new JL(t,!0)}class OR{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mw="PersistentStream";class PR{constructor(e,n,i,a,l,c,h,f){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new de(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qj extends PR{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tj(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?rs(c.readTime):Re.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Py(this.serializer),n.addTarget=(function(l,c){let h;const f=c.target;if(h=Ry(f)?{documents:sj(l,f)}:{query:rj(l,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=xR(l,c.resumeToken);const m=Iy(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Re.min())>0){h.readTime=Tf(l,c.snapshotVersion.toTimestamp());const m=Iy(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=oj(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.q_(n)}}class Wj extends PR{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ij(e.writeResults,e.commitTime),i=rs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Py(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>nj(this.serializer,i)))};this.q_(n)}}class Xj{}class Jj extends Xj{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Dy(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(re.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Dy(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Zj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const to="RemoteStore";class e3{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{co(this)&&(me(to,"Restarting streams for network reachability change."),await(async function(f){const m=De(f);m.Ea.add(4),await qu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await om(m)})(this))}))})),this.Ra=new Zj(i,a)}}async function om(t){if(co(t))for(const e of t.da)await e(!0)}async function qu(t){for(const e of t.da)await e(!1)}function kR(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Q0(n)?Y0(n):jl(n).O_()&&K0(n,e))}function G0(t,e){const n=De(t),i=jl(n);n.Ia.delete(e),i.O_()&&MR(n,e),n.Ia.size===0&&(i.O_()?i.L_():co(n)&&n.Ra.set("Unknown"))}function K0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).Y_(e)}function MR(t,e){t.Va.Ue(e),jl(t).Z_(e)}function Y0(t){t.Va=new YL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.Ra.ua()}function Q0(t){return co(t)&&!jl(t).x_()&&t.Ia.size>0}function co(t){return De(t).Ea.size===0}function VR(t){t.Va=void 0}async function t3(t){t.Ra.set("Online")}async function n3(t){t.Ia.forEach(((e,n)=>{K0(t,e)}))}async function i3(t,e){VR(t),Q0(t)?(t.Ra.ha(e),Y0(t)):t.Ra.set("Unknown")}async function s3(t,e,n){if(t.Ra.set("Online"),e instanceof bR&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(i){me(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wf(t,i)}else if(e instanceof Jd?t.Va.Ze(e):e instanceof _R?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const i=await DR(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(Xt.EMPTY_BYTE_STRING,y.snapshotVersion)),MR(l,f);const v=new Mr(y.target,f,m,y.sequenceNumber);K0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){me(to,"Failed to raise snapshot:",i),await wf(t,i)}}async function wf(t,e,n){if(!Ll(e))throw e;t.Ea.add(1),await qu(t),t.Ra.set("Offline"),n||(n=()=>DR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(to,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await om(t)}))}function LR(t,e){return e().catch((n=>wf(t,n,e)))}async function lm(t){const e=De(t),n=Wr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:P0;for(;r3(e);)try{const a=await zj(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,a3(e,a)}catch(a){await wf(e,a)}jR(e)&&UR(e)}function r3(t){return co(t)&&t.Ta.length<10}function a3(t,e){t.Ta.push(e);const n=Wr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jR(t){return co(t)&&!Wr(t).x_()&&t.Ta.length>0}function UR(t){Wr(t).start()}async function o3(t){Wr(t).ra()}async function l3(t){const e=Wr(t);for(const n of t.Ta)e.ea(n.mutations)}async function c3(t,e,n){const i=t.Ta.shift(),a=U0.from(i,e,n);await LR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await lm(t)}async function u3(t,e){e&&Wr(t).X_&&await(async function(i,a){if((function(c){return $L(c)&&c!==re.ABORTED})(a.code)){const l=i.Ta.shift();Wr(i).B_(),await LR(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await lm(i)}})(t,e),jR(t)&&UR(t)}async function pw(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),me(to,"RemoteStore received new credentials");const i=co(n);n.Ea.add(3),await qu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await om(n)}async function h3(t,e){const n=De(t);e?(n.Ea.delete(2),await om(n)):e||(n.Ea.add(2),await qu(n),n.Ra.set("Unknown"))}function jl(t){return t.ma||(t.ma=(function(n,i,a){const l=De(n);return l.sa(),new Qj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:t3.bind(null,t),t_:n3.bind(null,t),r_:i3.bind(null,t),H_:s3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Q0(t)?Y0(t):t.Ra.set("Unknown")):(await t.ma.stop(),VR(t))}))),t.ma}function Wr(t){return t.fa||(t.fa=(function(n,i,a){const l=De(n);return l.sa(),new Wj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:o3.bind(null,t),r_:u3.bind(null,t),ta:l3.bind(null,t),na:c3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await lm(t)):(await t.fa.stop(),t.Ta.length>0&&(me(to,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class W0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new W0(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X0(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),Ll(t))return new de(re.UNAVAILABLE,`${e}: ${t}`);throw t}class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=eu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new _l;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class gw{constructor(){this.ga=new vt(ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Cl{constructor(e,n,i,a,l,c,h,f,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Cl(e,n,_l.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class d3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class f3{constructor(){this.queries=yw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=De(n),l=a.queries;a.queries=yw(),l.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new de(re.ABORTED,"Firestore shutting down"))}}function yw(){return new lo((t=>rR(t)),tm)}async function J0(t,e){const n=De(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new d3,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=X0(c,`Initialization of query '${al(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&ev(n)}async function Z0(t,e){const n=De(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function m3(t,e){const n=De(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&ev(n)}function p3(t,e,n){const i=De(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function ev(t){t.Ca.forEach((e=>{e.next()}))}var Vy,vw;(vw=Vy||(Vy={})).Ma="default",vw.Cache="cache";class tv{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Cl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vy.Cache}}class zR{constructor(e){this.key=e}}class BR{constructor(e){this.key=e}}class g3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=aR(e),this.tu=new _l(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new gw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const x=a.get(y),w=nm(this.query,v)?v:null,I=!!x&&this.mutatedKeys.has(x.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;x&&w?x.data.isEqual(w.data)?I!==L&&(i.track({type:3,doc:w}),k=!0):this.su(x,w)||(i.track({type:2,doc:w}),k=!0,(f&&this.eu(w,f)>0||m&&this.eu(w,m)<0)&&(h=!0)):!x&&w?(i.track({type:0,doc:w}),k=!0):x&&!w&&(i.track({type:1,doc:x}),k=!0,(f||m)&&(h=!0)),k&&(w?(c=c.add(w),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,v)=>(function(w,I){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return L(w)-L(I)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new Cl(this.query,e.tu,l,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new BR(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new zR(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nv="SyncEngine";class y3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class v3{constructor(e){this.key=e,this.hu=!1}}class _3{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new lo((h=>rR(h)),tm),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ve.comparator),this.Au=new Map,this.Ru=new F0,this.Vu={},this.mu=new Map,this.fu=Rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b3(t,e,n=!0){const i=KR(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await FR(i,e,n,!0),a}async function x3(t,e){const n=KR(t);await FR(n,e,!0,!1)}async function FR(t,e,n,i){const a=await Bj(t.localStore,ss(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await T3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&kR(t.remoteStore,a),h}async function T3(t,e,n,i,a){t.pu=(v,x,w)=>(async function(L,k,M,z){let q=k.view.ru(M);q.Cs&&(q=await uw(L.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,q))));const te=z&&z.targetChanges.get(k.targetId),ne=z&&z.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(q,L.isPrimaryClient,te,ne);return bw(L,k.targetId,oe.au),oe.snapshot})(t,v,x,w);const l=await uw(t.localStore,e,!0),c=new g3(e,l.Qs),h=c.ru(l.documents),f=Hu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,f);bw(t,n,m.au);const y=new y3(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function E3(t,e,n){const i=De(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!tm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ky(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&G0(i.remoteStore,a.targetId),Ly(i,a.targetId)})).catch(Vl)):(Ly(i,a.targetId),await ky(i.localStore,a.targetId,!0))}async function w3(t,e){const n=De(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),G0(n.remoteStore,i.targetId))}async function S3(t,e,n){const i=O3(t);try{const a=await(function(c,h){const f=De(c),m=tt.now(),y=h.reduce(((w,I)=>w.add(I.key)),Be());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let I=Hs(),L=Be();return f.Ns.getEntries(w,y).next((k=>{I=k,I.forEach(((M,z)=>{z.isValidDocument()||(L=L.add(M))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,I))).next((k=>{v=k;const M=[];for(const z of h){const q=zL(z,v.get(z.key).overlayedDocument);q!=null&&M.push(new sa(z.key,q,XA(q.value.mapValue),wi.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,M,h)})).next((k=>{x=k;const M=k.applyToLocalDocumentSet(v,L);return f.documentOverlayCache.saveOverlays(w,k.batchId,M)}))})).then((()=>({batchId:x.batchId,changes:lR(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new vt(ze)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,a.batchId,n),await $u(i,a.changes),await lm(i.remoteStore)}catch(a){const l=X0(a,"Failed to persist write");n.reject(l)}}async function HR(t,e){const n=De(t);try{const i=await jj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?We(c.hu,14607):a.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await $u(n,i,e)}catch(i){await Vl(i)}}function _w(t,e,n){const i=De(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=De(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,v)=>{for(const x of v.Sa)x.va(h)&&(m=!0)})),m&&ev(f)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function A3(t,e,n){const i=De(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new vt(ve.comparator);c=c.insert(l,un.newNoDocument(l,Re.min()));const h=Be().add(l),f=new rm(Re.min(),new Map,new vt(ze),c,h);await HR(i,f),i.du=i.du.remove(l),i.Au.delete(e),iv(i)}else await ky(i.localStore,e,!1).then((()=>Ly(i,e,n))).catch(Vl)}async function R3(t,e){const n=De(t),i=e.batch.batchId;try{const a=await Lj(n.localStore,e);$R(n,i,null),qR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $u(n,a)}catch(a){await Vl(a)}}async function C3(t,e,n){const i=De(t);try{const a=await(function(c,h){const f=De(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((v=>(We(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(m,v)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);$R(i,e,n),qR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await $u(i,a)}catch(a){await Vl(a)}}function qR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $R(t,e,n){const i=De(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||GR(t,i)}))}function GR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(G0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),iv(t))}function bw(t,e,n){for(const i of n)i instanceof zR?(t.Ru.addReference(i.key,e),N3(t,i)):i instanceof BR?(me(nv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||GR(t,i.key)):Ee(19791,{wu:i})}function N3(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(me(nv,"New document in limbo: "+n),t.Eu.add(i),iv(t))}function iv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(ct.fromString(e)),i=t.fu.next();t.Au.set(i,new v3(n)),t.du=t.du.insert(n,i),kR(t.remoteStore,new Mr(ss(em(n.path)),i,"TargetPurposeLimboResolution",Xf.ce))}}async function $u(t,e,n){const i=De(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){a.push(m);const y=q0.As(f.targetId,m);l.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,m){const y=De(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ae.forEach(m,(x=>ae.forEach(x.Es,(w=>y.persistence.referenceDelegate.addReference(v,x.targetId,w))).next((()=>ae.forEach(x.ds,(w=>y.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))))))}catch(v){if(!Ll(v))throw v;me($0,"Failed to update sequence numbers: "+v)}for(const v of m){const x=v.targetId;if(!v.fromCache){const w=y.Ms.get(x),I=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(x,L)}}})(i.localStore,l))}async function I3(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){me(nv,"User change. New user:",e.toKey());const i=await IR(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new de(re.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $u(n,i.Ls)}}function D3(t,e){const n=De(t),i=n.Au.get(e);if(i&&i.hu)return Be().add(i.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function KR(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A3.bind(null,e),e.Pu.H_=m3.bind(null,e.eventManager),e.Pu.yu=p3.bind(null,e.eventManager),e}function O3(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C3.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Vj(this.persistence,new Pj,e.initialUser,this.serializer)}Cu(e){return new NR(H0.mi,this.serializer)}Du(e){return new Hj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class P3 extends Sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Ef,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new vj(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new NR((i=>Ef.mi(i,n)),this.serializer)}}class jy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_w(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=I3.bind(null,this.syncEngine),await h3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new f3})()}createDatastore(e){const n=am(e.databaseInfo.databaseId),i=(function(l){return new Yj(l)})(e.databaseInfo);return(function(l,c,h,f){return new Jj(l,c,h,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new e3(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>_w(this.syncEngine,n,0)),(function(){return fw.v()?new fw:new qj})())}createSyncEngine(e,n){return(function(a,l,c,h,f,m,y){const v=new _3(a,l,c,h,f,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=De(n);me(to,"RemoteStore shutting down."),i.Ea.add(5),await qu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jy.provider={build:()=>new jy};class sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Xr="FirestoreClient";class k3{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=Qf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{me(Xr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me(Xr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=X0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Fg(t,e){t.asyncQueue.verifyOperationInProgress(),me(Xr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await IR(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function xw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await M3(t);me(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>pw(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>pw(e.remoteStore,a))),t._onlineComponents=e}async function M3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Xr,"Using user provided OfflineComponentProvider");try{await Fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Fg(t,new Sf)}}else me(Xr,"Using default OfflineComponentProvider"),await Fg(t,new P3(void 0));return t._offlineComponents}async function YR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Xr,"Using user provided OnlineComponentProvider"),await xw(t,t._uninitializedComponentsProvider._online)):(me(Xr,"Using default OnlineComponentProvider"),await xw(t,new jy))),t._onlineComponents}function V3(t){return YR(t).then((e=>e.syncEngine))}async function Af(t){const e=await YR(t),n=e.eventManager;return n.onListen=b3.bind(null,e.syncEngine),n.onUnlisten=E3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=x3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w3.bind(null,e.syncEngine),n}function L3(t,e,n={}){const i=new Ls;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,m){const y=new sv({next:x=>{y.Nu(),c.enqueueAndForget((()=>Z0(l,v)));const w=x.docs.has(h);!w&&x.fromCache?m.reject(new de(re.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?m.reject(new de(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new tv(em(h.path),y,{includeMetadataChanges:!0,qa:!0});return J0(l,v)})(await Af(t),t.asyncQueue,e,n,i))),i.promise}function j3(t,e,n={}){const i=new Ls;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,m){const y=new sv({next:x=>{y.Nu(),c.enqueueAndForget((()=>Z0(l,v))),x.fromCache&&f.source==="server"?m.reject(new de(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new tv(h,y,{includeMetadataChanges:!0,qa:!0});return J0(l,v)})(await Af(t),t.asyncQueue,e,n,i))),i.promise}function QR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Tw=new Map;const WR="firestore.googleapis.com",Ew=!0;class ww{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WR,this.ssl=Ew}else this.host=e.host,this.ssl=e.ssl??Ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gj)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QR(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new jA;switch(i.type){case"firstParty":return new Q4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Tw.get(n);i&&(me("ComponentProvider","Removing Datastore"),Tw.delete(n),i.terminate())})(this),Promise.resolve()}}function XR(t,e,n,i={}){t=In(t,cm);const a=ro(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(_0(`https://${h}`),b0("Firestore",!0)),l.host!==WR&&l.host!==h&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:i};if(!Wa(f,c)&&(t._setSettings(f),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=cn.MOCK_USER;else{m=$S(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(v)}t._authCredentials=new G4(new LA(m,y))}}class ra{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class yt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(zu(n,yt._jsonSchema))return new yt(e,i||null,new ve(ct.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:zt("string",yt._jsonSchemaVersion),referencePath:zt("string")};class js extends ra{constructor(e,n,i){super(e,n,em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ve(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function Br(t,e,...n){if(t=$t(t),UA("collection","path",e),t instanceof cm){const i=ct.fromString(e,...n);return LE(i),new js(t,null,i)}{if(!(t instanceof yt||t instanceof js))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ct.fromString(e,...n));return LE(i),new js(t.firestore,null,i)}}function yn(t,e,...n){if(t=$t(t),arguments.length===1&&(e=Qf.newId()),UA("doc","path",e),t instanceof cm){const i=ct.fromString(e,...n);return VE(i),new yt(t,null,new ve(i))}{if(!(t instanceof yt||t instanceof js))throw new de(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ct.fromString(e,...n));return VE(i),new yt(t.firestore,t instanceof js?t.converter:null,new ve(i))}}const Sw="AsyncQueue";class Aw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OR(this,"async_queue_retry"),this._c=()=>{const i=Bg();i&&me(Sw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ll(e))throw e;me(Sw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",Rw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=W0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:Rw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Rw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Cw(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class qs extends cm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Aw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Aw(e),this._firestoreClient=void 0,await e}}}function JR(t,e){const n=typeof t=="object"?t:E0(),i=typeof t=="string"?t:gf,a=qf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=FS("firestore");l&&XR(a,...l)}return a}function Gu(t){if(t._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U3(t),t._firestoreClient}function U3(t){const e=t._freezeSettings(),n=(function(a,l,c,h){return new hL(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new k3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:zt("string",zn._jsonSchemaVersion),bytes:zt("string")};class Ku{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class um{constructor(e){this._methodName=e}}class Si{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:zt("string",Si._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ai(e.vectorValues);throw new de(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:zt("string",Ai._jsonSchemaVersion),vectorValues:zt("object")};const z3=/^__.*__$/;class B3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class ZR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new sa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class rv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eC(this.Ac)&&z3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class F3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||am(e)}Cc(e,n,i,a=!1){return new rv({Ac:e,methodName:n,Dc:i,path:Wt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(t){const e=t._freezeSettings(),n=am(t._databaseId);return new F3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tC(t,e,n,i,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);av("Data must be an object, but it was:",c,i);const h=nC(i,c);let f,m;if(l.merge)f=new Bn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const x=Uy(e,v,n);if(!c.contains(x))throw new de(re.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);sC(y,x)||y.push(x)}f=new Bn(y),m=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,m=c.fieldTransforms;return new B3(new Cn(h),f,m)}class dm extends um{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dm}}function H3(t,e,n,i){const a=t.Cc(1,e,n);av("Data must be an object, but it was:",a,i);const l=[],c=Cn.empty();ia(i,((f,m)=>{const y=ov(e,f,n);m=$t(m);const v=a.yc(y);if(m instanceof dm)l.push(y);else{const x=Yu(m,v);x!=null&&(l.push(y),c.set(y,x))}}));const h=new Bn(l);return new ZR(c,h,a.fieldTransforms)}function q3(t,e,n,i,a,l){const c=t.Cc(1,e,n),h=[Uy(e,i,n)],f=[a];if(l.length%2!=0)throw new de(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(Uy(e,l[x])),f.push(l[x+1]);const m=[],y=Cn.empty();for(let x=h.length-1;x>=0;--x)if(!sC(m,h[x])){const w=h[x];let I=f[x];I=$t(I);const L=c.yc(w);if(I instanceof dm)m.push(w);else{const k=Yu(I,L);k!=null&&(m.push(w),y.set(w,k))}}const v=new Bn(m);return new ZR(y,v,c.fieldTransforms)}function $3(t,e,n,i=!1){return Yu(n,t.Cc(i?4:3,e))}function Yu(t,e){if(iC(t=$t(t)))return av("Unsupported field value:",e,t),nC(t,e);if(t instanceof um)return(function(i,a){if(!eC(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let f=Yu(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=$t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kL(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=tt.fromDate(i);return{timestampValue:Tf(a.serializer,l)}}if(i instanceof tt){const l=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tf(a.serializer,l)}}if(i instanceof Si)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zn)return{bytesValue:xR(a.serializer,i._byteString)};if(i instanceof yt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:B0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ai)return(function(c,h){return{mapValue:{fields:{[QA]:{stringValue:WA},[yf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return j0(h.serializer,m)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Wf(i)}`)})(t,e)}function nC(t,e){const n={};return HA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,((i,a)=>{const l=Yu(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function iC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Si||t instanceof zn||t instanceof yt||t instanceof um||t instanceof Ai)}function av(t,e,n){if(!iC(n)||!BA(n)){const i=Wf(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Uy(t,e,n){if((e=$t(e))instanceof Ku)return e._internalPath;if(typeof e=="string")return ov(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const G3=new RegExp("[~\\*/\\[\\]]");function ov(t,e,n){if(e.search(G3)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ku(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new de(re.INVALID_ARGUMENT,h+t+f)}function sC(t,e){return t.some((n=>n.isEqual(e)))}class rC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K3 extends rC{data(){return super.data()}}function lv(t,e){return typeof e=="string"?ov(t,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}function aC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cv{}class oC extends cv{}function Ga(t,e,...n){let i=[];e instanceof cv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof fm)).length,h=l.filter((f=>f instanceof Qu)).length;if(c>1||c>0&&h>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Qu extends oC{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Qu(e,n,i)}_apply(e){const n=this._parse(e);return lC(e._query,n),new ra(e.firestore,e.converter,Cy(e._query,n))}_parse(e){const n=hm(e.firestore);return(function(l,c,h,f,m,y,v){let x;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Iw(v,y);const I=[];for(const L of v)I.push(Nw(f,l,L));x={arrayValue:{values:I}}}else x=Nw(f,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Iw(v,y),x=$3(h,c,v,y==="in"||y==="not-in");return Ut.create(m,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vr(t,e,n){const i=e,a=lv("where",t);return Qu._create(a,i,n)}class fm extends cv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fm(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)lC(c,f),c=Cy(c,f)})(e._query,n),new ra(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Nw(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sR(e)&&n.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ct.fromString(n));if(!ve.isDocumentKey(i))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $E(t,new ve(i))}if(n instanceof yt)return $E(t,n._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(n)}.`)}function Iw(t,e){if(!Array.isArray(t)||t.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lC(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cC{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ia(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[yf].arrayValue?.values?.map((i=>At(i.doubleValue)));return new Ai(n)}convertGeoPoint(e){return new Si(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Zf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ct.fromString(e);We(RR(i),9688,{name:e});const a=new wl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return a.isEqual(n)||Fs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function uC(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fr extends rC{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:zt("string",Fr._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class du extends Fr{data(e={}){return super.data(e)}}class Hr{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ul(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new du(this._firestore,this._userDataWriter,i.key,i,new ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new du(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ul(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new du(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ul(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:Y3(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Y3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}function hC(t){t=In(t,yt);const e=In(t.firestore,qs);return L3(Gu(e),t._key).then((n=>fC(e,t,n)))}Hr._jsonSchemaVersion="firestore/querySnapshot/1.0",Hr._jsonSchema={type:zt("string",Hr._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class uv extends cC{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Cf(t){t=In(t,ra);const e=In(t.firestore,qs),n=Gu(e),i=new uv(e);return aC(t._query),j3(n,t._query).then((a=>new Hr(e,i,t,a)))}function Q3(t,e,n){t=In(t,yt);const i=In(t.firestore,qs),a=uC(t.converter,e,n);return mm(i,[tC(hm(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,wi.none())])}function Ha(t,e,n,...i){t=In(t,yt);const a=In(t.firestore,qs),l=hm(a);let c;return c=typeof(e=$t(e))=="string"||e instanceof Ku?q3(l,"updateDoc",t._key,e,n,i):H3(l,"updateDoc",t._key,e),mm(a,[c.toMutation(t._key,wi.exists(!0))])}function dC(t,e){const n=In(t.firestore,qs),i=yn(t),a=uC(t.converter,e);return mm(n,[tC(hm(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,wi.exists(!1))]).then((()=>i))}function no(t,...e){t=$t(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Cw(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Cw(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let l,c,h;if(t instanceof yt)c=In(t.firestore,qs),h=em(t._key.path),l={next:f=>{e[i]&&e[i](fC(c,t,f))},error:e[i+1],complete:e[i+2]};else{const f=In(t,ra);c=In(f.firestore,qs),h=f._query;const m=new uv(c);l={next:y=>{e[i]&&e[i](new Hr(c,m,f,y))},error:e[i+1],complete:e[i+2]},aC(t._query)}return(function(m,y,v,x){const w=new sv(x),I=new tv(y,w,v);return m.asyncQueue.enqueueAndForget((async()=>J0(await Af(m),I))),()=>{w.Nu(),m.asyncQueue.enqueueAndForget((async()=>Z0(await Af(m),I)))}})(Gu(c),h,a,l)}function mm(t,e){return(function(i,a){const l=new Ls;return i.asyncQueue.enqueueAndForget((async()=>S3(await V3(i),a,l))),l.promise})(Gu(t),e)}function fC(t,e,n){const i=n.docs.get(e._key),a=new uv(t);return new Fr(t,a,e._key,i,new ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ml=a})(ao),Xa(new $r("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new qs(new K4(i.getProvider("auth-internal")),new W4(c,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(m.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ts(OE,PE,e),ts(OE,PE,"esm2020")})();const W3=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:cC,Bytes:zn,CollectionReference:js,DocumentReference:yt,DocumentSnapshot:Fr,FieldPath:Ku,FieldValue:um,Firestore:qs,FirestoreError:de,GeoPoint:Si,Query:ra,QueryCompositeFilterConstraint:fm,QueryConstraint:oC,QueryDocumentSnapshot:du,QueryFieldFilterConstraint:Qu,QuerySnapshot:Hr,SnapshotMetadata:ul,Timestamp:tt,VectorValue:Ai,_AutoId:Qf,_ByteString:Xt,_DatabaseId:wl,_DocumentKey:ve,_EmptyAuthCredentialsProvider:jA,_FieldPath:Wt,_cast:In,_logWarn:eo,_validateIsNotUsedTogether:zA,addDoc:dC,collection:Br,connectFirestoreEmulator:XR,doc:yn,ensureFirestoreConfigured:Gu,executeWrite:mm,getDoc:hC,getDocs:Cf,getFirestore:JR,onSnapshot:no,query:Ga,setDoc:Q3,updateDoc:Ha,where:Vr},Symbol.toStringTag,{value:"Module"}));const mC="firebasestorage.googleapis.com",X3="storageBucket",J3=120*1e3,Z3=600*1e3;class ds extends hs{constructor(e,n,i=0){super(Hg(e),`Firebase Storage: ${n} (${Hg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ds.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cs||(cs={}));function Hg(t){return"storage/"+t}function e6(){const t="An unknown error occurred, please check the error payload for server response.";return new ds(cs.UNKNOWN,t)}function t6(){return new ds(cs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n6(){return new ds(cs.CANCELED,"User canceled the upload/download.")}function i6(t){return new ds(cs.INVALID_URL,"Invalid URL '"+t+"'.")}function s6(t){return new ds(cs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Dw(t){return new ds(cs.INVALID_ARGUMENT,t)}function pC(){return new ds(cs.APP_DELETED,"The Firebase app was deleted.")}function r6(t){return new ds(cs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ei.makeFromUrl(e,n)}catch{return new Ei(e,"")}if(i.path==="")return i;throw s6(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${y}/b/${a}/o${x}`,"i"),I={bucket:1,path:3},L=n===mC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",M=new RegExp(`^https?://${L}/${a}/${k}`,"i"),q=[{regex:h,indices:f,postModify:l},{regex:w,indices:I,postModify:m},{regex:M,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<q.length;te++){const ne=q[te],oe=ne.regex.exec(e);if(oe){const N=oe[ne.indices.bucket];let A=oe[ne.indices.path];A||(A=""),i=new Ei(N,A),ne.postModify(i);break}}if(i==null)throw i6(e);return i}}class a6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function o6(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function f(){return h===2}let m=!1;function y(...k){m||(m=!0,e.apply(null,k))}function v(k){a=setTimeout(()=>{a=null,t(w,f())},k)}function x(){l&&clearTimeout(l)}function w(k,...M){if(m){x();return}if(k){x(),y.call(null,k,...M);return}if(f()||c){x(),y.call(null,k,...M);return}i<64&&(i*=2);let q;h===1?(h=2,q=0):q=(i+Math.random())*1e3,v(q)}let I=!1;function L(k){I||(I=!0,x(),!m&&(a!==null?(k||(h=2),clearTimeout(a),v(0)):k||(h=1)))}return v(0),l=setTimeout(()=>{c=!0,L(!0)},n),L}function l6(t){t(!1)}function c6(t){return t!==void 0}function Ow(t,e,n,i){if(i<e)throw Dw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Dw(`Invalid value for '${t}'. Expected ${n} or less.`)}function u6(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Nf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nf||(Nf={}));function h6(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class d6{constructor(e,n,i,a,l,c,h,f,m,y,v,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,L)=>{this.resolve_=I,this.reject_=L,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Ld(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Nf.NO_ERROR,f=l.getStatus();if(!h||h6(f,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Nf.ABORT;i(!1,new Ld(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Ld(m,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());c6(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=e6();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?pC():n6();c(f)}else{const f=t6();c(f)}};this.canceled_?n(!1,new Ld(!1,null,!0)):this.backoffId_=o6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ld{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function f6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function m6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function g6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function y6(t,e,n,i,a,l,c=!0,h=!1){const f=u6(t.urlParams),m=t.url+f,y=Object.assign({},t.headers);return p6(y,e),f6(y,n),m6(y,l),g6(y,i),new d6(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function v6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class If{constructor(e,n){this._service=e,n instanceof Ei?this._location=n:this._location=Ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new If(e,n)}get root(){const e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _6(this._location.path)}get storage(){return this._service}get parent(){const e=v6(this._location.path);if(e===null)return null;const n=new Ei(this._location.bucket,e);return new If(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw r6(e)}}function Pw(t,e){const n=e?.[X3];return n==null?null:Ei.makeFromBucketSpec(n,t)}function b6(t,e,n,i={}){t.host=`${e}:${n}`;const a=ro(e);a&&(_0(`https://${t.host}/b`),b0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:$S(l,t.app.options.projectId))}class x6{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=mC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J3,this._maxUploadRetryTime=Z3,this._requests=new Set,a!=null?this._bucket=Ei.makeFromBucketSpec(a,this._host):this._bucket=Pw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=Pw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new If(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new a6(pC());{const c=y6(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const kw="@firebase/storage",Mw="0.14.0";const gC="storage";function T6(t=E0(),e){t=$t(t);const i=qf(t,gC).getImmediate({identifier:e}),a=FS("storage");return a&&E6(i,...a),i}function E6(t,e,n,i={}){b6(t,e,n,i)}function w6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new x6(n,i,a,e,ao)}function S6(){Xa(new $r(gC,w6,"PUBLIC").setMultipleInstances(!0)),ts(kw,Mw,""),ts(kw,Mw,"esm2020")}S6();const A6={apiKey:"AIzaSyCGRAz4hNy9737rRC2XhGjihrroVFrBnyE",authDomain:"doctors-89de9.firebaseapp.com",projectId:"doctors-89de9",storageBucket:"doctors-89de9.firebasestorage.app",messagingSenderId:"843277629462",appId:"1:843277629462:web:c6ef4918f469d13dff5d37",measurementId:"G-RVBRHCX77H"},hv=YS(A6),dv=q4(hv),Lt=JR(hv);T6(hv);const yC=V.createContext();function R6(){return V.useContext(yC)}function C6({children:t}){const[e,n]=V.useState(null),[i,a]=V.useState(null),[l,c]=V.useState(!0);V.useEffect(()=>PV(dv,async m=>{if(n(m),m){const y=yn(Lt,"users",m.uid),v=await hC(y);v.exists()&&a(v.data())}else a(null);c(!1)}),[]);const h={currentUser:e,userData:i,isDoctor:i?.role==="doctor"};return b.jsx(yC.Provider,{value:h,children:!l&&t})}const N6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Vw=t=>{const e=I6(t);return e.charAt(0).toUpperCase()+e.slice(1)},vC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),D6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var O6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const P6=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},f)=>V.createElement("svg",{ref:f,...O6,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:vC("lucide",a),...!l&&!D6(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>V.createElement(m,y)),...Array.isArray(l)?l:[l]]));const qe=(t,e)=>{const n=V.forwardRef(({className:i,...a},l)=>V.createElement(P6,{ref:l,iconNode:e,className:vC(`lucide-${N6(Vw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Vw(t),n};const k6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zy=qe("activity",k6);const M6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_C=qe("arrow-left",M6);const V6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],L6=qe("arrow-right",V6);const j6=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],U6=qe("briefcase",j6);const z6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nu=qe("calendar",z6);const B6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lw=qe("chevron-right",B6);const F6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],H6=qe("circle-alert",F6);const q6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Df=qe("circle-check",q6);const $6=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G6=qe("circle-play",$6);const K6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],By=qe("clipboard",K6);const Y6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q6=qe("clock",Y6);const W6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jw=qe("external-link",W6);const X6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J6=qe("eye",X6);const Z6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bC=qe("file-text",Z6);const e5=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Uw=qe("folder-open",e5);const t5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],n5=qe("history",t5);const i5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fv=qe("info",i5);const s5=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],r5=qe("languages",s5);const a5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],o5=qe("lock",a5);const l5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],c5=qe("mail",l5);const u5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xC=qe("map-pin",u5);const h5=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],TC=qe("phone-call",h5);const d5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],EC=qe("phone",d5);const f5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zw=qe("plus",f5);const m5=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],p5=qe("printer",m5);const g5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bw=qe("save",g5);const y5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fw=qe("settings",y5);const v5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_5=qe("shield-check",v5);const b5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],x5=qe("shield",b5);const T5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],E5=qe("trash-2",T5);const w5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wC=qe("upload",w5);const S5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mv=qe("user",S5);const A5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SC=qe("users",A5);const R5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fy=qe("x",R5),pv=V.createContext({});function gv(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const yv=typeof window<"u",AC=yv?V.useLayoutEffect:V.useEffect,pm=V.createContext(null);function vv(t,e){t.indexOf(e)===-1&&t.push(e)}function _v(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $s=(t,e,n)=>n>e?e:n<t?t:n;let bv=()=>{};const Gs={},RC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function CC(t){return typeof t=="object"&&t!==null}const NC=t=>/^0[^.\s]+$/u.test(t);function xv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ai=t=>t,C5=(t,e)=>n=>e(t(n)),Wu=(...t)=>t.reduce(C5),Ru=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Tv{constructor(){this.subscriptions=[]}add(e){return vv(this.subscriptions,e),()=>_v(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const as=t=>t*1e3,ri=t=>t/1e3;function IC(t,e){return e?t*(1e3/e):0}const DC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N5=1e-7,I5=12;function D5(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=DC(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>N5&&++h<I5);return c}function Xu(t,e,n,i){if(t===e&&n===i)return ai;const a=l=>D5(l,0,1,t,n);return l=>l===0||l===1?l:DC(a(l),e,i)}const OC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PC=t=>e=>1-t(1-e),kC=Xu(.33,1.53,.69,.99),Ev=PC(kC),MC=OC(Ev),VC=t=>(t*=2)<1?.5*Ev(t):.5*(2-Math.pow(2,-10*(t-1))),wv=t=>1-Math.sin(Math.acos(t)),LC=PC(wv),jC=OC(wv),O5=Xu(.42,0,1,1),P5=Xu(0,0,.58,1),UC=Xu(.42,0,.58,1),k5=t=>Array.isArray(t)&&typeof t[0]!="number",zC=t=>Array.isArray(t)&&typeof t[0]=="number",M5={linear:ai,easeIn:O5,easeInOut:UC,easeOut:P5,circIn:wv,circInOut:jC,circOut:LC,backIn:Ev,backInOut:MC,backOut:kC,anticipate:VC},V5=t=>typeof t=="string",Hw=t=>{if(zC(t)){bv(t.length===4);const[e,n,i,a]=t;return Xu(e,n,i,a)}else if(V5(t))return M5[t];return t},jd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function L5(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){c.has(y)&&(m.schedule(y),t()),y(h)}const m={schedule:(y,v=!1,x=!1)=>{const I=x&&a?n:i;return v&&c.add(y),I.has(y)||I.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const j5=40;function BC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=jd.reduce((q,te)=>(q[te]=L5(l),q),{}),{setup:h,read:f,resolveKeyframes:m,preUpdate:y,update:v,preRender:x,render:w,postRender:I}=c,L=()=>{const q=Gs.useManualTiming?a.timestamp:performance.now();n=!1,Gs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(q-a.timestamp,j5),1)),a.timestamp=q,a.isProcessing=!0,h.process(a),f.process(a),m.process(a),y.process(a),v.process(a),x.process(a),w.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},k=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:jd.reduce((q,te)=>{const ne=c[te];return q[te]=(oe,N=!1,A=!1)=>(n||k(),ne.schedule(oe,N,A)),q},{}),cancel:q=>{for(let te=0;te<jd.length;te++)c[jd[te]].cancel(q)},state:a,steps:c}}const{schedule:mt,cancel:Jr,state:rn,steps:qg}=BC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let Zd;function U5(){Zd=void 0}const Nn={now:()=>(Zd===void 0&&Nn.set(rn.isProcessing||Gs.useManualTiming?rn.timestamp:performance.now()),Zd),set:t=>{Zd=t,queueMicrotask(U5)}},FC=t=>e=>typeof e=="string"&&e.startsWith(t),HC=FC("--"),z5=FC("var(--"),Sv=t=>z5(t)?B5.test(t.split("/*")[0].trim()):!1,B5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cu={...Ul,transform:t=>$s(0,1,t)},Ud={...Ul,default:1},fu=t=>Math.round(t*1e5)/1e5,Av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F5(t){return t==null}const H5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rv=(t,e)=>n=>!!(typeof n=="string"&&H5.test(n)&&n.startsWith(t)||e&&!F5(n)&&Object.prototype.hasOwnProperty.call(n,e)),qC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(Av);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},q5=t=>$s(0,255,t),$g={...Ul,transform:t=>Math.round(q5(t))},qa={test:Rv("rgb","red"),parse:qC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+$g.transform(t)+", "+$g.transform(e)+", "+$g.transform(n)+", "+fu(Cu.transform(i))+")"};function $5(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Hy={test:Rv("#"),parse:$5,transform:qa.transform},Ju=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ir=Ju("deg"),os=Ju("%"),we=Ju("px"),G5=Ju("vh"),K5=Ju("vw"),qw={...os,parse:t=>os.parse(t)/100,transform:t=>os.transform(t*100)},hl={test:Rv("hsl","hue"),parse:qC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+os.transform(fu(e))+", "+os.transform(fu(n))+", "+fu(Cu.transform(i))+")"},jt={test:t=>qa.test(t)||Hy.test(t)||hl.test(t),parse:t=>qa.test(t)?qa.parse(t):hl.test(t)?hl.parse(t):Hy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qa.transform(t):hl.transform(t),getAnimatableNone:t=>{const e=jt.parse(t);return e.alpha=0,jt.transform(e)}},Y5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Q5(t){return isNaN(t)&&typeof t=="string"&&(t.match(Av)?.length||0)+(t.match(Y5)?.length||0)>0}const $C="number",GC="color",W5="var",X5="var(",$w="${}",J5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(J5,f=>(jt.test(f)?(i.color.push(l),a.push(GC),n.push(jt.parse(f))):f.startsWith(X5)?(i.var.push(l),a.push(W5),n.push(f)):(i.number.push(l),a.push($C),n.push(parseFloat(f))),++l,$w)).split($w);return{values:n,split:h,indexes:i,types:a}}function KC(t){return Nu(t).values}function YC(t){const{split:e,types:n}=Nu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===$C?l+=fu(a[c]):h===GC?l+=jt.transform(a[c]):l+=a[c]}return l}}const Z5=t=>typeof t=="number"?0:jt.test(t)?jt.getAnimatableNone(t):t;function eU(t){const e=KC(t);return YC(t)(e.map(Z5))}const Zr={test:Q5,parse:KC,createTransformer:YC,getAnimatableNone:eU};function Gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tU({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=Gg(f,h,t+1/3),l=Gg(f,h,t),c=Gg(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Of(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,Kg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},nU=[Hy,qa,hl],iU=t=>nU.find(e=>e.test(t));function Gw(t){const e=iU(t);if(!e)return!1;let n=e.parse(t);return e===hl&&(n=tU(n)),n}const Kw=(t,e)=>{const n=Gw(t),i=Gw(e);if(!n||!i)return Of(t,e);const a={...n};return l=>(a.red=Kg(n.red,i.red,l),a.green=Kg(n.green,i.green,l),a.blue=Kg(n.blue,i.blue,l),a.alpha=gt(n.alpha,i.alpha,l),qa.transform(a))},qy=new Set(["none","hidden"]);function sU(t,e){return qy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rU(t,e){return n=>gt(t,e,n)}function Cv(t){return typeof t=="number"?rU:typeof t=="string"?Sv(t)?Of:jt.test(t)?Kw:lU:Array.isArray(t)?QC:typeof t=="object"?jt.test(t)?Kw:aU:Of}function QC(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Cv(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function aU(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Cv(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function oU(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const lU=(t,e)=>{const n=Zr.createTransformer(e),i=Nu(t),a=Nu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?qy.has(t)&&!a.values.length||qy.has(e)&&!i.values.length?sU(t,e):Wu(QC(oU(i,a),a.values),n):Of(t,e)};function WC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):Cv(t)(t,e)}const cU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>mt.update(e,n),stop:()=>Jr(e),now:()=>rn.isProcessing?rn.timestamp:Nn.now()}},XC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Pf=2e4;function Nv(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Pf;)e+=n,i=t.next(e);return e>=Pf?1/0:e}function uU(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Nv(i),Pf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ri(a)}}const hU=5;function JC(t,e,n){const i=Math.max(e-hU,0);return IC(n-t(i),e-i)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yg=.001;function dU({duration:t=xt.duration,bounce:e=xt.bounce,velocity:n=xt.velocity,mass:i=xt.mass}){let a,l,c=1-e;c=$s(xt.minDamping,xt.maxDamping,c),t=$s(xt.minDuration,xt.maxDuration,ri(t)),c<1?(a=m=>{const y=m*c,v=y*t,x=y-n,w=$y(m,c),I=Math.exp(-v);return Yg-x/w*I},l=m=>{const v=m*c*t,x=v*n+n,w=Math.pow(c,2)*Math.pow(m,2)*t,I=Math.exp(-v),L=$y(Math.pow(m,2),c);return(-a(m)+Yg>0?-1:1)*((x-w)*I)/L}):(a=m=>{const y=Math.exp(-m*t),v=(m-n)*t+1;return-Yg+y*v},l=m=>{const y=Math.exp(-m*t),v=(n-m)*(t*t);return y*v});const h=5/t,f=mU(a,l,h);if(t=as(t),isNaN(f))return{stiffness:xt.stiffness,damping:xt.damping,duration:t};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const fU=12;function mU(t,e,n){let i=n;for(let a=1;a<fU;a++)i=i-t(i)/e(i);return i}function $y(t,e){return t*Math.sqrt(1-e*e)}const pU=["duration","bounce"],gU=["stiffness","damping","mass"];function Yw(t,e){return e.some(n=>t[n]!==void 0)}function yU(t){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...t};if(!Yw(t,gU)&&Yw(t,pU))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*$s(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:xt.mass,stiffness:a,damping:l}}else{const n=dU(t);e={...e,...n,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function kf(t=xt.visualDuration,e=xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:m,mass:y,duration:v,velocity:x,isResolvedFromDuration:w}=yU({...n,velocity:-ri(n.velocity||0)}),I=x||0,L=m/(2*Math.sqrt(f*y)),k=c-l,M=ri(Math.sqrt(f/y)),z=Math.abs(k)<5;i||(i=z?xt.restSpeed.granular:xt.restSpeed.default),a||(a=z?xt.restDelta.granular:xt.restDelta.default);let q;if(L<1){const ne=$y(M,L);q=oe=>{const N=Math.exp(-L*M*oe);return c-N*((I+L*M*k)/ne*Math.sin(ne*oe)+k*Math.cos(ne*oe))}}else if(L===1)q=ne=>c-Math.exp(-M*ne)*(k+(I+M*k)*ne);else{const ne=M*Math.sqrt(L*L-1);q=oe=>{const N=Math.exp(-L*M*oe),A=Math.min(ne*oe,300);return c-N*((I+L*M*k)*Math.sinh(A)+ne*k*Math.cosh(A))/ne}}const te={calculatedDuration:w&&v||null,next:ne=>{const oe=q(ne);if(w)h.done=ne>=v;else{let N=ne===0?I:0;L<1&&(N=ne===0?as(I):JC(q,ne,oe));const A=Math.abs(N)<=i,C=Math.abs(c-oe)<=a;h.done=A&&C}return h.value=h.done?c:oe,h},toString:()=>{const ne=Math.min(Nv(te),Pf),oe=XC(N=>te.next(ne*N).value,ne,30);return ne+"ms "+oe},toTransition:()=>{}};return te}kf.applyToOptions=t=>{const e=uU(t,100,kf);return t.ease=e.ease,t.duration=as(e.duration),t.type="keyframes",t};function Gy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:m=.5,restSpeed:y}){const v=t[0],x={done:!1,value:v},w=A=>h!==void 0&&A<h||f!==void 0&&A>f,I=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let L=n*e;const k=v+L,M=c===void 0?k:c(k);M!==k&&(L=M-v);const z=A=>-L*Math.exp(-A/i),q=A=>M+z(A),te=A=>{const C=z(A),D=q(A);x.done=Math.abs(C)<=m,x.value=x.done?M:D};let ne,oe;const N=A=>{w(x.value)&&(ne=A,oe=kf({keyframes:[x.value,I(x.value)],velocity:JC(q,A,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return N(0),{calculatedDuration:null,next:A=>{let C=!1;return!oe&&ne===void 0&&(C=!0,te(A),N(A)),ne!==void 0&&A>=ne?oe.next(A-ne):(!C&&te(A),x)}}}function vU(t,e,n){const i=[],a=n||Gs.mix||WC,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||ai:e;h=Wu(f,h)}i.push(h)}return i}function _U(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(bv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=vU(e,i,a),f=h.length,m=y=>{if(c&&y<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const x=Ru(t[v],t[v+1],y);return h[v](x)};return n?y=>m($s(t[0],t[l-1],y)):m}function bU(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Ru(0,e,i);t.push(gt(n,1,a))}}function xU(t){const e=[0];return bU(e,t.length-1),e}function TU(t,e){return t.map(n=>n*e)}function EU(t,e){return t.map(()=>e||UC).splice(0,t.length-1)}function mu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=k5(i)?i.map(Hw):Hw(i),l={done:!1,value:e[0]},c=TU(n&&n.length===e.length?n:xU(e),t),h=_U(c,e,{ease:Array.isArray(a)?a:EU(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const wU=t=>t!==null;function Iv(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(wU),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const SU={decay:Gy,inertia:Gy,tween:mu,keyframes:mu,spring:kf};function ZC(t){typeof t.type=="string"&&(t.type=SU[t.type])}class Dv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const AU=t=>t/100;class Ov extends Dv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ZC(e);const{type:n=mu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=n||mu;f!==mu&&typeof h[0]!="number"&&(this.mixKeyframes=Wu(AU,WC(h[0],h[1])),h=[0,100]);const m=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Nv(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:w,type:I,onUpdate:L,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-m*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?M<0:M>a;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,te=i;if(v){const A=Math.min(this.currentTime,a)/h;let C=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&C--,C=Math.min(C,v+1),C%2&&(x==="reverse"?(D=1-D,w&&(D-=w/h)):x==="mirror"&&(te=c)),q=$s(0,1,D)*h}const ne=z?{done:!1,value:y[0]}:te.next(q);l&&(ne.value=l(ne.value));let{done:oe}=ne;!z&&f!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return N&&I!==Gy&&(ne.value=Iv(y,this.options,k,this.speed)),L&&L(ne.value),N&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(this.currentTime)}set time(e){e=as(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=cU,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function RU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,Ky=t=>{const e=$a(Math.atan2(t[1],t[0]));return Yy(e)},CU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ky,rotateZ:Ky,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Yy=t=>(t=t%360,t<0&&(t+=360),t),Qw=Ky,Ww=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Xw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),NU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ww,scaleY:Xw,scale:t=>(Ww(t)+Xw(t))/2,rotateX:t=>Yy($a(Math.atan2(t[6],t[5]))),rotateY:t=>Yy($a(Math.atan2(-t[2],t[0]))),rotateZ:Qw,rotate:Qw,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Qy(t){return t.includes("scale")?1:0}function Wy(t,e){if(!t||t==="none")return Qy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=NU,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=CU,a=h}if(!a)return Qy(e);const l=i[e],c=a[1].split(",").map(DU);return typeof l=="function"?l(c):c[l]}const IU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Wy(n,e)};function DU(t){return parseFloat(t.trim())}const zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set(zl),Jw=t=>t===Ul||t===we,OU=new Set(["x","y","z"]),PU=zl.filter(t=>!OU.has(t));function kU(t){const e=[];return PU.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ka={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Wy(e,"x"),y:(t,{transform:e})=>Wy(e,"y")};Ka.translateX=Ka.x;Ka.translateY=Ka.y;const Ya=new Set;let Xy=!1,Jy=!1,Zy=!1;function e2(){if(Jy){const t=Array.from(Ya).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=kU(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Jy=!1,Xy=!1,Ya.forEach(t=>t.complete(Zy)),Ya.clear()}function t2(){Ya.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jy=!0)})}function MU(){Zy=!0,t2(),e2(),Zy=!1}class Pv{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ya.add(this),Xy||(Xy=!0,mt.read(t2),mt.resolveKeyframes(e2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}RU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ya.delete(this)}cancel(){this.state==="scheduled"&&(Ya.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VU=t=>t.startsWith("--");function LU(t,e,n){VU(e)?t.style.setProperty(e,n):t.style[e]=n}const jU=xv(()=>window.ScrollTimeline!==void 0),UU={};function zU(t,e){const n=xv(t);return()=>UU[e]??n()}const n2=zU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iu([0,.65,.55,1]),circOut:iu([.55,0,1,.45]),backIn:iu([.31,.01,.66,-.59]),backOut:iu([.33,1.53,.69,.99])};function i2(t,e){if(t)return typeof t=="function"?n2()?XC(t,e):"ease-out":zC(t)?iu(t):Array.isArray(t)?t.map(n=>i2(n,e)||Zw.easeOut):Zw[t]}function BU(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},m=void 0){const y={[e]:n};f&&(y.offset=f);const v=i2(h,a);Array.isArray(v)&&(y.easing=v);const x={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(y,x)}function s2(t){return typeof t=="function"&&"applyToOptions"in t}function FU({type:t,...e}){return s2(t)&&n2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HU extends Dv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,bv(typeof e.type!="string");const m=FU(e);this.animation=BU(n,i,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Iv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):LU(n,i,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=as(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&jU()?(this.animation.timeline=e,ai):n(this)}}const r2={anticipate:VC,backInOut:MC,circInOut:jC};function qU(t){return t in r2}function $U(t){typeof t.ease=="string"&&qU(t.ease)&&(t.ease=r2[t.ease])}const e1=10;class GU extends HU{constructor(e){$U(e),ZC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Ov({...c,autoplay:!1}),f=as(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-e1).value,h.sample(f).value,e1),h.stop()}}const t1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zr.test(t)||t==="0")&&!t.startsWith("url("));function KU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function YU(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=t1(a,e),h=t1(l,e);return!c||!h?!1:KU(t)||(n==="spring"||s2(n))&&i}function e0(t){t.duration=0,t.type="keyframes"}const QU=new Set(["opacity","clipPath","filter","transform"]),WU=xv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XU(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return WU()&&n&&QU.has(n)&&(n!=="transform"||!m)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const JU=40;class ZU extends Dv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const x={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:y,...v},w=y?.KeyframeResolver||Pv;this.keyframeResolver=new w(h,(I,L,k)=>this.onKeyframesResolved(I,L,x,!k),f,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:m,onUpdate:y}=i;this.resolvedAt=Nn.now(),YU(e,l,c,h)||((Gs.instantAnimations||!f)&&y?.(Iv(e,i,n)),e[0]=e[e.length-1],e0(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>JU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},w=!m&&XU(x)?new GU({...x,element:x.motionValue.owner.current}):new Ov(x);w.finished.then(()=>this.notifyFinished()).catch(ai),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),MU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const e9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t9(t){const e=e9.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function a2(t,e,n=1){const[i,a]=t9(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return RC(c)?parseFloat(c):c}return Sv(a)?a2(a,e,n+1):a}function kv(t,e){return t?.[e]??t?.default??t}const o2=new Set(["width","height","top","left","right","bottom",...zl]),n9={test:t=>t==="auto",parse:t=>t},l2=t=>e=>e.test(t),c2=[Ul,we,os,Ir,K5,G5,n9],n1=t=>c2.find(l2(t));function i9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NC(t):!0}const s9=new Set(["brightness","contrast","saturate","opacity"]);function r9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Av)||[];if(!i)return t;const a=n.replace(i,"");let l=s9.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const a9=/\b([a-z-]*)\(.*?\)/gu,t0={...Zr,getAnimatableNone:t=>{const e=t.match(a9);return e?e.map(r9).join(" "):t}},i1={...Ul,transform:Math.round},o9={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:Ud,scaleX:Ud,scaleY:Ud,scaleZ:Ud,skew:Ir,skewX:Ir,skewY:Ir,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Cu,originX:qw,originY:qw,originZ:we},Mv={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...o9,zIndex:i1,fillOpacity:Cu,strokeOpacity:Cu,numOctaves:i1},l9={...Mv,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:t0,WebkitFilter:t0},u2=t=>l9[t];function h2(t,e){let n=u2(t);return n!==t0&&(n=Zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const c9=new Set(["auto","none","0"]);function u9(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!c9.has(l)&&Nu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=h2(n,a)}class h9 extends Pv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Sv(m))){const y=a2(m,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!o2.has(i)||e.length!==2)return;const[a,l]=e,c=n1(a),h=n1(l);if(c!==h)if(Jw(c)&&Jw(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Ka[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||i9(e[a]))&&i.push(a);i.length&&u9(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ka[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Ka[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function d9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const d2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function f2(t){return CC(t)&&"offsetHeight"in t}const s1=30,f9=t=>!isNaN(parseFloat(t));class m9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=f9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Tv);const i=this.events[e].add(n);return e==="change"?()=>{i(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>s1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,s1);return IC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nl(t,e){return new m9(t,e)}const{schedule:Vv}=BC(queueMicrotask,!1),xi={x:!1,y:!1};function m2(){return xi.x||xi.y}function p9(t){return t==="x"||t==="y"?xi[t]?null:(xi[t]=!0,()=>{xi[t]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function p2(t,e){const n=d9(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function r1(t){return!(t.pointerType==="touch"||m2())}function g9(t,e,n={}){const[i,a,l]=p2(t,n),c=h=>{if(!r1(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const y=v=>{r1(v)&&(m(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const g2=(t,e)=>e?t===e?!0:g2(t,e.parentElement):!1,Lv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,y9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v9(t){return y9.has(t.tagName)||t.tabIndex!==-1}const ef=new WeakSet;function a1(t){return e=>{e.key==="Enter"&&t(e)}}function Qg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _9=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=a1(()=>{if(ef.has(n))return;Qg(n,"down");const a=a1(()=>{Qg(n,"up")}),l=()=>Qg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function o1(t){return Lv(t)&&!m2()}function b9(t,e,n={}){const[i,a,l]=p2(t,n),c=h=>{const f=h.currentTarget;if(!o1(h))return;ef.add(f);const m=e(f,h),y=(w,I)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),ef.has(f)&&ef.delete(f),o1(w)&&typeof m=="function"&&m(w,{success:I})},v=w=>{y(w,f===window||f===document||n.useGlobalTarget||g2(f,w.target))},x=w=>{y(w,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",x,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),f2(h)&&(h.addEventListener("focus",m=>_9(m,a)),!v9(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function y2(t){return CC(t)&&"ownerSVGElement"in t}function x9(t){return y2(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),T9=[...c2,jt,Zr],E9=t=>T9.find(l2(t)),jv=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function l1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function w9(...t){return e=>{let n=!1;const i=t.map(a=>{const l=l1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():l1(t[a],null)}}}}function S9(...t){return V.useCallback(w9(...t),t)}class A9 extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=f2(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function R9({children:t,isPresent:e,anchorX:n,root:i}){const a=V.useId(),l=V.useRef(null),c=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(jv),f=S9(l,t?.ref);return V.useInsertionEffect(()=>{const{width:m,height:y,top:v,left:x,right:w}=c.current;if(e||!l.current||!m||!y)return;const I=n==="left"?`left: ${x}`:`right: ${w}`;l.current.dataset.motionPopId=a;const L=document.createElement("style");h&&(L.nonce=h);const k=i??document.head;return k.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${I}px !important;
            top: ${v}px !important;
          }
        `),()=>{k.contains(L)&&k.removeChild(L)}},[e]),b.jsx(A9,{isPresent:e,childRef:l,sizeRef:c,children:V.cloneElement(t,{ref:f})})}const C9=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:f})=>{const m=gv(N9),y=V.useId();let v=!0,x=V.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:w=>{m.set(w,!0);for(const I of m.values())if(!I)return;i&&i()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[n,m,i]);return l&&v&&(x={...x}),V.useMemo(()=>{m.forEach((w,I)=>m.set(I,!1))},[n]),V.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),c==="popLayout"&&(t=b.jsx(R9,{isPresent:n,anchorX:h,root:f,children:t})),b.jsx(pm.Provider,{value:x,children:t})};function N9(){return new Map}function v2(t=!0){const e=V.useContext(pm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const c=V.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const zd=t=>t.key||"";function c1(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const n0=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:f})=>{const[m,y]=v2(c),v=V.useMemo(()=>c1(t),[t]),x=c&&!m?[]:v.map(zd),w=V.useRef(!0),I=V.useRef(v),L=gv(()=>new Map),[k,M]=V.useState(v),[z,q]=V.useState(v);AC(()=>{w.current=!1,I.current=v;for(let oe=0;oe<z.length;oe++){const N=zd(z[oe]);x.includes(N)?L.delete(N):L.get(N)!==!0&&L.set(N,!1)}},[z,x.length,x.join("-")]);const te=[];if(v!==k){let oe=[...v];for(let N=0;N<z.length;N++){const A=z[N],C=zd(A);x.includes(C)||(oe.splice(N,0,A),te.push(A))}return l==="wait"&&te.length&&(oe=te),q(c1(oe)),M(v),null}const{forceRender:ne}=V.useContext(pv);return b.jsx(b.Fragment,{children:z.map(oe=>{const N=zd(oe),A=c&&!m?!1:v===z||x.includes(N),C=()=>{if(L.has(N))L.set(N,!0);else return;let D=!0;L.forEach(P=>{P||(D=!1)}),D&&(ne?.(),q(I.current),c&&y?.(),i&&i())};return b.jsx(C9,{isPresent:A,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:A?void 0:C,anchorX:h,children:oe},N)})})},_2=V.createContext({strict:!1}),u1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Il={};for(const t in u1)Il[t]={isEnabled:e=>u1[t].some(n=>!!e[n])};function I9(t){for(const e in t)Il[e]={...Il[e],...t[e]}}const D9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||D9.has(t)}let b2=t=>!Mf(t);function O9(t){typeof t=="function"&&(b2=e=>e.startsWith("on")?!Mf(e):t(e))}try{O9(require("@emotion/is-prop-valid").default)}catch{}function P9(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(b2(a)||n===!0&&Mf(a)||!e&&!Mf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const gm=V.createContext({});function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iu(t){return typeof t=="string"||Array.isArray(t)}const Uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zv=["initial",...Uv];function vm(t){return ym(t.animate)||zv.some(e=>Iu(t[e]))}function x2(t){return!!(vm(t)||t.variants)}function k9(t,e){if(vm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Iu(n)?n:void 0,animate:Iu(i)?i:void 0}}return t.inherit!==!1?e:{}}function M9(t){const{initial:e,animate:n}=k9(t,V.useContext(gm));return V.useMemo(()=>({initial:e,animate:n}),[h1(e),h1(n)])}function h1(t){return Array.isArray(t)?t.join(" "):t}function d1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=d1(t,e.target.x),i=d1(t,e.target.y);return`${n}% ${i}%`}},V9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Zr.parse(t);if(a.length>5)return i;const l=Zr.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const m=gt(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},i0={borderRadius:{...Wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wc,borderTopRightRadius:Wc,borderBottomLeftRadius:Wc,borderBottomRightRadius:Wc,boxShadow:V9};function T2(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!i0[t]||t==="opacity")}const L9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j9=zl.length;function U9(t,e,n){let i="",a=!0;for(let l=0;l<j9;l++){const c=zl[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=d2(h,Mv[c]);if(!f){a=!1;const y=L9[c]||c;i+=`${y}(${m}) `}n&&(e[c]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Bv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const m=e[f];if(Bl.has(f)){c=!0;continue}else if(HC(f)){a[f]=m;continue}else{const y=d2(m,Mv[f]);f.startsWith("origin")?(h=!0,l[f]=y):i[f]=y}}if(e.transform||(c||n?i.transform=U9(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:y=0}=l;i.transformOrigin=`${f} ${m} ${y}`}}const Fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E2(t,e,n){for(const i in e)!hn(e[i])&&!T2(i,n)&&(t[i]=e[i])}function z9({transformTemplate:t},e){return V.useMemo(()=>{const n=Fv();return Bv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function B9(t,e){const n=t.style||{},i={};return E2(i,n,t),Object.assign(i,z9(t,e)),i}function F9(t,e){const n={},i=B9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const H9={offset:"stroke-dashoffset",array:"stroke-dasharray"},q9={offset:"strokeDashoffset",array:"strokeDasharray"};function $9(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?H9:q9;t[l.offset]=we.transform(-i);const c=we.transform(e),h=we.transform(n);t[l.array]=`${c} ${h}`}function w2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,m,y){if(Bv(t,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&$9(v,a,l,c,!1)}const S2=()=>({...Fv(),attrs:{}}),A2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function G9(t,e,n,i){const a=V.useMemo(()=>{const l=S2();return w2(l,e,A2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};E2(l,t.style,t),a.style={...l,...a.style}}return a}const K9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hv(t){return typeof t!="string"||t.includes("-")?!1:!!(K9.indexOf(t)>-1||/[A-Z]/u.test(t))}function Y9(t,e,n,{latestValues:i},a,l=!1){const h=(Hv(t)?G9:F9)(e,i,a,t),f=P9(e,typeof t=="string",l),m=t!==V.Fragment?{...f,...h,ref:n}:{},{children:y}=e,v=V.useMemo(()=>hn(y)?y.get():y,[y]);return V.createElement(t,{...m,children:v})}function f1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function qv(t,e,n,i){if(typeof e=="function"){const[a,l]=f1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=f1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function tf(t){return hn(t)?t.get():t}function Q9({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:W9(n,i,a,t),renderState:e()}}function W9(t,e,n,i){const a={},l=i(t,{});for(const x in l)a[x]=tf(l[x]);let{initial:c,animate:h}=t;const f=vm(t),m=x2(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?h:c;if(v&&typeof v!="boolean"&&!ym(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const I=qv(t,x[w]);if(I){const{transitionEnd:L,transition:k,...M}=I;for(const z in M){let q=M[z];if(Array.isArray(q)){const te=y?q.length-1:0;q=q[te]}q!==null&&(a[z]=q)}for(const z in L)a[z]=L[z]}}}return a}const R2=t=>(e,n)=>{const i=V.useContext(gm),a=V.useContext(pm),l=()=>Q9(t,e,i,a);return n?l():gv(l)};function $v(t,e,n){const{style:i}=t,a={};for(const l in i)(hn(i[l])||e.style&&hn(e.style[l])||T2(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const X9=R2({scrapeMotionValuesFromProps:$v,createRenderState:Fv});function C2(t,e,n){const i=$v(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const J9=R2({scrapeMotionValuesFromProps:C2,createRenderState:S2}),Z9=Symbol.for("motionComponentSymbol");function dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function e8(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):dl(n)&&(n.current=i))},[e])}const Gv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t8="framerAppearId",N2="data-"+Gv(t8),I2=V.createContext({});function n8(t,e,n,i,a){const{visualElement:l}=V.useContext(gm),c=V.useContext(_2),h=V.useContext(pm),f=V.useContext(jv).reducedMotion,m=V.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=m.current,v=V.useContext(I2);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&i8(m.current,n,a,v);const x=V.useRef(!1);V.useInsertionEffect(()=>{y&&x.current&&y.update(n,h)});const w=n[N2],I=V.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return AC(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),I.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),I.current=!1),y.enteringChildren=void 0)}),y}function i8(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:D2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&dl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:m})}function D2(t){if(t)return t.options.allowProjection!==!1?t.projection:D2(t.parent)}function Wg(t,{forwardMotionProps:e=!1}={},n,i){n&&I9(n);const a=Hv(t)?J9:X9;function l(h,f){let m;const y={...V.useContext(jv),...h,layoutId:s8(h)},{isStatic:v}=y,x=M9(h),w=a(h,v);if(!v&&yv){r8();const I=a8(y);m=I.MeasureLayout,x.visualElement=n8(t,w,y,i,I.ProjectionNode)}return b.jsxs(gm.Provider,{value:x,children:[m&&x.visualElement?b.jsx(m,{visualElement:x.visualElement,...y}):null,Y9(t,h,e8(w,x.visualElement,f),w,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=V.forwardRef(l);return c[Z9]=t,c}function s8({layoutId:t}){const e=V.useContext(pv).id;return e&&t!==void 0?e+"-"+t:t}function r8(t,e){V.useContext(_2).strict}function a8(t){const{drag:e,layout:n}=Il;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function o8(t,e){if(typeof Proxy>"u")return Wg;const n=new Map,i=(l,c)=>Wg(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Wg(c,void 0,t,e)),n.get(c))})}function O2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function l8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Xg(t){return t===void 0||t===1}function s0({scale:t,scaleX:e,scaleY:n}){return!Xg(t)||!Xg(e)||!Xg(n)}function za(t){return s0(t)||P2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function P2(t){return m1(t.x)||m1(t.y)}function m1(t){return t&&t!=="0%"}function Vf(t,e,n){const i=t-n,a=e*i;return n+a}function p1(t,e,n,i,a){return a!==void 0&&(t=Vf(t,a,i)),Vf(t,n,i)+e}function r0(t,e=0,n=1,i,a){t.min=p1(t.min,e,n,i,a),t.max=p1(t.max,e,n,i,a)}function k2(t,{x:e,y:n}){r0(t.x,e.translate,e.scale,e.originPoint),r0(t.y,n.translate,n.scale,n.originPoint)}const g1=.999999999999,y1=1.0000000000001;function u8(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ml(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,k2(t,c)),i&&za(l.latestValues)&&ml(t,l.latestValues))}e.x<y1&&e.x>g1&&(e.x=1),e.y<y1&&e.y>g1&&(e.y=1)}function fl(t,e){t.min=t.min+e,t.max=t.max+e}function v1(t,e,n,i,a=.5){const l=gt(t.min,t.max,a);r0(t,e,n,l,i)}function ml(t,e){v1(t.x,e.x,e.scaleX,e.scale,e.originX),v1(t.y,e.y,e.scaleY,e.scale,e.originY)}function M2(t,e){return O2(c8(t.getBoundingClientRect(),e))}function h8(t,e,n){const i=M2(t,n),{scroll:a}=e;return a&&(fl(i.x,a.offset.x),fl(i.y,a.offset.y)),i}const _1=()=>({translate:0,scale:1,origin:0,originPoint:0}),pl=()=>({x:_1(),y:_1()}),b1=()=>({min:0,max:0}),Ht=()=>({x:b1(),y:b1()}),a0={current:null},V2={current:!1};function d8(){if(V2.current=!0,!!yv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>a0.current=t.matches;t.addEventListener("change",e),e()}else a0.current=!1}const f8=new WeakMap;function m8(t,e,n){for(const i in e){const a=e[i],l=n[i];if(hn(a))t.addValue(i,a);else if(hn(l))t.addValue(i,Nl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Nl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const x1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p8{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Nn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,mt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=vm(n),this.isVariantNode=x2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const w=v[x];f[x]!==void 0&&hn(w)&&w.set(f[x])}}mount(e){this.current=e,f8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),V2.current||d8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:a0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Bl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&mt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Il){const n=Il[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<x1.length;i++){const a=x1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=m8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Nl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RC(i)||NC(i))?i=parseFloat(i):!E9(i)&&Zr.test(n)&&(i=h2(e,n)),this.setBaseTarget(e,hn(i)?i.get():i)),hn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=qv(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Tv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Vv.render(this.render)}}class L2 extends p8{constructor(){super(...arguments),this.KeyframeResolver=h9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function j2(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function g8(t){return window.getComputedStyle(t)}class y8 extends L2{constructor(){super(...arguments),this.type="html",this.renderInstance=j2}readValueFromInstance(e,n){if(Bl.has(n))return this.projection?.isProjecting?Qy(n):IU(e,n);{const i=g8(e),a=(HC(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return M2(e,n)}build(e,n,i){Bv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return $v(e,n,i)}}const U2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v8(t,e,n,i){j2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(U2.has(a)?a:Gv(a),e.attrs[a])}class _8 extends L2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const i=u2(n);return i&&i.default||0}return n=U2.has(n)?n:Gv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return C2(e,n,i)}build(e,n,i){w2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){v8(e,n,i,a)}mount(e){this.isSVGTag=A2(e.tagName),super.mount(e)}}const b8=(t,e)=>Hv(t)?new _8(e):new y8(e,{allowProjection:t!==V.Fragment});function bl(t,e,n){const i=t.getProps();return qv(i,e,n!==void 0?n:i.custom,t)}const o0=t=>Array.isArray(t);function x8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nl(n))}function T8(t){return o0(t)?t[t.length-1]||0:t}function E8(t,e){const n=bl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=T8(l[c]);x8(t,c,h)}}function w8(t){return!!(hn(t)&&t.add)}function l0(t,e){const n=t.getValue("willChange");if(w8(n))return n.add(e);if(!n&&Gs.WillChange){const i=new Gs.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function z2(t){return t.props[N2]}const S8=t=>t!==null;function A8(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(S8),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const R8={type:"spring",stiffness:500,damping:25,restSpeed:10},C8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),N8={type:"keyframes",duration:.8},I8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D8=(t,{keyframes:e})=>e.length>2?N8:Bl.has(t)?t.startsWith("scale")?C8(e[1]):R8:I8;function O8({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const Kv=(t,e,n,i={},a,l)=>c=>{const h=kv(i,t)||{},f=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-as(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};O8(h)||Object.assign(y,D8(t,y)),y.duration&&(y.duration=as(y.duration)),y.repeatDelay&&(y.repeatDelay=as(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(e0(y),y.delay===0&&(v=!0)),(Gs.instantAnimations||Gs.skipAnimations)&&(v=!0,e0(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const x=A8(y.keyframes,h);if(x!==void 0){mt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return h.isSync?new Ov(y):new ZU(y)};function P8({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function B2(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),x=h[y];if(x===void 0||m&&P8(m,y))continue;const w={delay:n,...kv(l||{},y)},I=v.get();if(I!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===I&&!w.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const M=z2(t);if(M){const z=window.MotionHandoffAnimation(M,y,mt);z!==null&&(w.startTime=z,L=!0)}}l0(t,y),v.start(Kv(y,v,x,t.shouldReduceMotion&&o2.has(y)?{type:!1}:w,t,L));const k=v.animation;k&&f.push(k)}return c&&Promise.all(f).then(()=>{mt.update(()=>{c&&E8(t,c)})}),f}function F2(t,e,n,i=0,a=1){const l=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}function c0(t,e,n={}){const i=bl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(B2(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return k8(t,e,f,m,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,m]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function k8(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(c0(f,e,{...c,delay:n+(typeof i=="function"?0:i)+F2(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function M8(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>c0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=c0(t,e,n);else{const a=typeof e=="function"?bl(t,e,n.custom):e;i=Promise.all(B2(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function H2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const V8=zv.length;function q2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?q2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<V8;n++){const i=zv[n],a=t.props[i];(Iu(a)||a===!1)&&(e[i]=a)}return e}const L8=[...Uv].reverse(),j8=Uv.length;function U8(t){return e=>Promise.all(e.map(({animation:n,options:i})=>M8(t,n,i)))}function z8(t){let e=U8(t),n=T1(),i=!0;const a=f=>(m,y)=>{const v=bl(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:w,...I}=v;m={...m,...I,...w}}return m};function l(f){e=f(t)}function c(f){const{props:m}=t,y=q2(t.parent)||{},v=[],x=new Set;let w={},I=1/0;for(let k=0;k<j8;k++){const M=L8[k],z=n[M],q=m[M]!==void 0?m[M]:y[M],te=Iu(q),ne=M===f?z.isActive:null;ne===!1&&(I=k);let oe=q===y[M]&&q!==m[M]&&te;if(oe&&i&&t.manuallyAnimateOnMount&&(oe=!1),z.protectedKeys={...w},!z.isActive&&ne===null||!q&&!z.prevProp||ym(q)||typeof q=="boolean")continue;const N=B8(z.prevProp,q);let A=N||M===f&&z.isActive&&!oe&&te||k>I&&te,C=!1;const D=Array.isArray(q)?q:[q];let P=D.reduce(a(M),{});ne===!1&&(P={});const{prevResolvedValues:F={}}=z,O={...F,...P},Se=le=>{A=!0,x.has(le)&&(C=!0,x.delete(le)),z.needsAnimating[le]=!0;const he=t.getValue(le);he&&(he.liveStyle=!1)};for(const le in O){const he=P[le],be=F[le];if(w.hasOwnProperty(le))continue;let Ce=!1;o0(he)&&o0(be)?Ce=!H2(he,be):Ce=he!==be,Ce?he!=null?Se(le):x.add(le):he!==void 0&&x.has(le)?Se(le):z.protectedKeys[le]=!0}z.prevProp=q,z.prevResolvedValues=P,z.isActive&&(w={...w,...P}),i&&t.blockInitialAnimation&&(A=!1);const Ke=oe&&N;A&&(!Ke||C)&&v.push(...D.map(le=>{const he={type:M};if(typeof le=="string"&&i&&!Ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,Ce=bl(be,le);if(be.enteringChildren&&Ce){const{delayChildren:U}=Ce.transition||{};he.delay=F2(be.enteringChildren,t,U)}}return{animation:le,options:he}}))}if(x.size){const k={};if(typeof m.initial!="boolean"){const M=bl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);M&&M.transition&&(k.transition=M.transition)}x.forEach(M=>{const z=t.getBaseTarget(M),q=t.getValue(M);q&&(q.liveStyle=!0),k[M]=z??null}),v.push({animation:k})}let L=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(v):Promise.resolve()}function h(f,m){if(n[f].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,m)),n[f].isActive=m;const y=c(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=T1()}}}function B8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!H2(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function T1(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class F8 extends aa{constructor(e){super(e),e.animationState||(e.animationState=z8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let H8=0;class q8 extends aa{constructor(){super(...arguments),this.id=H8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $8={animation:{Feature:F8},exit:{Feature:q8}};function Du(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Zu(t){return{point:{x:t.pageX,y:t.pageY}}}const G8=t=>e=>Lv(e)&&t(e,Zu(e));function pu(t,e,n,i){return Du(t,e,G8(n),i)}const $2=1e-4,K8=1-$2,Y8=1+$2,G2=.01,Q8=0-G2,W8=0+G2;function vn(t){return t.max-t.min}function X8(t,e,n){return Math.abs(t-e)<=n}function E1(t,e,n,i=.5){t.origin=i,t.originPoint=gt(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=K8&&t.scale<=Y8||isNaN(t.scale))&&(t.scale=1),(t.translate>=Q8&&t.translate<=W8||isNaN(t.translate))&&(t.translate=0)}function gu(t,e,n,i){E1(t.x,e.x,n.x,i?i.originX:void 0),E1(t.y,e.y,n.y,i?i.originY:void 0)}function w1(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function J8(t,e,n){w1(t.x,e.x,n.x),w1(t.y,e.y,n.y)}function S1(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function Lf(t,e,n){S1(t.x,e.x,n.x),S1(t.y,e.y,n.y)}function ii(t){return[t("x"),t("y")]}const K2=({current:t})=>t?t.ownerDocument.defaultView:null,A1=(t,e)=>Math.abs(t-e);function Z8(t,e){const n=A1(t.x,e.x),i=A1(t.y,e.y);return Math.sqrt(n**2+i**2)}class Y2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Zg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,I=Z8(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!I)return;const{point:L}=x,{timestamp:k}=rn;this.history.push({...L,timestamp:k});const{onStart:M,onMove:z}=this.handlers;w||(M&&M(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Jg(w,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:I,onSessionEnd:L,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Zg(x.type==="pointercancel"?this.lastMoveEventInfo:Jg(w,this.transformPagePoint),this.history);this.startEvent&&I&&I(x,M),L&&L(x,M)},!Lv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const h=Zu(e),f=Jg(h,this.transformPagePoint),{point:m}=f,{timestamp:y}=rn;this.history=[{...m,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,Zg(f,this.history)),this.removeListeners=Wu(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jr(this.updatePoint)}}function Jg(t,e){return e?{point:e(t.point)}:t}function R1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zg({point:t},e){return{point:t,delta:R1(t,Q2(e)),offset:R1(t,ez(e)),velocity:tz(e,.1)}}function ez(t){return t[0]}function Q2(t){return t[t.length-1]}function tz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=Q2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>as(e)));)n--;if(!i)return{x:0,y:0};const l=ri(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function nz(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?gt(n,t,i.max):Math.min(t,n)),t}function C1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function iz(t,{top:e,left:n,bottom:i,right:a}){return{x:C1(t.x,n,a),y:C1(t.y,e,i)}}function N1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function sz(t,e){return{x:N1(t.x,e.x),y:N1(t.y,e.y)}}function rz(t,e){let n=.5;const i=vn(t),a=vn(e);return a>i?n=Ru(e.min,e.max-i,t.min):i>a&&(n=Ru(t.min,t.max-a,e.min)),$s(0,1,n)}function az(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const u0=.35;function oz(t=u0){return t===!1?t=0:t===!0&&(t=u0),{x:I1(t,"left","right"),y:I1(t,"top","bottom")}}function I1(t,e,n){return{min:D1(t,e),max:D1(t,n)}}function D1(t,e){return typeof t=="number"?t:t[e]||0}const lz=new WeakMap;class cz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zu(v).point)},c=(v,x)=>{const{drag:w,dragPropagation:I,onDragStart:L}=this.getProps();if(w&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p9(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(M=>{let z=this.getAxisMotionValue(M).get()||0;if(os.test(z)){const{projection:q}=this.visualElement;if(q&&q.layout){const te=q.layout.layoutBox[M];te&&(z=vn(te)*(parseFloat(z)/100))}}this.originPoint[M]=z}),L&&mt.postRender(()=>L(v,x)),l0(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:I,onDirectionLock:L,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:M}=x;if(I&&this.currentDirection===null){this.currentDirection=uz(M),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",x.point,M),this.updateAxis("y",x.point,M),this.visualElement.render(),k&&k(v,x)},f=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ii(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Y2(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:K2(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&mt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Bd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=nz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&dl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=iz(i.layoutBox,e):this.constraints=!1,this.elastic=oz(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ii(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=az(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=h8(i,a.root,this.visualElement.getTransformPagePoint());let c=sz(a.layout.layoutBox,l);if(n){const h=n(l8(c));this.hasMutatedConstraints=!!h,h&&(c=O2(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=ii(y=>{if(!Bd(y,n,this.currentDirection))return;let v=f&&f[y]||{};c&&(v={min:0,max:0});const x=a?200:1e6,w=a?40:1e7,I={type:"inertia",velocity:i?e[y]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,I)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return l0(this.visualElement,e),i.start(Kv(e,i,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:i}=this.getProps();if(!Bd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(e[n]-gt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!dl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=rz({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ii(c=>{if(!Bd(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];h.set(gt(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;lz.set(this.visualElement,this);const e=this.visualElement.current,n=pu(e,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();dl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),mt.read(i);const c=Du(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(ii(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=u0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Bd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hz extends aa{constructor(e){super(e),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new cz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const O1=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class dz extends aa{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(e){this.session=new Y2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:K2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:O1(e),onStart:O1(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&mt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ey=!1;class fz extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),ey&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,ey=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||mt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Vv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;ey=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function W2(t){const[e,n]=v2(),i=V.useContext(pv);return b.jsx(fz,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(I2),isPresent:e,safeToRemove:n})}function mz(t,e,n){const i=hn(t)?t:Nl(t);return i.start(Kv("",i,e,n)),i.animation}const pz=(t,e)=>t.depth-e.depth;class gz{constructor(){this.children=[],this.isDirty=!1}add(e){vv(this.children,e),this.isDirty=!0}remove(e){_v(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pz),this.isDirty=!1,this.children.forEach(e)}}function yz(t,e){const n=Nn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Jr(i),t(l-e))};return mt.setup(i,!0),()=>Jr(i)}const X2=["TopLeft","TopRight","BottomLeft","BottomRight"],vz=X2.length,P1=t=>typeof t=="string"?parseFloat(t):t,k1=t=>typeof t=="number"||we.test(t);function _z(t,e,n,i,a,l){a?(t.opacity=gt(0,n.opacity??1,bz(i)),t.opacityExit=gt(e.opacity??1,0,xz(i))):l&&(t.opacity=gt(e.opacity??1,n.opacity??1,i));for(let c=0;c<vz;c++){const h=`border${X2[c]}Radius`;let f=M1(e,h),m=M1(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||k1(f)===k1(m)?(t[h]=Math.max(gt(P1(f),P1(m),i),0),(os.test(m)||os.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,i))}function M1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bz=J2(0,.5,LC),xz=J2(.5,.95,ai);function J2(t,e,n){return i=>i<t?0:i>e?1:n(Ru(t,e,i))}function V1(t,e){t.min=e.min,t.max=e.max}function bi(t,e){V1(t.x,e.x),V1(t.y,e.y)}function L1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function j1(t,e,n,i,a){return t-=e,t=Vf(t,1/n,i),a!==void 0&&(t=Vf(t,1/a,i)),t}function Tz(t,e=0,n=1,i=.5,a,l=t,c=t){if(os.test(e)&&(e=parseFloat(e),e=gt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=gt(l.min,l.max,i);t===l&&(h-=e),t.min=j1(t.min,e,n,h,a),t.max=j1(t.max,e,n,h,a)}function U1(t,e,[n,i,a],l,c){Tz(t,e[n],e[i],e[a],e.scale,l,c)}const Ez=["x","scaleX","originX"],wz=["y","scaleY","originY"];function z1(t,e,n,i){U1(t.x,e,Ez,n?n.x:void 0,i?i.x:void 0),U1(t.y,e,wz,n?n.y:void 0,i?i.y:void 0)}function B1(t){return t.translate===0&&t.scale===1}function Z2(t){return B1(t.x)&&B1(t.y)}function F1(t,e){return t.min===e.min&&t.max===e.max}function Sz(t,e){return F1(t.x,e.x)&&F1(t.y,e.y)}function H1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eN(t,e){return H1(t.x,e.x)&&H1(t.y,e.y)}function q1(t){return vn(t.x)/vn(t.y)}function $1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Az{constructor(){this.members=[]}add(e){vv(this.members,e),e.scheduleRender()}remove(e){if(_v(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rz(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:x,skewX:w,skewY:I}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),w&&(i+=`skewX(${w}deg) `),I&&(i+=`skewY(${I}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const ty=["","X","Y","Z"],Cz=1e3;let Nz=0;function ny(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function tN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=z2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&tN(i)}function nN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=Nz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Oz),this.nodes.forEach(Vz),this.nodes.forEach(Lz),this.nodes.forEach(Pz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new gz)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Tv),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=y2(c)&&!x9(c),this.instance=c;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{v=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,y&&y(),y=yz(x,250),nf.hasAnimatedSinceResize&&(nf.hasAnimatedSinceResize=!1,this.nodes.forEach(Y1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||m.getDefaultTransition()||Fz,{onLayoutAnimationStart:L,onLayoutAnimationComplete:k}=m.getProps(),M=!this.targetLayout||!eN(this.targetLayout,w),z=!v&&x;if(this.options.layoutRoot||this.resumeFrom||z||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...kv(I,"layout"),onPlay:L,onComplete:k};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,z)}else v||Y1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jz),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Mz),this.nodes.forEach(Iz),this.nodes.forEach(Dz)):this.nodes.forEach(K1),this.clearAllSnapshots();const h=Nn.now();rn.delta=$s(0,1e3/60,h-rn.timestamp),rn.timestamp=h,rn.isProcessing=!0,qg.update.process(rn),qg.preRender.process(rn),qg.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kz),this.sharedNodes.forEach(Uz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Z2(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||za(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),Hz(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ht();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qz))){const{scroll:m}=this.root;m&&(fl(h.x,m.offset.x),fl(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Ht();if(bi(h,c),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&bi(h,c),fl(h.x,y.offset.x),fl(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const f=Ht();bi(f,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ml(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),za(y.latestValues)&&ml(f,y.latestValues)}return za(this.latestValues)&&ml(f,this.latestValues),f}removeTransform(c){const h=Ht();bi(h,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!za(m.latestValues))continue;s0(m.latestValues)&&m.updateSnapshot();const y=Ht(),v=m.measurePageBox();bi(y,v),z1(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return za(this.latestValues)&&z1(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=rn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),k2(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||s0(this.parent.latestValues)||P2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Lf(this.relativeTargetOrigin,h,f),bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;bi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;u8(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ht());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L1(this.prevProjectionDelta.x,this.projectionDelta.x),L1(this.prevProjectionDelta.y,this.projectionDelta.y)),gu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!$1(this.projectionDelta.x,this.prevProjectionDelta.x)||!$1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pl(),this.projectionDelta=pl(),this.projectionDeltaWithTransform=pl()}setAnimationOrigin(c,h=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},v=pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=Ht(),w=f?f.source:void 0,I=this.layout?this.layout.source:void 0,L=w!==I,k=this.getStack(),M=!k||k.members.length<=1,z=!!(L&&!M&&this.options.crossfade===!0&&!this.path.some(Bz));this.animationProgress=0;let q;this.mixTargetDelta=te=>{const ne=te/1e3;Q1(v.x,c.x,ne),Q1(v.y,c.y,ne),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zz(this.relativeTarget,this.relativeTargetOrigin,x,ne),q&&Sz(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Ht()),bi(q,this.relativeTarget)),L&&(this.animationValues=y,_z(y,m,this.latestValues,ne,z,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nl(0)),this.currentAnimation=mz(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:y}=c;if(!(!h||!f||!m)){if(this!==c&&this.layout&&m&&iN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Ht();const v=vn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const x=vn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}bi(h,f),ml(h,y),gu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Az),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&ny("z",c,m,this.animationValues);for(let y=0;y<ty.length;y++)ny(`rotate${ty[y]}`,c,m,this.animationValues),ny(`skew${ty[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=tf(h?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=tf(h?.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=Rz(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),c.transform=v;const{x,y:w}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in i0){if(y[I]===void 0)continue;const{correct:L,applyTo:k,isCSSVariable:M}=i0[I],z=v==="none"?y[I]:L(y[I],m);if(k){const q=k.length;for(let te=0;te<q;te++)c[k[te]]=z}else M?this.options.visualElement.renderState.vars[I]=z:c[I]=z}this.options.layoutId&&(c.pointerEvents=m===this?tf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(G1),this.root.sharedNodes.clear()}}}function Iz(t){t.updateLayout()}function Dz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ii(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],x=vn(v);v.min=n[y].min,v.max=v.min+x}):iN(a,e.layoutBox,n)&&ii(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],x=vn(n[y]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const c=pl();gu(c,n,e.layoutBox);const h=pl();l?gu(h,t.applyTransform(i,!0),e.measuredBox):gu(h,n,e.layoutBox);const f=!Z2(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const w=Ht();Lf(w,e.layoutBox,v.layoutBox);const I=Ht();Lf(I,n,x.layoutBox),eN(w,I)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=w,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Oz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Pz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kz(t){t.clearSnapshot()}function G1(t){t.clearMeasurements()}function K1(t){t.isLayoutDirty=!1}function Mz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Y1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Vz(t){t.resolveTargetDelta()}function Lz(t){t.calcProjection()}function jz(t){t.resetSkewAndRotation()}function Uz(t){t.removeLeadSnapshot()}function Q1(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function W1(t,e,n,i){t.min=gt(e.min,n.min,i),t.max=gt(e.max,n.max,i)}function zz(t,e,n,i){W1(t.x,e.x,n.x,i),W1(t.y,e.y,n.y,i)}function Bz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fz={duration:.45,ease:[.4,0,.1,1]},X1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),J1=X1("applewebkit/")&&!X1("chrome/")?Math.round:ai;function Z1(t){t.min=J1(t.min),t.max=J1(t.max)}function Hz(t){Z1(t.x),Z1(t.y)}function iN(t,e,n){return t==="position"||t==="preserve-aspect"&&!X8(q1(e),q1(n),.2)}function qz(t){return t!==t.root&&t.scroll?.wasRoot}const $z=nN({attachResizeListener:(t,e)=>Du(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},sN=nN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iy.current){const t=new $z({});t.mount(window),t.setOptions({layoutScroll:!0}),iy.current=t}return iy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Gz={pan:{Feature:dz},drag:{Feature:hz,ProjectionNode:sN,MeasureLayout:W2}};function eS(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&mt.postRender(()=>l(e,Zu(e)))}class Kz extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=g9(e,(n,i)=>(eS(this.node,i,"Start"),a=>eS(this.node,a,"End"))))}unmount(){}}class Yz extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(Du(this.node.current,"focus",()=>this.onFocus()),Du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tS(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&mt.postRender(()=>l(e,Zu(e)))}class Qz extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=b9(e,(n,i)=>(tS(this.node,i,"Start"),(a,{success:l})=>tS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const h0=new WeakMap,sy=new WeakMap,Wz=t=>{const e=h0.get(t.target);e&&e(t)},Xz=t=>{t.forEach(Wz)};function Jz({root:t,...e}){const n=t||document;sy.has(n)||sy.set(n,{});const i=sy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Xz,{root:t,...e})),i[a]}function Zz(t,e,n){const i=Jz(e);return h0.set(t,n),i.observe(t),()=>{h0.delete(t),i.unobserve(t)}}const eB={some:0,all:1};class tB extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:eB[a]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=m?y:v;x&&x(f)};return Zz(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nB(e,n))&&this.startObserver()}unmount(){}}function nB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iB={inView:{Feature:tB},tap:{Feature:Qz},focus:{Feature:Yz},hover:{Feature:Kz}},sB={layout:{ProjectionNode:sN,MeasureLayout:W2}},rB={...$8,...iB,...Gz,...sB},qr=o8(rB,b8),uo=()=>{const{i18n:t}=Ks(),e=()=>{const n=t.language==="ar"?"en":"ar";t.changeLanguage(n),document.documentElement.dir=n==="ar"?"rtl":"ltr",document.documentElement.lang=n,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},100)};return b.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 transition-all font-bold text-xs border border-slate-200",title:t.language==="ar"?"Switch to English":" ",children:[b.jsx(r5,{className:"w-4 h-4 text-medical-600"}),b.jsx("span",{children:t.language==="ar"?"English":""})]})},aB=()=>{const{t,i18n:e}=Ks(),[n,i]=V.useState({name:"Dr. Ahmed Hassan",specialty:"General Practitioner",bio:"Experienced physician dedicated to providing quality healthcare.",photoUrl:""}),[a,l]=V.useState([{id:"1",nameEn:"General Consultation",nameAr:" ",price:"$50",descEn:"Comprehensive health check and prescription.",descAr:"    ."},{id:"2",nameEn:"Follow-up Visit",nameAr:" ",price:"$30",descEn:"Review of previous conditions and treatment progress.",descAr:"     ."},{id:"3",nameEn:"Special Procedures",nameAr:" ",price:"From $100",descEn:"Minor surgical procedures and specialized tests.",descAr:"    ."},{id:"4",nameEn:"Prescription Renewal",nameAr:" ",price:"$20",descEn:"Quick renewal of ongoing medications.",descAr:"   ."}]);return V.useEffect(()=>{const c=no(yn(Lt,"settings","clinic_settings"),h=>{if(h.exists()){const f=h.data();f.doctorProfile&&i(f.doctorProfile),f.services&&f.services.length>0&&l(f.services)}});return()=>c()},[]),b.jsxs("div",{className:"flex flex-col min-h-screen",children:[b.jsxs("nav",{className:"bg-white border-b border-slate-100 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zy,{className:"text-medical-600 w-8 h-8"}),b.jsx("span",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"MedicoQueue"})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx(Ps,{to:"/live-queue",className:"text-slate-600 hover:text-medical-600 font-medium",children:t("nav.live_queue")}),b.jsx(uo,{}),b.jsx(Ps,{to:"/booking",className:"btn-primary",children:t("nav.book_now")})]})]}),b.jsxs("main",{className:"flex-grow",children:[b.jsx("section",{className:"bg-gradient-to-b from-medical-50 to-white py-20 px-6 text-center",children:b.jsxs(qr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[b.jsx("div",{className:"mb-8 flex justify-center",children:b.jsx("div",{className:"relative w-40 h-40 rounded-full overflow-hidden border-4 border-medical-500 shadow-2xl",children:b.jsx("img",{src:n.photoUrl||"/doctor-default.png",alt:n.name,className:"w-full h-full object-cover"})})}),b.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold text-slate-900 mb-4 leading-tight",children:n.name}),b.jsx("p",{className:"text-2xl text-medical-600 font-semibold mb-6",children:n.specialty}),b.jsx("p",{className:"text-xl text-slate-600 mb-10 max-w-2xl mx-auto",children:n.bio}),b.jsxs("div",{className:"flex justify-center gap-4",children:[b.jsxs(Ps,{to:"/booking",className:"btn-primary text-lg px-8 py-3 flex items-center gap-2",children:[t("home.start_booking")," ",b.jsx(L6,{className:"w-5 h-5 rtl:rotate-180"})]}),b.jsx(Ps,{to:"/live-queue",className:"btn-secondary text-lg px-8 py-3",children:t("home.view_live_queue")})]})]})}),b.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:t("home.our_services")}),b.jsx("p",{className:"text-slate-600",children:t("home.pricing_desc")})]}),b.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-6 ${a.length>2?"lg:grid-cols-4":a.length===2?"lg:grid-cols-2":"lg:grid-cols-1"}`,children:a.map(c=>b.jsxs(qr.div,{whileHover:{y:-5},className:"medical-card flex flex-col justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:e.language==="ar"?c.nameAr:c.nameEn}),b.jsx("p",{className:"text-slate-600 text-sm mb-4",children:e.language==="ar"?c.descAr:c.descEn})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("span",{className:"text-2xl font-bold text-medical-600",children:c.price}),b.jsx("button",{className:"w-full mt-4 py-2 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-slate-700 font-medium",children:t("home.details")})]})]},c.id))})]})]}),b.jsx("footer",{className:"bg-slate-900 text-white py-12 px-6",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[b.jsxs("div",{className:"flex items-center gap-2 text-white",children:[b.jsx(zy,{className:"text-medical-400 w-8 h-8"}),b.jsx("span",{className:"text-xl font-bold",children:"MedicoQueue"})]}),b.jsx("div",{className:"text-slate-400 text-sm",children:t("home.footer_copy")}),b.jsxs("div",{className:"flex gap-6",children:[b.jsx(Ps,{to:"/privacy-policy",className:"text-slate-400 hover:text-white transition-colors",children:t("privacy_policy.title")}),b.jsx(Ps,{to:"/terms-of-use",className:"text-slate-400 hover:text-white transition-colors",children:t("terms_of_use.title")}),b.jsx(Ps,{to:"/login",className:"text-slate-400 hover:text-white transition-colors",children:t("nav.doctor_portal")})]})]})})]})},rN=6048e5,oB=864e5,lB=6e4,nS=Symbol.for("constructDateFrom");function ea(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&nS in t?t[nS](e):t instanceof Date?new t.constructor(e):new Date(e)}function oi(t,e){return ea(e||t,t)}let cB={};function _m(){return cB}function Ou(t,e){const n=_m(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=oi(t,e?.in),l=a.getDay(),c=(l<i?7:0)+l-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function jf(t,e){return Ou(t,{...e,weekStartsOn:1})}function aN(t,e){const n=oi(t,e?.in),i=n.getFullYear(),a=ea(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=jf(a),c=ea(n,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=jf(c);return n.getTime()>=l.getTime()?i+1:n.getTime()>=h.getTime()?i:i-1}function iS(t){const e=oi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function uB(t,...e){const n=ea.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function sS(t,e){const n=oi(t,e?.in);return n.setHours(0,0,0,0),n}function hB(t,e,n){const[i,a]=uB(n?.in,t,e),l=sS(i),c=sS(a),h=+l-iS(l),f=+c-iS(c);return Math.round((h-f)/oB)}function dB(t,e){const n=aN(t,e),i=ea(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),jf(i)}function fB(t,e,n){const i=oi(t,n?.in);return i.setTime(i.getTime()+e*lB),i}function mB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pB(t){return!(!mB(t)&&typeof t!="number"||isNaN(+oi(t)))}function gB(t,e){const n=oi(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vB=(t,e,n)=>{let i;const a=yB[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function xl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _B={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TB={date:xl({formats:_B,defaultWidth:"full"}),time:xl({formats:bB,defaultWidth:"full"}),dateTime:xl({formats:xB,defaultWidth:"full"})},EB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wB=(t,e,n,i)=>EB[t];function Ji(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):c;a=t.formattingValues[h]||t.formattingValues[c]}else{const c=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const SB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DB=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},OB={ordinalNumber:DB,era:Ji({values:SB,defaultWidth:"wide"}),quarter:Ji({values:AB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ji({values:RB,defaultWidth:"wide"}),day:Ji({values:CB,defaultWidth:"wide"}),dayPeriod:Ji({values:NB,defaultWidth:"wide",formattingValues:IB,defaultFormattingWidth:"wide"})};function Zi(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],h=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(h)?kB(h,v=>v.test(c)):PB(h,v=>v.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const y=e.slice(c.length);return{value:m,rest:y}}}function PB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function oN(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(a.length);return{value:c,rest:h}}}const MB=/^(\d+)(th|st|nd|rd)?/i,VB=/\d+/i,LB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jB={any:[/^b/i,/^(a|c)/i]},UB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zB={any:[/1/i,/2/i,/3/i,/4/i]},BB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$B={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KB={ordinalNumber:oN({matchPattern:MB,parsePattern:VB,valueCallback:t=>parseInt(t,10)}),era:Zi({matchPatterns:LB,defaultMatchWidth:"wide",parsePatterns:jB,defaultParseWidth:"any"}),quarter:Zi({matchPatterns:UB,defaultMatchWidth:"wide",parsePatterns:zB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zi({matchPatterns:BB,defaultMatchWidth:"wide",parsePatterns:FB,defaultParseWidth:"any"}),day:Zi({matchPatterns:HB,defaultMatchWidth:"wide",parsePatterns:qB,defaultParseWidth:"any"}),dayPeriod:Zi({matchPatterns:$B,defaultMatchWidth:"any",parsePatterns:GB,defaultParseWidth:"any"})},Yv={code:"en-US",formatDistance:vB,formatLong:TB,formatRelative:wB,localize:OB,match:KB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YB(t,e){const n=oi(t,e?.in);return hB(n,gB(n))+1}function QB(t,e){const n=oi(t,e?.in),i=+jf(n)-+dB(n);return Math.round(i/rN)+1}function lN(t,e){const n=oi(t,e?.in),i=n.getFullYear(),a=_m(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=ea(e?.in||t,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const h=Ou(c,e),f=ea(e?.in||t,0);f.setFullYear(i,0,l),f.setHours(0,0,0,0);const m=Ou(f,e);return+n>=+h?i+1:+n>=+m?i:i-1}function WB(t,e){const n=_m(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=lN(t,e),l=ea(e?.in||t,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Ou(l,e)}function XB(t,e){const n=oi(t,e?.in),i=+Ou(n,e)-+WB(n,e);return Math.round(i/rN)+1}function et(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Cr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return et(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):et(n+1,2)},d(t,e){return et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return et(t.getHours()%12||12,e.length)},H(t,e){return et(t.getHours(),e.length)},m(t,e){return et(t.getMinutes(),e.length)},s(t,e){return et(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return et(a,e.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rS={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Cr.y(t,e)},Y:function(t,e,n,i){const a=lN(t,i),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return et(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):et(l,e.length)},R:function(t,e){const n=aN(t);return et(n,e.length)},u:function(t,e){const n=t.getFullYear();return et(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return et(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return et(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Cr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return et(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const a=XB(t,i);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):et(a,e.length)},I:function(t,e,n){const i=QB(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):et(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Cr.d(t,e)},D:function(t,e,n){const i=YB(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):et(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return et(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return et(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return et(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let a;switch(i===12?a=sl.noon:i===0?a=sl.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let a;switch(i>=17?a=sl.evening:i>=12?a=sl.afternoon:i>=4?a=sl.morning:a=sl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Cr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Cr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):et(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):et(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Cr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Cr.s(t,e)},S:function(t,e){return Cr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return oS(i);case"XXXX":case"XX":return Ba(i);default:return Ba(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return oS(i);case"xxxx":case"xx":return Ba(i);default:return Ba(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aS(i,":");default:return"GMT"+Ba(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aS(i,":");default:return"GMT"+Ba(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return et(i,e.length)},T:function(t,e,n){return et(+t,e.length)}};function aS(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),l=i%60;return l===0?n+String(a):n+String(a)+e+et(l,2)}function oS(t,e){return t%60===0?(t>0?"-":"+")+et(Math.abs(t)/60,2):Ba(t,e)}function Ba(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=et(Math.trunc(i/60),2),l=et(i%60,2);return n+a+e+l}const lS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},cN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},JB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return lS(t,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",lS(i,e)).replace("{{time}}",cN(a,e))},ZB={p:cN,P:JB},eF=/^D+$/,tF=/^Y+$/,nF=["D","DD","YY","YYYY"];function iF(t){return eF.test(t)}function sF(t){return tF.test(t)}function rF(t,e,n){const i=aF(t,e,n);if(console.warn(i),nF.includes(t))throw new RangeError(i)}function aF(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cF=/^'([^]*?)'?$/,uF=/''/g,hF=/[a-zA-Z]/;function An(t,e,n){const i=_m(),a=n?.locale??i.locale??Yv,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=oi(t,n?.in);if(!pB(h))throw new RangeError("Invalid time value");let f=e.match(lF).map(y=>{const v=y[0];if(v==="p"||v==="P"){const x=ZB[v];return x(y,a.formatLong)}return y}).join("").match(oF).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:dF(y)};if(rS[v])return{isToken:!0,value:y};if(v.match(hF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(f=a.localize.preprocessor(h,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!n?.useAdditionalWeekYearTokens&&sF(v)||!n?.useAdditionalDayOfYearTokens&&iF(v))&&rF(v,e,String(t));const x=rS[v[0]];return x(h,v,a.localize,m)}).join("")}function dF(t){const e=t.match(cF);return e?e[1].replace(uF,"'"):t}const fF={lessThanXSeconds:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "}},mF=(t,e,n)=>{let i;const a=fF[t];return typeof a=="string"?i=a:e===1?i=a.one:e===2?i=a.two:e<=10?i=a.threeToTen.replace("{{count}}",String(e)):i=a.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"  "+i:" "+i:i},pF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yF={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vF={date:xl({formats:pF,defaultWidth:"full"}),time:xl({formats:gF,defaultWidth:"full"}),dateTime:xl({formats:yF,defaultWidth:"full"})},_F={lastWeek:"'' eeee '' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},bF=(t,e,n,i)=>_F[t],xF={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},TF={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},EF={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},wF={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},SF={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""}},AF={narrow:{am:"",pm:"",midnight:"",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:" ",night:" "}},RF=t=>String(t),CF={ordinalNumber:RF,era:Ji({values:xF,defaultWidth:"wide"}),quarter:Ji({values:TF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ji({values:EF,defaultWidth:"wide"}),day:Ji({values:wF,defaultWidth:"wide"}),dayPeriod:Ji({values:SF,defaultWidth:"wide",formattingValues:AF,defaultFormattingWidth:"wide"})},NF=/^(\d+)(th|st|nd|rd)?/i,IF=/\d+/i,DF={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^( | | | )/i},OF={any:[/^/i,/^/i]},PF={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^ [1234]/i},kF={any:[/1/i,/2/i,/3/i,/4/i]},MF={narrow:/^[]/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},VF={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},LF={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},jF={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},UF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BF={ordinalNumber:oN({matchPattern:NF,parsePattern:IF,valueCallback:t=>parseInt(t,10)}),era:Zi({matchPatterns:DF,defaultMatchWidth:"wide",parsePatterns:OF,defaultParseWidth:"any"}),quarter:Zi({matchPatterns:PF,defaultMatchWidth:"wide",parsePatterns:kF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zi({matchPatterns:MF,defaultMatchWidth:"wide",parsePatterns:VF,defaultParseWidth:"any"}),day:Zi({matchPatterns:LF,defaultMatchWidth:"wide",parsePatterns:jF,defaultParseWidth:"any"}),dayPeriod:Zi({matchPatterns:UF,defaultMatchWidth:"any",parsePatterns:zF,defaultParseWidth:"any"})},uN={code:"ar-SA",formatDistance:mF,formatLong:vF,formatRelative:bF,localize:CF,match:BF,options:{weekStartsOn:0,firstWeekContainsDate:1}},FF=()=>{const{t,i18n:e}=Ks();e.language;const n=so(),[i,a]=V.useState({name:"",phone:"",date:An(new Date,"yyyy-MM-dd")}),[l,c]=V.useState(!1),[h,f]=V.useState(null),[m,y]=V.useState({intervalMinutes:10,dailyLimit:20,dailySchedules:{Monday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Tuesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Wednesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Thursday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Friday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Saturday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Sunday:{isOpen:!0,startTime:"09:00",endTime:"17:00"}},clinicAddress:"Clinic Address Here",clinicPhone:"+20 123 456 789",mapIframeUrl:""}),v=L=>{if(!L)return"---";const[k,M]=L.split(":"),z=parseInt(k),q=z>=12?e.language==="ar"?"":"PM":e.language==="ar"?"":"AM",te=z%12||12;return e.language==="ar"?`${te}:${M} ${q}`:`${te}:${M} ${q}`},[x,w]=V.useState({totalBooked:0,estimatedWait:0});V.useEffect(()=>{(async()=>(yn(Lt,"settings","clinic_settings"),await Cf(Ga(Br(Lt,"settings"),Vr("id","==","clinic_settings"))),no(yn(Lt,"settings","clinic_settings"),z=>{z.exists()&&y(q=>({...q,...z.data()}))})))();const k=Ga(Br(Lt,"bookings"),Vr("date","==",i.date)),M=no(k,z=>{w({totalBooked:z.size,estimatedWait:z.size*(m.intervalMinutes||15)})});return()=>M()},[i.date,m.intervalMinutes]);const I=async L=>{L.preventDefault(),console.log("Submit button clicked. Form data:",i),c(!0);let k=!1;setTimeout(()=>{k||(console.warn("Firestore submission is taking too long (15s timeout reached)"),c(!1),alert(t("booking.validation.timeout")))},15e3);try{const M=new Date(i.date+"T00:00:00"),z=An(M,"EEEE"),q=m.dailySchedules?.[z];if(q&&!q.isOpen){alert(t("booking.validation.closed_day",{day:t(`days.${z.toLowerCase()}`)})),c(!1);return}if(x.totalBooked>=m.dailyLimit){alert(t("booking.validation.capacity")),c(!1);return}console.log("Current stats for queue calculation:",x);const te=(x.totalBooked||0)+1,ne=q?.startTime||"09:00";let oe=new Date(`${i.date}T${ne}`);const N=new Date;i.date===An(N,"yyyy-MM-dd")&&N>oe&&(oe=N);const A=An(fB(oe,x.totalBooked*m.intervalMinutes),"HH:mm"),C=q?.endTime||"17:00";if(A>C){alert(t("booking.validation.hours_exceeded")),c(!1);return}const D=v(A),P={name:String(i.name),phone:String(i.phone),date:String(i.date),queueNumber:Number(te),status:"pending",createdAt:new Date().toISOString(),estimatedTime:String(D)};console.log("Attempting to write to collection 'bookings' with data:",P);const F=await dC(Br(Lt,"bookings"),P);k=!0,console.log("Success! Firestore Document ID:",F.id);try{const O="AC45a599b11744179644b0417f7ee74674",Se="d4dff0de6991854e5ec2aa631a231153",Ke="whatsapp:+14155238886",le=`whatsapp:${i.phone.startsWith("+")?i.phone:`+20${i.phone.replace(/^0+/,"")}`}`,he=` ${P.name}!     ${P.date}.  : #${P.queueNumber}.  : ${P.estimatedTime}.`,be=await fetch(`https://api.twilio.com/2010-04-01/Accounts/${O}/Messages.json`,{method:"POST",headers:{Authorization:"Basic "+btoa(`${O}:${Se}`),"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({From:Ke,To:le,Body:he})});if(be.ok)console.log("WhatsApp message sent successfully!");else{const Ce=await be.json();console.error("Twilio Error:",Ce)}}catch(O){console.error("WhatsApp sending failed:",O)}f({id:F.id,...P})}catch(M){k=!0,console.error("FIRESTORE ERROR DETECTED:",M),console.error("Error Code:",M.code),console.error("Error Message:",M.message),alert(t("booking.validation.db_error")+": "+M.message)}finally{c(!1),console.log("handleSubmit execution completed.")}};return h?b.jsx("div",{className:"min-h-screen bg-medical-50 flex items-center justify-center px-6",children:b.jsxs(qr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"medical-card max-w-md w-full text-center py-10",children:[b.jsx("div",{className:"bg-green-100 text-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:b.jsx(Df,{className:"w-10 h-10"})}),b.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:t("booking.success.title")}),b.jsx("p",{className:"text-slate-600 mb-8",children:t("booking.success.desc")}),b.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-8 text-left rtl:text-right space-y-4",children:[b.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[b.jsx("span",{className:"text-slate-500",children:t("booking.success.queue_number")}),b.jsxs("span",{className:"font-bold text-medical-600 text-xl",children:["#",h.queueNumber]})]}),b.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[b.jsx("span",{className:"text-slate-500",children:t("booking.success.wait_time")}),b.jsx("span",{className:"font-semibold",children:h.estimatedTime})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-slate-500",children:t("labels.preferred_date")}),b.jsx("span",{className:"font-semibold",children:h.date})]})]}),b.jsx("p",{className:"text-sm text-slate-500 mb-8 italic",children:t("booking.success.time_desc")}),b.jsx("button",{onClick:()=>n("/"),className:"w-full btn-primary",children:t("booking.success.back_home")})]})}):b.jsx("div",{className:"min-h-screen py-12 px-6 bg-slate-50/50",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[b.jsx("div",{className:"flex justify-end mb-8",children:b.jsx(uo,{})}),b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h1",{className:"text-5xl font-black text-slate-900 mb-4 tracking-tight",children:t("booking.title")}),b.jsx("p",{className:"text-slate-500 text-lg",children:t("booking.subtitle")})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 items-start",children:[b.jsx("div",{className:"lg:col-span-12 xl:col-span-8 order-2 xl:order-1",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-slate-200/60 p-8 md:p-12 border border-slate-100",children:[b.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-8 flex items-center gap-3",children:[b.jsx("div",{className:"bg-medical-100 p-2 rounded-xl",children:b.jsx(By,{className:"w-6 h-6 text-medical-600"})}),t("booking.patient_info")]}),b.jsxs("form",{onSubmit:I,className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullName",className:"block text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide",children:t("labels.full_name")}),b.jsxs("div",{className:"relative group",children:[b.jsx(mv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors w-5 h-5 rtl:right-4 rtl:left-auto"}),b.jsx("input",{id:"fullName",name:"name",type:"text",required:!0,className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-200 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white text-slate-800",placeholder:t("booking.placeholder_name"),value:i.name,onChange:L=>a({...i,name:L.target.value})})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"whatsappNumber",className:"block text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide",children:t("labels.whatsapp_number")}),b.jsxs("div",{className:"relative group",children:[b.jsx(EC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors w-5 h-5 rtl:right-4 rtl:left-auto"}),b.jsx("input",{id:"whatsappNumber",name:"phone",type:"tel",required:!0,className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-200 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white text-slate-800",placeholder:t("booking.placeholder_phone"),value:i.phone,onChange:L=>a({...i,phone:L.target.value})})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"appointmentDate",className:"block text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide",children:t("labels.preferred_date")}),b.jsxs("div",{className:"relative group",children:[b.jsx(nu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors w-5 h-5 rtl:right-4 rtl:left-auto"}),b.jsx("input",{id:"appointmentDate",name:"date",type:"date",required:!0,min:An(new Date,"yyyy-MM-dd"),className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-200 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white text-slate-800 font-medium",value:i.date,onChange:L=>a({...i,date:L.target.value})})]}),b.jsxs("p",{className:"mt-3 text-xs text-slate-400 font-medium flex items-center gap-2",children:[b.jsx(fv,{className:"w-3 h-3 text-medical-400"})," ",t("booking.date_hint")]})]}),b.jsx("button",{type:"submit",disabled:l,className:"w-full bg-medical-600 hover:bg-medical-700 text-white py-5 rounded-2xl text-xl font-bold transition-all shadow-xl shadow-medical-200 hover:scale-[1.01] active:scale-[0.99] flex justify-center items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-6 h-6 border-4 border-white border-t-transparent rounded-full animate-spin"}),t("booking.processing")]}):b.jsxs(b.Fragment,{children:[b.jsx(Df,{className:"w-6 h-6"})," ",t("booking.submit_btn")]})})]})]})}),b.jsx("div",{className:"lg:col-span-12 xl:col-span-4 space-y-8 order-1 xl:order-2",children:b.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl shadow-slate-200/60 overflow-hidden border border-slate-100",children:[b.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[b.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[b.jsx(_5,{className:"w-5 h-5 text-medical-600"})," ",t("booking.schedule.title")]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${m.dailySchedules?.[An(new Date(i.date),"EEEE")]?.isOpen?"bg-green-100 text-green-600":"bg-red-100 text-red-500"}`,children:m.dailySchedules?.[An(new Date(i.date),"EEEE")]?.isOpen?t("booking.schedule.open"):t("booking.schedule.closed")})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:t("booking.schedule.hours")}),b.jsx("span",{className:"font-bold text-slate-700 bg-slate-100 px-3 py-1 rounded-lg",children:m.dailySchedules?.[An(new Date(i.date),"EEEE")]?.isOpen?`${v(m.dailySchedules[An(new Date(i.date),"EEEE")].startTime)} - ${v(m.dailySchedules[An(new Date(i.date),"EEEE")].endTime)}`:"---"})]}),b.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"bg-slate-100 p-2 rounded-xl h-fit",children:b.jsx(xC,{className:"w-4 h-4 text-medical-600"})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("span",{className:"block text-[10px] text-slate-400 font-bold uppercase",children:t("booking.schedule.location")}),b.jsx("span",{className:"text-xs font-bold text-slate-700 leading-normal block",children:m.clinicAddress})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"bg-slate-100 p-2 rounded-xl h-fit",children:b.jsx(TC,{className:"w-4 h-4 text-medical-600"})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("span",{className:"block text-[10px] text-slate-400 font-bold uppercase",children:t("booking.schedule.phone")}),b.jsx("span",{className:"text-xs font-bold text-slate-700",children:m.clinicPhone})]})]})]}),m.mapIframeUrl&&b.jsx("div",{className:"mt-6 rounded-2xl overflow-hidden h-48 border border-slate-100 shadow-inner group",children:b.jsx("iframe",{src:m.mapIframeUrl,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:t("booking.schedule.location"),className:"grayscale-[0.5] group-hover:grayscale-0 transition-all duration-500"})})]})]})})]}),b.jsxs("div",{className:"bg-medical-600 rounded-[2.5rem] mt-16 p-8 text-white shadow-2xl shadow-medical-200 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute -right-10 -top-10 w-60 h-60 bg-white/10 rounded-full blur-3xl transition-transform group-hover:scale-150 duration-700"}),b.jsx("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-medical-400/20 rounded-full blur-2xl"}),b.jsxs("div",{className:"relative flex flex-col md:flex-row items-center justify-between gap-8 text-center md:text-left rtl:md:text-right",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("h3",{className:"text-2xl font-black flex items-center gap-3 justify-center md:justify-start",children:[b.jsx(Q6,{className:"w-8 h-8 text-medical-200"})," ",t("booking.status.title")]}),b.jsx("p",{className:"text-medical-100 font-medium text-sm",children:t("booking.status.desc")})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[b.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-8 py-5 rounded-[2rem] border border-white/20 min-w-[180px]",children:[b.jsx("span",{className:"block text-white/60 text-[10px] uppercase font-black mb-1 tracking-widest text-center",children:t("booking.status.patients_today")}),b.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[b.jsx("span",{className:"text-3xl font-black",children:x.totalBooked}),b.jsx("span",{className:"text-white/60 text-[10px] font-bold uppercase",children:t("booking.status.total")})]})]}),b.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-8 py-5 rounded-[2rem] border border-white/20 min-w-[180px]",children:[b.jsx("span",{className:"block text-white/60 text-[10px] uppercase font-black mb-1 tracking-widest text-center",children:t("booking.status.estimated_wait")}),b.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[b.jsx("span",{className:"text-3xl font-black",children:x.estimatedWait}),b.jsx("span",{className:"text-white/60 text-[10px] font-bold uppercase",children:t("booking.status.minutes")})]})]})]})]})]})]})})},HF=()=>{const{t,i18n:e}=Ks(),[n,i]=V.useState([]),[a,l]=V.useState(0),c=An(new Date,"yyyy-MM-dd");return V.useEffect(()=>{const h=Ga(Br(Lt,"bookings"),Vr("date","==",c)),f=no(h,m=>{let y=m.docs.map(x=>({id:x.id,...x.data()}));y.sort((x,w)=>(x.queueNumber||0)-(w.queueNumber||0)),i(y);const v=y.find(x=>x.status==="calling");if(v)l(v.queueNumber);else{const x=[...y].reverse().find(w=>w.status==="completed");l(x?x.queueNumber:0)}});return()=>f()},[c]),b.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-6",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("div",{className:"flex justify-end mb-8",children:b.jsx(uo,{})}),b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4 italic",children:t("live_queue.title")}),b.jsx("p",{className:"text-slate-600",children:t("live_queue.subtitle")})]}),b.jsxs("div",{className:"bg-medical-600 rounded-2xl p-10 text-white shadow-xl shadow-medical-200 mb-12 text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:b.jsx(SC,{className:"w-32 h-32"})}),b.jsx("p",{className:"text-medical-100 font-medium mb-2 uppercase tracking-widest",children:t("live_queue.now_serving")}),b.jsxs("div",{className:"text-8xl font-black mb-4",children:["#",a]}),b.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"block text-2xl font-bold",children:n.filter(h=>h.status==="pending").length}),b.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:t("live_queue.waiting")})]}),b.jsx("div",{className:"h-10 w-px bg-medical-400 opacity-50"}),b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"block text-2xl font-bold",children:n.filter(h=>h.status==="completed").length}),b.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:t("live_queue.completed")})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-900 px-2 mb-4",children:t("live_queue.upcoming")}),b.jsx(n0,{mode:"popLayout",children:n.filter(h=>h.status==="pending").map((h,f)=>b.jsxs(qr.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},className:`medical-card flex justify-between items-center transition-all ${f===0?"bg-medical-50 border-medical-200":""}`,children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${f===0?"bg-medical-600 text-white":"bg-slate-100 text-slate-600"}`,children:["#",h.queueNumber]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900",children:h.name}),b.jsxs("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:[t("live_queue.scheduled_for")," ",h.estimatedTime]})]})]}),f===0&&b.jsx("div",{className:"bg-medical-100 text-medical-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:t("live_queue.up_next")})]},h.id))}),n.filter(h=>h.status==="pending").length===0&&b.jsxs("div",{className:"text-center py-10 medical-card border-dashed",children:[b.jsx(fv,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),b.jsx("p",{className:"text-slate-500",children:t("live_queue.no_pending")})]})]})]})})},qF="modulepreload",$F=function(t){return"/Doctors/"+t},cS={},GF=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=h?.nonce||h?.getAttribute("nonce");a=m(n.map(y=>{if(y=$F(y),y in cS)return;cS[y]=!0;const v=y.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":qF,v||(w.as="script"),w.crossOrigin="",w.href=y,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((I,L)=>{w.addEventListener("load",I),w.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return a.then(h=>{for(const f of h||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},KF=({settings:t,setSettings:e,onClose:n})=>{const{t:i,i18n:a}=Ks(),[l,c]=V.useState("profile"),[h,f]=V.useState(null),[m,y]=V.useState({nameEn:"",nameAr:"",price:"",descEn:"",descAr:""}),v=async()=>{try{await Ha(yn(Lt,"settings","clinic_settings"),{doctorProfile:t.doctorProfile}),alert(i("labels.save")+" ")}catch(M){console.error("Error saving profile:",M),alert("Error: "+M.message)}},x=()=>{if(!m.nameEn||!m.nameAr||!m.price){alert("Please fill all required fields");return}const M={id:Date.now().toString(),...m},z=[...t.services,M];e({...t,services:z}),y({nameEn:"",nameAr:"",price:"",descEn:"",descAr:""}),L(z)},w=M=>{const z=t.services.map(q=>q.id===M?h:q);e({...t,services:z}),f(null),L(z)},I=M=>{if(!confirm(i("labels.cancel")+"?"))return;const z=t.services.filter(q=>q.id!==M);e({...t,services:z}),L(z)},L=async M=>{try{await Ha(yn(Lt,"settings","clinic_settings"),{services:M}),alert(i("labels.save")+" ")}catch(z){console.error("Error saving services:",z),alert("Error: "+z.message)}},k=M=>{const z=M.target.files[0];if(z){if(!z.type.startsWith("image/")){alert("Please upload an image file");return}if(z.size>5*1024*1024){alert("Image size should be less than 5MB");return}const q=new FileReader;q.onload=te=>{const ne=new Image;ne.onload=()=>{const oe=document.createElement("canvas"),N=oe.getContext("2d"),A=400,C=400;let D=ne.width,P=ne.height;D>P?D>A&&(P*=A/D,D=A):P>C&&(D*=C/P,P=C),oe.width=D,oe.height=P,N.drawImage(ne,0,0,D,P);const F=oe.toDataURL("image/jpeg",.7);e({...t,doctorProfile:{...t.doctorProfile,photoUrl:F}}),console.log("Image compressed successfully. Size:",(F.length/1024).toFixed(2),"KB")},ne.src=te.target.result},q.readAsDataURL(z)}};return b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[b.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:[i("dashboard.settings_btn")," - ",l==="profile"?"Profile":"Services"]}),b.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:b.jsx(Fy,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex border-b border-slate-200 bg-white",children:[b.jsxs("button",{onClick:()=>c("profile"),className:`flex-1 py-4 px-6 font-semibold transition-all ${l==="profile"?"text-medical-600 border-b-2 border-medical-600":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(mv,{className:"w-5 h-5 inline mr-2"}),"Doctor Profile"]}),b.jsxs("button",{onClick:()=>c("services"),className:`flex-1 py-4 px-6 font-semibold transition-all ${l==="services"?"text-medical-600 border-b-2 border-medical-600":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(U6,{className:"w-5 h-5 inline mr-2"}),"Services & Pricing"]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l==="profile"?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-medical-500",children:b.jsx("img",{src:t.doctorProfile.photoUrl||"/doctor-default.png",alt:"Doctor",className:"w-full h-full object-cover"})}),b.jsxs("label",{className:"btn-secondary cursor-pointer",children:[b.jsx(wC,{className:"w-4 h-4 inline mr-2"}),"Upload Photo",b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:k})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Doctor Name"}),b.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:t.doctorProfile.name,onChange:M=>e({...t,doctorProfile:{...t.doctorProfile,name:M.target.value}})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Specialty"}),b.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:t.doctorProfile.specialty,onChange:M=>e({...t,doctorProfile:{...t.doctorProfile,specialty:M.target.value}})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Bio / About"}),b.jsx("textarea",{rows:4,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none resize-none",value:t.doctorProfile.bio,onChange:M=>e({...t,doctorProfile:{...t.doctorProfile,bio:M.target.value}})})]}),b.jsxs("button",{onClick:v,className:"btn-primary w-full",children:[i("labels.save")," Profile"]})]}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-medical-50 p-6 rounded-xl border-2 border-dashed border-medical-300",children:[b.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[b.jsx(zw,{className:"w-5 h-5"}),"Add New Service"]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("input",{type:"text",placeholder:"Service Name (English)",className:"px-4 py-2 border border-slate-300 rounded-lg outline-none focus:ring-2 focus:ring-medical-500",value:m.nameEn,onChange:M=>y({...m,nameEn:M.target.value})}),b.jsx("input",{type:"text",placeholder:"  ()",className:"px-4 py-2 border border-slate-300 rounded-lg outline-none focus:ring-2 focus:ring-medical-500 text-right",value:m.nameAr,onChange:M=>y({...m,nameAr:M.target.value})}),b.jsx("input",{type:"text",placeholder:"Price (e.g., $50)",className:"px-4 py-2 border border-slate-300 rounded-lg outline-none focus:ring-2 focus:ring-medical-500",value:m.price,onChange:M=>y({...m,price:M.target.value})}),b.jsx("div",{}),b.jsx("textarea",{placeholder:"Description (English)",rows:2,className:"px-4 py-2 border border-slate-300 rounded-lg outline-none focus:ring-2 focus:ring-medical-500 resize-none",value:m.descEn,onChange:M=>y({...m,descEn:M.target.value})}),b.jsx("textarea",{placeholder:" ()",rows:2,className:"px-4 py-2 border border-slate-300 rounded-lg outline-none focus:ring-2 focus:ring-medical-500 resize-none text-right",value:m.descAr,onChange:M=>y({...m,descAr:M.target.value})})]}),b.jsxs("button",{onClick:x,className:"btn-primary mt-4 w-full",children:[b.jsx(zw,{className:"w-4 h-4 inline mr-2"}),"Add Service"]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Existing Services"}),t.services.map(M=>b.jsx("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:h?.id===M.id?b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("input",{type:"text",className:"px-3 py-2 border border-slate-300 rounded-lg text-sm",value:h.nameEn,onChange:z=>f({...h,nameEn:z.target.value})}),b.jsx("input",{type:"text",className:"px-3 py-2 border border-slate-300 rounded-lg text-sm text-right",value:h.nameAr,onChange:z=>f({...h,nameAr:z.target.value})}),b.jsx("input",{type:"text",className:"px-3 py-2 border border-slate-300 rounded-lg text-sm",value:h.price,onChange:z=>f({...h,price:z.target.value})}),b.jsx("div",{}),b.jsx("textarea",{rows:2,className:"px-3 py-2 border border-slate-300 rounded-lg text-sm resize-none",value:h.descEn,onChange:z=>f({...h,descEn:z.target.value})}),b.jsx("textarea",{rows:2,className:"px-3 py-2 border border-slate-300 rounded-lg text-sm resize-none text-right",value:h.descAr,onChange:z=>f({...h,descAr:z.target.value})})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>w(M.id),className:"btn-primary flex-1",children:i("labels.save")}),b.jsx("button",{onClick:()=>f(null),className:"btn-secondary flex-1",children:i("labels.cancel")})]})]}):b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("h4",{className:"font-bold text-lg",children:[M.nameEn," / ",M.nameAr]}),b.jsx("p",{className:"text-medical-600 font-semibold text-xl mt-1",children:M.price}),b.jsx("p",{className:"text-slate-600 text-sm mt-2",children:M.descEn}),b.jsx("p",{className:"text-slate-600 text-sm text-right mt-1",children:M.descAr})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>f(M),className:"px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors text-sm",children:"Edit"}),b.jsx("button",{onClick:()=>I(M.id),className:"px-3 py-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-colors",children:b.jsx(E5,{className:"w-4 h-4"})})]})]})},M.id))]})]})})]})})},ry="https://script.google.com/macros/s/AKfycbyK_DSjFavVCsE0DH49qxke-NVR8Nq_nFP3saZD86VKGIQ1TDPxIF3WTmwz995Oa46tGw/exec",ay=(t,e=!1)=>{if(!t||!t.includes("drive.google.com"))return t;let n="";return t.includes("/file/d/")?n=t.split("/file/d/")[1].split("/")[0]:t.includes("id=")&&(n=t.split("id=")[1].split("&")[0]),n?e?`https://drive.google.com/file/d/${n}/preview`:`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t},YF=()=>{const{t,i18n:e}=Ks(),n=e.language==="ar"?uN:Yv;so();const[i,a]=V.useState([]),[l,c]=V.useState(null),[h,f]=V.useState(""),[m,y]=V.useState(""),[v,x]=V.useState(""),[w,I]=V.useState([]),[L,k]=V.useState(!1),[M,z]=V.useState(null),[q,te]=V.useState(!1),[ne,oe]=V.useState(!1),[N,A]=V.useState(!1),[C,D]=V.useState({intervalMinutes:10,dailyLimit:20,dailySchedules:{Monday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Tuesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Wednesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Thursday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Friday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Saturday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Sunday:{isOpen:!0,startTime:"09:00",endTime:"17:00"}},clinicAddress:"Clinic Address Here",clinicPhone:"+20 123 456 789",mapIframeUrl:"",doctorProfile:{name:"Dr. Ahmed Hassan",specialty:"General Practitioner",bio:"Experienced physician dedicated to providing quality healthcare.",photoUrl:""},services:[{id:"1",nameEn:"General Consultation",nameAr:" ",price:"$50",descEn:"Comprehensive health check and prescription.",descAr:"    ."},{id:"2",nameEn:"Follow-up Visit",nameAr:" ",price:"$30",descEn:"Review of previous conditions and treatment progress.",descAr:"     ."},{id:"3",nameEn:"Special Procedures",nameAr:" ",price:"From $100",descEn:"Minor surgical procedures and specialized tests.",descAr:"    ."},{id:"4",nameEn:"Prescription Renewal",nameAr:" ",price:"$20",descEn:"Quick renewal of ongoing medications.",descAr:"   ."}]}),P=An(new Date,"yyyy-MM-dd");V.useEffect(()=>{(async()=>(yn(Lt,"settings","clinic_settings"),await Cf(Ga(Br(Lt,"settings"),Vr("id","==","clinic_settings"))),no(yn(Lt,"settings","clinic_settings"),Z=>{Z.exists()&&D(ce=>({...ce,...Z.data()}))})))()},[]),V.useEffect(()=>{const B=Ga(Br(Lt,"bookings"),Vr("date","==",P)),Z=no(B,ce=>{let fe=ce.docs.map(ye=>({id:ye.id,...ye.data()}));fe.sort((ye,Ne)=>(ye.queueNumber||0)-(Ne.queueNumber||0)),a(fe)});return()=>Z()},[P]);const F=async B=>{l&&(h!==(l.notes||"")||m!==(l.googleDriveLink||"")||v!==(l.nextAppointment||""))&&await O(!1),c(B),f(B.notes||""),y(B.googleDriveLink||""),x(B.nextAppointment||""),Se(B.phone)},O=async(B=!0)=>{if(l)try{const Z=yn(Lt,"bookings",l.id);await Ha(Z,{notes:h,googleDriveLink:m,nextAppointment:v,updatedAt:tt.now()}),B&&alert("Draft saved successfully.")}catch(Z){console.error("Save Draft Error:",Z),B&&alert("Save failed: "+Z.message)}},Se=async B=>{try{const Z=Ga(Br(Lt,"bookings"),Vr("phone","==",B),Vr("status","==","completed")),fe=(await Cf(Z)).docs.map(ye=>({id:ye.id,...ye.data()}));fe.sort((ye,Ne)=>{const at=new Date(ye.date).getTime(),ot=new Date(Ne.date).getTime();if(at!==ot)return ot-at;const fs=ye.updatedAt?.toMillis()||0;return(Ne.updatedAt?.toMillis()||0)-fs}),I(fe)}catch(Z){console.error("Error fetching history:",Z)}},Ke=async B=>{B.preventDefault();try{await Ha(yn(Lt,"settings","clinic_settings"),C),alert("Clinic Settings updated successfully!"),oe(!1)}catch(Z){try{const{setDoc:ce}=await GF(async()=>{const{setDoc:fe}=await Promise.resolve().then(()=>W3);return{setDoc:fe}},[]);await ce(yn(Lt,"settings","clinic_settings"),C),alert("Clinic Settings created and saved!"),oe(!1)}catch{console.error("Save Settings Error:",Z),alert("Failed to save settings.")}}},J=async B=>{const Z=B.target.files[0];if(!(!Z||!l)){if(ry.includes("YOUR_GOOGLE_SCRIPT")){alert("Please set your Google Script URL in Dashboard.jsx first!");return}te(!0);try{const ce=new FileReader;ce.readAsDataURL(Z),ce.onload=async()=>{const fe=ce.result.split(",")[1],ye={name:Z.name,type:Z.type,base64:fe,phone:l.phone};console.log("Sending file to Drive bridge..."),await fetch(ry,{method:"POST",mode:"no-cors",body:JSON.stringify(ye)}),console.log("Upload sent, fetching new link via JSONP..."),window.handleDriveResponse=at=>{console.log("JSONP Response received:",at),at.status==="success"?(y(at.previewUrl),alert("File uploaded and linked successfully!")):(console.error("Link retrieval failed:",at),alert("File uploaded but link retrieval failed. Please try again or check your Drive.")),te(!1)};const Ne=document.createElement("script");Ne.src=`${ry}?phone=${encodeURIComponent(l.phone)}&callback=handleDriveResponse&t=${Date.now()}`,Ne.onerror=()=>{console.error("JSONP Script load error"),te(!1),alert("Communication error with Google. Please try saving and refreshing.")},document.body.appendChild(Ne),setTimeout(()=>Ne.remove(),1e4)}}catch(ce){console.error("Upload Error:",ce),alert("Upload failed. Check console for details."),te(!1)}}},le=async(B,Z)=>{try{const ce=yn(Lt,"bookings",B);if(await Ha(ce,{status:Z,updatedAt:tt.now()}),Z==="calling"){const fe=i.find(ye=>ye.id===B);F(fe)}}catch(ce){console.error(ce)}},he=async()=>{if(l)try{const B=yn(Lt,"bookings",l.id),Z={notes:h,googleDriveLink:m,nextAppointment:v,status:"completed",updatedAt:tt.now()};await Ha(B,Z),l.phone&&Se(l.phone);const ce=i.map(fe=>fe.id===l.id?{...fe,...Z}:fe);a(ce),c(null),f(""),y(""),x(""),alert(t("dashboard.consultation_saved"))}catch(B){console.error("Save Notes Error:",B),alert("Failed to save final notes: "+B.message)}},be=()=>{const B=window.open("","_blank"),Z=e.language==="ar";B.document.write(`
            <html>
                <head>
                    <title>${t("dashboard.print_pres")} - ${l.name}</title>
                    <style>
                        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+Arabic:wght@400;700&display=swap');
                        body { 
                            font-family: 'Inter', 'Noto Sans Arabic', sans-serif; 
                            padding: 40px; 
                            line-height: 1.6; 
                            color: #1e293b;
                            direction: ${Z?"rtl":"ltr"};
                            text-align: ${Z?"right":"left"};
                        }
                        .header { border-bottom: 2px solid #0ea5e9; padding-bottom: 20px; margin-bottom: 30px; }
                        .clinic-name { font-size: 24px; font-weight: bold; color: #0369a1; }
                        .patient-info { margin-bottom: 30px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; background: #f8fafc; padding: 20px; rounded: 12px; }
                        .info-item { font-size: 14px; }
                        .info-label { font-weight: bold; color: #64748b; text-transform: uppercase; font-size: 10px; display: block; }
                        .notes-section { white-space: pre-wrap; margin-top: 30px; font-size: 16px; min-height: 400px; border: 1px solid #e2e8f0; padding: 20px; border-radius: 12px; }
                        .footer { margin-top: 50px; border-top: 1px solid #e2e8f0; pt: 20px; font-size: 12px; color: #94a3b8; }
                        @media print {
                            body { padding: 0; }
                            .no-print { display: none; }
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div class="clinic-name">${C.clinicAddress.split(",")[0]||t("dashboard.title")}</div>
                        <div style="font-size: 12px; color: #64748b;">${C.clinicAddress} | ${C.clinicPhone}</div>
                    </div>
                    
                    <div class="patient-info">
                        <div class="info-item">
                            <span class="info-label">${t("labels.full_name")}</span>
                            <strong>${l.name}</strong>
                        </div>
                        <div class="info-item">
                            <span class="info-label">${t("booking.schedule.office_hours")}</span>
                            <strong>${An(new Date,"yyyy-MM-dd HH:mm")}</strong>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Phone</span>
                            <strong>${l.phone}</strong>
                        </div>
                    </div>
                    
                    <div class="notes-section">
                        <h3 style="margin-top: 0; color: #0ea5e9;">${t("dashboard.notes_title")}</h3>
                        ${h||t("dashboard.no_notes")}
                    </div>
                    
                    <div class="footer">
                        <p>${t("dashboard.consultation_saved")}</p>
                    </div>
                    <script>
                        window.onload = () => {
                            window.print();
                            window.onafterprint = () => window.close();
                        };
                    <\/script>
                </body>
            </html>
        `),B.document.close()},Ce=i.find(B=>B.status==="calling"),U=i.find(B=>B.status==="pending");return b.jsxs("div",{className:"flex h-screen bg-slate-50",children:[b.jsxs("div",{className:"w-80 bg-white border-r rtl:border-r-0 rtl:border-l border-slate-200 flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-3 rtl:flex-row-reverse",children:[b.jsx("div",{className:"bg-medical-600 p-2 rounded-lg",children:b.jsx(SC,{className:"text-white w-6 h-6"})}),b.jsx("h2",{className:"font-bold text-slate-900 text-lg",children:t("dashboard.sidebar.queue")})]}),b.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-3",children:[i.map(B=>b.jsxs("div",{onClick:()=>F(B),className:`p-3 rounded-xl border transition-all cursor-pointer ${l?.id===B.id?"bg-medical-50 border-medical-200 ring-2 ring-medical-100":"bg-white border-slate-100 hover:border-medical-200"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-1 rtl:flex-row-reverse",children:[b.jsxs("span",{className:"text-xs font-bold text-medical-600",children:["#",B.queueNumber]}),b.jsx("span",{className:`text-[10px] uppercase font-black px-2 py-0.5 rounded-full ${B.status==="calling"?"bg-orange-100 text-orange-600":B.status==="completed"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-500"}`,children:t(`live_queue.status.${B.status}`)})]}),b.jsx("h4",{className:"font-bold text-slate-800 truncate rtl:text-right",children:B.name}),b.jsx("p",{className:"text-xs text-slate-500 rtl:text-right",children:B.estimatedTime})]},B.id)),i.length===0&&b.jsx("p",{className:"text-center text-slate-400 py-10 text-sm",children:t("live_queue.empty")})]}),b.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-4",children:[b.jsx("div",{className:"flex justify-center",children:b.jsx(uo,{})}),b.jsxs("button",{onClick:()=>A(!0),className:"w-full py-2 px-4 bg-medical-500 hover:bg-medical-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[b.jsx(mv,{className:"w-4 h-4"}),"Profile & Services"]}),b.jsx("button",{onClick:()=>dv.signOut(),className:"w-full py-2 text-slate-500 hover:text-red-500 text-sm font-medium",children:t("dashboard.sidebar.logout")})]})]}),b.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden",children:[b.jsxs("div",{className:"bg-white border-b border-slate-200 p-6 flex justify-between items-center shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t("dashboard.title")}),b.jsx("p",{className:"text-slate-500 text-sm font-medium",children:An(new Date,"EEEE, MMMM do",{locale:n})})]}),b.jsxs("button",{onClick:()=>oe(!0),className:"flex items-center gap-2 px-4 py-2 bg-medical-50 text-medical-700 rounded-xl hover:bg-medical-100 transition-all border border-medical-100 font-bold text-sm",children:[b.jsx(Fw,{className:"w-4 h-4"}),b.jsx("span",{children:t("dashboard.settings_btn")})]})]}),b.jsxs("div",{className:"flex gap-3",children:[U&&b.jsxs("button",{onClick:()=>le(U.id,"calling"),className:"btn-primary flex items-center gap-2",children:[b.jsx(G6,{className:"w-5 h-5"})," ",t("dashboard.call_next")," (#",U.queueNumber,")"]}),Ce&&b.jsxs("button",{onClick:()=>le(Ce.id,"completed"),className:"btn-secondary flex items-center gap-2",children:[b.jsx(Df,{className:"w-5 h-5"})," ",t("dashboard.mark_completed")]})]})]}),b.jsx("div",{className:"flex-grow p-8 overflow-y-auto",children:l?b.jsxs(qr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto space-y-8",children:[b.jsxs("div",{className:"flex justify-between items-end bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm",children:[b.jsxs("div",{className:"space-y-1 text-left rtl:text-right",children:[b.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:l.name}),b.jsxs("div",{className:"flex items-center gap-4 text-slate-500 font-medium",children:[b.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-100 px-3 py-1 rounded-full text-xs",children:[b.jsx(By,{className:"w-3.5 h-3.5 text-medical-600"})," ",t("live_queue.title").split(" ")[0]," #",l.queueNumber]}),b.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-100 px-3 py-1 rounded-full text-xs",children:[b.jsx(EC,{className:"w-3.5 h-3.5 text-medical-600"})," ",l.phone]})]})]}),b.jsxs("div",{className:"text-right rtl:text-left bg-medical-50 border border-medical-100 p-4 rounded-2xl min-w-[150px]",children:[b.jsx("span",{className:"text-[10px] text-medical-600 uppercase font-black tracking-widest block mb-1",children:t("live_queue.scheduled_for")}),b.jsx("p",{className:"text-2xl font-black text-slate-900 leading-none",children:l.estimatedTime})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[b.jsx("div",{className:"lg:col-span-7 space-y-8",children:b.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm h-full",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("label",{htmlFor:"clinicalNotes",className:"text-lg font-bold text-slate-800 flex items-center gap-3",children:[b.jsx("div",{className:"bg-medical-100 p-2 rounded-xl",children:b.jsx(bC,{className:"w-5 h-5 text-medical-600"})}),t("dashboard.notes_title")]}),b.jsxs("div",{className:"text-[10px] text-slate-400 font-bold uppercase animate-pulse flex items-center gap-1",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),t("dashboard.autosave")]})]}),b.jsx("textarea",{id:"clinicalNotes",name:"clinicalNotes",rows:18,className:"w-full p-6 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none resize-none bg-slate-50/50 focus:bg-white text-slate-700 font-medium text-base leading-relaxed placeholder:text-slate-300 rtl:text-right",placeholder:t("dashboard.notes_placeholder"),value:h,onChange:B=>f(B.target.value)})]})}),b.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[b.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm",children:[b.jsxs("label",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-3",children:[b.jsx("div",{className:"bg-orange-100 p-2 rounded-xl",children:b.jsx(Uw,{className:"w-5 h-5 text-orange-600"})}),t("dashboard.records_title")]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("div",{className:"relative flex-grow group",children:[b.jsx(jw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors w-5 h-5 rtl:right-4 rtl:left-auto"}),b.jsx("input",{id:"driveLink",name:"driveLink",type:"url",className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white text-sm",placeholder:t("dashboard.drive_link_placeholder"),value:m,onChange:B=>y(B.target.value)})]}),b.jsxs("label",{className:`cursor-pointer flex items-center justify-center w-14 h-14 rounded-2xl border-2 border-dashed border-slate-200 hover:border-medical-500 hover:bg-medical-50 transition-all shrink-0 ${q?"opacity-50 pointer-events-none":""}`,children:[b.jsx(wC,{className:"w-6 h-6 text-slate-400 hover:text-medical-600"}),b.jsx("input",{type:"file",className:"hidden",onChange:J,accept:"image/*,.pdf"})]})]}),q&&b.jsxs("div",{className:"bg-medical-50 p-4 rounded-xl border border-medical-100 flex items-center gap-3",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-medical-500 animate-ping"}),b.jsx("span",{className:"text-xs text-medical-600 font-bold uppercase tracking-wider",children:"Uploading to Secure Drive..."})]}),m?b.jsxs("div",{className:"rounded-[1.5rem] overflow-hidden border border-slate-100 bg-slate-100 relative group aspect-video shadow-inner flex items-center justify-center",children:[m.includes("drive.google.com")?b.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-50",children:b.jsx("img",{src:ay(m),className:"max-h-full max-w-full object-contain mx-auto transition-transform group-hover:scale-110 duration-700",alt:"Patient Record Preview",onError:B=>{B.target.style.display="none",B.target.parentElement.innerHTML=`
                                                                        <div class="p-8 text-center bg-white w-full h-full flex flex-col items-center justify-center">
                                                                            <div class="bg-red-50 w-16 h-16 rounded-3xl flex items-center justify-center mb-4">
                                                                                <svg class="w-8 h-8 text-red-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                                            </div>
                                                                            <p class="text-[10px] text-slate-400 font-black uppercase tracking-widest mb-4">PDF Document Detected</p>
                                                                            <a href="${m}" target="_blank" rel="noopener noreferrer" class="bg-slate-900 text-white py-3 px-6 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-lg active:scale-95">Open Record</a>
                                                                        </div>
                                                                    `}})}):b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("p",{className:"text-xs text-slate-400 font-bold",children:"External link provided. No preview available."}),b.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"mt-2 text-medical-600 hover:underline font-bold text-xs inline-block",children:"Open Resource"})]}),b.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-slate-900/80 to-transparent p-6 opacity-0 group-hover:opacity-100 transition-opacity flex justify-between items-center",children:[b.jsx("span",{className:"text-xs text-white font-bold uppercase tracking-wider",children:"Record Preview"}),b.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase hover:bg-white/30 transition-all",children:"Original"})]})]}):b.jsxs("div",{className:"aspect-video bg-slate-50 rounded-[1.5rem] border-2 border-dashed border-slate-100 flex flex-col items-center justify-center text-slate-300",children:[b.jsx(Uw,{className:"w-10 h-10 mb-2 opacity-20"}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"No Records Linked"})]})]})]}),b.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm space-y-8",children:[b.jsxs("div",{children:[b.jsxs("label",{htmlFor:"nextAppt",className:"text-sm font-bold text-slate-800 mb-4 flex items-center gap-2 rtl:flex-row-reverse rtl:justify-end",children:[b.jsx(nu,{className:"w-4 h-4 text-medical-600"}),t("dashboard.next_app")]}),b.jsxs("div",{className:"relative",children:[b.jsx(nu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 pointer-events-none rtl:right-4 rtl:left-auto"}),b.jsx("input",{id:"nextAppt",name:"nextAppt",type:"date",className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white font-bold text-slate-700",value:v,onChange:B=>x(B.target.value)})]})]}),b.jsxs("div",{className:"pt-8 border-t border-slate-50",children:[b.jsx("h4",{className:"text-sm font-bold text-slate-800 mb-4 uppercase tracking-widest rtl:text-right",children:t("dashboard.quick_actions")}),b.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[b.jsxs("button",{onClick:()=>k(!0),className:"group w-full flex items-center justify-between p-4 rounded-2xl bg-slate-50 hover:bg-medical-600 transition-all duration-300",children:[b.jsxs("div",{className:"flex items-center gap-3 rtl:flex-row-reverse",children:[b.jsx("div",{className:"bg-white p-2 rounded-lg group-hover:bg-medical-500 text-medical-600 group-hover:text-white transition-colors",children:b.jsx(n5,{className:"w-5 h-5"})}),b.jsxs("div",{className:"text-left rtl:text-right",children:[b.jsx("span",{className:"block text-xs font-bold text-slate-700 group-hover:text-white",children:t("dashboard.med_history")}),b.jsxs("span",{className:"block text-[10px] text-slate-400 group-hover:text-medical-200 uppercase font-black",children:[w.length," ",t("dashboard.records_found")]})]})]}),b.jsx(Lw,{className:"w-5 h-5 text-slate-300 group-hover:text-white rtl:rotate-180"})]}),b.jsxs("button",{onClick:be,className:"group w-full flex items-center justify-between p-4 rounded-2xl bg-slate-50 hover:bg-slate-900 transition-all duration-300",children:[b.jsxs("div",{className:"flex items-center gap-3 rtl:flex-row-reverse",children:[b.jsx("div",{className:"bg-white p-2 rounded-lg group-hover:bg-slate-800 text-slate-400 group-hover:text-white transition-colors",children:b.jsx(p5,{className:"w-5 h-5"})}),b.jsxs("div",{className:"text-left rtl:text-right",children:[b.jsx("span",{className:"block text-xs font-bold text-slate-700 group-hover:text-white",children:t("dashboard.print_pres")}),b.jsx("span",{className:"block text-[10px] text-slate-400 group-hover:text-slate-500 uppercase font-black",children:t("dashboard.print_hint")})]})]}),b.jsx(Lw,{className:"w-5 h-5 text-slate-300 group-hover:text-white rtl:rotate-180"})]})]})]})]})]})]}),b.jsxs("div",{className:"sticky bottom-0 bg-white/80 backdrop-blur-xl p-6 rounded-[2rem] border border-slate-100 shadow-[0_-20px_40px_-15px_rgba(0,0,0,0.05)] flex justify-between items-center z-10",children:[b.jsxs("button",{onClick:()=>O(!0),className:"px-8 py-4 bg-slate-100 text-slate-600 rounded-2xl hover:bg-slate-200 transition-all font-black text-xs uppercase tracking-widest flex items-center gap-2",children:[b.jsx(Bw,{className:"w-4 h-4"})," ",t("dashboard.save_draft")]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx("button",{onClick:()=>c(null),className:"text-slate-400 font-bold text-xs uppercase tracking-widest hover:text-red-500 transition-colors",children:t("dashboard.exit_session")}),b.jsxs("button",{onClick:he,className:"bg-medical-600 hover:bg-medical-700 text-white px-12 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] shadow-xl shadow-medical-200 transition-all hover:scale-105 active:scale-95 flex items-center gap-3",children:[b.jsx(Df,{className:"w-5 h-5"})," ",t("dashboard.complete_con")]})]})]})]}):b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[b.jsx(By,{className:"w-16 h-16 mb-4 opacity-20"}),b.jsx("p",{className:"text-lg",children:t("dashboard.no_patient")})]})})]}),b.jsx(n0,{children:L&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:b.jsxs(qr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-slate-900 rtl:text-right",children:t("dashboard.med_history")}),b.jsx("p",{className:"text-sm text-slate-500 rtl:text-right",children:l?.name})]}),b.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:b.jsx(Fy,{className:"w-6 h-6 text-slate-400"})})]}),b.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:w.length===0?b.jsx("div",{className:"text-center py-12 text-slate-400",children:t("dashboard.no_history")}):w.map(B=>b.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 bg-slate-50/50",children:[b.jsxs("div",{className:"flex justify-between items-start mb-3 rtl:flex-row-reverse",children:[b.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[b.jsx(nu,{className:"w-4 h-4 text-medical-600"}),b.jsx("span",{className:"font-bold text-slate-700",children:B.date})]}),b.jsx("span",{className:"text-[10px] uppercase font-black bg-green-100 text-green-600 px-2 py-0.5 rounded-full",children:t("live_queue.status.completed")})]}),b.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-100 mb-3 text-sm text-slate-600 whitespace-pre-wrap relative rtl:text-right",children:[B.notes||t("dashboard.no_notes"),B.nextAppointment&&b.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-50 flex items-center gap-2 text-medical-600 font-bold text-[10px] uppercase rtl:flex-row-reverse",children:[b.jsx(nu,{className:"w-3 h-3"})," ",t("dashboard.next_app"),": ",B.nextAppointment]})]}),B.googleDriveLink&&b.jsxs("div",{className:"mt-3",children:[b.jsxs("div",{className:"flex gap-4 mb-2",children:[b.jsxs("a",{href:B.googleDriveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-bold text-medical-600 hover:underline rtl:flex-row-reverse",children:[b.jsx(jw,{className:"w-3 h-3"})," ",t("dashboard.open_file")]}),b.jsxs("button",{onClick:()=>z(M===B.id?null:B.id),className:"text-xs font-bold text-slate-500 hover:text-medical-600 flex items-center gap-1 rtl:flex-row-reverse",children:[b.jsx(J6,{className:"w-3 h-3"})," ",M===B.id?t("dashboard.hide_preview"):t("dashboard.show_preview")]})]}),M===B.id&&B.googleDriveLink.includes("drive.google.com")&&b.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden min-h-[150px] bg-white shadow-inner flex items-center justify-center",children:[b.jsx("img",{src:ay(B.googleDriveLink),className:"max-h-[300px] w-auto object-contain",alt:"History Record",onError:Z=>{Z.target.style.display="none",Z.target.nextSibling.style.display="block"}}),b.jsx("iframe",{src:ay(B.googleDriveLink,!0),className:"w-full h-[300px] hidden",title:"History PDF Preview"})]})]})]},B.id))})]})})}),b.jsx(n0,{children:ne&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:b.jsxs(qr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-medical-600 text-white",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Fw,{className:"w-5 h-5"}),b.jsx("h3",{className:"text-xl font-bold",children:t("dashboard.settings_btn")})]}),b.jsx("button",{onClick:()=>oe(!1),className:"p-2 hover:bg-medical-700 rounded-full transition-colors",children:b.jsx(Fy,{className:"w-6 h-6 text-white"})})]}),b.jsxs("form",{onSubmit:Ke,className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsxs("div",{className:"text-left rtl:text-right",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:t("dashboard.patients_hour")}),b.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:60/C.intervalMinutes,onChange:B=>D({...C,intervalMinutes:60/parseInt(B.target.value)}),children:[b.jsxs("option",{value:"2",children:["2 (",t("booking.status.minutes").split(" ")[0]," 30)"]}),b.jsxs("option",{value:"3",children:["3 (",t("booking.status.minutes").split(" ")[0]," 20)"]}),b.jsxs("option",{value:"4",children:["4 (",t("booking.status.minutes").split(" ")[0]," 15)"]}),b.jsxs("option",{value:"6",children:["6 (",t("booking.status.minutes").split(" ")[0]," 10)"]}),b.jsxs("option",{value:"12",children:["12 (",t("booking.status.minutes").split(" ")[0]," 5)"]})]})]}),b.jsxs("div",{className:"text-left rtl:text-right",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:t("dashboard.daily_cap")}),b.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:C.dailyLimit,onChange:B=>D({...C,dailyLimit:parseInt(B.target.value)})})]})]}),b.jsxs("div",{className:"space-y-3 text-left rtl:text-right",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase",children:t("dashboard.weekly_schedule")}),Object.entries(C.dailySchedules).map(([B,Z])=>b.jsxs("div",{className:`p-3 rounded-xl border transition-all flex items-center gap-4 ${Z.isOpen?"bg-white border-slate-200 shadow-sm":"bg-slate-50 border-slate-100 opacity-60"}`,children:[b.jsx("button",{type:"button",onClick:()=>{const ce={...C.dailySchedules};ce[B].isOpen=!ce[B].isOpen,D({...C,dailySchedules:ce})},className:`w-12 h-6 rounded-full relative transition-colors ${Z.isOpen?"bg-medical-500":"bg-slate-300"}`,children:b.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${Z.isOpen?"right-1":"left-1"}`})}),b.jsx("span",{className:"font-bold text-slate-700 w-20 rtl:text-right",children:t(`days.${B.toLowerCase()}`)}),Z.isOpen?b.jsxs("div",{className:"flex-grow flex items-center gap-2 rtl:flex-row-reverse",children:[b.jsx("input",{type:"time",className:"flex-1 px-2 py-1 border border-slate-200 rounded text-xs outline-none",value:Z.startTime,onChange:ce=>{const fe={...C.dailySchedules};fe[B].startTime=ce.target.value,D({...C,dailySchedules:fe})}}),b.jsx("span",{className:"text-slate-400",children:t("dashboard.to")}),b.jsx("input",{type:"time",className:"flex-1 px-2 py-1 border border-slate-200 rounded text-xs outline-none",value:Z.endTime,onChange:ce=>{const fe={...C.dailySchedules};fe[B].endTime=ce.target.value,D({...C,dailySchedules:fe})}})]}):b.jsx("span",{className:"text-slate-400 text-xs italic",children:t("booking.schedule.closed")})]},B))]}),b.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 text-left rtl:text-right",children:[b.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase flex items-center gap-2 rtl:flex-row-reverse rtl:justify-end",children:[b.jsx(fv,{className:"w-3 h-3"})," ",t("dashboard.clinic_info")]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:t("booking.schedule.location")}),b.jsxs("div",{className:"relative",children:[b.jsx(xC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 rtl:right-3 rtl:left-auto"}),b.jsx("input",{type:"text",placeholder:"Street Name, Building, Floor...",className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-2 border border-slate-200 rounded-lg text-sm transition-all focus:ring-2 focus:ring-medical-500 outline-none",value:C.clinicAddress,onChange:B=>D({...C,clinicAddress:B.target.value})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:t("booking.schedule.phone")}),b.jsxs("div",{className:"relative",children:[b.jsx(TC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 rtl:right-3 rtl:left-auto"}),b.jsx("input",{type:"text",placeholder:"+20 1xx xxx xxxx",className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-2 border border-slate-200 rounded-lg text-sm transition-all focus:ring-2 focus:ring-medical-500 outline-none",value:C.clinicPhone,onChange:B=>D({...C,clinicPhone:B.target.value})})]})]}),b.jsxs("div",{className:"text-left rtl:text-right",children:[b.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase flex items-center justify-between rtl:flex-row-reverse",children:[b.jsx("span",{children:t("dashboard.map_link")}),b.jsx("a",{href:"https://www.google.com/maps",target:"_blank",rel:"noreferrer",className:"text-medical-600 hover:underline lowercase font-normal italic",children:t("dashboard.get_link")})]}),b.jsx("textarea",{placeholder:t("dashboard.map_placeholder"),rows:2,className:"w-full px-4 py-2 border border-slate-200 rounded-lg text-xs transition-all focus:ring-2 focus:ring-medical-500 outline-none resize-none rtl:text-right",value:C.mapIframeUrl,onChange:B=>{let Z=B.target.value;Z.includes('src="')&&(Z=Z.split('src="')[1].split('"')[0]),D({...C,mapIframeUrl:Z})}}),b.jsx("p",{className:"text-[9px] text-slate-400 mt-1",children:t("dashboard.map_hint")})]})]}),b.jsxs("div",{className:"pt-4 border-t border-slate-100 flex gap-3 rtl:flex-row-reverse",children:[b.jsx("button",{type:"button",onClick:()=>oe(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl font-bold hover:bg-slate-200",children:t("labels.cancel")}),b.jsxs("button",{type:"submit",className:"flex-1 py-3 bg-medical-600 text-white rounded-xl font-bold hover:bg-medical-700 shadow-lg shadow-medical-200 flex items-center justify-center gap-2",children:[b.jsx(Bw,{className:"w-4 h-4"})," ",t("labels.save")]})]})]})]})})}),N&&b.jsx(KF,{settings:C,setSettings:D,onClose:()=>A(!1)})]})},QF=()=>{const{t}=Ks(),[e,n]=V.useState(""),[i,a]=V.useState(""),[l,c]=V.useState(""),[h,f]=V.useState(!1),m=so(),y=async v=>{v.preventDefault(),f(!0),c("");try{await IV(dv,e,i),m("/dashboard")}catch(x){c("Invalid email or password. Please try again."),console.error(x)}f(!1)};return b.jsxs("div",{className:"min-h-screen bg-medical-50 flex flex-col justify-center py-12 px-6",children:[b.jsx("div",{className:"absolute top-10 right-10 z-10",children:b.jsx(uo,{})}),b.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx(zy,{className:"text-medical-600 w-12 h-12"})}),b.jsx("h2",{className:"text-center text-3xl font-extrabold text-slate-900",children:t("login.title")}),b.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:t("login.subtitle")})]}),b.jsx(qr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:b.jsxs("div",{className:"medical-card",children:[b.jsxs("form",{className:"space-y-6",onSubmit:y,children:[l&&b.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center gap-3 text-sm",children:[b.jsx(H6,{className:"w-5 h-5 flex-shrink-0"}),l]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"loginEmail",className:"block text-sm font-medium text-slate-700 mb-1 rtl:text-right",children:t("login.email_label")}),b.jsxs("div",{className:"relative",children:[b.jsx(c5,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 rtl:right-3 rtl:left-auto"}),b.jsx("input",{id:"loginEmail",name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"doctor@example.com",value:e,onChange:v=>n(v.target.value)})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"loginPassword",className:"block text-sm font-medium text-slate-700 mb-1 rtl:text-right",children:t("login.pass_label")}),b.jsxs("div",{className:"relative",children:[b.jsx(o5,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 rtl:right-3 rtl:left-auto"}),b.jsx("input",{id:"loginPassword",name:"password",type:"password",required:!0,className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"",value:i,onChange:v=>a(v.target.value)})]})]}),b.jsx("button",{type:"submit",disabled:h,className:"w-full btn-primary py-3 text-lg",children:t(h?"login.signing_in":"login.sign_in")})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx("p",{className:"text-xs text-slate-500",children:t("login.note")})})]})})]})},WF=()=>{const{t,i18n:e}=Ks(),n=so(),i=e.language==="ar",a=[{title:t("privacy_policy.data_collection"),desc:t("privacy_policy.data_collection_desc")},{title:t("privacy_policy.data_usage"),desc:t("privacy_policy.data_usage_desc")},{title:t("privacy_policy.data_protection"),desc:t("privacy_policy.data_protection_desc")},{title:t("privacy_policy.third_party"),desc:t("privacy_policy.third_party_desc")}];return b.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4 sm:px-6 lg:px-8",dir:i?"rtl":"ltr",children:b.jsxs("div",{className:"max-w-3xl mx-auto",children:[b.jsxs("button",{onClick:()=>n(-1),className:"mb-8 flex items-center gap-2 text-slate-600 hover:text-medical-600 transition-colors",children:[b.jsx(_C,{className:`w-4 h-4 ${i?"rotate-180":""}`}),i?"":"Back"]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"bg-medical-100 p-3 rounded-xl",children:b.jsx(x5,{className:"w-6 h-6 text-medical-600"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t("privacy_policy.title")}),b.jsx("p",{className:"text-sm text-slate-500",children:t("privacy_policy.last_updated")})]})]}),b.jsx(uo,{})]}),b.jsxs("div",{className:"p-8 prose prose-slate max-w-none",children:[b.jsx("p",{className:"text-lg text-slate-600 mb-8 leading-relaxed",children:t("privacy_policy.intro")}),b.jsx("div",{className:"space-y-8",children:a.map((l,c)=>b.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100 transition-all hover:border-medical-200",children:[b.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-3 flex items-center gap-2",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-medical-500"}),l.title]}),b.jsx("p",{className:"text-slate-600 leading-relaxed",children:l.desc})]},c))})]})]}),b.jsx("footer",{className:"mt-12 text-center text-slate-400 text-sm",children:t("home.footer_copy")})]})})},XF=()=>{const{t,i18n:e}=Ks(),n=so(),i=e.language==="ar",a=[{title:t("terms_of_use.acceptance"),desc:t("terms_of_use.acceptance_desc")},{title:t("terms_of_use.user_conduct"),desc:t("terms_of_use.user_conduct_desc")},{title:t("terms_of_use.cancellation"),desc:t("terms_of_use.cancellation_desc")},{title:t("terms_of_use.liability"),desc:t("terms_of_use.liability_desc")}];return b.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4 sm:px-6 lg:px-8",dir:i?"rtl":"ltr",children:b.jsxs("div",{className:"max-w-3xl mx-auto",children:[b.jsxs("button",{onClick:()=>n(-1),className:"mb-8 flex items-center gap-2 text-slate-600 hover:text-medical-600 transition-colors",children:[b.jsx(_C,{className:`w-4 h-4 ${i?"rotate-180":""}`}),i?"":"Back"]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"bg-medical-100 p-3 rounded-xl",children:b.jsx(bC,{className:"w-6 h-6 text-medical-600"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t("terms_of_use.title")}),b.jsx("p",{className:"text-sm text-slate-500",children:t("terms_of_use.last_updated")})]})]}),b.jsx(uo,{})]}),b.jsx("div",{className:"p-8 prose prose-slate max-w-none",children:b.jsx("div",{className:"space-y-8",children:a.map((l,c)=>b.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100 transition-all hover:border-medical-200",children:[b.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-3 flex items-center gap-2",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-medical-500"}),l.title]}),b.jsx("p",{className:"text-slate-600 leading-relaxed",children:l.desc})]},c))})})]}),b.jsx("footer",{className:"mt-12 text-center text-slate-400 text-sm",children:t("home.footer_copy")})]})})},JF=({children:t,doctorOnly:e=!1})=>{const{currentUser:n,isDoctor:i}=R6();return n?e&&!i?b.jsx(JT,{to:"/"}):t:b.jsx(JT,{to:"/login"})};function ZF(){return b.jsx(C6,{children:b.jsx(zP,{children:b.jsx("div",{className:"min-h-screen bg-slate-50",children:b.jsxs(gP,{children:[b.jsx(Nr,{path:"/",element:b.jsx(aB,{})}),b.jsx(Nr,{path:"/booking",element:b.jsx(FF,{})}),b.jsx(Nr,{path:"/live-queue",element:b.jsx(HF,{})}),b.jsx(Nr,{path:"/login",element:b.jsx(QF,{})}),b.jsx(Nr,{path:"/privacy-policy",element:b.jsx(WF,{})}),b.jsx(Nr,{path:"/terms-of-use",element:b.jsx(XF,{})}),b.jsx(Nr,{path:"/dashboard",element:b.jsx(JF,{doctorOnly:!0,children:b.jsx(YF,{})})})]})})})})}WI.createRoot(document.getElementById("root")).render(b.jsx(V.StrictMode,{children:b.jsx(ZF,{})}));

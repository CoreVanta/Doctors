(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var vg={exports:{}},Hu={};var dE;function VI(){if(dE)return Hu;dE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Hu.Fragment=e,Hu.jsx=n,Hu.jsxs=n,Hu}var mE;function LI(){return mE||(mE=1,vg.exports=VI()),vg.exports}var w=LI(),_g={exports:{}},Ne={};var pE;function jI(){if(pE)return Ne;pE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,M={};function z(D,Q,le){this.props=D,this.context=Q,this.refs=M,this.updater=le||I}z.prototype.isReactComponent={},z.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function F(){}F.prototype=z.prototype;function q(D,Q,le){this.props=D,this.context=Q,this.refs=M,this.updater=le||I}var te=q.prototype=new F;te.constructor=q,L(te,z.prototype),te.isPureReactComponent=!0;var ie=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(D,Q,le){var ce=le.ref;return{$$typeof:t,type:D,key:Q,ref:ce!==void 0?ce:null,props:le}}function P(D,Q){return N(D.type,Q,D.props)}function k(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function B(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return Q[le]})}var O=/\/+/g;function Ce(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):Q.toString(36)}function Ye(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ue,ue):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function J(D,Q,le,ce,ye){var Ee=typeof D;(Ee==="undefined"||Ee==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(Ee){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case t:case e:Me=!0;break;case y:return Me=D._init,J(Me(D._payload),Q,le,ce,ye)}}if(Me)return ye=ye(D),Me=ce===""?"."+Ce(D,0):ce,ie(ye)?(le="",Me!=null&&(le=Me.replace(O,"$&/")+"/"),J(ye,Q,le,"",function(ia){return ia})):ye!=null&&(k(ye)&&(ye=P(ye,le+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(O,"$&/")+"/")+Me)),Q.push(ye)),1;Me=0;var Tt=ce===""?".":ce+":";if(ie(D))for(var lt=0;lt<D.length;lt++)ce=D[lt],Ee=Tt+Ce(ce,lt),Me+=J(ce,Q,le,Ee,ye);else if(lt=S(D),typeof lt=="function")for(D=lt.call(D),lt=0;!(ce=D.next()).done;)ce=ce.value,Ee=Tt+Ce(ce,lt++),Me+=J(ce,Q,le,Ee,ye);else if(Ee==="object"){if(typeof D.then=="function")return J(Ye(D),Q,le,ce,ye);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function oe(D,Q,le){if(D==null)return D;var ce=[],ye=0;return J(D,ce,"","",function(Ee){return Q.call(le,Ee,ye++)}),ce}function fe(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var Te=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ee={map:oe,forEach:function(D,Q,le){oe(D,function(){Q.apply(this,arguments)},le)},count:function(D){var Q=0;return oe(D,function(){Q++}),Q},toArray:function(D){return oe(D,function(Q){return Q})||[]},only:function(D){if(!k(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ne.Activity=v,Ne.Children=ee,Ne.Component=z,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=q,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(D,Q,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ce=L({},D.props),ye=D.key;if(Q!=null)for(Ee in Q.key!==void 0&&(ye=""+Q.key),Q)!A.call(Q,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Q.ref===void 0||(ce[Ee]=Q[Ee]);var Ee=arguments.length-2;if(Ee===1)ce.children=le;else if(1<Ee){for(var Me=Array(Ee),Tt=0;Tt<Ee;Tt++)Me[Tt]=arguments[Tt+2];ce.children=Me}return N(D.type,ye,ce)},Ne.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ne.createElement=function(D,Q,le){var ce,ye={},Ee=null;if(Q!=null)for(ce in Q.key!==void 0&&(Ee=""+Q.key),Q)A.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ye[ce]=Q[ce]);var Me=arguments.length-2;if(Me===1)ye.children=le;else if(1<Me){for(var Tt=Array(Me),lt=0;lt<Me;lt++)Tt[lt]=arguments[lt+2];ye.children=Tt}if(D&&D.defaultProps)for(ce in Me=D.defaultProps,Me)ye[ce]===void 0&&(ye[ce]=Me[ce]);return N(D,Ee,ye)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:h,render:D}},Ne.isValidElement=k,Ne.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:fe}},Ne.memo=function(D,Q){return{$$typeof:m,type:D,compare:Q===void 0?null:Q}},Ne.startTransition=function(D){var Q=C.T,le={};C.T=le;try{var ce=D(),ye=C.S;ye!==null&&ye(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ue,Te)}catch(Ee){Te(Ee)}finally{Q!==null&&le.types!==null&&(Q.types=le.types),C.T=Q}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(D){return C.H.use(D)},Ne.useActionState=function(D,Q,le){return C.H.useActionState(D,Q,le)},Ne.useCallback=function(D,Q){return C.H.useCallback(D,Q)},Ne.useContext=function(D){return C.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,Q){return C.H.useDeferredValue(D,Q)},Ne.useEffect=function(D,Q){return C.H.useEffect(D,Q)},Ne.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(D,Q,le){return C.H.useImperativeHandle(D,Q,le)},Ne.useInsertionEffect=function(D,Q){return C.H.useInsertionEffect(D,Q)},Ne.useLayoutEffect=function(D,Q){return C.H.useLayoutEffect(D,Q)},Ne.useMemo=function(D,Q){return C.H.useMemo(D,Q)},Ne.useOptimistic=function(D,Q){return C.H.useOptimistic(D,Q)},Ne.useReducer=function(D,Q,le){return C.H.useReducer(D,Q,le)},Ne.useRef=function(D){return C.H.useRef(D)},Ne.useState=function(D){return C.H.useState(D)},Ne.useSyncExternalStore=function(D,Q,le){return C.H.useSyncExternalStore(D,Q,le)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.3",Ne}var gE;function Ud(){return gE||(gE=1,_g.exports=jI()),_g.exports}var V=Ud(),bg={exports:{}},qu={},Tg={exports:{}},Eg={};var yE;function UI(){return yE||(yE=1,(function(t){function e(J,oe){var fe=J.length;J.push(oe);e:for(;0<fe;){var Te=fe-1>>>1,ee=J[Te];if(0<a(ee,oe))J[Te]=oe,J[fe]=ee,fe=Te;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],fe=J.pop();if(fe!==oe){J[0]=fe;e:for(var Te=0,ee=J.length,D=ee>>>1;Te<D;){var Q=2*(Te+1)-1,le=J[Q],ce=Q+1,ye=J[ce];if(0>a(le,fe))ce<ee&&0>a(ye,le)?(J[Te]=ye,J[ce]=fe,Te=ce):(J[Te]=le,J[Q]=fe,Te=Q);else if(ce<ee&&0>a(ye,fe))J[Te]=ye,J[ce]=fe,Te=ce;else break e}}return oe}function a(J,oe){var fe=J.sortIndex-oe.sortIndex;return fe!==0?fe:J.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,v=null,b=3,S=!1,I=!1,L=!1,M=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function te(J){for(var oe=n(m);oe!==null;){if(oe.callback===null)i(m);else if(oe.startTime<=J)i(m),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(m)}}function ie(J){if(L=!1,te(J),!I)if(n(d)!==null)I=!0,ue||(ue=!0,B());else{var oe=n(m);oe!==null&&Ye(ie,oe.startTime-J)}}var ue=!1,C=-1,A=5,N=-1;function P(){return M?!0:!(t.unstable_now()-N<A)}function k(){if(M=!1,ue){var J=t.unstable_now();N=J;var oe=!0;try{e:{I=!1,L&&(L=!1,F(C),C=-1),S=!0;var fe=b;try{t:{for(te(J),v=n(d);v!==null&&!(v.expirationTime>J&&P());){var Te=v.callback;if(typeof Te=="function"){v.callback=null,b=v.priorityLevel;var ee=Te(v.expirationTime<=J);if(J=t.unstable_now(),typeof ee=="function"){v.callback=ee,te(J),oe=!0;break t}v===n(d)&&i(d),te(J)}else i(d);v=n(d)}if(v!==null)oe=!0;else{var D=n(m);D!==null&&Ye(ie,D.startTime-J),oe=!1}}break e}finally{v=null,b=fe,S=!1}oe=void 0}}finally{oe?B():ue=!1}}}var B;if(typeof q=="function")B=function(){q(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Ce=O.port2;O.port1.onmessage=k,B=function(){Ce.postMessage(null)}}else B=function(){z(k,0)};function Ye(J,oe){C=z(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(J){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var fe=b;b=oe;try{return J()}finally{b=fe}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=b;b=J;try{return oe()}finally{b=fe}},t.unstable_scheduleCallback=function(J,oe,fe){var Te=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Te+fe:Te):fe=Te,J){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=fe+ee,J={id:y++,callback:oe,priorityLevel:J,startTime:fe,expirationTime:ee,sortIndex:-1},fe>Te?(J.sortIndex=fe,e(m,J),n(d)===null&&J===n(m)&&(L?(F(C),C=-1):L=!0,Ye(ie,fe-Te))):(J.sortIndex=ee,e(d,J),I||S||(I=!0,ue||(ue=!0,B()))),J},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(J){var oe=b;return function(){var fe=b;b=oe;try{return J.apply(this,arguments)}finally{b=fe}}}})(Eg)),Eg}var vE;function zI(){return vE||(vE=1,Tg.exports=UI()),Tg.exports}var wg={exports:{}},on={};var _E;function BI(){if(_E)return on;_E=1;var t=Ud();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,y)},on.flushSync=function(d){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=y,i.d.f()}},on.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},on.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},on.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},on.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},on.requestFormReset=function(d){i.d.r(d)},on.unstable_batchedUpdates=function(d,m){return d(m)},on.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.2.3",on}var bE;function FI(){if(bE)return wg.exports;bE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wg.exports=BI(),wg.exports}var TE;function HI(){if(TE)return qu;TE=1;var t=zI(),e=Ud(),n=FI();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return d(p),s;if(g===c)return d(p),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=p,c=g;else{for(var T=!1,x=p.child;x;){if(x===o){T=!0,o=p,c=g;break}if(x===c){T=!0,c=p,o=g;break}x=x.sibling}if(!T){for(x=g.child;x;){if(x===o){T=!0,o=g,c=p;break}if(x===c){T=!0,c=g,o=p;break}x=x.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Ce(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case ie:return"Suspense";case ue:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case q:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case te:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return r=s.displayName||null,r!==null?r:Ce(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return Ce(s(r))}catch{}}return null}var Ye=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Te=[],ee=-1;function D(s){return{current:s}}function Q(s){0>ee||(s.current=Te[ee],Te[ee]=null,ee--)}function le(s,r){ee++,Te[ee]=s.current,s.current=r}var ce=D(null),ye=D(null),Ee=D(null),Me=D(null);function Tt(s,r){switch(le(Ee,r),le(ye,s),le(ce,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?VT(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=VT(r),s=LT(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(ce),le(ce,s)}function lt(){Q(ce),Q(ye),Q(Ee)}function ia(s){s.memoizedState!==null&&le(Me,s);var r=ce.current,o=LT(r,s.type);r!==o&&(le(ye,s),le(ce,o))}function so(s){ye.current===s&&(Q(ce),Q(ye)),Me.current===s&&(Q(Me),Uu._currentValue=fe)}var ro,ao;function Ni(s){if(ro===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ro=r&&r[1]||"",ao=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+s+ao}var Ul=!1;function sa(s,r){if(!s||Ul)return"";Ul=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Y=X}Reflect.construct(s,[],se)}else{try{se.call()}catch(X){Y=X}s.call(se.prototype)}}else{try{throw Error()}catch(X){Y=X}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],x=g[1];if(T&&x){var j=T.split(`
`),K=x.split(`
`);for(p=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===j.length||p===K.length)for(c=j.length-1,p=K.length-1;1<=c&&0<=p&&j[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(j[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||j[c]!==K[p]){var Z=`
`+j[c].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=c&&0<=p);break}}}finally{Ul=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Ni(o):""}function zl(s,r){switch(s.tag){case 26:case 27:case 5:return Ni(s.type);case 16:return Ni("Lazy");case 13:return s.child!==r&&r!==null?Ni("Suspense Fallback"):Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return sa(s.type,!1);case 11:return sa(s.type.render,!1);case 1:return sa(s.type,!0);case 31:return Ni("Activity");default:return""}}function Bl(s){try{var r="",o=null;do r+=zl(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Rt=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,$s=t.unstable_cancelCallback,bm=t.unstable_shouldYield,eh=t.unstable_requestPaint,mn=t.unstable_now,ra=t.unstable_getCurrentPriorityLevel,Fl=t.unstable_ImmediatePriority,Hl=t.unstable_UserBlockingPriority,Gs=t.unstable_NormalPriority,Tm=t.unstable_LowPriority,th=t.unstable_IdlePriority,nh=t.log,ih=t.unstable_setDisableYieldValue,li=null,Xt=null;function Hn(s){if(typeof nh=="function"&&ih(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(li,s)}catch{}}var Et=Math.clz32?Math.clz32:rh,sh=Math.log,oo=Math.LN2;function rh(s){return s>>>=0,s===0?32:31-(sh(s)/oo|0)|0}var Ii=256,aa=262144,Ct=4194304;function Di(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Oi(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var x=c&134217727;return x!==0?(c=x&~g,c!==0?p=Di(c):(T&=x,T!==0?p=Di(T):o||(o=x&~s,o!==0&&(p=Di(o))))):(x=c&~g,x!==0?p=Di(x):T!==0?p=Di(T):o||(o=c&~s,o!==0&&(p=Di(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function ui(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Em(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ah(){var s=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),s}function Pi(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function oa(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function wm(s,r,o,c,p,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var x=s.entanglements,j=s.expirationTimes,K=s.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-Et(o),se=1<<Z;x[Z]=0,j[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~se}c!==0&&la(s,c,0),g!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function la(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Et(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function ql(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-Et(o),p=1<<c;p&r|s[c]&r&&(s[c]|=r),o&=~p}}function $l(s,r){var o=r&-r;return o=(o&42)!==0?1:ua(o),(o&(s.suspendedLanes|r))!==0?0:o}function ua(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ds(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function oh(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:aE(s.type))}function ci(s,r){var o=oe.p;try{return oe.p=s,r()}finally{oe.p=o}}var hi=Math.random().toString(36).slice(2),Nt="__reactFiber$"+hi,$t="__reactProps$"+hi,Mi="__reactContainer$"+hi,lo="__reactEvents$"+hi,xm="__reactListeners$"+hi,lh="__reactHandles$"+hi,uh="__reactResources$"+hi,ki="__reactMarker$"+hi;function uo(s){delete s[Nt],delete s[$t],delete s[lo],delete s[xm],delete s[lh]}function Vi(s){var r=s[Nt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Mi]||o[Nt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=qT(s);s!==null;){if(o=s[Nt])return o;s=qT(s)}return r}s=o,o=s.parentNode}return null}function qn(s){if(s=s[Nt]||s[Mi]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Nn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Li(s){var r=s[uh];return r||(r=s[uh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(s){s[ki]=!0}var Gl=new Set,Kl={};function ji(s,r){Ui(s,r),Ui(s+"Capture",r)}function Ui(s,r){for(Kl[s]=r,s=0;s<r.length;s++)Gl.add(r[s])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Wl={};function ch(s){return Rt.call(Wl,s)?!0:Rt.call(Ql,s)?!1:Yl.test(s)?Wl[s]=!0:(Ql[s]=!0,!1)}function co(s,r,o){if(ch(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function In(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Dt(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function Gt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ks(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xl(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function We(s){if(!s._valueTracker){var r=Ks(s)?"checked":"value";s._valueTracker=Xl(s,r,""+s[r])}}function ca(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Ks(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function zi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ha=/[\n"\\]/g;function vn(s){return s.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ho(s,r,o,c,p,g,T,x){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Gt(r)):s.value!==""+Gt(r)&&(s.value=""+Gt(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?Jl(s,T,Gt(r)):o!=null?Jl(s,T,Gt(o)):c!=null&&s.removeAttribute("value"),p==null&&g!=null&&(s.defaultChecked=!!g),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+Gt(x):s.removeAttribute("name")}function hh(s,r,o,c,p,g,T,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){We(s);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,x||r===s.value||(s.value=r),s.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=x?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),We(s)}function Jl(s,r,o){r==="number"&&zi(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Ys(s,r,o,c){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function fh(s,r,o){if(r!=null&&(r=""+Gt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Gt(o):""}function Qs(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(Ye(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Gt(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),We(s)}function _n(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||dh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function eu(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&Zl(s,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Zl(s,g,r[g])}function fo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(s){return Ws.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function fi(){}var tu=null;function $n(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xs=null,Bi=null;function fa(s){var r=qn(s);if(r&&(s=r.stateNode)){var o=s[$t]||null;e:switch(s=r.stateNode,r.type){case"input":if(ho(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var p=c[$t]||null;if(!p)throw Error(i(90));ho(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&ca(c)}break e;case"textarea":fh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ys(s,!!o.multiple,r,!1)}}}var po=!1;function Js(s,r,o){if(po)return s(r,o);po=!0;try{var c=s(r);return c}finally{if(po=!1,(Xs!==null||Bi!==null)&&(lf(),Xs&&(r=Xs,s=Bi,Bi=Xs=null,fa(r),s)))for(r=0;r<s.length;r++)fa(s[r])}}function di(s,r){var o=s.stateNode;if(o===null)return null;var c=o[$t]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Gn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){da=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{da=!1}var Fi=null,nu=null,ma=null;function iu(){if(ma)return ma;var s,r=nu,o=r.length,c,p="value"in Fi?Fi.value:Fi.textContent,g=p.length;for(s=0;s<o&&r[s]===p[s];s++);var T=o-s;for(c=1;c<=T&&r[o-c]===p[g-c];c++);return ma=p.slice(s,1<c?1-c:void 0)}function pa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ms(){return!0}function mi(){return!1}function Jt(s){function r(o,c,p,g,T){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(o=s[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ms:mi,this.isPropagationStopped=mi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),r}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Jt(ps),Zs=v({},ps,{view:0,detail:0}),su=Jt(Zs),er,go,qi,yo=v({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qi&&(qi&&s.type==="mousemove"?(er=s.screenX-qi.screenX,go=s.screenY-qi.screenY):go=er=0,qi=s),er)},movementY:function(s){return"movementY"in s?s.movementY:go}}),ru=Jt(yo),ga=v({},yo,{dataTransfer:0}),ph=Jt(ga),gh=v({},Zs,{relatedTarget:0}),ya=Jt(gh),au=v({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),yh=Jt(au),vo=v({},ps,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vh=Jt(vo),_h=v({},ps,{data:0}),$i=Jt(_h),bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Eh[s])?!!r[s]:!1}function tr(){return wh}var pn=v({},Zs,{key:function(s){if(s.key){var r=bh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=pa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Th[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(s){return s.type==="keypress"?pa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),xh=Jt(pn),Sh=v({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gs=Jt(Sh),f=v({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),_=Jt(f),E=v({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Jt(E),$=v({},yo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Jt($),he=v({},ps,{newState:0,oldState:0}),De=Jt(he),wt=[9,13,27,32],Ge=Gn&&"CompositionEvent"in window,ht=null;Gn&&"documentMode"in document&&(ht=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!ht,Gi=Gn&&(!Ge||ht&&8<ht&&11>=ht),pi=" ",gi=!1;function va(s,r){switch(s){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bo=!1;function aN(s,r){switch(s){case"compositionend":return _o(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return s=r.data,s===pi&&gi?null:s;default:return null}}function oN(s,r){if(bo)return s==="compositionend"||!Ge&&va(s,r)?(s=iu(),ma=nu=Fi=null,bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gi&&r.locale!=="ko"?null:r.data;default:return null}}var lN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!lN[s.type]:r==="textarea"}function Y0(s,r,o,c){Xs?Bi?Bi.push(c):Bi=[c]:Xs=c,r=pf(r,"onChange"),0<r.length&&(o=new Hi("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var ou=null,lu=null;function uN(s){IT(s,0)}function Ah(s){var r=Nn(s);if(ca(r))return s}function Q0(s,r){if(s==="change")return r}var W0=!1;if(Gn){var Sm;if(Gn){var Am="oninput"in document;if(!Am){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),Am=typeof X0.oninput=="function"}Sm=Am}else Sm=!1;W0=Sm&&(!document.documentMode||9<document.documentMode)}function J0(){ou&&(ou.detachEvent("onpropertychange",Z0),lu=ou=null)}function Z0(s){if(s.propertyName==="value"&&Ah(lu)){var r=[];Y0(r,lu,s,$n(s)),Js(uN,r)}}function cN(s,r,o){s==="focusin"?(J0(),ou=r,lu=o,ou.attachEvent("onpropertychange",Z0)):s==="focusout"&&J0()}function hN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ah(lu)}function fN(s,r){if(s==="click")return Ah(r)}function dN(s,r){if(s==="input"||s==="change")return Ah(r)}function mN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Dn=typeof Object.is=="function"?Object.is:mN;function uu(s,r){if(Dn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Rt.call(r,p)||!Dn(s[p],r[p]))return!1}return!0}function e_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function t_(s,r){var o=e_(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=e_(o)}}function n_(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?n_(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function i_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=zi(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=zi(s.document)}return r}function Rm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var pN=Gn&&"documentMode"in document&&11>=document.documentMode,To=null,Cm=null,cu=null,Nm=!1;function s_(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nm||To==null||To!==zi(c)||(c=To,"selectionStart"in c&&Rm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),cu&&uu(cu,c)||(cu=c,c=pf(Cm,"onSelect"),0<c.length&&(r=new Hi("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=To)))}function _a(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Eo={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},Im={},r_={};Gn&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function ba(s){if(Im[s])return Im[s];if(!Eo[s])return s;var r=Eo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in r_)return Im[s]=r[o];return s}var a_=ba("animationend"),o_=ba("animationiteration"),l_=ba("animationstart"),gN=ba("transitionrun"),yN=ba("transitionstart"),vN=ba("transitioncancel"),u_=ba("transitionend"),c_=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function yi(s,r){c_.set(s,r),ji(r,[s])}var Rh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Yn=[],wo=0,Om=0;function Ch(){for(var s=wo,r=Om=wo=0;r<s;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var p=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&h_(o,p,g)}}function Nh(s,r,o,c){Yn[wo++]=s,Yn[wo++]=r,Yn[wo++]=o,Yn[wo++]=c,Om|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Pm(s,r,o,c){return Nh(s,r,o,c),Ih(s)}function Ta(s,r){return Nh(s,null,null,r),Ih(s)}function h_(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(p=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,p&&r!==null&&(p=31-Et(o),s=g.hiddenUpdates,c=s[p],c===null?s[p]=[r]:c.push(r),r.lane=o|536870912),g):null}function Ih(s){if(50<Ou)throw Ou=0,Fp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var xo={};function _N(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(s,r,o,c){return new _N(s,r,o,c)}function Mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ys(s,r){var o=s.alternate;return o===null?(o=On(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function f_(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Dh(s,r,o,c,p,g){var T=0;if(c=s,typeof s=="function")Mm(s)&&(T=1);else if(typeof s=="string")T=xI(s,o,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=On(31,o,r,p),s.elementType=N,s.lanes=g,s;case L:return Ea(o.children,p,g,r);case M:T=8,p|=24;break;case z:return s=On(12,o,r,p|2),s.elementType=z,s.lanes=g,s;case ie:return s=On(13,o,r,p),s.elementType=ie,s.lanes=g,s;case ue:return s=On(19,o,r,p),s.elementType=ue,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:T=10;break e;case F:T=9;break e;case te:T=11;break e;case C:T=14;break e;case A:T=16,c=null;break e}T=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=On(T,o,r,p),r.elementType=s,r.type=c,r.lanes=g,r}function Ea(s,r,o,c){return s=On(7,s,c,r),s.lanes=o,s}function km(s,r,o){return s=On(6,s,null,r),s.lanes=o,s}function d_(s){var r=On(18,null,null,0);return r.stateNode=s,r}function Vm(s,r,o){return r=On(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var m_=new WeakMap;function Qn(s,r){if(typeof s=="object"&&s!==null){var o=m_.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Bl(r)},m_.set(s,r),r)}return{value:s,source:r,stack:Bl(r)}}var So=[],Ao=0,Oh=null,hu=0,Wn=[],Xn=0,nr=null,Ki=1,Yi="";function vs(s,r){So[Ao++]=hu,So[Ao++]=Oh,Oh=s,hu=r}function p_(s,r,o){Wn[Xn++]=Ki,Wn[Xn++]=Yi,Wn[Xn++]=nr,nr=s;var c=Ki;s=Yi;var p=32-Et(c)-1;c&=~(1<<p),o+=1;var g=32-Et(r)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Ki=1<<32-Et(r)+p|o<<p|c,Yi=g+s}else Ki=1<<g|o<<p|c,Yi=s}function Lm(s){s.return!==null&&(vs(s,1),p_(s,1,0))}function jm(s){for(;s===Oh;)Oh=So[--Ao],So[Ao]=null,hu=So[--Ao],So[Ao]=null;for(;s===nr;)nr=Wn[--Xn],Wn[Xn]=null,Yi=Wn[--Xn],Wn[Xn]=null,Ki=Wn[--Xn],Wn[Xn]=null}function g_(s,r){Wn[Xn++]=Ki,Wn[Xn++]=Yi,Wn[Xn++]=nr,Ki=r.id,Yi=r.overflow,nr=s}var Zt=null,ut=null,Fe=!1,ir=null,Jn=!1,Um=Error(i(519));function sr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(Qn(r,s)),Um}function y_(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Nt]=s,r[$t]=c,o){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(o=0;o<Mu.length;o++)Ve(Mu[o],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),hh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Qs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||MT(r.textContent,o)?(c.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),c.onScroll!=null&&Ve("scroll",r),c.onScrollEnd!=null&&Ve("scrollend",r),c.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||sr(s,!0)}function v_(s){for(Zt=s.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Zt=Zt.return}}function Ro(s){if(s!==Zt)return!1;if(!Fe)return v_(s),Fe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||ig(s.type,s.memoizedProps)),o=!o),o&&ut&&sr(s),v_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ut=HT(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ut=HT(s)}else r===27?(r=ut,vr(s.type)?(s=lg,lg=null,ut=s):ut=r):ut=Zt?ei(s.stateNode.nextSibling):null;return!0}function wa(){ut=Zt=null,Fe=!1}function zm(){var s=ir;return s!==null&&(wn===null?wn=s:wn.push.apply(wn,s),ir=null),s}function fu(s){ir===null?ir=[s]:ir.push(s)}var Bm=D(null),xa=null,_s=null;function rr(s,r,o){le(Bm,r._currentValue),r._currentValue=o}function bs(s){s._currentValue=Bm.current,Q(Bm)}function Fm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function Hm(s,r,o,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=p;for(var j=0;j<r.length;j++)if(x.context===r[j]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),Fm(g.return,o,s),c||(T=null);break e}g=x.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Fm(T,o,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Co(s,r,o,c){s=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var x=p.type;Dn(p.pendingProps.value,T.value)||(s!==null?s.push(x):s=[x])}}else if(p===Me.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Uu):s=[Uu])}p=p.return}s!==null&&Hm(r,s,o,c),r.flags|=262144}function Ph(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Sa(s){xa=s,_s=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return __(xa,s)}function Mh(s,r){return xa===null&&Sa(s),__(s,r)}function __(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},_s===null){if(s===null)throw Error(i(308));_s=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else _s=_s.next=r;return o}var bN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},TN=t.unstable_scheduleCallback,EN=t.unstable_NormalPriority,Ot={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new bN,data:new Map,refCount:0}}function du(s){s.refCount--,s.refCount===0&&TN(EN,function(){s.controller.abort()})}var mu=null,$m=0,No=0,Io=null;function wN(s,r){if(mu===null){var o=mu=[];$m=0,No=Yp(),Io={status:"pending",value:void 0,then:function(c){o.push(c)}}}return $m++,r.then(b_,b_),r}function b_(){if(--$m===0&&mu!==null){Io!==null&&(Io.status="fulfilled");var s=mu;mu=null,No=0,Io=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function xN(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var T_=J.S;J.S=function(s,r){sT=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&wN(s,r),T_!==null&&T_(s,r)};var Aa=D(null);function Gm(){var s=Aa.current;return s!==null?s:at.pooledCache}function kh(s,r){r===null?le(Aa,Aa.current):le(Aa,r.pool)}function E_(){var s=Gm();return s===null?null:{parent:Ot._currentValue,pool:s}}var Do=Error(i(460)),Km=Error(i(474)),Vh=Error(i(542)),Lh={then:function(){}};function w_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function x_(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(fi,fi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,A_(s),s;default:if(typeof r.status=="string")r.then(fi,fi);else{if(s=at,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,A_(s),s}throw Ca=r,Do}}function Ra(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ca=o,Do):o}}var Ca=null;function S_(){if(Ca===null)throw Error(i(459));var s=Ca;return Ca=null,s}function A_(s){if(s===Do||s===Vh)throw Error(i(483))}var Oo=null,pu=0;function jh(s){var r=pu;return pu+=1,Oo===null&&(Oo=[]),x_(Oo,s,r)}function gu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Uh(s,r){throw r.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function R_(s){function r(H,U){if(s){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function o(H,U){if(!s)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function c(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function p(H,U){return H=ys(H,U),H.index=0,H.sibling=null,H}function g(H,U,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=67108866,U):G):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function x(H,U,G,ne){return U===null||U.tag!==6?(U=km(G,H.mode,ne),U.return=H,U):(U=p(U,G),U.return=H,U)}function j(H,U,G,ne){var _e=G.type;return _e===L?Z(H,U,G.props.children,ne,G.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Ra(_e)===U.type)?(U=p(U,G.props),gu(U,G),U.return=H,U):(U=Dh(G.type,G.key,G.props,null,H.mode,ne),gu(U,G),U.return=H,U)}function K(H,U,G,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Vm(G,H.mode,ne),U.return=H,U):(U=p(U,G.children||[]),U.return=H,U)}function Z(H,U,G,ne,_e){return U===null||U.tag!==7?(U=Ea(G,H.mode,ne,_e),U.return=H,U):(U=p(U,G),U.return=H,U)}function se(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=km(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return G=Dh(U.type,U.key,U.props,null,H.mode,G),gu(G,U),G.return=H,G;case I:return U=Vm(U,H.mode,G),U.return=H,U;case A:return U=Ra(U),se(H,U,G)}if(Ye(U)||B(U))return U=Ea(U,H.mode,G,null),U.return=H,U;if(typeof U.then=="function")return se(H,jh(U),G);if(U.$$typeof===q)return se(H,Mh(H,U),G);Uh(H,U)}return null}function Y(H,U,G,ne){var _e=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _e!==null?null:x(H,U,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===_e?j(H,U,G,ne):null;case I:return G.key===_e?K(H,U,G,ne):null;case A:return G=Ra(G),Y(H,U,G,ne)}if(Ye(G)||B(G))return _e!==null?null:Z(H,U,G,ne,null);if(typeof G.then=="function")return Y(H,U,jh(G),ne);if(G.$$typeof===q)return Y(H,U,Mh(H,G),ne);Uh(H,G)}return null}function X(H,U,G,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(G)||null,x(U,H,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return H=H.get(ne.key===null?G:ne.key)||null,j(U,H,ne,_e);case I:return H=H.get(ne.key===null?G:ne.key)||null,K(U,H,ne,_e);case A:return ne=Ra(ne),X(H,U,G,ne,_e)}if(Ye(ne)||B(ne))return H=H.get(G)||null,Z(U,H,ne,_e,null);if(typeof ne.then=="function")return X(H,U,G,jh(ne),_e);if(ne.$$typeof===q)return X(H,U,G,Mh(U,ne),_e);Uh(U,ne)}return null}function pe(H,U,G,ne){for(var _e=null,qe=null,ge=U,Pe=U=0,je=null;ge!==null&&Pe<G.length;Pe++){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var $e=Y(H,ge,G[Pe],ne);if($e===null){ge===null&&(ge=je);break}s&&ge&&$e.alternate===null&&r(H,ge),U=g($e,U,Pe),qe===null?_e=$e:qe.sibling=$e,qe=$e,ge=je}if(Pe===G.length)return o(H,ge),Fe&&vs(H,Pe),_e;if(ge===null){for(;Pe<G.length;Pe++)ge=se(H,G[Pe],ne),ge!==null&&(U=g(ge,U,Pe),qe===null?_e=ge:qe.sibling=ge,qe=ge);return Fe&&vs(H,Pe),_e}for(ge=c(ge);Pe<G.length;Pe++)je=X(ge,H,Pe,G[Pe],ne),je!==null&&(s&&je.alternate!==null&&ge.delete(je.key===null?Pe:je.key),U=g(je,U,Pe),qe===null?_e=je:qe.sibling=je,qe=je);return s&&ge.forEach(function(wr){return r(H,wr)}),Fe&&vs(H,Pe),_e}function be(H,U,G,ne){if(G==null)throw Error(i(151));for(var _e=null,qe=null,ge=U,Pe=U=0,je=null,$e=G.next();ge!==null&&!$e.done;Pe++,$e=G.next()){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var wr=Y(H,ge,$e.value,ne);if(wr===null){ge===null&&(ge=je);break}s&&ge&&wr.alternate===null&&r(H,ge),U=g(wr,U,Pe),qe===null?_e=wr:qe.sibling=wr,qe=wr,ge=je}if($e.done)return o(H,ge),Fe&&vs(H,Pe),_e;if(ge===null){for(;!$e.done;Pe++,$e=G.next())$e=se(H,$e.value,ne),$e!==null&&(U=g($e,U,Pe),qe===null?_e=$e:qe.sibling=$e,qe=$e);return Fe&&vs(H,Pe),_e}for(ge=c(ge);!$e.done;Pe++,$e=G.next())$e=X(ge,H,Pe,$e.value,ne),$e!==null&&(s&&$e.alternate!==null&&ge.delete($e.key===null?Pe:$e.key),U=g($e,U,Pe),qe===null?_e=$e:qe.sibling=$e,qe=$e);return s&&ge.forEach(function(kI){return r(H,kI)}),Fe&&vs(H,Pe),_e}function rt(H,U,G,ne){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var _e=G.key;U!==null;){if(U.key===_e){if(_e=G.type,_e===L){if(U.tag===7){o(H,U.sibling),ne=p(U,G.props.children),ne.return=H,H=ne;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Ra(_e)===U.type){o(H,U.sibling),ne=p(U,G.props),gu(ne,G),ne.return=H,H=ne;break e}o(H,U);break}else r(H,U);U=U.sibling}G.type===L?(ne=Ea(G.props.children,H.mode,ne,G.key),ne.return=H,H=ne):(ne=Dh(G.type,G.key,G.props,null,H.mode,ne),gu(ne,G),ne.return=H,H=ne)}return T(H);case I:e:{for(_e=G.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(H,U.sibling),ne=p(U,G.children||[]),ne.return=H,H=ne;break e}else{o(H,U);break}else r(H,U);U=U.sibling}ne=Vm(G,H.mode,ne),ne.return=H,H=ne}return T(H);case A:return G=Ra(G),rt(H,U,G,ne)}if(Ye(G))return pe(H,U,G,ne);if(B(G)){if(_e=B(G),typeof _e!="function")throw Error(i(150));return G=_e.call(G),be(H,U,G,ne)}if(typeof G.then=="function")return rt(H,U,jh(G),ne);if(G.$$typeof===q)return rt(H,U,Mh(H,G),ne);Uh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(H,U.sibling),ne=p(U,G),ne.return=H,H=ne):(o(H,U),ne=km(G,H.mode,ne),ne.return=H,H=ne),T(H)):o(H,U)}return function(H,U,G,ne){try{pu=0;var _e=rt(H,U,G,ne);return Oo=null,_e}catch(ge){if(ge===Do||ge===Vh)throw ge;var qe=On(29,ge,null,H.mode);return qe.lanes=ne,qe.return=H,qe}}}var Na=R_(!0),C_=R_(!1),ar=!1;function Ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function or(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function lr(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Ih(s),h_(s,null,o),r}return Nh(s,c,r,o),Ih(s)}function yu(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,ql(s,o)}}function Wm(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Xm=!1;function vu(){if(Xm){var s=Io;if(s!==null)throw s}}function _u(s,r,o,c){Xm=!1;var p=s.updateQueue;ar=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var j=x,K=j.next;j.next=null,T===null?g=K:T.next=K,T=j;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,x=Z.lastBaseUpdate,x!==T&&(x===null?Z.firstBaseUpdate=K:x.next=K,Z.lastBaseUpdate=j))}if(g!==null){var se=p.baseState;T=0,Z=K=j=null,x=g;do{var Y=x.lane&-536870913,X=Y!==x.lane;if(X?(Le&Y)===Y:(c&Y)===Y){Y!==0&&Y===No&&(Xm=!0),Z!==null&&(Z=Z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var pe=s,be=x;Y=r;var rt=o;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){se=pe.call(rt,se,Y);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,Y=typeof pe=="function"?pe.call(rt,se,Y):pe,Y==null)break e;se=v({},se,Y);break e;case 2:ar=!0}}Y=x.callback,Y!==null&&(s.flags|=64,X&&(s.flags|=8192),X=p.callbacks,X===null?p.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Z===null?(K=Z=X,j=se):Z=Z.next=X,T|=Y;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;X=x,x=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);Z===null&&(j=se),p.baseState=j,p.firstBaseUpdate=K,p.lastBaseUpdate=Z,g===null&&(p.shared.lanes=0),dr|=T,s.lanes=T,s.memoizedState=se}}function N_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function I_(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)N_(o[s],r)}var Po=D(null),zh=D(0);function D_(s,r){s=Ns,le(zh,s),le(Po,r),Ns=s|r.baseLanes}function Jm(){le(zh,Ns),le(Po,Po.current)}function Zm(){Ns=zh.current,Q(Po),Q(zh)}var Pn=D(null),Zn=null;function ur(s){var r=s.alternate;le(xt,xt.current&1),le(Pn,s),Zn===null&&(r===null||Po.current!==null||r.memoizedState!==null)&&(Zn=s)}function ep(s){le(xt,xt.current),le(Pn,s),Zn===null&&(Zn=s)}function O_(s){s.tag===22?(le(xt,xt.current),le(Pn,s),Zn===null&&(Zn=s)):cr()}function cr(){le(xt,xt.current),le(Pn,Pn.current)}function Mn(s){Q(Pn),Zn===s&&(Zn=null),Q(xt)}var xt=D(0);function Bh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ag(o)||og(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ts=0,Oe=null,it=null,Pt=null,Fh=!1,Mo=!1,Ia=!1,Hh=0,bu=0,ko=null,SN=0;function vt(){throw Error(i(321))}function tp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Dn(s[o],r[o]))return!1;return!0}function np(s,r,o,c,p,g){return Ts=g,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=s===null||s.memoizedState===null?pb:yp,Ia=!1,g=o(c,p),Ia=!1,Mo&&(g=M_(r,o,c,p)),P_(s),g}function P_(s){J.H=wu;var r=it!==null&&it.next!==null;if(Ts=0,Pt=it=Oe=null,Fh=!1,bu=0,ko=null,r)throw Error(i(300));s===null||Mt||(s=s.dependencies,s!==null&&Ph(s)&&(Mt=!0))}function M_(s,r,o,c){Oe=s;var p=0;do{if(Mo&&(ko=null),bu=0,Mo=!1,25<=p)throw Error(i(301));if(p+=1,Pt=it=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=gb,g=r(o,c)}while(Mo);return g}function AN(){var s=J.H,r=s.useState()[0];return r=typeof r.then=="function"?Tu(r):r,s=s.useState()[0],(it!==null?it.memoizedState:null)!==s&&(Oe.flags|=1024),r}function ip(){var s=Hh!==0;return Hh=0,s}function sp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function rp(s){if(Fh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Fh=!1}Ts=0,Pt=it=Oe=null,Mo=!1,bu=Hh=0,ko=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Oe.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function St(){if(it===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=it.next;var r=Pt===null?Oe.memoizedState:Pt.next;if(r!==null)Pt=r,it=s;else{if(s===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));it=s,s={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?Oe.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(s){var r=bu;return bu+=1,ko===null&&(ko=[]),s=x_(ko,s,r),r=Oe,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?pb:yp),s}function $h(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Tu(s);if(s.$$typeof===q)return en(s)}throw Error(i(438,String(s)))}function ap(s){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=qh(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=P;return r.index++,o}function Es(s,r){return typeof r=="function"?r(s):r}function Gh(s){var r=St();return op(r,it,s)}function op(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var p=s.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}r.baseQueue=p=g,c.pending=null}if(g=s.baseState,p===null)s.memoizedState=g;else{r=p.next;var x=T=null,j=null,K=r,Z=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Le&se)===se:(Ts&se)===se){var Y=K.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===No&&(Z=!0);else if((Ts&Y)===Y){K=K.next,Y===No&&(Z=!0);continue}else se={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(x=j=se,T=g):j=j.next=se,Oe.lanes|=Y,dr|=Y;se=K.action,Ia&&o(g,se),g=K.hasEagerState?K.eagerState:o(g,se)}else Y={lane:se,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(x=j=Y,T=g):j=j.next=Y,Oe.lanes|=se,dr|=se;K=K.next}while(K!==null&&K!==r);if(j===null?T=g:j.next=x,!Dn(g,s.memoizedState)&&(Mt=!0,Z&&(o=Io,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=j,c.lastRenderedState=g}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function lp(s){var r=St(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do g=s(g,T.action),T=T.next;while(T!==p);Dn(g,r.memoizedState)||(Mt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function k_(s,r,o){var c=Oe,p=St(),g=Fe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!Dn((it||p).memoizedState,o);if(T&&(p.memoizedState=o,Mt=!0),p=p.queue,hp(j_.bind(null,c,p,s),[s]),p.getSnapshot!==r||T||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Vo(9,{destroy:void 0},L_.bind(null,c,p,o,r),null),at===null)throw Error(i(349));g||(Ts&127)!==0||V_(c,r,o)}return o}function V_(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=qh(),Oe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function L_(s,r,o,c){r.value=o,r.getSnapshot=c,U_(r)&&z_(s)}function j_(s,r,o){return o(function(){U_(r)&&z_(s)})}function U_(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Dn(s,o)}catch{return!0}}function z_(s){var r=Ta(s,2);r!==null&&xn(r,s,2)}function up(s){var r=gn();if(typeof s=="function"){var o=s;if(s=o(),Ia){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:s},r}function B_(s,r,o,c){return s.baseState=o,op(s,it,typeof c=="function"?c:Es)}function RN(s,r,o,c,p){if(Qh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};J.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,F_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function F_(s,r){var o=r.action,c=r.payload,p=s.state;if(r.isTransition){var g=J.T,T={};J.T=T;try{var x=o(p,c),j=J.S;j!==null&&j(T,x),H_(s,r,x)}catch(K){cp(s,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),J.T=g}}else try{g=o(p,c),H_(s,r,g)}catch(K){cp(s,r,K)}}function H_(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){q_(s,r,c)},function(c){return cp(s,r,c)}):q_(s,r,o)}function q_(s,r,o){r.status="fulfilled",r.value=o,$_(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,F_(s,o)))}function cp(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,$_(r),r=r.next;while(r!==c)}s.action=null}function $_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function G_(s,r){return r}function K_(s,r){if(Fe){var o=at.formState;if(o!==null){e:{var c=Oe;if(Fe){if(ut){t:{for(var p=ut,g=Jn;p.nodeType!==8;){if(!g){p=null;break t}if(p=ei(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){ut=ei(p.nextSibling),c=p.data==="F!";break e}}sr(c)}c=!1}c&&(r=o[0])}}return o=gn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G_,lastRenderedState:r},o.queue=c,o=fb.bind(null,Oe,c),c.dispatch=o,c=up(!1),g=gp.bind(null,Oe,!1,c.queue),c=gn(),p={state:r,dispatch:null,action:s,pending:null},c.queue=p,o=RN.bind(null,Oe,p,g,o),p.dispatch=o,c.memoizedState=s,[r,o,!1]}function Y_(s){var r=St();return Q_(r,it,s)}function Q_(s,r,o){if(r=op(s,r,G_)[0],s=Gh(Es)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Tu(r)}catch(T){throw T===Do?Vh:T}else c=r;r=St();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,Vo(9,{destroy:void 0},CN.bind(null,p,o),null)),[c,g,s]}function CN(s,r){s.action=r}function W_(s){var r=St(),o=it;if(o!==null)return Q_(r,o,s);St(),r=r.memoizedState,o=St();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function Vo(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=qh(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function X_(){return St().memoizedState}function Kh(s,r,o,c){var p=gn();Oe.flags|=s,p.memoizedState=Vo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Yh(s,r,o,c){var p=St();c=c===void 0?null:c;var g=p.memoizedState.inst;it!==null&&c!==null&&tp(c,it.memoizedState.deps)?p.memoizedState=Vo(r,g,o,c):(Oe.flags|=s,p.memoizedState=Vo(1|r,g,o,c))}function J_(s,r){Kh(8390656,8,s,r)}function hp(s,r){Yh(2048,8,s,r)}function NN(s){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=qh(),Oe.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function Z_(s){var r=St().memoizedState;return NN({ref:r,nextImpl:s}),function(){if((Ke&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function eb(s,r){return Yh(4,2,s,r)}function tb(s,r){return Yh(4,4,s,r)}function nb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ib(s,r,o){o=o!=null?o.concat([s]):null,Yh(4,4,nb.bind(null,r,s),o)}function fp(){}function sb(s,r){var o=St();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&tp(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function rb(s,r){var o=St();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&tp(r,c[1]))return c[0];if(c=s(),Ia){Hn(!0);try{s()}finally{Hn(!1)}}return o.memoizedState=[c,r],c}function dp(s,r,o){return o===void 0||(Ts&1073741824)!==0&&(Le&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=aT(),Oe.lanes|=s,dr|=s,o)}function ab(s,r,o,c){return Dn(o,r)?o:Po.current!==null?(s=dp(s,o,c),Dn(s,r)||(Mt=!0),s):(Ts&42)===0||(Ts&1073741824)!==0&&(Le&261930)===0?(Mt=!0,s.memoizedState=o):(s=aT(),Oe.lanes|=s,dr|=s,r)}function ob(s,r,o,c,p){var g=oe.p;oe.p=g!==0&&8>g?g:8;var T=J.T,x={};J.T=x,gp(s,!1,r,o);try{var j=p(),K=J.S;if(K!==null&&K(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=xN(j,c);Eu(s,r,Z,Ln(s))}else Eu(s,r,c,Ln(s))}catch(se){Eu(s,r,{then:function(){},status:"rejected",reason:se},Ln())}finally{oe.p=g,T!==null&&x.types!==null&&(T.types=x.types),J.T=T}}function IN(){}function mp(s,r,o,c){if(s.tag!==5)throw Error(i(476));var p=lb(s).queue;ob(s,p,r,fe,o===null?IN:function(){return ub(s),o(c)})}function lb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ub(s){var r=lb(s);r.next===null&&(r=s.alternate.memoizedState),Eu(s,r.next.queue,{},Ln())}function pp(){return en(Uu)}function cb(){return St().memoizedState}function hb(){return St().memoizedState}function DN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();s=or(o);var c=lr(r,s,o);c!==null&&(xn(c,r,o),yu(c,r,o)),r={cache:qm()},s.payload=r;return}r=r.return}}function ON(s,r,o){var c=Ln();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qh(s)?db(r,o):(o=Pm(s,r,o,c),o!==null&&(xn(o,s,c),mb(o,r,c)))}function fb(s,r,o){var c=Ln();Eu(s,r,o,c)}function Eu(s,r,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qh(s))db(r,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,x=g(T,o);if(p.hasEagerState=!0,p.eagerState=x,Dn(x,T))return Nh(s,r,p,0),at===null&&Ch(),!1}catch{}if(o=Pm(s,r,p,c),o!==null)return xn(o,s,c),mb(o,r,c),!0}return!1}function gp(s,r,o,c){if(c={lane:2,revertLane:Yp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qh(s)){if(r)throw Error(i(479))}else r=Pm(s,o,c,2),r!==null&&xn(r,s,2)}function Qh(s){var r=s.alternate;return s===Oe||r!==null&&r===Oe}function db(s,r){Mo=Fh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function mb(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,ql(s,o)}}var wu={readContext:en,use:$h,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};wu.useEffectEvent=vt;var pb={readContext:en,use:$h,useCallback:function(s,r){return gn().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:J_,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Kh(4194308,4,nb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Kh(4194308,4,s,r)},useInsertionEffect:function(s,r){Kh(4,2,s,r)},useMemo:function(s,r){var o=gn();r=r===void 0?null:r;var c=s();if(Ia){Hn(!0);try{s()}finally{Hn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=gn();if(o!==void 0){var p=o(r);if(Ia){Hn(!0);try{o(r)}finally{Hn(!1)}}}else p=r;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=ON.bind(null,Oe,s),[c.memoizedState,s]},useRef:function(s){var r=gn();return s={current:s},r.memoizedState=s},useState:function(s){s=up(s);var r=s.queue,o=fb.bind(null,Oe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:fp,useDeferredValue:function(s,r){var o=gn();return dp(o,s,r)},useTransition:function(){var s=up(!1);return s=ob.bind(null,Oe,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Oe,p=gn();if(Fe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),at===null)throw Error(i(349));(Le&127)!==0||V_(c,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,J_(j_.bind(null,c,g,s),[s]),c.flags|=2048,Vo(9,{destroy:void 0},L_.bind(null,c,g,o,r),null),o},useId:function(){var s=gn(),r=at.identifierPrefix;if(Fe){var o=Yi,c=Ki;o=(c&~(1<<32-Et(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Hh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=SN++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:pp,useFormState:K_,useActionState:K_,useOptimistic:function(s){var r=gn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=gp.bind(null,Oe,!0,o),o.dispatch=r,[s,r]},useMemoCache:ap,useCacheRefresh:function(){return gn().memoizedState=DN.bind(null,Oe)},useEffectEvent:function(s){var r=gn(),o={impl:s};return r.memoizedState=o,function(){if((Ke&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},yp={readContext:en,use:$h,useCallback:sb,useContext:en,useEffect:hp,useImperativeHandle:ib,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:rb,useReducer:Gh,useRef:X_,useState:function(){return Gh(Es)},useDebugValue:fp,useDeferredValue:function(s,r){var o=St();return ab(o,it.memoizedState,s,r)},useTransition:function(){var s=Gh(Es)[0],r=St().memoizedState;return[typeof s=="boolean"?s:Tu(s),r]},useSyncExternalStore:k_,useId:cb,useHostTransitionStatus:pp,useFormState:Y_,useActionState:Y_,useOptimistic:function(s,r){var o=St();return B_(o,it,s,r)},useMemoCache:ap,useCacheRefresh:hb};yp.useEffectEvent=Z_;var gb={readContext:en,use:$h,useCallback:sb,useContext:en,useEffect:hp,useImperativeHandle:ib,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:rb,useReducer:lp,useRef:X_,useState:function(){return lp(Es)},useDebugValue:fp,useDeferredValue:function(s,r){var o=St();return it===null?dp(o,s,r):ab(o,it.memoizedState,s,r)},useTransition:function(){var s=lp(Es)[0],r=St().memoizedState;return[typeof s=="boolean"?s:Tu(s),r]},useSyncExternalStore:k_,useId:cb,useHostTransitionStatus:pp,useFormState:W_,useActionState:W_,useOptimistic:function(s,r){var o=St();return it!==null?B_(o,it,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:ap,useCacheRefresh:hb};gb.useEffectEvent=Z_;function vp(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var _p={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Ln(),p=or(c);p.payload=r,o!=null&&(p.callback=o),r=lr(s,p,c),r!==null&&(xn(r,s,c),yu(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Ln(),p=or(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=lr(s,p,c),r!==null&&(xn(r,s,c),yu(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Ln(),c=or(o);c.tag=2,r!=null&&(c.callback=r),r=lr(s,c,o),r!==null&&(xn(r,s,o),yu(r,s,o))}};function yb(s,r,o,c,p,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!uu(o,c)||!uu(p,g):!0}function vb(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&_p.enqueueReplaceState(r,r.state,null)}function Da(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function _b(s){Rh(s)}function bb(s){console.error(s)}function Tb(s){Rh(s)}function Wh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Eb(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function bp(s,r,o){return o=or(o),o.tag=3,o.payload={element:null},o.callback=function(){Wh(s,r)},o}function wb(s){return s=or(s),s.tag=3,s}function xb(s,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;s.payload=function(){return p(g)},s.callback=function(){Eb(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){Eb(r,o,c),typeof p!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function PN(s,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Co(r,o,p,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?uf():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Lh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),$p(s,c,p)),!1;case 22:return o.flags|=65536,c===Lh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),$p(s,c,p)),!1}throw Error(i(435,o.tag))}return $p(s,c,p),uf(),!1}if(Fe)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==Um&&(s=Error(i(422),{cause:c}),fu(Qn(s,o)))):(c!==Um&&(r=Error(i(423),{cause:c}),fu(Qn(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=Qn(c,o),p=bp(s.stateNode,c,p),Wm(s,p),_t!==4&&(_t=2)),!1;var g=Error(i(520),{cause:c});if(g=Qn(g,o),Du===null?Du=[g]:Du.push(g),_t!==4&&(_t=2),r===null)return!0;c=Qn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=bp(o.stateNode,c,s),Wm(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(mr===null||!mr.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=wb(p),xb(p,s,o,c),Wm(o,p),!1}o=o.return}while(o!==null);return!1}var Tp=Error(i(461)),Mt=!1;function tn(s,r,o,c){r.child=s===null?C_(r,null,o,c):Na(r,s.child,o,c)}function Sb(s,r,o,c,p){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var x in c)x!=="ref"&&(T[x]=c[x])}else T=c;return Sa(r),c=np(s,r,o,T,g,p),x=ip(),s!==null&&!Mt?(sp(s,r,p),ws(s,r,p)):(Fe&&x&&Lm(r),r.flags|=1,tn(s,r,c,p),r.child)}function Ab(s,r,o,c,p){if(s===null){var g=o.type;return typeof g=="function"&&!Mm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Rb(s,r,g,c,p)):(s=Dh(o.type,null,c,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Np(s,p)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:uu,o(T,c)&&s.ref===r.ref)return ws(s,r,p)}return r.flags|=1,s=ys(g,c),s.ref=r.ref,s.return=r,r.child=s}function Rb(s,r,o,c,p){if(s!==null){var g=s.memoizedProps;if(uu(g,c)&&s.ref===r.ref)if(Mt=!1,r.pendingProps=c=g,Np(s,p))(s.flags&131072)!==0&&(Mt=!0);else return r.lanes=s.lanes,ws(s,r,p)}return Ep(s,r,o,c,p)}function Cb(s,r,o,c){var p=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=r.child=s.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,r.child=null;return Nb(s,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&kh(r,g!==null?g.cachePool:null),g!==null?D_(r,g):Jm(),O_(r);else return c=r.lanes=536870912,Nb(s,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(kh(r,g.cachePool),D_(r,g),cr(),r.memoizedState=null):(s!==null&&kh(r,null),Jm(),cr());return tn(s,r,p,o),r.child}function xu(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Nb(s,r,o,c,p){var g=Gm();return g=g===null?null:{parent:Ot._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&kh(r,null),Jm(),O_(r),s!==null&&Co(s,r,c,!0),r.childLanes=p,null}function Xh(s,r){return r=Zh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Ib(s,r,o){return Na(r,s.child,null,o),s=Xh(r,r.pendingProps),s.flags|=2,Mn(r),r.memoizedState=null,s}function MN(s,r,o){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Fe){if(c.mode==="hidden")return s=Xh(r,c),r.lanes=536870912,xu(null,s);if(ep(r),(s=ut)?(s=FT(s,Jn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:nr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=d_(s),o.return=r,r.child=o,Zt=r,ut=null)):s=null,s===null)throw sr(r);return r.lanes=536870912,null}return Xh(r,c)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(ep(r),p)if(r.flags&256)r.flags&=-257,r=Ib(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Mt||Co(s,r,o,!1),p=(o&s.childLanes)!==0,Mt||p){if(c=at,c!==null&&(T=$l(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ta(s,T),xn(c,s,T),Tp;uf(),r=Ib(s,r,o)}else s=g.treeContext,ut=ei(T.nextSibling),Zt=r,Fe=!0,ir=null,Jn=!1,s!==null&&g_(r,s),r=Xh(r,c),r.flags|=4096;return r}return s=ys(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Jh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Ep(s,r,o,c,p){return Sa(r),o=np(s,r,o,c,void 0,p),c=ip(),s!==null&&!Mt?(sp(s,r,p),ws(s,r,p)):(Fe&&c&&Lm(r),r.flags|=1,tn(s,r,o,p),r.child)}function Db(s,r,o,c,p,g){return Sa(r),r.updateQueue=null,o=M_(r,c,o,p),P_(s),c=ip(),s!==null&&!Mt?(sp(s,r,g),ws(s,r,g)):(Fe&&c&&Lm(r),r.flags|=1,tn(s,r,o,g),r.child)}function Ob(s,r,o,c,p){if(Sa(r),r.stateNode===null){var g=xo,T=o.contextType;typeof T=="object"&&T!==null&&(g=en(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_p,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Ym(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?en(T):xo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(vp(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&_p.enqueueReplaceState(g,g.state,null),_u(r,c,g,p),vu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var x=r.memoizedProps,j=Da(o,x);g.props=j;var K=g.context,Z=o.contextType;T=xo,typeof Z=="object"&&Z!==null&&(T=en(Z));var se=o.getDerivedStateFromProps;Z=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||K!==T)&&vb(r,g,c,T),ar=!1;var Y=r.memoizedState;g.state=Y,_u(r,c,g,p),vu(),K=r.memoizedState,x||Y!==K||ar?(typeof se=="function"&&(vp(r,o,se,c),K=r.memoizedState),(j=ar||yb(r,o,j,c,Y,K,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),g.props=c,g.state=K,g.context=T,c=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Qm(s,r),T=r.memoizedProps,Z=Da(o,T),g.props=Z,se=r.pendingProps,Y=g.context,K=o.contextType,j=xo,typeof K=="object"&&K!==null&&(j=en(K)),x=o.getDerivedStateFromProps,(K=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==se||Y!==j)&&vb(r,g,c,j),ar=!1,Y=r.memoizedState,g.state=Y,_u(r,c,g,p),vu();var X=r.memoizedState;T!==se||Y!==X||ar||s!==null&&s.dependencies!==null&&Ph(s.dependencies)?(typeof x=="function"&&(vp(r,o,x,c),X=r.memoizedState),(Z=ar||yb(r,o,Z,c,Y,X,j)||s!==null&&s.dependencies!==null&&Ph(s.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=j,c=Z):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Jh(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=Na(r,s.child,null,p),r.child=Na(r,null,o,p)):tn(s,r,o,p),r.memoizedState=g.state,s=r.child):s=ws(s,r,p),s}function Pb(s,r,o,c){return wa(),r.flags|=256,tn(s,r,o,c),r.child}var wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(s){return{baseLanes:s,cachePool:E_()}}function Sp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Vn),s}function Mb(s,r,o){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(xt.current&2)!==0),T&&(p=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(Fe){if(p?ur(r):cr(),(s=ut)?(s=FT(s,Jn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:nr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=d_(s),o.return=r,r.child=o,Zt=r,ut=null)):s=null,s===null)throw sr(r);return og(s)?r.lanes=32:r.lanes=536870912,null}var x=c.children;return c=c.fallback,p?(cr(),p=r.mode,x=Zh({mode:"hidden",children:x},p),c=Ea(c,p,o,null),x.return=r,c.return=r,x.sibling=c,r.child=x,c=r.child,c.memoizedState=xp(o),c.childLanes=Sp(s,T,o),r.memoizedState=wp,xu(null,c)):(ur(r),Ap(r,x))}var j=s.memoizedState;if(j!==null&&(x=j.dehydrated,x!==null)){if(g)r.flags&256?(ur(r),r.flags&=-257,r=Rp(s,r,o)):r.memoizedState!==null?(cr(),r.child=s.child,r.flags|=128,r=null):(cr(),x=c.fallback,p=r.mode,c=Zh({mode:"visible",children:c.children},p),x=Ea(x,p,o,null),x.flags|=2,c.return=r,x.return=r,c.sibling=x,r.child=c,Na(r,s.child,null,o),c=r.child,c.memoizedState=xp(o),c.childLanes=Sp(s,T,o),r.memoizedState=wp,r=xu(null,c));else if(ur(r),og(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var K=T.dgst;T=K,c=Error(i(419)),c.stack="",c.digest=T,fu({value:c,source:null,stack:null}),r=Rp(s,r,o)}else if(Mt||Co(s,r,o,!1),T=(o&s.childLanes)!==0,Mt||T){if(T=at,T!==null&&(c=$l(T,o),c!==0&&c!==j.retryLane))throw j.retryLane=c,Ta(s,c),xn(T,s,c),Tp;ag(x)||uf(),r=Rp(s,r,o)}else ag(x)?(r.flags|=192,r.child=s.child,r=null):(s=j.treeContext,ut=ei(x.nextSibling),Zt=r,Fe=!0,ir=null,Jn=!1,s!==null&&g_(r,s),r=Ap(r,c.children),r.flags|=4096);return r}return p?(cr(),x=c.fallback,p=r.mode,j=s.child,K=j.sibling,c=ys(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,K!==null?x=ys(K,x):(x=Ea(x,p,o,null),x.flags|=2),x.return=r,c.return=r,c.sibling=x,r.child=c,xu(null,c),c=r.child,x=s.child.memoizedState,x===null?x=xp(o):(p=x.cachePool,p!==null?(j=Ot._currentValue,p=p.parent!==j?{parent:j,pool:j}:p):p=E_(),x={baseLanes:x.baseLanes|o,cachePool:p}),c.memoizedState=x,c.childLanes=Sp(s,T,o),r.memoizedState=wp,xu(s.child,c)):(ur(r),o=s.child,s=o.sibling,o=ys(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function Ap(s,r){return r=Zh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Zh(s,r){return s=On(22,s,null,r),s.lanes=0,s}function Rp(s,r,o){return Na(r,s.child,null,o),s=Ap(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function kb(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Fm(s.return,r,o)}function Cp(s,r,o,c,p,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=p,T.treeForkCount=g)}function Vb(s,r,o){var c=r.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=xt.current,x=(T&2)!==0;if(x?(T=T&1|2,r.flags|=128):T&=1,le(xt,T),tn(s,r,c,o),c=Fe?hu:0,!x&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&kb(s,o,r);else if(s.tag===19)kb(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&Bh(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Cp(r,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&Bh(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}Cp(r,!0,o,null,g,c);break;case"together":Cp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ws(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),dr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Co(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=ys(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=ys(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Np(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ph(s)))}function kN(s,r,o){switch(r.tag){case 3:Tt(r,r.stateNode.containerInfo),rr(r,Ot,s.memoizedState.cache),wa();break;case 27:case 5:ia(r);break;case 4:Tt(r,r.stateNode.containerInfo);break;case 10:rr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ep(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ur(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Mb(s,r,o):(ur(r),s=ws(s,r,o),s!==null?s.sibling:null);ur(r);break;case 19:var p=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Co(s,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return Vb(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(xt,xt.current),c)break;return null;case 22:return r.lanes=0,Cb(s,r,o,r.pendingProps);case 24:rr(r,Ot,s.memoizedState.cache)}return ws(s,r,o)}function Lb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Mt=!0;else{if(!Np(s,o)&&(r.flags&128)===0)return Mt=!1,kN(s,r,o);Mt=(s.flags&131072)!==0}else Mt=!1,Fe&&(r.flags&1048576)!==0&&p_(r,hu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=Ra(r.elementType),r.type=s,typeof s=="function")Mm(s)?(c=Da(s,c),r.tag=1,r=Ob(null,r,s,c,o)):(r.tag=0,r=Ep(null,r,s,c,o));else{if(s!=null){var p=s.$$typeof;if(p===te){r.tag=11,r=Sb(null,r,s,c,o);break e}else if(p===C){r.tag=14,r=Ab(null,r,s,c,o);break e}}throw r=Ce(s)||s,Error(i(306,r,""))}}return r;case 0:return Ep(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=Da(c,r.pendingProps),Ob(s,r,c,p,o);case 3:e:{if(Tt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,Qm(s,r),_u(r,c,null,o);var T=r.memoizedState;if(c=T.cache,rr(r,Ot,c),c!==g.cache&&Hm(r,[Ot],o,!0),vu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Pb(s,r,c,o);break e}else if(c!==p){p=Qn(Error(i(424)),r),fu(p),r=Pb(s,r,c,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ut=ei(s.firstChild),Zt=r,Fe=!0,ir=null,Jn=!0,o=C_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(wa(),c===p){r=ws(s,r,o);break e}tn(s,r,c,o)}r=r.child}return r;case 26:return Jh(s,r),s===null?(o=YT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,s=r.pendingProps,c=gf(Ee.current).createElement(o),c[Nt]=r,c[$t]=s,nn(c,o,s),It(c),r.stateNode=c):r.memoizedState=YT(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ia(r),s===null&&Fe&&(c=r.stateNode=$T(r.type,r.pendingProps,Ee.current),Zt=r,Jn=!0,p=ut,vr(r.type)?(lg=p,ut=ei(c.firstChild)):ut=p),tn(s,r,r.pendingProps.children,o),Jh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Fe&&((p=c=ut)&&(c=hI(c,r.type,r.pendingProps,Jn),c!==null?(r.stateNode=c,Zt=r,ut=ei(c.firstChild),Jn=!1,p=!0):p=!1),p||sr(r)),ia(r),p=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,c=g.children,ig(p,g)?c=null:T!==null&&ig(p,T)&&(r.flags|=32),r.memoizedState!==null&&(p=np(s,r,AN,null,null,o),Uu._currentValue=p),Jh(s,r),tn(s,r,c,o),r.child;case 6:return s===null&&Fe&&((s=o=ut)&&(o=fI(o,r.pendingProps,Jn),o!==null?(r.stateNode=o,Zt=r,ut=null,s=!0):s=!1),s||sr(r)),null;case 13:return Mb(s,r,o);case 4:return Tt(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Na(r,null,c,o):tn(s,r,c,o),r.child;case 11:return Sb(s,r,r.type,r.pendingProps,o);case 7:return tn(s,r,r.pendingProps,o),r.child;case 8:return tn(s,r,r.pendingProps.children,o),r.child;case 12:return tn(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,rr(r,r.type,c.value),tn(s,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Sa(r),p=en(p),c=c(p),r.flags|=1,tn(s,r,c,o),r.child;case 14:return Ab(s,r,r.type,r.pendingProps,o);case 15:return Rb(s,r,r.type,r.pendingProps,o);case 19:return Vb(s,r,o);case 31:return MN(s,r,o);case 22:return Cb(s,r,o,r.pendingProps);case 24:return Sa(r),c=en(Ot),s===null?(p=Gm(),p===null&&(p=at,g=qm(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:c,cache:p},Ym(r),rr(r,Ot,p)):((s.lanes&o)!==0&&(Qm(s,r),_u(r,null,null,o),vu()),p=s.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),rr(r,Ot,c)):(c=g.cache,rr(r,Ot,c),c!==p.cache&&Hm(r,[Ot],o,!0))),tn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function xs(s){s.flags|=4}function Ip(s,r,o,c,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(cT())s.flags|=8192;else throw Ca=Lh,Km}else s.flags&=-16777217}function jb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ZT(r))if(cT())s.flags|=8192;else throw Ca=Lh,Km}function ef(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?ah():536870912,s.lanes|=r,zo|=r)}function Su(s,r){if(!Fe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ct(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function VN(s,r,o){var c=r.pendingProps;switch(jm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),bs(Ot),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ro(r)?xs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zm())),ct(r),null;case 26:var p=r.type,g=r.memoizedState;return s===null?(xs(r),g!==null?(ct(r),jb(r,g)):(ct(r),Ip(r,p,null,c,o))):g?g!==s.memoizedState?(xs(r),ct(r),jb(r,g)):(ct(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&xs(r),ct(r),Ip(r,p,s,c,o)),null;case 27:if(so(r),o=Ee.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&xs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ct(r),null}s=ce.current,Ro(r)?y_(r):(s=$T(p,c,o),r.stateNode=s,xs(r))}return ct(r),null;case 5:if(so(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&xs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ct(r),null}if(g=ce.current,Ro(r))y_(r);else{var T=gf(Ee.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Nt]=r,g[$t]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(nn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&xs(r)}}return ct(r),Ip(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&xs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ee.current,Ro(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,p=Zt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[Nt]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||MT(s.nodeValue,o)),s||sr(r,!0)}else s=gf(s).createTextNode(c),s[Nt]=r,r.stateNode=s}return ct(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=Ro(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Nt]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),s=!1}else o=zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ct(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Ro(r),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Nt]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),p=!1}else p=zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),ef(r,r.updateQueue),ct(r),null);case 4:return lt(),s===null&&Jp(r.stateNode.containerInfo),ct(r),null;case 10:return bs(r.type),ct(r),null;case 19:if(Q(xt),c=r.memoizedState,c===null)return ct(r),null;if(p=(r.flags&128)!==0,g=c.rendering,g===null)if(p)Su(c,!1);else{if(_t!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Bh(s),g!==null){for(r.flags|=128,Su(c,!1),s=g.updateQueue,r.updateQueue=s,ef(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)f_(o,s),o=o.sibling;return le(xt,xt.current&1|2),Fe&&vs(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&mn()>af&&(r.flags|=128,p=!0,Su(c,!1),r.lanes=4194304)}else{if(!p)if(s=Bh(g),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,ef(r,s),Su(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Fe)return ct(r),null}else 2*mn()-c.renderingStartTime>af&&o!==536870912&&(r.flags|=128,p=!0,Su(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=mn(),s.sibling=null,o=xt.current,le(xt,p?o&1|2:o&1),Fe&&vs(r,c.treeForkCount),s):(ct(r),null);case 22:case 23:return Mn(r),Zm(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),o=r.updateQueue,o!==null&&ef(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&Q(Aa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),bs(Ot),ct(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function LN(s,r){switch(jm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return bs(Ot),lt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return so(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(i(340));wa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Mn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));wa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return Q(xt),null;case 4:return lt(),null;case 10:return bs(r.type),null;case 22:case 23:return Mn(r),Zm(),s!==null&&Q(Aa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return bs(Ot),null;case 25:return null;default:return null}}function Ub(s,r){switch(jm(r),r.tag){case 3:bs(Ot),lt();break;case 26:case 27:case 5:so(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:Q(xt);break;case 10:bs(r.type);break;case 22:case 23:Mn(r),Zm(),s!==null&&Q(Aa);break;case 24:bs(Ot)}}function Au(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&s)===s){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==p)}}catch(x){Je(r,r.return,x)}}function hr(s,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&s)===s){var T=c.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,p=r;var j=o,K=x;try{K()}catch(Z){Je(p,j,Z)}}}c=c.next}while(c!==g)}}catch(Z){Je(r,r.return,Z)}}function zb(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{I_(r,o)}catch(c){Je(s,s.return,c)}}}function Bb(s,r,o){o.props=Da(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){Je(s,r,c)}}function Ru(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(p){Je(s,r,p)}}function Qi(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Je(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Je(s,r,p)}else o.current=null}function Fb(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Je(s,s.return,p)}}function Dp(s,r,o){try{var c=s.stateNode;rI(c,s.type,o,r),c[$t]=r}catch(p){Je(s,s.return,p)}}function Hb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&vr(s.type)||s.tag===4}function Op(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Hb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&vr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pp(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fi));else if(c!==4&&(c===27&&vr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Pp(s,r,o),s=s.sibling;s!==null;)Pp(s,r,o),s=s.sibling}function tf(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&vr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(tf(s,r,o),s=s.sibling;s!==null;)tf(s,r,o),s=s.sibling}function qb(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);nn(r,c,o),r[Nt]=s,r[$t]=o}catch(g){Je(s,s.return,g)}}var Ss=!1,kt=!1,Mp=!1,$b=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function jN(s,r){if(s=s.containerInfo,tg=wf,s=i_(s),Rm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,x=-1,j=-1,K=0,Z=0,se=s,Y=null;t:for(;;){for(var X;se!==o||p!==0&&se.nodeType!==3||(x=T+p),se!==g||c!==0&&se.nodeType!==3||(j=T+c),se.nodeType===3&&(T+=se.nodeValue.length),(X=se.firstChild)!==null;)Y=se,se=X;for(;;){if(se===s)break t;if(Y===o&&++K===p&&(x=T),Y===g&&++Z===c&&(j=T),(X=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=X}o=x===-1||j===-1?null:{start:x,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(ng={focusedElem:s,selectionRange:o},wf=!1,Kt=r;Kt!==null;)if(r=Kt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Kt=s;else for(;Kt!==null;){switch(r=Kt,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=Da(o.type,p);s=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(be){Je(o,o.return,be)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)rg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":rg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Kt=s;break}Kt=r.return}}function Gb(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Rs(s,o),c&4&&Au(5,o);break;case 1:if(Rs(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){Je(o,o.return,T)}else{var p=Da(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(o,o.return,T)}}c&64&&zb(o),c&512&&Ru(o,o.return);break;case 3:if(Rs(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{I_(s,r)}catch(T){Je(o,o.return,T)}}break;case 27:r===null&&c&4&&qb(o);case 26:case 5:Rs(s,o),r===null&&c&4&&Fb(o),c&512&&Ru(o,o.return);break;case 12:Rs(s,o);break;case 31:Rs(s,o),c&4&&Qb(s,o);break;case 13:Rs(s,o),c&4&&Wb(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=KN.bind(null,o),dI(s,o))));break;case 22:if(c=o.memoizedState!==null||Ss,!c){r=r!==null&&r.memoizedState!==null||kt,p=Ss;var g=kt;Ss=c,(kt=r)&&!g?Cs(s,o,(o.subtreeFlags&8772)!==0):Rs(s,o),Ss=p,kt=g}break;case 30:break;default:Rs(s,o)}}function Kb(s){var r=s.alternate;r!==null&&(s.alternate=null,Kb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&uo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ft=null,bn=!1;function As(s,r,o){for(o=o.child;o!==null;)Yb(s,r,o),o=o.sibling}function Yb(s,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:kt||Qi(o,r),As(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Qi(o,r);var c=ft,p=bn;vr(o.type)&&(ft=o.stateNode,bn=!1),As(s,r,o),Vu(o.stateNode),ft=c,bn=p;break;case 5:kt||Qi(o,r);case 6:if(c=ft,p=bn,ft=null,As(s,r,o),ft=c,bn=p,ft!==null)if(bn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{ft.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:ft!==null&&(bn?(s=ft,zT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Yo(s)):zT(ft,o.stateNode));break;case 4:c=ft,p=bn,ft=o.stateNode.containerInfo,bn=!0,As(s,r,o),ft=c,bn=p;break;case 0:case 11:case 14:case 15:hr(2,o,r),kt||hr(4,o,r),As(s,r,o);break;case 1:kt||(Qi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Bb(o,r,c)),As(s,r,o);break;case 21:As(s,r,o);break;case 22:kt=(c=kt)||o.memoizedState!==null,As(s,r,o),kt=c;break;default:As(s,r,o)}}function Qb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Yo(s)}catch(o){Je(r,r.return,o)}}}function Wb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Yo(s)}catch(o){Je(r,r.return,o)}}function UN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new $b),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new $b),r;default:throw Error(i(435,s.tag))}}function nf(s,r){var o=UN(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var p=YN.bind(null,s,c);c.then(p,p)}})}function Tn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=s,T=r,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(vr(x.type)){ft=x.stateNode,bn=!1;break e}break;case 5:ft=x.stateNode,bn=!1;break e;case 3:case 4:ft=x.stateNode.containerInfo,bn=!0;break e}x=x.return}if(ft===null)throw Error(i(160));Yb(g,T,p),ft=null,bn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xb(r,s),r=r.sibling}var vi=null;function Xb(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Tn(r,s),En(s),c&4&&(hr(3,s,s.return),Au(3,s),hr(5,s,s.return));break;case 1:Tn(r,s),En(s),c&512&&(kt||o===null||Qi(o,o.return)),c&64&&Ss&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=vi;if(Tn(r,s),En(s),c&512&&(kt||o===null||Qi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ki]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),nn(g,c,o),g[Nt]=s,It(g),c=g;break e;case"link":var T=XT("link","href",p).get(c+(o.href||""));if(T){for(var x=0;x<T.length;x++)if(g=T[x],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(x,1);break t}}g=p.createElement(c),nn(g,c,o),p.head.appendChild(g);break;case"meta":if(T=XT("meta","content",p).get(c+(o.content||""))){for(x=0;x<T.length;x++)if(g=T[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(x,1);break t}}g=p.createElement(c),nn(g,c,o),p.head.appendChild(g);break;default:throw Error(i(468,c))}g[Nt]=s,It(g),c=g}s.stateNode=c}else JT(p,s.type,s.stateNode);else s.stateNode=WT(p,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?JT(p,s.type,s.stateNode):WT(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Dp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,s),En(s),c&512&&(kt||o===null||Qi(o,o.return)),o!==null&&c&4&&Dp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,s),En(s),c&512&&(kt||o===null||Qi(o,o.return)),s.flags&32){p=s.stateNode;try{_n(p,"")}catch(pe){Je(s,s.return,pe)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,Dp(s,p,o!==null?o.memoizedProps:p)),c&1024&&(Mp=!0);break;case 6:if(Tn(r,s),En(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(pe){Je(s,s.return,pe)}}break;case 3:if(_f=null,p=vi,vi=yf(r.containerInfo),Tn(r,s),vi=p,En(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Yo(r.containerInfo)}catch(pe){Je(s,s.return,pe)}Mp&&(Mp=!1,Jb(s));break;case 4:c=vi,vi=yf(s.stateNode.containerInfo),Tn(r,s),En(s),vi=c;break;case 12:Tn(r,s),En(s);break;case 31:Tn(r,s),En(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nf(s,c)));break;case 13:Tn(r,s),En(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rf=mn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nf(s,c)));break;case 22:p=s.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,K=Ss,Z=kt;if(Ss=K||p,kt=Z||j,Tn(r,s),kt=Z,Ss=K,En(s),c&8192)e:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||j||Ss||kt||Oa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=j.stateNode;var se=j.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;x.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){Je(j,j.return,pe)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(pe){Je(j,j.return,pe)}}}else if(r.tag===18){if(o===null){j=r;try{var X=j.stateNode;p?BT(X,!0):BT(j.stateNode,!1)}catch(pe){Je(j,j.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,nf(s,o))));break;case 19:Tn(r,s),En(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nf(s,c)));break;case 30:break;case 21:break;default:Tn(r,s),En(s)}}function En(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(Hb(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,g=Op(s);tf(s,g,p);break;case 5:var T=o.stateNode;o.flags&32&&(_n(T,""),o.flags&=-33);var x=Op(s);tf(s,x,T);break;case 3:case 4:var j=o.stateNode.containerInfo,K=Op(s);Pp(s,K,j);break;default:throw Error(i(161))}}catch(Z){Je(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Jb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Jb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Rs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Gb(s,r.alternate,r),r=r.sibling}function Oa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:hr(4,r,r.return),Oa(r);break;case 1:Qi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Bb(r,r.return,o),Oa(r);break;case 27:Vu(r.stateNode);case 26:case 5:Qi(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}s=s.sibling}}function Cs(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Cs(p,g,o),Au(4,g);break;case 1:if(Cs(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){Je(c,c.return,K)}if(c=g,p=c.updateQueue,p!==null){var x=c.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)N_(j[p],x)}catch(K){Je(c,c.return,K)}}o&&T&64&&zb(g),Ru(g,g.return);break;case 27:qb(g);case 26:case 5:Cs(p,g,o),o&&c===null&&T&4&&Fb(g),Ru(g,g.return);break;case 12:Cs(p,g,o);break;case 31:Cs(p,g,o),o&&T&4&&Qb(p,g);break;case 13:Cs(p,g,o),o&&T&4&&Wb(p,g);break;case 22:g.memoizedState===null&&Cs(p,g,o),Ru(g,g.return);break;case 30:break;default:Cs(p,g,o)}r=r.sibling}}function kp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&du(o))}function Vp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&du(s))}function _i(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zb(s,r,o,c),r=r.sibling}function Zb(s,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:_i(s,r,o,c),p&2048&&Au(9,r);break;case 1:_i(s,r,o,c);break;case 3:_i(s,r,o,c),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&du(s)));break;case 12:if(p&2048){_i(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,x=g.onPostCommit;typeof x=="function"&&x(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){Je(r,r.return,j)}}else _i(s,r,o,c);break;case 31:_i(s,r,o,c);break;case 13:_i(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?_i(s,r,o,c):Cu(s,r):g._visibility&2?_i(s,r,o,c):(g._visibility|=2,Lo(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&kp(T,r);break;case 24:_i(s,r,o,c),p&2048&&Vp(r.alternate,r);break;default:_i(s,r,o,c)}}function Lo(s,r,o,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,T=r,x=o,j=c,K=T.flags;switch(T.tag){case 0:case 11:case 15:Lo(g,T,x,j,p),Au(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Lo(g,T,x,j,p):Cu(g,T):(Z._visibility|=2,Lo(g,T,x,j,p)),p&&K&2048&&kp(T.alternate,T);break;case 24:Lo(g,T,x,j,p),p&&K&2048&&Vp(T.alternate,T);break;default:Lo(g,T,x,j,p)}r=r.sibling}}function Cu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,p=c.flags;switch(c.tag){case 22:Cu(o,c),p&2048&&kp(c.alternate,c);break;case 24:Cu(o,c),p&2048&&Vp(c.alternate,c);break;default:Cu(o,c)}r=r.sibling}}var Nu=8192;function jo(s,r,o){if(s.subtreeFlags&Nu)for(s=s.child;s!==null;)eT(s,r,o),s=s.sibling}function eT(s,r,o){switch(s.tag){case 26:jo(s,r,o),s.flags&Nu&&s.memoizedState!==null&&SI(o,vi,s.memoizedState,s.memoizedProps);break;case 5:jo(s,r,o);break;case 3:case 4:var c=vi;vi=yf(s.stateNode.containerInfo),jo(s,r,o),vi=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Nu,Nu=16777216,jo(s,r,o),Nu=c):jo(s,r,o));break;default:jo(s,r,o)}}function tT(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Iu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Kt=c,iT(c,s)}tT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nT(s),s=s.sibling}function nT(s){switch(s.tag){case 0:case 11:case 15:Iu(s),s.flags&2048&&hr(9,s,s.return);break;case 3:Iu(s);break;case 12:Iu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,sf(s)):Iu(s);break;default:Iu(s)}}function sf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Kt=c,iT(c,s)}tT(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:hr(8,r,r.return),sf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,sf(r));break;default:sf(r)}s=s.sibling}}function iT(s,r){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:hr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:du(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kt=c;else e:for(o=s;Kt!==null;){c=Kt;var p=c.sibling,g=c.return;if(Kb(c),c===o){Kt=null;break e}if(p!==null){p.return=g,Kt=p;break e}Kt=g}}}var zN={getCacheForType:function(s){var r=en(Ot),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return en(Ot).controller.signal}},BN=typeof WeakMap=="function"?WeakMap:Map,Ke=0,at=null,ke=null,Le=0,Xe=0,kn=null,fr=!1,Uo=!1,Lp=!1,Ns=0,_t=0,dr=0,Pa=0,jp=0,Vn=0,zo=0,Du=null,wn=null,Up=!1,rf=0,sT=0,af=1/0,of=null,mr=null,Bt=0,pr=null,Bo=null,Is=0,zp=0,Bp=null,rT=null,Ou=0,Fp=null;function Ln(){return(Ke&2)!==0&&Le!==0?Le&-Le:J.T!==null?Yp():oh()}function aT(){if(Vn===0)if((Le&536870912)===0||Fe){var s=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),Vn=s}else Vn=536870912;return s=Pn.current,s!==null&&(s.flags|=32),Vn}function xn(s,r,o){(s===at&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)&&(Fo(s,0),gr(s,Le,Vn,!1)),oa(s,o),((Ke&2)===0||s!==at)&&(s===at&&((Ke&2)===0&&(Pa|=o),_t===4&&gr(s,Le,Vn,!1)),Wi(s))}function oT(s,r,o){if((Ke&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||ui(s,r),p=c?qN(s,r):qp(s,r,!0),g=c;do{if(p===0){Uo&&!c&&gr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!FN(o)){p=qp(s,r,!1),g=!1;continue}if(p===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var x=s;p=Du;var j=x.current.memoizedState.isDehydrated;if(j&&(Fo(x,T).flags|=256),T=qp(x,T,!1),T!==2){if(Lp&&!j){x.errorRecoveryDisabledLanes|=g,Pa|=g,p=4;break e}g=wn,wn=p,g!==null&&(wn===null?wn=g:wn.push.apply(wn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Fo(s,0),gr(s,r,0,!0);break}e:{switch(c=s,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:gr(c,r,Vn,!fr);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=rf+300-mn(),10<p)){if(gr(c,r,Vn,!fr),Oi(c,0,!0)!==0)break e;Is=r,c.timeoutHandle=jT(lT.bind(null,c,o,wn,of,Up,r,Vn,Pa,zo,fr,g,"Throttled",-0,0),p);break e}lT(c,o,wn,of,Up,r,Vn,Pa,zo,fr,g,null,-0,0)}}break}while(!0);Wi(s)}function lT(s,r,o,c,p,g,T,x,j,K,Z,se,Y,X){if(s.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},eT(r,g,se);var pe=(g&62914560)===g?rf-mn():(g&4194048)===g?sT-mn():0;if(pe=AI(se,pe),pe!==null){Is=g,s.cancelPendingCommit=pe(gT.bind(null,s,r,g,o,c,p,T,x,j,Z,se,null,Y,X)),gr(s,g,T,!K);return}}gT(s,r,g,o,c,p,T,x,j)}function FN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!Dn(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gr(s,r,o,c){r&=~jp,r&=~Pa,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var p=r;0<p;){var g=31-Et(p),T=1<<g;c[g]=-1,p&=~T}o!==0&&la(s,o,r)}function lf(){return(Ke&6)===0?(Pu(0),!1):!0}function Hp(){if(ke!==null){if(Xe===0)var s=ke.return;else s=ke,_s=xa=null,rp(s),Oo=null,pu=0,s=ke;for(;s!==null;)Ub(s.alternate,s),s=s.return;ke=null}}function Fo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,lI(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Is=0,Hp(),at=s,ke=o=ys(s.current,null),Le=r,Xe=0,kn=null,fr=!1,Uo=ui(s,r),Lp=!1,zo=Vn=jp=Pa=dr=_t=0,wn=Du=null,Up=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var p=31-Et(c),g=1<<p;r|=s[p],c&=~g}return Ns=r,Ch(),o}function uT(s,r){Oe=null,J.H=wu,r===Do||r===Vh?(r=S_(),Xe=3):r===Km?(r=S_(),Xe=4):Xe=r===Tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,ke===null&&(_t=1,Wh(s,Qn(r,s.current)))}function cT(){var s=Pn.current;return s===null?!0:(Le&4194048)===Le?Zn===null:(Le&62914560)===Le||(Le&536870912)!==0?s===Zn:!1}function hT(){var s=J.H;return J.H=wu,s===null?wu:s}function fT(){var s=J.A;return J.A=zN,s}function uf(){_t=4,fr||(Le&4194048)!==Le&&Pn.current!==null||(Uo=!0),(dr&134217727)===0&&(Pa&134217727)===0||at===null||gr(at,Le,Vn,!1)}function qp(s,r,o){var c=Ke;Ke|=2;var p=hT(),g=fT();(at!==s||Le!==r)&&(of=null,Fo(s,r)),r=!1;var T=_t;e:do try{if(Xe!==0&&ke!==null){var x=ke,j=kn;switch(Xe){case 8:Hp(),T=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var K=Xe;if(Xe=0,kn=null,Ho(s,x,j,K),o&&Uo){T=0;break e}break;default:K=Xe,Xe=0,kn=null,Ho(s,x,j,K)}}HN(),T=_t;break}catch(Z){uT(s,Z)}while(!0);return r&&s.shellSuspendCounter++,_s=xa=null,Ke=c,J.H=p,J.A=g,ke===null&&(at=null,Le=0,Ch()),T}function HN(){for(;ke!==null;)dT(ke)}function qN(s,r){var o=Ke;Ke|=2;var c=hT(),p=fT();at!==s||Le!==r?(of=null,af=mn()+500,Fo(s,r)):Uo=ui(s,r);e:do try{if(Xe!==0&&ke!==null){r=ke;var g=kn;t:switch(Xe){case 1:Xe=0,kn=null,Ho(s,r,g,1);break;case 2:case 9:if(w_(g)){Xe=0,kn=null,mT(r);break}r=function(){Xe!==2&&Xe!==9||at!==s||(Xe=7),Wi(s)},g.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:w_(g)?(Xe=0,kn=null,mT(r)):(Xe=0,kn=null,Ho(s,r,g,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var x=ke;if(T?ZT(T):x.stateNode.complete){Xe=0,kn=null;var j=x.sibling;if(j!==null)ke=j;else{var K=x.return;K!==null?(ke=K,cf(K)):ke=null}break t}}Xe=0,kn=null,Ho(s,r,g,5);break;case 6:Xe=0,kn=null,Ho(s,r,g,6);break;case 8:Hp(),_t=6;break e;default:throw Error(i(462))}}$N();break}catch(Z){uT(s,Z)}while(!0);return _s=xa=null,J.H=c,J.A=p,Ke=o,ke!==null?0:(at=null,Le=0,Ch(),_t)}function $N(){for(;ke!==null&&!bm();)dT(ke)}function dT(s){var r=Lb(s.alternate,s,Ns);s.memoizedProps=s.pendingProps,r===null?cf(s):ke=r}function mT(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Db(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Db(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:rp(r);default:Ub(o,r),r=ke=f_(r,Ns),r=Lb(o,r,Ns)}s.memoizedProps=s.pendingProps,r===null?cf(s):ke=r}function Ho(s,r,o,c){_s=xa=null,rp(r),Oo=null,pu=0;var p=r.return;try{if(PN(s,p,r,o,Le)){_t=1,Wh(s,Qn(o,s.current)),ke=null;return}}catch(g){if(p!==null)throw ke=p,g;_t=1,Wh(s,Qn(o,s.current)),ke=null;return}r.flags&32768?(Fe||c===1?s=!0:Uo||(Le&536870912)!==0?s=!1:(fr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),pT(r,s)):cf(r)}function cf(s){var r=s;do{if((r.flags&32768)!==0){pT(r,fr);return}s=r.return;var o=VN(r.alternate,r,Ns);if(o!==null){ke=o;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=s}while(r!==null);_t===0&&(_t=5)}function pT(s,r){do{var o=LN(s.alternate,s);if(o!==null){o.flags&=32767,ke=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){ke=s;return}ke=s=o}while(s!==null);_t=6,ke=null}function gT(s,r,o,c,p,g,T,x,j){s.cancelPendingCommit=null;do hf();while(Bt!==0);if((Ke&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Om,wm(s,o,g,T,x,j),s===at&&(ke=at=null,Le=0),Bo=r,pr=s,Is=o,zp=g,Bp=p,rT=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,QN(Gs,function(){return TT(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,p=oe.p,oe.p=2,T=Ke,Ke|=4;try{jN(s,r,o)}finally{Ke=T,oe.p=p,J.T=c}}Bt=1,yT(),vT(),_T()}}function yT(){if(Bt===1){Bt=0;var s=pr,r=Bo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=oe.p;oe.p=2;var p=Ke;Ke|=4;try{Xb(r,s);var g=ng,T=i_(s.containerInfo),x=g.focusedElem,j=g.selectionRange;if(T!==x&&x&&x.ownerDocument&&n_(x.ownerDocument.documentElement,x)){if(j!==null&&Rm(x)){var K=j.start,Z=j.end;if(Z===void 0&&(Z=K),"selectionStart"in x)x.selectionStart=K,x.selectionEnd=Math.min(Z,x.value.length);else{var se=x.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),pe=x.textContent.length,be=Math.min(j.start,pe),rt=j.end===void 0?be:Math.min(j.end,pe);!X.extend&&be>rt&&(T=rt,rt=be,be=T);var H=t_(x,be),U=t_(x,rt);if(H&&U&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var G=se.createRange();G.setStart(H.node,H.offset),X.removeAllRanges(),be>rt?(X.addRange(G),X.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),X.addRange(G))}}}}for(se=[],X=x;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<se.length;x++){var ne=se[x];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}wf=!!tg,ng=tg=null}finally{Ke=p,oe.p=c,J.T=o}}s.current=r,Bt=2}}function vT(){if(Bt===2){Bt=0;var s=pr,r=Bo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=oe.p;oe.p=2;var p=Ke;Ke|=4;try{Gb(s,r.alternate,r)}finally{Ke=p,oe.p=c,J.T=o}}Bt=3}}function _T(){if(Bt===4||Bt===3){Bt=0,eh();var s=pr,r=Bo,o=Is,c=rT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Bo=pr=null,bT(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(mr=null),ds(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,p=oe.p,oe.p=2,J.T=null;try{for(var g=s.onRecoverableError,T=0;T<c.length;T++){var x=c[T];g(x.value,{componentStack:x.stack})}}finally{J.T=r,oe.p=p}}(Is&3)!==0&&hf(),Wi(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Fp?Ou++:(Ou=0,Fp=s):Ou=0,Pu(0)}}function bT(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,du(r)))}function hf(){return yT(),vT(),_T(),TT()}function TT(){if(Bt!==5)return!1;var s=pr,r=zp;zp=0;var o=ds(Is),c=J.T,p=oe.p;try{oe.p=32>o?32:o,J.T=null,o=Bp,Bp=null;var g=pr,T=Is;if(Bt=0,Bo=pr=null,Is=0,(Ke&6)!==0)throw Error(i(331));var x=Ke;if(Ke|=4,nT(g.current),Zb(g,g.current,T,o),Ke=x,Pu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{oe.p=p,J.T=c,bT(s,r)}}function ET(s,r,o){r=Qn(o,r),r=bp(s.stateNode,r,2),s=lr(s,r,2),s!==null&&(oa(s,2),Wi(s))}function Je(s,r,o){if(s.tag===3)ET(s,s,o);else for(;r!==null;){if(r.tag===3){ET(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mr===null||!mr.has(c))){s=Qn(o,s),o=wb(2),c=lr(r,o,2),c!==null&&(xb(o,c,r,s),oa(c,2),Wi(c));break}}r=r.return}}function $p(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new BN;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(Lp=!0,p.add(o),s=GN.bind(null,s,r,o),r.then(s,s))}function GN(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,at===s&&(Le&o)===o&&(_t===4||_t===3&&(Le&62914560)===Le&&300>mn()-rf?(Ke&2)===0&&Fo(s,0):jp|=o,zo===Le&&(zo=0)),Wi(s)}function wT(s,r){r===0&&(r=ah()),s=Ta(s,r),s!==null&&(oa(s,r),Wi(s))}function KN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),wT(s,o)}function YN(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),wT(s,o)}function QN(s,r){return zt(s,r)}var ff=null,qo=null,Gp=!1,df=!1,Kp=!1,yr=0;function Wi(s){s!==qo&&s.next===null&&(qo===null?ff=qo=s:qo=qo.next=s),df=!0,Gp||(Gp=!0,XN())}function Pu(s,r){if(!Kp&&df){Kp=!0;do for(var o=!1,c=ff;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,x=c.pingedLanes;g=(1<<31-Et(42|s)+1)-1,g&=p&~(T&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,RT(c,g))}else g=Le,g=Oi(c,c===at?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ui(c,g)||(o=!0,RT(c,g));c=c.next}while(o);Kp=!1}}function WN(){xT()}function xT(){df=Gp=!1;var s=0;yr!==0&&oI()&&(s=yr);for(var r=mn(),o=null,c=ff;c!==null;){var p=c.next,g=ST(c,r);g===0?(c.next=null,o===null?ff=p:o.next=p,p===null&&(qo=o)):(o=c,(s!==0||(g&3)!==0)&&(df=!0)),c=p}Bt!==0&&Bt!==5||Pu(s),yr!==0&&(yr=0)}function ST(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-Et(g),x=1<<T,j=p[T];j===-1?((x&o)===0||(x&c)!==0)&&(p[T]=Em(x,r)):j<=r&&(s.expiredLanes|=x),g&=~x}if(r=at,o=Le,o=Oi(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&$s(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ui(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&$s(c),ds(o)){case 2:case 8:o=Hl;break;case 32:o=Gs;break;case 268435456:o=th;break;default:o=Gs}return c=AT.bind(null,s),o=zt(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&$s(c),s.callbackPriority=2,s.callbackNode=null,2}function AT(s,r){if(Bt!==0&&Bt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(hf()&&s.callbackNode!==o)return null;var c=Le;return c=Oi(s,s===at?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(oT(s,c,r),ST(s,mn()),s.callbackNode!=null&&s.callbackNode===o?AT.bind(null,s):null)}function RT(s,r){if(hf())return null;oT(s,r,!0)}function XN(){uI(function(){(Ke&6)!==0?zt(Fl,WN):xT()})}function Yp(){if(yr===0){var s=No;s===0&&(s=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),yr=s}return yr}function CT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:mo(""+s)}function NT(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function JN(s,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var g=CT((p[$t]||null).action),T=c.submitter;T&&(r=(r=T[$t]||null)?CT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var x=new Hi("action","action",null,c,p);s.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(yr!==0){var j=T?NT(p,T):new FormData(p);mp(o,{pending:!0,data:j,method:p.method,action:g},null,j)}}else typeof g=="function"&&(x.preventDefault(),j=T?NT(p,T):new FormData(p),mp(o,{pending:!0,data:j,method:p.method,action:g},g,j))},currentTarget:p}]})}}for(var Qp=0;Qp<Dm.length;Qp++){var Wp=Dm[Qp],ZN=Wp.toLowerCase(),eI=Wp[0].toUpperCase()+Wp.slice(1);yi(ZN,"on"+eI)}yi(a_,"onAnimationEnd"),yi(o_,"onAnimationIteration"),yi(l_,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(gN,"onTransitionRun"),yi(yN,"onTransitionStart"),yi(vN,"onTransitionCancel"),yi(u_,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function IT(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],p=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var x=c[T],j=x.instance,K=x.currentTarget;if(x=x.listener,j!==g&&p.isPropagationStopped())break e;g=x,p.currentTarget=K;try{g(p)}catch(Z){Rh(Z)}p.currentTarget=null,g=j}else for(T=0;T<c.length;T++){if(x=c[T],j=x.instance,K=x.currentTarget,x=x.listener,j!==g&&p.isPropagationStopped())break e;g=x,p.currentTarget=K;try{g(p)}catch(Z){Rh(Z)}p.currentTarget=null,g=j}}}}function Ve(s,r){var o=r[lo];o===void 0&&(o=r[lo]=new Set);var c=s+"__bubble";o.has(c)||(DT(r,s,2,!1),o.add(c))}function Xp(s,r,o){var c=0;r&&(c|=4),DT(o,s,c,r)}var mf="_reactListening"+Math.random().toString(36).slice(2);function Jp(s){if(!s[mf]){s[mf]=!0,Gl.forEach(function(o){o!=="selectionchange"&&(tI.has(o)||Xp(o,!1,s),Xp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[mf]||(r[mf]=!0,Xp("selectionchange",!1,r))}}function DT(s,r,o,c){switch(aE(r)){case 2:var p=NI;break;case 8:p=II;break;default:p=dg}o=p.bind(null,r,o,s),p=void 0,!da||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function Zp(s,r,o,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var x=c.stateNode.containerInfo;if(x===p)break;if(T===4)for(T=c.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;x!==null;){if(T=Vi(x),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){c=g=T;continue e}x=x.parentNode}}c=c.return}Js(function(){var K=g,Z=$n(o),se=[];e:{var Y=c_.get(s);if(Y!==void 0){var X=Hi,pe=s;switch(s){case"keypress":if(pa(o)===0)break e;case"keydown":case"keyup":X=xh;break;case"focusin":pe="focus",X=ya;break;case"focusout":pe="blur",X=ya;break;case"beforeblur":case"afterblur":X=ya;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case a_:case o_:case l_:X=yh;break;case u_:X=R;break;case"scroll":case"scrollend":X=su;break;case"wheel":X=W;break;case"copy":case"cut":case"paste":X=vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=gs;break;case"toggle":case"beforetoggle":X=De}var be=(r&4)!==0,rt=!be&&(s==="scroll"||s==="scrollend"),H=be?Y!==null?Y+"Capture":null:Y;be=[];for(var U=K,G;U!==null;){var ne=U;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||H===null||(ne=di(U,H),ne!=null&&be.push(ku(U,ne,G))),rt)break;U=U.return}0<be.length&&(Y=new X(Y,pe,null,o,Z),se.push({event:Y,listeners:be}))}}if((r&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",Y&&o!==tu&&(pe=o.relatedTarget||o.fromElement)&&(Vi(pe)||pe[Mi]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(pe=o.relatedTarget||o.toElement,X=K,pe=pe?Vi(pe):null,pe!==null&&(rt=l(pe),be=pe.tag,pe!==rt||be!==5&&be!==27&&be!==6)&&(pe=null)):(X=null,pe=K),X!==pe)){if(be=ru,ne="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(be=gs,ne="onPointerLeave",H="onPointerEnter",U="pointer"),rt=X==null?Y:Nn(X),G=pe==null?Y:Nn(pe),Y=new be(ne,U+"leave",X,o,Z),Y.target=rt,Y.relatedTarget=G,ne=null,Vi(Z)===K&&(be=new be(H,U+"enter",pe,o,Z),be.target=G,be.relatedTarget=rt,ne=be),rt=ne,X&&pe)t:{for(be=nI,H=X,U=pe,G=0,ne=H;ne;ne=be(ne))G++;ne=0;for(var _e=U;_e;_e=be(_e))ne++;for(;0<G-ne;)H=be(H),G--;for(;0<ne-G;)U=be(U),ne--;for(;G--;){if(H===U||U!==null&&H===U.alternate){be=H;break t}H=be(H),U=be(U)}be=null}else be=null;X!==null&&OT(se,Y,X,be,!1),pe!==null&&rt!==null&&OT(se,rt,pe,be,!0)}}e:{if(Y=K?Nn(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var qe=Q0;else if(K0(Y))if(W0)qe=dN;else{qe=hN;var ge=cN}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&fo(K.elementType)&&(qe=Q0):qe=fN;if(qe&&(qe=qe(s,K))){Y0(se,qe,o,Z);break e}ge&&ge(s,Y,K),s==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Jl(Y,"number",Y.value)}switch(ge=K?Nn(K):window,s){case"focusin":(K0(ge)||ge.contentEditable==="true")&&(To=ge,Cm=K,cu=null);break;case"focusout":cu=Cm=To=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,s_(se,o,Z);break;case"selectionchange":if(pN)break;case"keydown":case"keyup":s_(se,o,Z)}var Pe;if(Ge)e:{switch(s){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else bo?va(s,o)&&(je="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Gi&&o.locale!=="ko"&&(bo||je!=="onCompositionStart"?je==="onCompositionEnd"&&bo&&(Pe=iu()):(Fi=Z,nu="value"in Fi?Fi.value:Fi.textContent,bo=!0)),ge=pf(K,je),0<ge.length&&(je=new $i(je,s,null,o,Z),se.push({event:je,listeners:ge}),Pe?je.data=Pe:(Pe=_o(o),Pe!==null&&(je.data=Pe)))),(Pe=Kn?aN(s,o):oN(s,o))&&(je=pf(K,"onBeforeInput"),0<je.length&&(ge=new $i("onBeforeInput","beforeinput",null,o,Z),se.push({event:ge,listeners:je}),ge.data=Pe)),JN(se,s,K,o,Z)}IT(se,r)})}function ku(s,r,o){return{instance:s,listener:r,currentTarget:o}}function pf(s,r){for(var o=r+"Capture",c=[];s!==null;){var p=s,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=di(s,o),p!=null&&c.unshift(ku(s,p,g)),p=di(s,r),p!=null&&c.push(ku(s,p,g))),s.tag===3)return c;s=s.return}return[]}function nI(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function OT(s,r,o,c,p){for(var g=r._reactName,T=[];o!==null&&o!==c;){var x=o,j=x.alternate,K=x.stateNode;if(x=x.tag,j!==null&&j===c)break;x!==5&&x!==26&&x!==27||K===null||(j=K,p?(K=di(o,g),K!=null&&T.unshift(ku(o,K,j))):p||(K=di(o,g),K!=null&&T.push(ku(o,K,j)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var iI=/\r\n?/g,sI=/\u0000|\uFFFD/g;function PT(s){return(typeof s=="string"?s:""+s).replace(iI,`
`).replace(sI,"")}function MT(s,r){return r=PT(r),PT(s)===r}function st(s,r,o,c,p,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||_n(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&_n(s,""+c);break;case"className":In(s,"class",c);break;case"tabIndex":In(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":In(s,o,c);break;case"style":eu(s,c,g);break;case"data":if(r!=="object"){In(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=mo(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&st(s,r,"name",p.name,p,null),st(s,r,"formEncType",p.formEncType,p,null),st(s,r,"formMethod",p.formMethod,p,null),st(s,r,"formTarget",p.formTarget,p,null)):(st(s,r,"encType",p.encType,p,null),st(s,r,"method",p.method,p,null),st(s,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=mo(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=fi);break;case"onScroll":c!=null&&Ve("scroll",s);break;case"onScrollEnd":c!=null&&Ve("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=mo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":Ve("beforetoggle",s),Ve("toggle",s),co(s,"popover",c);break;case"xlinkActuate":Dt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Dt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Dt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Dt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Dt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Dt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Dt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":co(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=mh.get(o)||o,co(s,o,c))}}function eg(s,r,o,c,p,g){switch(o){case"style":eu(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?_n(s,c):(typeof c=="number"||typeof c=="bigint")&&_n(s,""+c);break;case"onScroll":c!=null&&Ve("scroll",s);break;case"onScrollEnd":c!=null&&Ve("scrollend",s);break;case"onClick":c!=null&&(s.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=s[$t]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,p);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):co(s,o,c)}}}function nn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",s),Ve("load",s);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,g,T,o,null)}}p&&st(s,r,"srcSet",o.srcSet,o,null),c&&st(s,r,"src",o.src,o,null);return;case"input":Ve("invalid",s);var x=g=T=p=null,j=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":p=Z;break;case"type":T=Z;break;case"checked":j=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:st(s,r,c,Z,o,null)}}hh(s,g,x,j,K,T,p,!1);return;case"select":Ve("invalid",s),c=T=g=null;for(p in o)if(o.hasOwnProperty(p)&&(x=o[p],x!=null))switch(p){case"value":g=x;break;case"defaultValue":T=x;break;case"multiple":c=x;default:st(s,r,p,x,o,null)}r=g,o=T,s.multiple=!!c,r!=null?Ys(s,!!c,r,!1):o!=null&&Ys(s,!!c,o,!0);return;case"textarea":Ve("invalid",s),g=p=c=null;for(T in o)if(o.hasOwnProperty(T)&&(x=o[T],x!=null))switch(T){case"value":c=x;break;case"defaultValue":p=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:st(s,r,T,x,o,null)}Qs(s,c,p,g);return;case"option":for(j in o)o.hasOwnProperty(j)&&(c=o[j],c!=null)&&(j==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":st(s,r,j,c,o,null));return;case"dialog":Ve("beforetoggle",s),Ve("toggle",s),Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":Ve("load",s);break;case"video":case"audio":for(c=0;c<Mu.length;c++)Ve(Mu[c],s);break;case"image":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"embed":case"source":case"link":Ve("error",s),Ve("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,K,c,o,null)}return;default:if(fo(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&eg(s,r,Z,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&st(s,r,x,c,o,null))}function rI(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,x=null,j=null,K=null,Z=null;for(X in o){var se=o[X];if(o.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=se;default:c.hasOwnProperty(X)||st(s,r,X,null,c,se)}}for(var Y in c){var X=c[Y];if(se=o[Y],c.hasOwnProperty(Y)&&(X!=null||se!=null))switch(Y){case"type":g=X;break;case"name":p=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:X!==se&&st(s,r,Y,X,c,se)}}ho(s,T,x,j,K,Z,g,p);return;case"select":X=T=x=Y=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":X=j;default:c.hasOwnProperty(g)||st(s,r,g,null,c,j)}for(p in c)if(g=c[p],j=o[p],c.hasOwnProperty(p)&&(g!=null||j!=null))switch(p){case"value":Y=g;break;case"defaultValue":x=g;break;case"multiple":T=g;default:g!==j&&st(s,r,p,g,c,j)}r=x,o=T,c=X,Y!=null?Ys(s,!!o,Y,!1):!!c!=!!o&&(r!=null?Ys(s,!!o,r,!0):Ys(s,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(x in o)if(p=o[x],o.hasOwnProperty(x)&&p!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:st(s,r,x,null,c,p)}for(T in c)if(p=c[T],g=o[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":Y=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&st(s,r,T,p,c,g)}fh(s,Y,X);return;case"option":for(var pe in o)Y=o[pe],o.hasOwnProperty(pe)&&Y!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?s.selected=!1:st(s,r,pe,null,c,Y));for(j in c)Y=c[j],X=o[j],c.hasOwnProperty(j)&&Y!==X&&(Y!=null||X!=null)&&(j==="selected"?s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":st(s,r,j,Y,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)Y=o[be],o.hasOwnProperty(be)&&Y!=null&&!c.hasOwnProperty(be)&&st(s,r,be,null,c,Y);for(K in c)if(Y=c[K],X=o[K],c.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:st(s,r,K,Y,c,X)}return;default:if(fo(r)){for(var rt in o)Y=o[rt],o.hasOwnProperty(rt)&&Y!==void 0&&!c.hasOwnProperty(rt)&&eg(s,r,rt,void 0,c,Y);for(Z in c)Y=c[Z],X=o[Z],!c.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||eg(s,r,Z,Y,c,X);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!c.hasOwnProperty(H)&&st(s,r,H,null,c,Y);for(se in c)Y=c[se],X=o[se],!c.hasOwnProperty(se)||Y===X||Y==null&&X==null||st(s,r,se,Y,c,X)}function kT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aI(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,T=p.initiatorType,x=p.duration;if(g&&x&&kT(T)){for(T=0,x=p.responseEnd,c+=1;c<o.length;c++){var j=o[c],K=j.startTime;if(K>x)break;var Z=j.transferSize,se=j.initiatorType;Z&&kT(se)&&(j=j.responseEnd,T+=Z*(j<x?1:(x-K)/(j-K)))}if(--c,r+=8*(g+T)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var tg=null,ng=null;function gf(s){return s.nodeType===9?s:s.ownerDocument}function VT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LT(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function ig(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sg=null;function oI(){var s=window.event;return s&&s.type==="popstate"?s===sg?!1:(sg=s,!0):(sg=null,!1)}var jT=typeof setTimeout=="function"?setTimeout:void 0,lI=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,uI=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(s){return UT.resolve(null).then(s).catch(cI)}:jT;function cI(s){setTimeout(function(){throw s})}function vr(s){return s==="head"}function zT(s,r){var o=r,c=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(p),Yo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Vu(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Vu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,x=g.nodeName;g[ki]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Vu(s.ownerDocument.body);o=p}while(o);Yo(r)}function BT(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function rg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rg(o),uo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function hI(s,r,o,c){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[ki])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=ei(s.nextSibling),s===null)break}return null}function fI(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ei(s.nextSibling),s===null))return null;return s}function FT(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ei(s.nextSibling),s===null))return null;return s}function ag(s){return s.data==="$?"||s.data==="$~"}function og(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function dI(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ei(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var lg=null;function HT(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ei(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function qT(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function $T(s,r,o){switch(r=gf(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Vu(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);uo(s)}var ti=new Map,GT=new Set;function yf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ds=oe.d;oe.d={f:mI,r:pI,D:gI,C:yI,L:vI,m:_I,X:TI,S:bI,M:EI};function mI(){var s=Ds.f(),r=lf();return s||r}function pI(s){var r=qn(s);r!==null&&r.tag===5&&r.type==="form"?ub(r):Ds.r(s)}var $o=typeof document>"u"?null:document;function KT(s,r,o){var c=$o;if(c&&typeof r=="string"&&r){var p=vn(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),GT.has(p)||(GT.add(p),s={rel:s,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),nn(r,"link",s),It(r),c.head.appendChild(r)))}}function gI(s){Ds.D(s),KT("dns-prefetch",s,null)}function yI(s,r){Ds.C(s,r),KT("preconnect",s,r)}function vI(s,r,o){Ds.L(s,r,o);var c=$o;if(c&&s&&r){var p='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+vn(o.imageSizes)+'"]')):p+='[href="'+vn(s)+'"]';var g=p;switch(r){case"style":g=Go(s);break;case"script":g=Ko(s)}ti.has(g)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ti.set(g,s),c.querySelector(p)!==null||r==="style"&&c.querySelector(Lu(g))||r==="script"&&c.querySelector(ju(g))||(r=c.createElement("link"),nn(r,"link",s),It(r),c.head.appendChild(r)))}}function _I(s,r){Ds.m(s,r);var o=$o;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(s)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ko(s)}if(!ti.has(g)&&(s=v({rel:"modulepreload",href:s},r),ti.set(g,s),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ju(g)))return}c=o.createElement("link"),nn(c,"link",s),It(c),o.head.appendChild(c)}}}function bI(s,r,o){Ds.S(s,r,o);var c=$o;if(c&&s){var p=Li(c).hoistableStyles,g=Go(s);r=r||"default";var T=p.get(g);if(!T){var x={loading:0,preload:null};if(T=c.querySelector(Lu(g)))x.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ti.get(g))&&ug(s,o);var j=T=c.createElement("link");It(j),nn(j,"link",s),j._p=new Promise(function(K,Z){j.onload=K,j.onerror=Z}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,vf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:x},p.set(g,T)}}}function TI(s,r){Ds.X(s,r);var o=$o;if(o&&s){var c=Li(o).hoistableScripts,p=Ko(s),g=c.get(p);g||(g=o.querySelector(ju(p)),g||(s=v({src:s,async:!0},r),(r=ti.get(p))&&cg(s,r),g=o.createElement("script"),It(g),nn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function EI(s,r){Ds.M(s,r);var o=$o;if(o&&s){var c=Li(o).hoistableScripts,p=Ko(s),g=c.get(p);g||(g=o.querySelector(ju(p)),g||(s=v({src:s,async:!0,type:"module"},r),(r=ti.get(p))&&cg(s,r),g=o.createElement("script"),It(g),nn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function YT(s,r,o,c){var p=(p=Ee.current)?yf(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Go(o.href),o=Li(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Go(o.href);var g=Li(p).hoistableStyles,T=g.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=p.querySelector(Lu(s)))&&!g._p&&(T.instance=g,T.state.loading=5),ti.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(s,o),g||wI(p,s,o,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ko(o),o=Li(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Go(s){return'href="'+vn(s)+'"'}function Lu(s){return'link[rel="stylesheet"]['+s+"]"}function QT(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function wI(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),nn(r,"link",o),It(r),s.head.appendChild(r))}function Ko(s){return'[src="'+vn(s)+'"]'}function ju(s){return"script[async]"+s}function WT(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+vn(o.href)+'"]');if(c)return r.instance=c,It(c),c;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),It(c),nn(c,"style",p),vf(c,o.precedence,s),r.instance=c;case"stylesheet":p=Go(o.href);var g=s.querySelector(Lu(p));if(g)return r.state.loading|=4,r.instance=g,It(g),g;c=QT(o),(p=ti.get(p))&&ug(c,p),g=(s.ownerDocument||s).createElement("link"),It(g);var T=g;return T._p=new Promise(function(x,j){T.onload=x,T.onerror=j}),nn(g,"link",c),r.state.loading|=4,vf(g,o.precedence,s),r.instance=g;case"script":return g=Ko(o.src),(p=s.querySelector(ju(g)))?(r.instance=p,It(p),p):(c=o,(p=ti.get(g))&&(c=v({},o),cg(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),It(p),nn(p,"link",c),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,vf(c,o.precedence,s));return r.instance}function vf(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var x=c[T];if(x.dataset.precedence===r)g=x;else if(g!==p)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function ug(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function cg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var _f=null;function XT(s,r,o){if(_f===null){var c=new Map,p=_f=new Map;p.set(o,c)}else p=_f,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var g=o[p];if(!(g[ki]||g[Nt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var x=c.get(T);x?x.push(g):c.set(T,[g])}}return c}function JT(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function xI(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ZT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function SI(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Go(c.href),g=r.querySelector(Lu(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=bf.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,It(g);return}g=r.ownerDocument||r,c=QT(c),(p=ti.get(p))&&ug(c,p),g=g.createElement("link"),It(g);var T=g;T._p=new Promise(function(x,j){T.onload=x,T.onerror=j}),nn(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=bf.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var hg=0;function AI(s,r){return s.stylesheets&&s.count===0&&Ef(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&Ef(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&hg===0&&(hg=62500*aI());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ef(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>hg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function bf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ef(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Tf=null;function Ef(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Tf=new Map,r.forEach(RI,s),Tf=null,bf.call(s))}function RI(s,r){if(!(r.state.loading&4)){var o=Tf.get(s);if(o)var c=o.get(null);else{o=new Map,Tf.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}p=r.instance,T=p.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,p),o.set(T,p),this.count++,c=bf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Uu={$$typeof:q,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function CI(s,r,o,c,p,g,T,x,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function eE(s,r,o,c,p,g,T,x,j,K,Z,se){return s=new CI(s,r,o,T,j,K,Z,se,x),r=1,g===!0&&(r|=24),g=On(3,null,null,r),s.current=g,g.stateNode=s,r=qm(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Ym(g),s}function tE(s){return s?(s=xo,s):xo}function nE(s,r,o,c,p,g){p=tE(p),c.context===null?c.context=p:c.pendingContext=p,c=or(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=lr(s,c,r),o!==null&&(xn(o,s,r),yu(o,s,r))}function iE(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function fg(s,r){iE(s,r),(s=s.alternate)&&iE(s,r)}function sE(s){if(s.tag===13||s.tag===31){var r=Ta(s,67108864);r!==null&&xn(r,s,67108864),fg(s,67108864)}}function rE(s){if(s.tag===13||s.tag===31){var r=Ln();r=ua(r);var o=Ta(s,r);o!==null&&xn(o,s,r),fg(s,r)}}var wf=!0;function NI(s,r,o,c){var p=J.T;J.T=null;var g=oe.p;try{oe.p=2,dg(s,r,o,c)}finally{oe.p=g,J.T=p}}function II(s,r,o,c){var p=J.T;J.T=null;var g=oe.p;try{oe.p=8,dg(s,r,o,c)}finally{oe.p=g,J.T=p}}function dg(s,r,o,c){if(wf){var p=mg(c);if(p===null)Zp(s,r,c,xf,o),oE(s,c);else if(OI(p,s,r,o,c))c.stopPropagation();else if(oE(s,c),r&4&&-1<DI.indexOf(s)){for(;p!==null;){var g=qn(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Di(g.pendingLanes);if(T!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var j=1<<31-Et(T);x.entanglements[1]|=j,T&=~j}Wi(g),(Ke&6)===0&&(af=mn()+500,Pu(0))}}break;case 31:case 13:x=Ta(g,2),x!==null&&xn(x,g,2),lf(),fg(g,2)}if(g=mg(c),g===null&&Zp(s,r,c,xf,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Zp(s,r,c,null,o)}}function mg(s){return s=$n(s),pg(s)}var xf=null;function pg(s){if(xf=null,s=Vi(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return xf=s,null}function aE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ra()){case Fl:return 2;case Hl:return 8;case Gs:case Tm:return 32;case th:return 268435456;default:return 32}default:return 32}}var gg=!1,_r=null,br=null,Tr=null,zu=new Map,Bu=new Map,Er=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oE(s,r){switch(s){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":zu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(r.pointerId)}}function Fu(s,r,o,c,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=qn(r),r!==null&&sE(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function OI(s,r,o,c,p){switch(r){case"focusin":return _r=Fu(_r,s,r,o,c,p),!0;case"dragenter":return br=Fu(br,s,r,o,c,p),!0;case"mouseover":return Tr=Fu(Tr,s,r,o,c,p),!0;case"pointerover":var g=p.pointerId;return zu.set(g,Fu(zu.get(g)||null,s,r,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Bu.set(g,Fu(Bu.get(g)||null,s,r,o,c,p)),!0}return!1}function lE(s){var r=Vi(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,ci(s.priority,function(){rE(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,ci(s.priority,function(){rE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=mg(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);tu=c,o.target.dispatchEvent(c),tu=null}else return r=qn(o),r!==null&&sE(r),s.blockedOn=o,!1;r.shift()}return!0}function uE(s,r,o){Sf(s)&&o.delete(r)}function PI(){gg=!1,_r!==null&&Sf(_r)&&(_r=null),br!==null&&Sf(br)&&(br=null),Tr!==null&&Sf(Tr)&&(Tr=null),zu.forEach(uE),Bu.forEach(uE)}function Af(s,r){s.blockedOn===r&&(s.blockedOn=null,gg||(gg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PI)))}var Rf=null;function cE(s){Rf!==s&&(Rf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rf===s&&(Rf=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],p=s[r+2];if(typeof c!="function"){if(pg(c||o)===null)continue;break}var g=qn(o);g!==null&&(s.splice(r,3),r-=3,mp(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Yo(s){function r(j){return Af(j,s)}_r!==null&&Af(_r,s),br!==null&&Af(br,s),Tr!==null&&Af(Tr,s),zu.forEach(r),Bu.forEach(r);for(var o=0;o<Er.length;o++){var c=Er[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Er.length&&(o=Er[0],o.blockedOn===null);)lE(o),o.blockedOn===null&&Er.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],T=p[$t]||null;if(typeof g=="function")T||cE(o);else if(T){var x=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[$t]||null)x=T.formAction;else if(pg(p)!==null)continue}else x=T.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),cE(o)}}}function hE(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function yg(s){this._internalRoot=s}Cf.prototype.render=yg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Ln();nE(o,c,s,r,null,null)},Cf.prototype.unmount=yg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;nE(s.current,2,null,s,null,null),lf(),r[Mi]=null}};function Cf(s){this._internalRoot=s}Cf.prototype.unstable_scheduleHydration=function(s){if(s){var r=oh();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Er.length&&r!==0&&r<Er[o].priority;o++);Er.splice(o,0,s),o===0&&lE(s)}};var fE=e.version;if(fE!=="19.2.3")throw Error(i(527,fE,"19.2.3"));oe.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var MI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{li=Nf.inject(MI),Xt=Nf}catch{}}return qu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",p=_b,g=bb,T=Tb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=eE(s,1,!1,null,null,o,c,null,p,g,T,hE),s[Mi]=r.current,Jp(s),new yg(r)},qu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,p="",g=_b,T=bb,x=Tb,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=eE(s,1,!0,r,o??null,c,p,j,g,T,x,hE),r.context=tE(null),o=r.current,c=Ln(),c=ua(c),p=or(c),p.callback=null,lr(o,p,c),o=c,r.current.lanes=o,oa(r,o),Wi(r),s[Mi]=r.current,Jp(s),new Cf(r)},qu.version="19.2.3",qu}var EE;function qI(){if(EE)return bg.exports;EE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bg.exports=HI(),bg.exports}var $I=qI();const Ae=t=>typeof t=="string",$u=()=>{let t,e;const n=new Promise((i,a)=>{t=i,e=a});return n.resolve=t,n.reject=e,n},wE=t=>t==null?"":""+t,GI=(t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},KI=/###/g,xE=t=>t&&t.indexOf("###")>-1?t.replace(KI,"."):t,SE=t=>!t||Ae(t),nc=(t,e,n)=>{const i=Ae(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(SE(t))return{};const l=xE(i[a]);!t[l]&&n&&(t[l]=new n),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={},++a}return SE(t)?{}:{obj:t,k:xE(i[a])}},AE=(t,e,n)=>{const{obj:i,k:a}=nc(t,e,Object);if(i!==void 0||e.length===1){i[a]=n;return}let l=e[e.length-1],u=e.slice(0,e.length-1),h=nc(t,u,Object);for(;h.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),h=nc(t,u,Object),h?.obj&&typeof h.obj[`${h.k}.${l}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${l}`]=n},YI=(t,e,n,i)=>{const{obj:a,k:l}=nc(t,e,Object);a[l]=a[l]||[],a[l].push(n)},sd=(t,e)=>{const{obj:n,k:i}=nc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},QI=(t,e,n)=>{const i=sd(t,n);return i!==void 0?i:sd(e,n)},lS=(t,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?Ae(t[i])||t[i]instanceof String||Ae(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):lS(t[i],e[i],n):t[i]=e[i]);return t},Qo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var WI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const XI=t=>Ae(t)?t.replace(/[&<>"'\/]/g,e=>WI[e]):t;class JI{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const ZI=[" ",",","?","!",";"],eD=new JI(20),tD=(t,e,n)=>{e=e||"",n=n||"";const i=ZI.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(i.length===0)return!0;const a=eD.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!a.test(t);if(!l){const u=t.indexOf(n);u>0&&!a.test(t.substring(0,u))&&(l=!0)}return l},oy=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const i=e.split(n);let a=t;for(let l=0;l<i.length;){if(!a||typeof a!="object")return;let u,h="";for(let d=l;d<i.length;++d)if(d!==l&&(h+=n),h+=i[d],u=a[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<i.length-1)continue;l+=d-l+1;break}a=u}return a},pc=t=>t?.replace("_","-"),nD={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};let iD=class ly{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||nD,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,a){return a&&!this.debug?null:(Ae(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ly(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ly(this.logger,e)}};var es=new iD;class zd{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(n)||0;this.observers[i].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a.apply(a,[e,...n])})}}class RE extends zd{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,n],i&&(Array.isArray(i)?h.push(...i):Ae(i)&&l?h.push(...i.split(l)):h.push(i)));const d=sd(this.data,h);return!d&&!n&&!i&&e.indexOf(".")>-1&&(e=h[0],n=h[1],i=h.slice(2).join(".")),d||!u||!Ae(i)?d:oy(this.data?.[e]?.[n],i,l)}addResource(e,n,i,a,l={silent:!1}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let h=[e,n];i&&(h=h.concat(u?i.split(u):i)),e.indexOf(".")>-1&&(h=e.split("."),a=n,n=h[1]),this.addNamespaces(n),AE(this.data,h,a),l.silent||this.emit("added",e,n,i,a)}addResources(e,n,i,a={silent:!1}){for(const l in i)(Ae(i[l])||Array.isArray(i[l]))&&this.addResource(e,n,l,i[l],{silent:!0});a.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,a,l,u={silent:!1,skipCopy:!1}){let h=[e,n];e.indexOf(".")>-1&&(h=e.split("."),a=i,i=n,n=h[1]),this.addNamespaces(n);let d=sd(this.data,h)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?lS(d,i,l):d={...d,...i},AE(this.data,h,d),u.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var uS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,a){return t.forEach(l=>{e=this.processors[l]?.process(e,n,i,a)??e}),e}};const cS=Symbol("i18next/PATH_KEY");function sD(){const t=[],e=Object.create(null);let n;return e.get=(i,a)=>(n?.revoke?.(),a===cS?t:(t.push(a),n=Proxy.revocable(i,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function uy(t,e){const{[cS]:n}=t(sD());return n.join(e?.keySeparator??".")}const CE={},xg=t=>!Ae(t)&&typeof t!="boolean"&&typeof t!="number";class rd extends zd{constructor(e,n={}){super(),GI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=es.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const i={...n};if(e==null)return!1;const a=this.resolve(e,i);if(a?.res===void 0)return!1;const l=xg(a.res);return!(i.returnObjects===!1&&l)}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const u=i&&e.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!tD(e,i,a);if(u&&!h){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Ae(l)?[l]:l};const m=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(m[0])>-1)&&(l=m.shift()),e=m.join(a)}return{key:e,namespaces:Ae(l)?[l]:l}}translate(e,n,i){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=uy(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:d}=this.extractFromKey(e[e.length-1],a),m=d[d.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=a.lng||this.language,b=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return b?l?{res:`${m}${y}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:`${m}${y}${h}`:l?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:h;const S=this.resolve(e,a);let I=S?.res;const L=S?.usedKey||h,M=S?.exactUsedKey||h,z=["[object Number]","[object Function]","[object RegExp]"],F=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,q=!this.i18nFormat||this.i18nFormat.handleAsObject,te=a.count!==void 0&&!Ae(a.count),ie=rd.hasDefaultValue(a),ue=te?this.pluralResolver.getSuffix(v,a.count,a):"",C=a.ordinal&&te?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",A=te&&!a.ordinal&&a.count===0,N=A&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${ue}`]||a[`defaultValue${C}`]||a.defaultValue;let P=I;q&&!I&&ie&&(P=N);const k=xg(P),B=Object.prototype.toString.apply(P);if(q&&P&&k&&z.indexOf(B)<0&&!(Ae(F)&&Array.isArray(P))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(L,P,{...a,ns:d}):`key '${h} (${this.language})' returned an object instead of string.`;return l?(S.res=O,S.usedParams=this.getUsedParamsDetails(a),S):O}if(u){const O=Array.isArray(P),Ce=O?[]:{},Ye=O?M:L;for(const J in P)if(Object.prototype.hasOwnProperty.call(P,J)){const oe=`${Ye}${u}${J}`;ie&&!I?Ce[J]=this.translate(oe,{...a,defaultValue:xg(N)?N[J]:void 0,joinArrays:!1,ns:d}):Ce[J]=this.translate(oe,{...a,joinArrays:!1,ns:d}),Ce[J]===oe&&(Ce[J]=P[J])}I=Ce}}else if(q&&Ae(F)&&Array.isArray(I))I=I.join(F),I&&(I=this.extendTranslation(I,e,a,i));else{let O=!1,Ce=!1;!this.isValidLookup(I)&&ie&&(O=!0,I=N),this.isValidLookup(I)||(Ce=!0,I=h);const J=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ce?void 0:I,oe=ie&&N!==I&&this.options.updateMissing;if(Ce||O||oe){if(this.logger.log(oe?"updateKey":"missingKey",v,m,h,oe?N:I),u){const D=this.resolve(h,{...a,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let fe=[];const Te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Te&&Te[0])for(let D=0;D<Te.length;D++)fe.push(Te[D]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(a.lng||this.language):fe.push(a.lng||this.language);const ee=(D,Q,le)=>{const ce=ie&&le!==I?le:J;this.options.missingKeyHandler?this.options.missingKeyHandler(D,m,Q,ce,oe,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(D,m,Q,ce,oe,a),this.emit("missingKey",D,m,Q,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&te?fe.forEach(D=>{const Q=this.pluralResolver.getSuffixes(D,a);A&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(le=>{ee([D],h+le,a[`defaultValue${le}`]||N)})}):ee(fe,h,N))}I=this.extendTranslation(I,e,a,S,i),Ce&&I===h&&this.options.appendNamespaceToMissingKey&&(I=`${m}${y}${h}`),(Ce||O)&&this.options.parseMissingKeyHandler&&(I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${y}${h}`:h,O?I:void 0,a))}return l?(S.res=I,S.usedParams=this.getUsedParamsDetails(a),S):I}extendTranslation(e,n,i,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=Ae(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(d){const v=e.match(this.interpolator.nestingRegexp);m=v&&v.length}let y=i.replace&&!Ae(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,i.lng||this.language||a.usedLng,i),d){const v=e.match(this.interpolator.nestingRegexp),b=v&&v.length;m<b&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>l?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,h=Ae(u)?[u]:u;return e!=null&&h?.length&&i.applyPostProcessor!==!1&&(e=uS.handle(h,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,n={}){let i,a,l,u,h;return Ae(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(i))return;const m=this.extractFromKey(d,n),y=m.key;a=y;let v=m.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!Ae(n.count),S=b&&!n.ordinal&&n.count===0,I=n.context!==void 0&&(Ae(n.context)||typeof n.context=="number")&&n.context!=="",L=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(M=>{this.isValidLookup(i)||(h=M,!CE[`${L[0]}-${M}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(CE[`${L[0]}-${M}`]=!0,this.logger.warn(`key "${a}" for languages "${L.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),L.forEach(z=>{if(this.isValidLookup(i))return;u=z;const F=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(F,y,z,M,n);else{let te;b&&(te=this.pluralResolver.getSuffix(z,n.count,n));const ie=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(n.ordinal&&te.indexOf(ue)===0&&F.push(y+te.replace(ue,this.options.pluralSeparator)),F.push(y+te),S&&F.push(y+ie)),I){const C=`${y}${this.options.contextSeparator||"_"}${n.context}`;F.push(C),b&&(n.ordinal&&te.indexOf(ue)===0&&F.push(C+te.replace(ue,this.options.pluralSeparator)),F.push(C+te),S&&F.push(C+ie))}}let q;for(;q=F.pop();)this.isValidLookup(i)||(l=q,i=this.getResource(z,M,q,n))}))})}),{res:i,usedKey:a,exactUsedKey:l,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,i,a):this.resourceStore.getResource(e,n,i,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Ae(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const l of n)delete a[l]}return a}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}class NE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=es.create("languageUtils")}getScriptPartFromCode(e){if(e=pc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=pc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ae(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const a=this.getScriptPartFromCode(i);if(this.isSupportedCode(a))return n=a;const l=this.getLanguagePartFromCode(i);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(u=>{if(u===l)return u;if(!(u.indexOf("-")<0&&l.indexOf("-")<0)&&(u.indexOf("-")>0&&l.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===l||u.indexOf(l)===0&&l.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ae(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],l=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ae(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Ae(e)&&l(this.formatLanguageCode(e)),i.forEach(u=>{a.indexOf(u)<0&&l(this.formatLanguageCode(u))}),a}}const IE={zero:0,one:1,two:2,few:3,many:4,other:5},DE={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rD{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=es.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const i=pc(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),DE;if(!e.match(/-|_/))return DE;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,n)}return this.pluralRulesCache[l]=u,u}needsPlural(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,i={}){return this.getSuffixes(e,i).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((a,l)=>IE[a]-IE[l]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,i={}){const a=this.getRule(e,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,i))}}const OE=(t,e,n,i=".",a=!0)=>{let l=QI(t,e,n);return!l&&a&&Ae(n)&&(l=oy(t,n,i),l===void 0&&(l=oy(e,n,i))),l},Sg=t=>t.replace(/\$/g,"$$$$");class PE{constructor(e={}){this.logger=es.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:a,prefix:l,prefixEscaped:u,suffix:h,suffixEscaped:d,formatSeparator:m,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:S,nestingSuffix:I,nestingSuffixEscaped:L,nestingOptionsSeparator:M,maxReplaces:z,alwaysFormat:F}=e.interpolation;this.escape=n!==void 0?n:XI,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Qo(l):u||"{{",this.suffix=h?Qo(h):d||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=b?Qo(b):S||Qo("$t("),this.nestingSuffix=I?Qo(I):L||Qo(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=z||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,i,a){let l,u,h;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=S=>{if(S.indexOf(this.formatSeparator)<0){const z=OE(n,d,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(z,void 0,i,{...a,...n,interpolationkey:S}):z}const I=S.split(this.formatSeparator),L=I.shift().trim(),M=I.join(this.formatSeparator).trim();return this.format(OE(n,d,L,this.options.keySeparator,this.options.ignoreJSONStructure),M,i,{...a,...n,interpolationkey:L})};this.resetRegExp();const y=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>Sg(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?Sg(this.escape(S)):Sg(S)}].forEach(S=>{for(h=0;l=S.regex.exec(e);){const I=l[1].trim();if(u=m(I),u===void 0)if(typeof y=="function"){const M=y(e,l,a);u=Ae(M)?M:""}else if(a&&Object.prototype.hasOwnProperty.call(a,I))u="";else if(v){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${e}`),u="";else!Ae(u)&&!this.useRawValueToEscape&&(u=wE(u));const L=S.safeValue(u);if(e=e.replace(l[0],L),v?(S.regex.lastIndex+=u.length,S.regex.lastIndex-=l[0].length):S.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,n,i={}){let a,l,u;const h=(d,m)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const v=d.split(new RegExp(`${y}[ ]*{`));let b=`{${v[1]}`;d=v[0],b=this.interpolate(b,u);const S=b.match(/'/g),I=b.match(/"/g);((S?.length??0)%2===0&&!I||I.length%2!==0)&&(b=b.replace(/'/g,'"'));try{u=JSON.parse(b),m&&(u={...m,...u})}catch(L){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,L),`${d}${y}${b}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;a=this.nestingRegexp.exec(e);){let d=[];u={...i},u=u.replace&&!Ae(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const m=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(m!==-1&&(d=a[1].slice(m).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),a[1]=a[1].slice(0,m)),l=n(h.call(this,a[1].trim(),u),u),l&&a[0]===e&&!Ae(l))return l;Ae(l)||(l=wE(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),d.length&&(l=d.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const aD=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[h,...d]=u.split(":"),m=d.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();n[y]||(n[y]=m),m==="false"&&(n[y]=!1),m==="true"&&(n[y]=!0),isNaN(m)||(n[y]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},ME=t=>{const e={};return(n,i,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const u=i+JSON.stringify(l);let h=e[u];return h||(h=t(pc(i),a),e[u]=h),h(n)}},oD=t=>(e,n,i)=>t(pc(n),i)(e);class lD{constructor(e={}){this.logger=es.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?ME:oD;this.formats={number:i((a,l)=>{const u=new Intl.NumberFormat(a,{...l});return h=>u.format(h)}),currency:i((a,l)=>{const u=new Intl.NumberFormat(a,{...l,style:"currency"});return h=>u.format(h)}),datetime:i((a,l)=>{const u=new Intl.DateTimeFormat(a,{...l});return h=>u.format(h)}),relativetime:i((a,l)=>{const u=new Intl.RelativeTimeFormat(a,{...l});return h=>u.format(h,l.range||"day")}),list:i((a,l)=>{const u=new Intl.ListFormat(a,{...l});return h=>u.format(h)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=ME(n)}format(e,n,i,a={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(h=>h.indexOf(")")>-1)){const h=l.findIndex(d=>d.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,h)].join(this.formatSeparator)}return l.reduce((h,d)=>{const{formatName:m,formatOptions:y}=aD(d);if(this.formats[m]){let v=h;try{const b=a?.formatParams?.[a.interpolationkey]||{},S=b.locale||b.lng||a.locale||a.lng||i;v=this.formats[m](h,S,{...y,...a,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${m}`);return h},e)}}const uD=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class cD extends zd{constructor(e,n,i,a={}){super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=es.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,a.backend,a)}queueLoad(e,n,i,a){const l={},u={},h={},d={};return e.forEach(m=>{let y=!0;n.forEach(v=>{const b=`${m}|${v}`;!i.reload&&this.store.hasResourceBundle(m,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?u[b]===void 0&&(u[b]=!0):(this.state[b]=1,y=!1,u[b]===void 0&&(u[b]=!0),l[b]===void 0&&(l[b]=!0),d[v]===void 0&&(d[v]=!0)))}),y||(h[m]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(d)}}loaded(e,n,i){const a=e.split("|"),l=a[0],u=a[1];n&&this.emit("failedLoading",l,u,n),!n&&i&&this.store.addResourceBundle(l,u,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const h={};this.queue.forEach(d=>{YI(d.loaded,[l],u),uD(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(m=>{h[m]||(h[m]={});const y=d.loaded[m];y.length&&y.forEach(v=>{h[m][v]===void 0&&(h[m][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(d=>!d.done)}read(e,n,i,a=0,l=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:a,wait:l,callback:u});return}this.readingCalls++;const h=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,a+1,l*2,u)},l);return}u(m,y)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const m=d(e,n);m&&typeof m.then=="function"?m.then(y=>h(null,y)).catch(h):h(null,m)}catch(m){h(m)}return}return d(e,n,h)}prepareLoading(e,n,i={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ae(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ae(n)&&(n=[n]);const l=this.queueLoad(e,n,i,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e,n=""){const i=e.split("|"),a=i[0],l=i[1];this.read(a,l,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${n}loading namespace ${l} for language ${a} failed`,u),!u&&h&&this.logger.log(`${n}loaded namespace ${l} for language ${a}`,h),this.loaded(e,u,h)})}saveMissing(e,n,i,a,l,u={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...u,isUpdate:l},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,n,i,a,d):y=m(e,n,i,a),y&&typeof y.then=="function"?y.then(v=>h(null,v)).catch(h):h(null,y)}catch(y){h(y)}else m(e,n,i,a,h,d)}!e||!e[0]||this.store.addResource(e[0],n,i,a)}}}const kE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ae(t[1])&&(e.defaultValue=t[1]),Ae(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),VE=t=>(Ae(t.ns)&&(t.ns=[t.ns]),Ae(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ae(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),If=()=>{},hD=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ic extends zd{constructor(e={},n){if(super(),this.options=VE(e),this.services={},this.logger=es,this.modules={external:[]},hD(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ae(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=kE();this.options={...i,...this.options,...VE(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?es.init(a(this.modules.logger),this.options):es.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=lD;const y=new NE(this.options);this.store=new RE(this.options.resources,this.options);const v=this.services;v.logger=es,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new rD(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=a(m),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new PE(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new cD(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(S,...I)=>{this.emit(S,...I)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new rd(this.services,this.options),this.translator.on("*",(S,...I)=>{this.emit(S,...I)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,n||(n=If),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...y)=>this.store[m](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...y)=>(this.store[m](...y),this)});const h=$u(),d=()=>{const m=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),n(y,v)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),h}loadResources(e,n=If){let i=n;const a=Ae(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>u(d)),this.options.preload?.forEach?.(h=>u(h)),this.services.backendConnector.load(l,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(h)})}else i(null)}reloadResources(e,n,i){const a=$u();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=If),this.services.backendConnector.reload(e,n,l=>{a.resolve(),i(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&uS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const i=$u();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},l=(h,d)=>{d?this.isLanguageChangingTo===e&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...m)=>this.t(...m)),n&&n(h,(...m)=>this.t(...m))},u=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const d=Ae(h)?h:h&&h[0],m=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Ae(h)?[h]:h);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,y=>{l(y,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,n,i){const a=(l,u,...h)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([l,u].concat(h)):d={...u},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||a.keyPrefix);const m=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(l)?y=l.map(v=>(typeof v=="function"&&(v=uy(v,{...this.options,...u})),`${d.keyPrefix}${m}${v}`)):(typeof l=="function"&&(l=uy(l,{...this.options,...u})),y=d.keyPrefix?`${d.keyPrefix}${m}${l}`:l),this.t(y,d)};return Ae(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=i,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(h,d)=>{const m=this.services.backendConnector.state[`${h}|${d}`];return m===-1||m===0||m===2};if(n.precheck){const h=n.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,e)&&(!a||u(l,e)))}loadNamespaces(e,n){const i=$u();return this.options.ns?(Ae(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=$u();Ae(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=a.concat(l),this.loadResources(u=>{i.resolve(),n&&n(u)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new NE(kE());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const i=new ic(e,n);return i.createInstance=ic.createInstance,i}cloneInstance(e={},n=If){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new ic(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(h=>{l[h]=this[h]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i){const h=Object.keys(this.store.data).reduce((d,m)=>(d[m]={...this.store.data[m]},d[m]=Object.keys(d[m]).reduce((y,v)=>(y[v]={...d[m][v]},y),d[m]),d),{});l.store=new RE(h,a),l.services.resourceStore=l.store}return e.interpolation&&(l.services.interpolator=new PE(a)),l.translator=new rd(l.services,a),l.translator.on("*",(h,...d)=>{l.emit(h,...d)}),l.init(a,n),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dn=ic.createInstance();dn.createInstance;dn.dir;dn.init;dn.loadResources;dn.reloadResources;dn.use;dn.changeLanguage;dn.getFixedT;dn.t;dn.exists;dn.setDefaultNamespace;dn.hasLoadedNamespace;dn.loadNamespaces;dn.loadLanguages;const fD=(t,e,n,i)=>{const a=[n,{code:e,...i||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);$a(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},LE={},hS=(t,e,n,i)=>{$a(n)&&LE[n]||($a(n)&&(LE[n]=new Date),fD(t,e,n,i))},fS=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},cy=(t,e,n)=>{t.loadNamespaces(e,fS(t,n))},jE=(t,e,n,i)=>{if($a(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return cy(t,n,i);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,fS(t,i))},dD=(t,e,n={})=>!e.languages||!e.languages.length?(hS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,t))return!1}}),$a=t=>typeof t=="string",mD=t=>typeof t=="object"&&t!==null,pD=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gD={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},yD=t=>gD[t],vD=t=>t.replace(pD,yD);let hy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vD,transDefaultProps:void 0};const _D=(t={})=>{hy={...hy,...t}},bD=()=>hy;let dS;const TD=t=>{dS=t},ED=()=>dS,wD={type:"3rdParty",init(t){_D(t.options.react),TD(t)}},xD=V.createContext();class SD{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Ag={exports:{}},Rg={};var UE;function AD(){if(UE)return Rg;UE=1;var t=Ud();function e(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,a=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function h(v,b){var S=b(),I=i({inst:{value:S,getSnapshot:b}}),L=I[0].inst,M=I[1];return l(function(){L.value=S,L.getSnapshot=b,d(L)&&M({inst:L})},[v,S,b]),a(function(){return d(L)&&M({inst:L}),v(function(){d(L)&&M({inst:L})})},[v]),u(S),S}function d(v){var b=v.getSnapshot;v=v.value;try{var S=b();return!n(v,S)}catch{return!0}}function m(v,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Rg}var zE;function RD(){return zE||(zE=1,Ag.exports=AD()),Ag.exports}var CD=RD();const ND=(t,e)=>$a(e)?e:mD(e)&&$a(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,ID={t:ND,ready:!1},DD=()=>()=>{},Rl=(t,e={})=>{const{i18n:n}=e,{i18n:i,defaultNS:a}=V.useContext(xD)||{},l=n||i||ED();l&&!l.reportNamespaces&&(l.reportNamespaces=new SD),l||hS(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=V.useMemo(()=>({...bD(),...l?.options?.react,...e}),[l,e]),{useSuspense:h,keyPrefix:d}=u,m=a||l?.options?.defaultNS,y=$a(m)?[m]:m||["translation"],v=V.useMemo(()=>y,y);l?.reportNamespaces?.addUsedNamespaces?.(v);const b=V.useRef(0),S=V.useCallback(N=>{if(!l)return DD;const{bindI18n:P,bindI18nStore:k}=u,B=()=>{b.current+=1,N()};return P&&l.on(P,B),k&&l.store.on(k,B),()=>{P&&P.split(" ").forEach(O=>l.off(O,B)),k&&k.split(" ").forEach(O=>l.store.off(O,B))}},[l,u]),I=V.useRef(),L=V.useCallback(()=>{if(!l)return ID;const N=!!(l.isInitialized||l.initializedStoreOnce)&&v.every(Ye=>dD(Ye,l,u)),P=e.lng||l.language,k=b.current,B=I.current;if(B&&B.ready===N&&B.lng===P&&B.keyPrefix===d&&B.revision===k)return B;const Ce={t:l.getFixedT(P,u.nsMode==="fallback"?v:v[0],d),ready:N,lng:P,keyPrefix:d,revision:k};return I.current=Ce,Ce},[l,v,d,u,e.lng]),[M,z]=V.useState(0),{t:F,ready:q}=CD.useSyncExternalStore(S,L,L);V.useEffect(()=>{if(l&&!q&&!h){const N=()=>z(P=>P+1);e.lng?jE(l,e.lng,v,N):cy(l,v,N)}},[l,e.lng,v,q,h,M]);const te=l||{},ie=V.useRef(null),ue=V.useRef(),C=N=>{const P=Object.getOwnPropertyDescriptors(N);P.__original&&delete P.__original;const k=Object.create(Object.getPrototypeOf(N),P);if(!Object.prototype.hasOwnProperty.call(k,"__original"))try{Object.defineProperty(k,"__original",{value:N,writable:!1,enumerable:!1,configurable:!1})}catch{}return k},A=V.useMemo(()=>{const N=te,P=N?.language;let k=N;N&&(ie.current&&ie.current.__original===N?ue.current!==P?(k=C(N),ie.current=k,ue.current=P):k=ie.current:(k=C(N),ie.current=k,ue.current=P));const B=[F,k,q];return B.t=F,B.i18n=k,B.ready=q,B},[F,te,q,te.resolvedLanguage,te.language,te.languages]);if(l&&h&&!q)throw new Promise(N=>{const P=()=>N();e.lng?jE(l,e.lng,v,P):cy(l,v,P)});return A},{slice:OD,forEach:PD}=[];function MD(t){return PD.call(OD.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function kD(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const BE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,VD=function(t,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${t}=${a}`;if(i.maxAge>0){const u=i.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(u)}`}if(i.domain){if(!BE.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!BE.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(l+="; Partitioned"),l},FE={create(t,e,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),i&&(a.domain=i),document.cookie=VD(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let a=n[i];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var LD={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return FE.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:i,cookieDomain:a,cookieOptions:l}=e;n&&typeof document<"u"&&FE.create(n,t,i,a,l)}},jD={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let u=0;u<l.length;u++){const h=l[u].indexOf("=");h>0&&l[u].substring(0,h)===e&&(n=l[u].substring(h+1))}}return n}},UD={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,i;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const u=l.split("&");for(let h=0;h<u.length;h++){const d=u[h].indexOf("=");d>0&&u[h].substring(0,d)===e&&(i=u[h].substring(d+1))}}if(i)return i;if(!i&&n>-1){const u=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?u[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let Wo=null;const HE=()=>{if(Wo!==null)return Wo;try{if(Wo=typeof window<"u"&&window.localStorage!==null,!Wo)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Wo=!1}return Wo};var zD={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&HE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&HE()&&window.localStorage.setItem(n,t)}};let Xo=null;const qE=()=>{if(Xo!==null)return Xo;try{if(Xo=typeof window<"u"&&window.sessionStorage!==null,!Xo)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Xo=!1}return Xo};var BD={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&qE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&qE()&&window.sessionStorage.setItem(n,t)}},FD={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:a}=navigator;if(n)for(let l=0;l<n.length;l++)e.push(n[l]);i&&e.push(i),a&&e.push(a)}return e.length>0?e:void 0}},HD={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},qD={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},$D={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let mS=!1;try{document.cookie,mS=!0}catch{}const pS=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];mS||pS.splice(1,1);const GD=()=>({order:pS,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class gS{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=MD(n,this.options||{},GD()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(LD),this.addDetector(jD),this.addDetector(zD),this.addDetector(BD),this.addDetector(FD),this.addDetector(HD),this.addDetector(qD),this.addDetector($D),this.addDetector(UD)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(i=>{if(this.detectors[i]){let a=this.detectors[i].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(i=>i!=null&&!kD(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}gS.type="languageDetector";const KD={live_queue:"Live Queue",book_now:"Book Now",doctor_portal:"Doctor Portal"},YD={hero_title:"Modern Healthcare",hero_subtitle:"Simplified",hero_desc:"Skip the waiting room. Book your appointment online, track your queue status in real-time, and get notified when it's your turn.",start_booking:"Start Booking",view_live_queue:"View Live Queue",our_services:"Our Services",pricing_desc:"Transparent pricing for all your medical needs.",footer_copy:" 2025 MedicoQueue. All rights reserved. Professional Medical Management System.",services:{gen_con:"General Consultation",gen_con_desc:"Comprehensive health check and prescription.",follow_up:"Follow-up Visit",follow_up_desc:"Review of previous conditions and treatment progress.",special:"Special Procedures",special_desc:"Minor surgical procedures and specialized tests.",renewal:"Prescription Renewal",renewal_desc:"Quick renewal of ongoing medications."},details:"Details",from:"From"},QD={title:"Book an Appointment",subtitle:"Quick and easy booking in less than a minute.",patient_info:"Patient Information",placeholder_name:"Enter your full name",placeholder_phone:"+20 1xx xxx xxxx",date_label:"Preferred Date",date_hint:"Select a date to check availability and clinic hours.",submit_btn:"Confirm My Appointment",processing:"Processing...",status:{title:"Live Queue Status",desc:"Real-time availability and estimated waiting times for today.",patients_today:"Patients Today",estimated_wait:"Estimated Wait",total:"Total",minutes:"Minutes"},schedule:{title:"Clinic Schedule",open:"Open Now",closed:"Closed",hours:"Office Hours",location:"Location",phone:"Phone"},validation:{closed_day:"Sorry, the clinic is closed on {{day}}s.",capacity:"Sorry, we have reached the maximum number of bookings for this day.",slow_db:"The connection to the database is slow. Please refresh the page and try again.",timeout:"The connection to the database is slow. Please refresh the page and try again.",hours_exceeded:"Sorry, we cannot accept more bookings for this day as it exceeds clinic working hours.",db_error:"Database Error"},success:{title:"Booking Confirmed!",desc:"Your appointment has been successfully scheduled.",queue_number:"Your Queue Number",wait_time:"Estimated Wait",time_desc:"Please arrive 10 minutes before your appointment.",back_home:"Back to Home"}},WD={title:"Live Queue Updates",subtitle:"Track the current clinic status in real-time.",now_serving:"Now Serving",waiting:"Waiting",completed:"Completed",upcoming:"Upcoming Patients",up_next:"UP NEXT",no_pending:"No pending appointments for today.",scheduled_for:"Scheduled for",empty:"No bookings for today.",status:{pending:"Waiting",calling:"Calling",completed:"Completed"}},XD={title:"Doctor Portal",subtitle:"Sign in to manage your clinic and patients.",email_label:"Email Address",pass_label:"Password",sign_in:"Sign In",signing_in:"Signing in...",note:"Note: This portal is for authorized medical staff only.",error:"Invalid email or password. Please try again."},JD={title:"Patient Consultation",settings_btn:"Clinic Settings",call_next:"Call Next Patient",mark_completed:"Mark Completed",notes_title:"Clinical Notes & Diagnosis",notes_placeholder:"Start typing examination details, diagnosis, and treatment plan...",autosave:"Autosave Enabled",records_title:"Patient Records & Media",upload_btn:"Upload File",uploading:"Uploading...",drive_link_label:"Google Drive Folder/File Link",drive_link_placeholder:"Paste folder link for persistent storage...",no_records:"No records uploaded yet. Upload a prescription or test result.",next_app:"Next Appointment",quick_actions:"Quick Actions",med_history:"Medical History",print_pres:"Print Prescription",save_draft:"Save Case Draft",complete_con:"Complete Case",no_patient:"Select a patient from the queue to start consultation.",waiting_list:"Waiting List",no_waiting:"No patients waiting.",no_history:"No previous records found for this patient.",no_notes:"No clinical notes provided.",open_file:"Open full file",show_preview:"Show Preview",hide_preview:"Hide Preview",map_link:"Google Maps IFrame Link",get_link:"Get Link",map_placeholder:'Paste the <iframe src="..."> here...',map_hint:'Tip: Share > Embed a map > Copy HTML (only the URL inside src="")',patients_hour:"Patients / Hour",daily_cap:"Daily Capacity",weekly_schedule:"Weekly Schedule & Hours",to:"to",clinic_info:"Clinic Public Info",exit_session:"Exit Session",consultation_saved:"Consultation completed and records saved permanentely.",records_found:"Previous Records",print_hint:"Generate & Print",sidebar:{queue:"Queue",serving:"Now Serving",logout:"Logout"}},ZD={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},eO={cancel:"Cancel",save:"Save",full_name:"Full Name",whatsapp_number:"WhatsApp Number",preferred_date:"Preferred Date"},tO={nav:KD,home:YD,booking:QD,live_queue:WD,login:XD,dashboard:JD,days:ZD,labels:eO},nO={live_queue:" ",book_now:" ",doctor_portal:" "},iO={hero_title:"  ",hero_subtitle:" ",hero_desc:"  .               .",start_booking:" ",view_live_queue:"  ",our_services:"",pricing_desc:"    .",footer_copy:" 2025 MedicoQueue.   .    .",services:{gen_con:" ",gen_con_desc:"    .",follow_up:" ",follow_up_desc:"     .",special:" ",special_desc:"    .",renewal:" ",renewal_desc:"   ."},details:"",from:""},sO={title:" ",subtitle:"      .",patient_info:" ",placeholder_name:"  ",placeholder_phone:"+20 1xx xxx xxxx",date_label:" ",date_hint:"      .",submit_btn:" ",processing:" ...",status:{title:"  ",desc:"       .",patients_today:" ",estimated_wait:" ",total:"",minutes:""},schedule:{title:"  ",open:" ",closed:"",hours:" ",location:"",phone:""},validation:{closed_day:"    {{day}}.",capacity:"       .",slow_db:"   .      .",timeout:"   .      .",hours_exceeded:"            .",db_error:"   "},success:{title:"  !",desc:"   .",queue_number:" ",wait_time:" ",time_desc:"     10 .",back_home:" "}},rO={title:"  ",subtitle:"      .",now_serving:"  ",waiting:" ",completed:"",upcoming:" ",up_next:"",no_pending:"    .",scheduled_for:" ",empty:"   .",status:{pending:" ",calling:" ",completed:""}},aO={title:" ",subtitle:"    .",email_label:" ",pass_label:" ",sign_in:" ",signing_in:" ...",note:":        .",error:"      .   ."},oO={title:" ",settings_btn:" ",call_next:"  ",mark_completed:" ",notes_title:"  ",notes_placeholder:"      ...",autosave:"  ",records_title:"  ",upload_btn:" ",uploading:" ...",drive_link_label:" /  ",drive_link_placeholder:"    ...",no_records:"    .      .",next_app:" ",quick_actions:" ",med_history:" ",print_pres:" ",save_draft:"  ",complete_con:" ",no_patient:"     .",waiting_list:" ",no_waiting:"    .",no_history:"       .",no_notes:"    .",open_file:"  ",show_preview:" ",hide_preview:" ",map_link:"   (IFrame)",get_link:"  ",map_placeholder:'  <iframe src="..."> ...',map_hint:':  >   >   HTML (   src="")',patients_hour:" / ",daily_cap:" ",weekly_schedule:"   ",to:"",clinic_info:"  ",exit_session:" ",consultation_saved:"      .",records_found:" ",print_hint:" ",sidebar:{queue:" ",serving:" ",logout:" "}},lO={monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""},uO={cancel:"",save:"",full_name:" ",whatsapp_number:" ",preferred_date:" "},cO={nav:nO,home:iO,booking:sO,live_queue:rO,login:aO,dashboard:oO,days:lO,labels:uO};dn.use(gS).use(wD).init({resources:{en:{translation:tO},ar:{translation:cO}},fallbackLng:"ar",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const yS=dn.language||"ar";document.documentElement.dir=yS.startsWith("ar")?"rtl":"ltr";document.documentElement.lang=yS;var $E="popstate";function hO(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:d=""}=Ja(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),fy("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,m=d.indexOf("#");h=m===-1?d:d.slice(0,m)}return h+"#"+(typeof l=="string"?l:gc(l))}function i(a,l){Bn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return dO(e,n,i,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fO(){return Math.random().toString(36).substring(2,10)}function GE(t,e){return{usr:t.state,key:t.key,idx:e}}function fy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ja(e):e,state:n,key:e&&e.key||i||fO()}}function gc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ja(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function dO(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let M=y(),z=M==null?null:M-m;m=M,d&&d({action:h,location:L.location,delta:z})}function b(M,z){h="PUSH";let F=fy(L.location,M,z);n&&n(F,M),m=y()+1;let q=GE(F,m),te=L.createHref(F);try{u.pushState(q,"",te)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(te)}l&&d&&d({action:h,location:L.location,delta:1})}function S(M,z){h="REPLACE";let F=fy(L.location,M,z);n&&n(F,M),m=y();let q=GE(F,m),te=L.createHref(F);u.replaceState(q,"",te),l&&d&&d({action:h,location:L.location,delta:0})}function I(M){return mO(M)}let L={get action(){return h},get location(){return t(a,u)},listen(M){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener($E,v),d=M,()=>{a.removeEventListener($E,v),d=null}},createHref(M){return e(a,M)},createURL:I,encodeLocation(M){let z=I(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:b,replace:S,go(M){return u.go(M)}};return L}function mO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:gc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function vS(t,e,n="/"){return pO(t,e,n,!1)}function pO(t,e,n,i){let a=typeof e=="string"?Ja(e):e,l=Ls(a.pathname||"/",n);if(l==null)return null;let u=_S(t);gO(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=RO(l);h=SO(u[d],m,i)}return h}function _S(t,e=[],n=[],i="",a=!1){let l=(u,h,d=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;mt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Ms([i,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),_S(u.children,e,b,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:wO(v,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of bS(u.path))l(u,h,!0,d)}),e}function bS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=bS(i.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function gO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var yO=/^:[\w-]+$/,vO=3,_O=2,bO=1,TO=10,EO=-2,KE=t=>t==="*";function wO(t,e){let n=t.split("/"),i=n.length;return n.some(KE)&&(i+=EO),e&&(i+=_O),n.filter(a=>!KE(a)).reduce((a,l)=>a+(yO.test(l)?vO:l===""?bO:TO),i)}function xO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function SO(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=ad({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),b=d.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=ad({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Ms([l,v.pathname]),pathnameBase:DO(Ms([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Ms([l,v.pathnameBase]))}return u}function ad(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=AO(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let I=h[b]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const S=h[b];return v&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function AO(t,e=!1,n=!0){Bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function RO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var TS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CO=t=>TS.test(t);function NO(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Ja(t):t,l;if(n)if(CO(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=YE(n.substring(1),"/"):l=YE(n,e)}else l=e;return{pathname:l,search:OO(i),hash:PO(a)}}function YE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Cg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hv(t){let e=IO(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function fv(t,e,n,i=!1){let a;typeof t=="string"?a=Ja(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),Cg("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Cg("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Cg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}h=v>=0?e[v]:"/"}let d=NO(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),DO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,MO=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function kO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function VO(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ES=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wS(t,e){let n=t;if(typeof n!="string"||!TS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(ES)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Ls(u.pathname,e);u.origin===l.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{Bn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xS=["POST","PUT","PATCH","DELETE"];new Set(xS);var LO=["GET",...xS];new Set(LO);var Cl=V.createContext(null);Cl.displayName="DataRouter";var Bd=V.createContext(null);Bd.displayName="DataRouterState";var jO=V.createContext(!1),SS=V.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var UO=V.createContext(new Map);UO.displayName="Fetchers";var zO=V.createContext(null);zO.displayName="Await";var Fn=V.createContext(null);Fn.displayName="Navigation";var Dc=V.createContext(null);Dc.displayName="Location";var cs=V.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var dv=V.createContext(null);dv.displayName="RouteError";var AS="REACT_ROUTER_ERROR",BO="REDIRECT",FO="ROUTE_ERROR_RESPONSE";function HO(t){if(t.startsWith(`${AS}:${BO}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qO(t){if(t.startsWith(`${AS}:${FO}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new MO(e.status,e.statusText,e.data)}catch{}}function $O(t,{relative:e}={}){mt(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(Fn),{hash:a,pathname:l,search:u}=Pc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ms([n,l])),i.createHref({pathname:h,search:u,hash:a})}function Nl(){return V.useContext(Dc)!=null}function Xr(){return mt(Nl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Dc).location}var RS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(t){V.useContext(Fn).static||V.useLayoutEffect(t)}function Oc(){let{isDataRoute:t}=V.useContext(cs);return t?sP():GO()}function GO(){mt(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Cl),{basename:e,navigator:n}=V.useContext(Fn),{matches:i}=V.useContext(cs),{pathname:a}=Xr(),l=JSON.stringify(hv(i)),u=V.useRef(!1);return CS(()=>{u.current=!0}),V.useCallback((d,m={})=>{if(Bn(u.current,RS),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=fv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ms([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,a,t])}V.createContext(null);function Pc(t,{relative:e}={}){let{matches:n}=V.useContext(cs),{pathname:i}=Xr(),a=JSON.stringify(hv(n));return V.useMemo(()=>fv(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function KO(t,e){return NS(t,e)}function NS(t,e,n,i,a){mt(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(Fn),{matches:u}=V.useContext(cs),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let F=v&&v.path||"";DS(m,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=Xr(),S;if(e){let F=typeof e=="string"?Ja(e):e;mt(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=b;let I=S.pathname||"/",L=I;if(y!=="/"){let F=y.replace(/^\//,"").split("/");L="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=vS(t,{pathname:L});Bn(v||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=JO(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Ms([y,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:Ms([y,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,i,a);return e&&z?V.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function YO(){let t=iP(),e=kO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var QO=V.createElement(YO,null),IS=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=qO(t.digest);n&&(t=n)}let e=t!==void 0?V.createElement(cs.Provider,{value:this.props.routeContext},V.createElement(dv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?V.createElement(WO,{error:t},e):e}};IS.contextType=jO;var Ng=new WeakMap;function WO({children:t,error:e}){let{basename:n}=V.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=HO(e.digest);if(i){let a=Ng.get(e);if(a)throw a;let l=wS(i.location,n);if(ES&&!Ng.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ng.set(e,u),u}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function XO({routeContext:t,match:e,children:n}){let i=V.useContext(Cl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(cs.Provider,{value:t},n)}function JO(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);mt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:b,errors:S}=n,I=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||I){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&i?(y,v)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:VO(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,b)=>{let S,I=!1,L=null,M=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,L=v.route.errorElement||QO,h&&(d<0&&b===0?(DS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):d===b&&(I=!0,M=v.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,b+1)),F=()=>{let q;return S?q=L:I?q=M:v.route.Component?q=V.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=y,V.createElement(XO,{match:v,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?V.createElement(IS,{location:n.location,revalidation:n.revalidation,component:L,error:S,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:m}):F()},null)}function mv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZO(t){let e=V.useContext(Cl);return mt(e,mv(t)),e}function eP(t){let e=V.useContext(Bd);return mt(e,mv(t)),e}function tP(t){let e=V.useContext(cs);return mt(e,mv(t)),e}function pv(t){let e=tP(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nP(){return pv("useRouteId")}function iP(){let t=V.useContext(dv),e=eP("useRouteError"),n=pv("useRouteError");return t!==void 0?t:e.errors?.[n]}function sP(){let{router:t}=ZO("useNavigate"),e=pv("useNavigate"),n=V.useRef(!1);return CS(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{Bn(n.current,RS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var QE={};function DS(t,e,n){!e&&!QE[t]&&(QE[t]=!0,Bn(!1,n))}V.memo(rP);function rP({routes:t,future:e,state:n,onError:i}){return NS(t,void 0,n,i,e)}function WE({to:t,replace:e,state:n,relative:i}){mt(Nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(Fn);Bn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(cs),{pathname:u}=Xr(),h=Oc(),d=fv(t,hv(l),u,i==="path"),m=JSON.stringify(d);return V.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function Zo(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aP({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){mt(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[h,a,l,u]);typeof n=="string"&&(n=Ja(n));let{pathname:m="/",search:y="",hash:v="",state:b=null,key:S="default"}=n,I=V.useMemo(()=>{let L=Ls(m,h);return L==null?null:{location:{pathname:L,search:y,hash:v,state:b,key:S},navigationType:i}},[h,m,y,v,b,S,i]);return Bn(I!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:V.createElement(Fn.Provider,{value:d},V.createElement(Dc.Provider,{children:e,value:I}))}function oP({children:t,location:e}){return KO(dy(t),e)}function dy(t,e=[]){let n=[];return V.Children.forEach(t,(i,a)=>{if(!V.isValidElement(i))return;let l=[...e,a];if(i.type===V.Fragment){n.push.apply(n,dy(i.props.children,l));return}mt(i.type===Zo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=dy(i.props.children,l)),n.push(u)}),n}var Hf="get",qf="application/x-www-form-urlencoded";function Fd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function lP(t){return Fd(t)&&t.tagName.toLowerCase()==="button"}function uP(t){return Fd(t)&&t.tagName.toLowerCase()==="form"}function cP(t){return Fd(t)&&t.tagName.toLowerCase()==="input"}function hP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fP(t,e){return t.button===0&&(!e||e==="_self")&&!hP(t)}var Df=null;function dP(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var mP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(t){return t!=null&&!mP.has(t)?(Bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):t}function pP(t,e){let n,i,a,l,u;if(uP(t)){let h=t.getAttribute("action");i=h?Ls(h,e):null,n=t.getAttribute("method")||Hf,a=Ig(t.getAttribute("enctype"))||qf,l=new FormData(t)}else if(lP(t)||cP(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?Ls(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Hf,a=Ig(t.getAttribute("formenctype"))||Ig(h.getAttribute("enctype"))||qf,l=new FormData(h,t),!dP()){let{name:m,type:y,value:v}=t;if(y==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,v)}}else{if(Fd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hf,i=null,a=qf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gP(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Ls(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function yP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _P(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await yP(l,n);return u.links?u.links():[]}return[]}));return wP(i.flat(1).filter(vP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function XE(t,e,n,i,a,l){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function bP(t,e,{includeHydrateFallback:n}={}){return TP(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function TP(t){return[...new Set(t)]}function EP(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function wP(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(EP(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function OS(){let t=V.useContext(Cl);return gv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xP(){let t=V.useContext(Bd);return gv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yv=V.createContext(void 0);yv.displayName="FrameworkContext";function PS(){let t=V.useContext(yv);return gv(t,"You must render this element inside a <HydratedRouter> element"),t}function SP(t,e){let n=V.useContext(yv),[i,a]=V.useState(!1),[l,u]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,b=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=z=>{z.forEach(F=>{u(F.isIntersecting)})},M=new IntersectionObserver(L,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[t]),V.useEffect(()=>{if(i){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[i]);let S=()=>{a(!0)},I=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Gu(h,S),onBlur:Gu(d,I),onMouseEnter:Gu(m,S),onMouseLeave:Gu(y,I),onTouchStart:Gu(v,S)}]:[!1,b,{}]}function Gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AP({page:t,...e}){let{router:n}=OS(),i=V.useMemo(()=>vS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(CP,{page:t,matches:i,...e}):null}function RP(t){let{manifest:e,routeModules:n}=PS(),[i,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return _P(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function CP({page:t,matches:e,...n}){let i=Xr(),{manifest:a,routeModules:l}=PS(),{basename:u}=OS(),{loaderData:h,matches:d}=xP(),m=V.useMemo(()=>XE(t,e,d,a,i,"data"),[t,e,d,a,i]),y=V.useMemo(()=>XE(t,e,d,a,i,"assets"),[t,e,d,a,i]),v=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,L=!1;if(e.forEach(z=>{let F=a.routes[z.route.id];!F||!F.hasLoader||(!m.some(q=>q.route.id===z.route.id)&&z.route.id in h&&l[z.route.id]?.shouldRevalidate||F.hasClientLoader?L=!0:I.add(z.route.id))}),I.size===0)return[];let M=gP(t,u,"data");return L&&I.size>0&&M.searchParams.set("_routes",e.filter(z=>I.has(z.route.id)).map(z=>z.route.id).join(",")),[M.pathname+M.search]},[u,h,i,a,m,e,t,l]),b=V.useMemo(()=>bP(y,a),[y,a]),S=RP(y);return V.createElement(V.Fragment,null,v.map(I=>V.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),b.map(I=>V.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),S.map(({key:I,link:L})=>V.createElement("link",{key:I,nonce:n.nonce,...L})))}function NP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IP&&(window.__reactRouterVersion="7.11.0")}catch{}function DP({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=V.useRef();a.current==null&&(a.current=hO({window:i,v5Compat:!0}));let l=a.current,[u,h]=V.useState({action:l.action,location:l.location}),d=V.useCallback(m=>{n===!1?h(m):V.startTransition(()=>h(m))},[n]);return V.useLayoutEffect(()=>l.listen(d),[l,d]),V.createElement(aP,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ja=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b,...S},I){let{basename:L,unstable_useTransitions:M}=V.useContext(Fn),z=typeof m=="string"&&MS.test(m),F=wS(m,L);m=F.to;let q=$O(m,{relative:a}),[te,ie,ue]=SP(i,S),C=kP(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:M});function A(P){e&&e(P),P.defaultPrevented||C(P)}let N=V.createElement("a",{...S,...ue,href:F.absoluteURL||q,onClick:F.isExternal||l?e:A,ref:NP(I,ie),target:d,"data-discover":!z&&n==="render"?"true":void 0});return te&&!z?V.createElement(V.Fragment,null,N,V.createElement(AP,{page:q})):N});ja.displayName="Link";var OP=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...m},y){let v=Pc(u,{relative:m.relative}),b=Xr(),S=V.useContext(Bd),{navigator:I,basename:L}=V.useContext(Fn),M=S!=null&&zP(v)&&h===!0,z=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,F=b.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&L&&(q=Ls(q,L)||q);const te=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ie=F===z||!a&&F.startsWith(z)&&F.charAt(te)==="/",ue=q!=null&&(q===z||!a&&q.startsWith(z)&&q.charAt(z.length)==="/"),C={isActive:ie,isPending:ue,isTransitioning:M},A=ie?e:void 0,N;typeof i=="function"?N=i(C):N=[i,ie?"active":null,ue?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return V.createElement(ja,{...m,"aria-current":A,className:N,ref:y,style:P,to:u,viewTransition:h},typeof d=="function"?d(C):d)});OP.displayName="NavLink";var PP=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=Hf,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b,...S},I)=>{let{unstable_useTransitions:L}=V.useContext(Fn),M=jP(),z=UP(h,{relative:m}),F=u.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&MS.test(h),te=ie=>{if(d&&d(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,C=ue?.getAttribute("formmethod")||u,A=()=>M(ue||ie.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b});L&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:I,method:F,action:z,onSubmit:i?d:te,...S,"data-discover":!q&&t==="render"?"true":void 0})});PP.displayName="Form";function MP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(t){let e=V.useContext(Cl);return mt(e,MP(t)),e}function kP(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=Oc(),y=Xr(),v=Pc(t,{relative:l});return V.useCallback(b=>{if(fP(b,e)){b.preventDefault();let S=n!==void 0?n:gc(y)===gc(v),I=()=>m(t,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});d?V.startTransition(()=>I()):I()}},[y,m,v,n,i,e,t,a,l,u,h,d])}var VP=0,LP=()=>`__${String(++VP)}__`;function jP(){let{router:t}=kS("useSubmit"),{basename:e}=V.useContext(Fn),n=nP(),i=t.fetch,a=t.navigate;return V.useCallback(async(l,u={})=>{let{action:h,method:d,encType:m,formData:y,body:v}=pP(l,e);if(u.navigate===!1){let b=u.fetcherKey||LP();await i(b,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function UP(t,{relative:e}={}){let{basename:n}=V.useContext(Fn),i=V.useContext(cs);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Pc(t||".",{relative:e})},u=Xr();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ms([n,l.pathname])),gc(l)}function zP(t,{relative:e}={}){let n=V.useContext(SS);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kS("useViewTransitionState"),a=Pc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ls(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ls(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ad(a.pathname,u)!=null||ad(a.pathname,l)!=null}const BP=()=>{};var JE={};const VS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},FP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let b=(h&15)<<2|m>>6,S=m&63;d||(S=64,u||(b=64)),i.push(n[y],n[v],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new HP;const b=l<<2|h>>4;if(i.push(b),m!==64){const S=h<<4&240|m>>2;if(i.push(S),v!==64){const I=m<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qP=function(t){const e=VS(t);return LS.encodeByteArray(e,!0)},od=function(t){return qP(t).replace(/\./g,"")},jS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GP=()=>$P().__FIREBASE_DEFAULTS__,KP=()=>{if(typeof process>"u"||typeof JE>"u")return;const t=JE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},Hd=()=>{try{return BP()||GP()||KP()||YP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},US=t=>Hd()?.emulatorHosts?.[t],zS=t=>{const e=US(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},BS=()=>Hd()?.config,FS=t=>Hd()?.[`_${t}`];class QP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vv(t){return(await fetch(t,{credentials:"include"})).ok}function HS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[od(JSON.stringify(n)),od(JSON.stringify(u)),""].join(".")}const sc={};function WP(){const t={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?t.emulator.push(e):t.prod.push(e);return t}function XP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZE=!1;function _v(t,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||sc[t]===e||sc[t]||ZE)return;sc[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=WP().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ZE=!0,u()},b}function y(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=XP(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),L=n("learnmore"),M=document.getElementById(L)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;h(q),y(M,L);const te=m();d(F,z),q.append(F,I,M,te),document.body.appendChild(q)}l?(I.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function ZP(){const t=Hd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iM(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sM(){return!ZP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rM(){try{return typeof indexedDB=="object"}catch{return!1}}function aM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const oM="FirebaseError";class hs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oM,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?lM(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new hs(a,h,i)}}function lM(t,e){return t.replace(uM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const uM=/\{\$([^}]+)}/g;function cM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(ew(l)&&ew(u)){if(!Ga(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function ew(t){return t!==null&&typeof t=="object"}function kc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hM(t,e){const n=new fM(t,e);return n.subscribe.bind(n)}class fM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");dM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Dg),a.error===void 0&&(a.error=Dg),a.complete===void 0&&(a.complete=Dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}function qt(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class mM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new QP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gM(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pM(t){return t===ka?void 0:t}function gM(t){return t.instantiationMode==="EAGER"}class yM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const vM={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},_M=Ue.INFO,bM={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},TM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=bM[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bv{constructor(e){this.name=e,this._logLevel=_M,this._logHandler=TM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const EM=(t,e)=>e.some(n=>t instanceof n);let tw,nw;function wM(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xM(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,my=new WeakMap,$S=new WeakMap,Og=new WeakMap,Tv=new WeakMap;function SM(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Pr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),Tv.set(e,t),e}function AM(t){if(my.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});my.set(t,e)}let py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RM(t){py=t(py)}function CM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Pg(this),e,...n);return $S.set(i,e.sort?e.sort():[e]),Pr(i)}:xM().includes(t)?function(...e){return t.apply(Pg(this),e),Pr(qS.get(this))}:function(...e){return Pr(t.apply(Pg(this),e))}}function NM(t){return typeof t=="function"?CM(t):(t instanceof IDBTransaction&&AM(t),EM(t,wM())?new Proxy(t,py):t)}function Pr(t){if(t instanceof IDBRequest)return SM(t);if(Og.has(t))return Og.get(t);const e=NM(t);return e!==t&&(Og.set(t,e),Tv.set(e,t)),e}const Pg=t=>Tv.get(t);function IM(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Pr(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Pr(u.result),d.oldVersion,d.newVersion,Pr(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const DM=["get","getKey","getAll","getAllKeys","count"],OM=["put","add","delete","clear"],Mg=new Map;function iw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=OM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||DM.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Mg.set(e,l),l}RM(t=>({...t,get:(e,n,i)=>iw(e,n)||t.get(e,n,i),has:(e,n)=>!!iw(e,n)||t.has(e,n)}));class PM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function MM(t){return t.getComponent()?.type==="VERSION"}const gy="@firebase/app",sw="0.14.6";const js=new bv("@firebase/app"),kM="@firebase/app-compat",VM="@firebase/analytics-compat",LM="@firebase/analytics",jM="@firebase/app-check-compat",UM="@firebase/app-check",zM="@firebase/auth",BM="@firebase/auth-compat",FM="@firebase/database",HM="@firebase/data-connect",qM="@firebase/database-compat",$M="@firebase/functions",GM="@firebase/functions-compat",KM="@firebase/installations",YM="@firebase/installations-compat",QM="@firebase/messaging",WM="@firebase/messaging-compat",XM="@firebase/performance",JM="@firebase/performance-compat",ZM="@firebase/remote-config",ek="@firebase/remote-config-compat",tk="@firebase/storage",nk="@firebase/storage-compat",ik="@firebase/firestore",sk="@firebase/ai",rk="@firebase/firestore-compat",ak="firebase",ok="12.6.0";const yy="[DEFAULT]",lk={[gy]:"fire-core",[kM]:"fire-core-compat",[LM]:"fire-analytics",[VM]:"fire-analytics-compat",[UM]:"fire-app-check",[jM]:"fire-app-check-compat",[zM]:"fire-auth",[BM]:"fire-auth-compat",[FM]:"fire-rtdb",[HM]:"fire-data-connect",[qM]:"fire-rtdb-compat",[$M]:"fire-fn",[GM]:"fire-fn-compat",[KM]:"fire-iid",[YM]:"fire-iid-compat",[QM]:"fire-fcm",[WM]:"fire-fcm-compat",[XM]:"fire-perf",[JM]:"fire-perf-compat",[ZM]:"fire-rc",[ek]:"fire-rc-compat",[tk]:"fire-gcs",[nk]:"fire-gcs-compat",[ik]:"fire-fst",[rk]:"fire-fst-compat",[sk]:"fire-vertex","fire-js":"fire-js",[ak]:"fire-js-all"};const ld=new Map,uk=new Map,vy=new Map;function rw(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(vy.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of ld.values())rw(n,t);for(const n of uk.values())rw(n,t);return!0}function qd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t==null?!1:t.settings!==void 0}const ck={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Mc("app","Firebase",ck);class hk{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const eo=ok;function GS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:yy,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Mr.create("bad-app-name",{appName:String(a)});if(n||(n=BS()),!n)throw Mr.create("no-options");const l=ld.get(a);if(l){if(Ga(n,l.options)&&Ga(i,l.config))return l;throw Mr.create("duplicate-app",{appName:a})}const u=new yM(a);for(const d of vy.values())u.addComponent(d);const h=new hk(n,i,u);return ld.set(a,h),h}function Ev(t=yy){const e=ld.get(t);if(!e&&t===yy&&BS())return GS();if(!e)throw Mr.create("no-app",{appName:t});return e}function ts(t,e,n){let i=lk[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(u.join(" "));return}Ka(new Br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const fk="firebase-heartbeat-database",dk=1,yc="firebase-heartbeat-store";let kg=null;function KS(){return kg||(kg=IM(fk,dk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),kg}async function mk(t){try{const n=(await KS()).transaction(yc),i=await n.objectStore(yc).get(YS(t));return await n.done,i}catch(e){if(e instanceof hs)js.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e?.message});js.warn(n.message)}}}async function aw(t,e){try{const i=(await KS()).transaction(yc,"readwrite");await i.objectStore(yc).put(e,YS(t)),await i.done}catch(n){if(n instanceof hs)js.warn(n.message);else{const i=Mr.create("idb-set",{originalErrorMessage:n?.message});js.warn(i.message)}}}function YS(t){return`${t.name}!${t.options.appId}`}const pk=1024,gk=30;class yk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _k(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ow();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>gk){const a=bk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ow(),{heartbeatsToSend:n,unsentEntries:i}=vk(this._heartbeatsCache.heartbeats),a=od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return js.warn(e),""}}}function ow(){return new Date().toISOString().substring(0,10)}function vk(t,e=pk){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),lw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _k{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rM()?aM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return aw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return aw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lw(t){return od(JSON.stringify({version:2,heartbeats:t})).length}function bk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function Tk(t){Ka(new Br("platform-logger",e=>new PM(e),"PRIVATE")),Ka(new Br("heartbeat",e=>new yk(e),"PRIVATE")),ts(gy,sw,t),ts(gy,sw,"esm2020"),ts("fire-js","")}Tk("");var Ek="firebase",wk="12.7.0";ts(Ek,wk,"app");function QS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xk=QS,WS=new Mc("auth","Firebase",QS());const ud=new bv("@firebase/auth");function Sk(t,...e){ud.logLevel<=Ue.WARN&&ud.warn(`Auth (${eo}): ${t}`,...e)}function $f(t,...e){ud.logLevel<=Ue.ERROR&&ud.error(`Auth (${eo}): ${t}`,...e)}function Ri(t,...e){throw wv(t,...e)}function ns(t,...e){return wv(t,...e)}function XS(t,e,n){const i={...xk(),[e]:n};return new Mc("auth","Firebase",i).create(e,{appName:t.name})}function kr(t){return XS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return WS.create(t,...e)}function we(t,e,...n){if(!t)throw wv(e,...n)}function Os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $f(e),new Error(e)}function Us(t,e){t||Os(e)}function _y(){return typeof self<"u"&&self.location?.href||""}function Ak(){return uw()==="http:"||uw()==="https:"}function uw(){return typeof self<"u"&&self.location?.protocol||null}function Rk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ak()||tM()||"connection"in navigator)?navigator.onLine:!0}function Ck(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=JP()||nM()}get(){return Rk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xv(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class JS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ik=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dk=new Vc(3e4,6e4);function to(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jr(t,e,n,i,a={}){return ZS(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=kc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return eM()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Za(t.emulatorConfig.host)&&(m.credentials="include"),JS.fetch()(await eA(t,t.config.apiHost,n,h),m)})}async function ZS(t,e,n){t._canInitEmulator=!1;const i={...Nk,...e};try{const a=new Pk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Of(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Of(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Of(t,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw XS(t,y,m);Ri(t,y)}}catch(a){if(a instanceof hs)throw a;Ri(t,"network-request-failed",{message:String(a)})}}async function $d(t,e,n,i,a={}){const l=await Jr(t,e,n,i,a);return"mfaPendingCredential"in l&&Ri(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function eA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?xv(t.config,a):`${t.config.apiScheme}://${a}`;return Ik.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Ok(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ns(this.auth,"network-request-failed")),Dk.get())})}}function Of(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ns(t,e,i);return a.customData._tokenResponse=n,a}function cw(t){return t!==void 0&&t.enterprise!==void 0}class Mk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ok(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kk(t,e){return Jr(t,"GET","/v2/recaptchaConfig",to(t,e))}async function Vk(t,e){return Jr(t,"POST","/v1/accounts:delete",e)}async function cd(t,e){return Jr(t,"POST","/v1/accounts:lookup",e)}function rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lk(t,e=!1){const n=qt(t),i=await n.getIdToken(e),a=Sv(i);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:rc(Vg(a.auth_time)),issuedAtTime:rc(Vg(a.iat)),expirationTime:rc(Vg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Vg(t){return Number(t)*1e3}function Sv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return $f("JWT malformed, contained fewer than 3 sections"),null;try{const a=jS(n);return a?JSON.parse(a):($f("Failed to decode base64 JWT payload"),null)}catch(a){return $f("Caught error parsing JWT payload as JSON",a?.toString()),null}}function hw(t){const e=Sv(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof hs&&jk(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function jk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Uk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class by{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hd(t){const e=t.auth,n=await t.getIdToken(),i=await vc(t,cd(e,{idToken:n}));we(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?tA(a.providerUserInfo):[],u=Bk(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function zk(t){const e=qt(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bk(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function tA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Fk(t,e){const n=await ZS(t,{},async()=>{const i=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await eA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return t.emulatorConfig&&Za(t.emulatorConfig.host)&&(d.credentials="include"),JS.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hk(t,e){return Jr(t,"POST","/v2/accounts:revokeToken",to(t,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=hw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await Fk(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new hl;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(we(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return Os("not implemented")}}function xr(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new Uk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new by(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await vc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lk(this,e)}reload(){return zk(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await vc(this,Vk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:S,providerData:I,stsTokenManager:L}=n;we(v&&L,e,"internal-error");const M=hl.fromJSON(this.name,L);we(typeof v=="string",e,"internal-error"),xr(i,e.name),xr(a,e.name),we(typeof b=="boolean",e,"internal-error"),we(typeof S=="boolean",e,"internal-error"),xr(l,e.name),xr(u,e.name),xr(h,e.name),xr(d,e.name),xr(m,e.name),xr(y,e.name);const z=new Ei({uid:v,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:M,createdAt:m,lastLoginAt:y});return I&&Array.isArray(I)&&(z.providerData=I.map(F=>({...F}))),d&&(z._redirectEventId=d),z}static async _fromIdTokenResponse(e,n,i=!1){const a=new hl;a.updateFromServerResponse(n);const l=new Ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await hd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?tA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new hl;h.updateFromIdToken(i);const d=new Ei({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const fw=new Map;function Ps(t){Us(t instanceof Function,"Expected a class definition");let e=fw.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fw.set(t,e),e)}class nA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nA.type="NONE";const dw=nA;function Gf(t,e,n){return`firebase:${t}:${e}:${n}`}class fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Gf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Gf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cd(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fl(Ps(dw),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Ps(dw);const u=Gf(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const b=await cd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await Ei._fromGetAccountInfoResponse(e,b,y)}else v=Ei._fromJSON(e,y);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new fl(l,e,i):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new fl(l,e,i))}}function mw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lA(e))return"Blackberry";if(uA(e))return"Webos";if(sA(e))return"Safari";if((e.includes("chrome/")||rA(e))&&!e.includes("edge/"))return"Chrome";if(oA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function iA(t=fn()){return/firefox\//i.test(t)}function sA(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rA(t=fn()){return/crios\//i.test(t)}function aA(t=fn()){return/iemobile/i.test(t)}function oA(t=fn()){return/android/i.test(t)}function lA(t=fn()){return/blackberry/i.test(t)}function uA(t=fn()){return/webos/i.test(t)}function Av(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qk(t=fn()){return Av(t)&&!!window.navigator?.standalone}function $k(){return iM()&&document.documentMode===10}function cA(t=fn()){return Av(t)||oA(t)||uA(t)||lA(t)||/windows phone/i.test(t)||aA(t)}function hA(t,e=[]){let n;switch(t){case"Browser":n=mw(fn());break;case"Worker":n=`${mw(fn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${i}`}class Gk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Kk(t,e={}){return Jr(t,"GET","/v2/passwordPolicy",to(t,e))}const Yk=6;class Qk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Yk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Wk{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pw(this),this.idTokenSubscription=new pw(this),this.beforeStateQueue=new Gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cd(this,{idToken:e}),i=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(kr(this));const n=e?qt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kk(this),n=new Qk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Hk(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Sk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Il(t){return qt(t)}class pw{constructor(e){this.auth=e,this.observer=null,this.addObserver=hM(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xk(t){Gd=t}function fA(t){return Gd.loadJS(t)}function Jk(){return Gd.recaptchaEnterpriseScript}function Zk(){return Gd.gapiScript}function eV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tV{constructor(){this.enterprise=new nV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iV="recaptcha-enterprise",dA="NO_RECAPTCHA";class sV{constructor(e){this.type=iV,this.auth=Il(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{kk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new Mk(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;cw(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(dA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tV().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&cw(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Jk();d.length!==0&&(d+=h),fA(d).then(()=>{a(h,l,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function gw(t,e,n,i=!1,a=!1){const l=new sV(t);let u;if(a)u=dA;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function yw(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await gw(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gw(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}function rV(t,e){const n=qd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ga(l,e??{}))return a;Ri(a,"already-initialized")}return n.initialize({options:e})}function aV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function oV(t,e,n){const i=Il(t);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=mA(e),{host:u,port:h}=lV(e),d=h===null?"":`:${h}`,m={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(Ga(m,i.config.emulator)&&Ga(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Za(u)?(vv(`${l}//${u}${d}`),_v("Auth",!0)):uV()}function mA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lV(t){const e=mA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:vw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:vw(u)}}}function vw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Rv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,n){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function cV(t,e){return Jr(t,"POST","/v1/accounts:signUp",e)}async function hV(t,e){return $d(t,"POST","/v1/accounts:signInWithPassword",to(t,e))}async function fV(t,e){return $d(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}async function dV(t,e){return $d(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}class _c extends Rv{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new _c(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new _c(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yw(e,n,"signInWithPassword",hV);case"emailLink":return fV(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yw(e,i,"signUpPassword",cV);case"emailLink":return dV(e,{idToken:n,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function dl(t,e){return $d(t,"POST","/v1/accounts:signInWithIdp",to(t,e))}const mV="http://localhost";class Ya extends Rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Ya(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return dl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,dl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dl(e,n)}buildRequest(){const e={requestUri:mV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}function pV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gV(t){const e=Yu(Qu(t)).link,n=e?Yu(Qu(e)).deep_link_id:null,i=Yu(Qu(t)).deep_link_id;return(i?Yu(Qu(i)).link:null)||i||n||e||t}class Cv{constructor(e){const n=Yu(Qu(e)),i=n.apiKey??null,a=n.oobCode??null,l=pV(n.mode??null);we(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gV(e);try{return new Cv(n)}catch{return null}}}class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,n){return _c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Cv.parseLink(n);return we(i,"argument-error"),_c._fromEmailAndCode(e,i.code,i.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lc extends pA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rr extends Lc{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";class Cr extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Cr.credential(n,i)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";class Nr extends Lc{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";class Ir extends Lc{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ir.credential(n,i)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ei._fromIdTokenResponse(e,i,a),u=_w(i);return new yl({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=_w(i);return new yl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function _w(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fd extends hs{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new fd(e,n,i,a)}}function gA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(t,l,e,i):l})}async function yV(t,e,n=!1){const i=await vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yl._forOperation(t,"link",i)}async function vV(t,e,n=!1){const{auth:i}=t;if(si(i.app))return Promise.reject(kr(i));const a="reauthenticate";try{const l=await vc(t,gA(i,a,e,t),n);we(l.idToken,i,"internal-error");const u=Sv(l.idToken);we(u,i,"internal-error");const{sub:h}=u;return we(t.uid===h,i,"user-mismatch"),yl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ri(i,"user-mismatch"),l}}async function yA(t,e,n=!1){if(si(t.app))return Promise.reject(kr(t));const i="signIn",a=await gA(t,i,e),l=await yl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function _V(t,e){return yA(Il(t),e)}async function bV(t){const e=Il(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TV(t,e,n){return si(t.app)?Promise.reject(kr(t)):_V(qt(t),Dl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bV(t),i})}function EV(t,e,n,i){return qt(t).onIdTokenChanged(e,n,i)}function wV(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function xV(t,e,n,i){return qt(t).onAuthStateChanged(e,n,i)}const dd="__sak";class vA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const SV=1e3,AV=10;class _A extends vA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);$k()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,AV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_A.type="LOCAL";const RV=_A;class bA extends vA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bA.type="SESSION";const TA=bA;function CV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Kd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async m=>m(n.origin,l)),d=await CV(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];function Nv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class NV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const m=Nv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(b.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function is(){return window}function IV(t){is().location.href=t}function EA(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function DV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OV(){return navigator?.serviceWorker?.controller||null}function PV(){return EA()?self:null}const wA="firebaseLocalStorageDb",MV=1,md="firebaseLocalStorage",xA="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yd(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function kV(){const t=indexedDB.deleteDatabase(wA);return new jc(t).toPromise()}function Ty(){const t=indexedDB.open(wA,MV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(md,{keyPath:xA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(md)?e(i):(i.close(),await kV(),e(await Ty()))})})}async function bw(t,e,n){const i=Yd(t,!0).put({[xA]:e,value:n});return new jc(i).toPromise()}async function VV(t,e){const n=Yd(t,!1).get(e),i=await new jc(n).toPromise();return i===void 0?null:i.value}function Tw(t,e){const n=Yd(t,!0).delete(e);return new jc(n).toPromise()}const LV=800,jV=3;class SA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>jV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(PV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DV(),!this.activeServiceWorker)return;this.sender=new NV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await bw(e,dd,"1"),await Tw(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>bw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>VV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Yd(a,!1).getAll();return new jc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SA.type="LOCAL";const UV=SA;new Vc(3e4,6e4);function zV(t,e){return e?Ps(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Iv extends Rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BV(t){return yA(t.auth,new Iv(t),t.bypassAuthState)}function FV(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),vV(n,new Iv(t),t.bypassAuthState)}async function HV(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),yV(n,new Iv(t),t.bypassAuthState)}class AA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BV;case"linkViaPopup":case"linkViaRedirect":return HV;case"reauthViaPopup":case"reauthViaRedirect":return FV;default:Ri(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qV=new Vc(2e3,1e4);class sl extends AA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=Nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qV.get())};e()}}sl.currentPopupAction=null;const $V="pendingRedirect",Kf=new Map;class GV extends AA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const i=await KV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KV(t,e){const n=WV(e),i=QV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function YV(t,e){Kf.set(t._key(),e)}function QV(t){return Ps(t._redirectPersistence)}function WV(t){return Gf($V,t.config.apiKey,t.name)}async function XV(t,e,n=!1){if(si(t.app))return Promise.reject(kr(t));const i=Il(t),a=zV(i,e),u=await new GV(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const JV=600*1e3;class ZV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!RA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ns(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ew(e))}saveEventToCache(e){this.cachedEventUids.add(Ew(e)),this.lastProcessedEventTime=Date.now()}}function Ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RA(t);default:return!1}}async function tL(t,e={}){return Jr(t,"GET","/v1/projects",e)}const nL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iL=/^https?/;async function sL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tL(t);for(const n of e)try{if(rL(n))return}catch{}Ri(t,"unauthorized-domain")}function rL(t){const e=_y(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!iL.test(n))return!1;if(nL.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const aL=new Vc(3e4,6e4);function ww(){const t=is().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oL(t){return new Promise((e,n)=>{function i(){ww(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ww(),n(ns(t,"network-request-failed"))},timeout:aL.get()})}if(is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(is().gapi?.load)i();else{const a=eV("iframefcb");return is()[a]=()=>{gapi.load?i():n(ns(t,"network-request-failed"))},fA(`${Zk()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function lL(t){return Yf=Yf||oL(t),Yf}const uL=new Vc(5e3,15e3),cL="__/auth/iframe",hL="emulator/auth/iframe",fL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mL(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xv(e,hL):`https://${t.config.authDomain}/${cL}`,i={apiKey:e.apiKey,appName:t.name,v:eo},a=dL.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${kc(i).slice(1)}`}async function pL(t){const e=await lL(t),n=is().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:mL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fL,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ns(t,"network-request-failed"),h=is().setTimeout(()=>{l(u)},uL.get());function d(){is().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(u)})}))}const gL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yL=500,vL=600,_L="_blank",bL="http://localhost";class xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TL(t,e,n,i=yL,a=vL){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...gL,width:i.toString(),height:a.toString(),top:l,left:u},m=fn().toLowerCase();n&&(h=rA(m)?_L:n),iA(m)&&(e=e||bL,d.scrollbars="yes");const y=Object.entries(d).reduce((b,[S,I])=>`${b}${S}=${I},`,"");if(qk(m)&&h!=="_self")return EL(e||"",h),new xw(null);const v=window.open(e||"",h,y);we(v,t,"popup-blocked");try{v.focus()}catch{}return new xw(v)}function EL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const wL="__/auth/handler",xL="emulator/auth/handler",SL=encodeURIComponent("fac");async function Sw(t,e,n,i,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:eo,eventId:a};if(e instanceof pA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",cM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Lc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),m=d?`#${SL}=${encodeURIComponent(d)}`:"";return`${AL(t)}?${kc(h).slice(1)}${m}`}function AL({config:t}){return t.emulator?xv(t,xL):`https://${t.authDomain}/${wL}`}const Lg="webStorageSupport";class RL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TA,this._completeRedirectFn=XV,this._overrideRedirectResult=YV}async _openPopup(e,n,i,a){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Sw(e,n,i,_y(),a);return TL(e,l,Nv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Sw(e,n,i,_y(),a);return IV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Us(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await pL(e),i=new ZV(e);return n.register("authEvent",a=>(we(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lg,{type:Lg},a=>{const l=a?.[0]?.[Lg];l!==void 0&&n(!!l),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cA()||sA()||Av()}}const CL=RL;var Aw="@firebase/auth",Rw="1.12.0";class NL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DL(t){Ka(new Br("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hA(t)},m=new Wk(i,a,l,d);return aV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ka(new Br("auth-internal",e=>{const n=Il(e.getProvider("auth").getImmediate());return(i=>new NL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(Aw,Rw,IL(t)),ts(Aw,Rw,"esm2020")}const OL=300,PL=FS("authIdTokenMaxAge")||OL;let Cw=null;const ML=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>PL)return;const a=n?.token;Cw!==a&&(Cw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kL(t=Ev()){const e=qd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rV(t,{popupRedirectResolver:CL,persistence:[UV,RV,TA]}),i=FS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=ML(l.toString());wV(n,u,()=>u(n.currentUser)),EV(n,h=>u(h))}}const a=US("auth");return a&&oV(n,`http://${a}`),n}function VL(){return document.getElementsByTagName("head")?.[0]??document}Xk({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ns("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",VL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DL("Browser");var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vr,CA;(function(){var t;function e(C,A){function N(){}N.prototype=A.prototype,C.F=A.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(P,k,B){for(var O=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)O[Ce-2]=arguments[Ce];return A.prototype[k].apply(P,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,N){N||(N=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(k=0;k<16;++k)P[k]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=C.g[0],N=C.g[1],k=C.g[2];let B=C.g[3],O;O=A+(B^N&(k^B))+P[0]+3614090360&4294967295,A=N+(O<<7&4294967295|O>>>25),O=B+(k^A&(N^k))+P[1]+3905402710&4294967295,B=A+(O<<12&4294967295|O>>>20),O=k+(N^B&(A^N))+P[2]+606105819&4294967295,k=B+(O<<17&4294967295|O>>>15),O=N+(A^k&(B^A))+P[3]+3250441966&4294967295,N=k+(O<<22&4294967295|O>>>10),O=A+(B^N&(k^B))+P[4]+4118548399&4294967295,A=N+(O<<7&4294967295|O>>>25),O=B+(k^A&(N^k))+P[5]+1200080426&4294967295,B=A+(O<<12&4294967295|O>>>20),O=k+(N^B&(A^N))+P[6]+2821735955&4294967295,k=B+(O<<17&4294967295|O>>>15),O=N+(A^k&(B^A))+P[7]+4249261313&4294967295,N=k+(O<<22&4294967295|O>>>10),O=A+(B^N&(k^B))+P[8]+1770035416&4294967295,A=N+(O<<7&4294967295|O>>>25),O=B+(k^A&(N^k))+P[9]+2336552879&4294967295,B=A+(O<<12&4294967295|O>>>20),O=k+(N^B&(A^N))+P[10]+4294925233&4294967295,k=B+(O<<17&4294967295|O>>>15),O=N+(A^k&(B^A))+P[11]+2304563134&4294967295,N=k+(O<<22&4294967295|O>>>10),O=A+(B^N&(k^B))+P[12]+1804603682&4294967295,A=N+(O<<7&4294967295|O>>>25),O=B+(k^A&(N^k))+P[13]+4254626195&4294967295,B=A+(O<<12&4294967295|O>>>20),O=k+(N^B&(A^N))+P[14]+2792965006&4294967295,k=B+(O<<17&4294967295|O>>>15),O=N+(A^k&(B^A))+P[15]+1236535329&4294967295,N=k+(O<<22&4294967295|O>>>10),O=A+(k^B&(N^k))+P[1]+4129170786&4294967295,A=N+(O<<5&4294967295|O>>>27),O=B+(N^k&(A^N))+P[6]+3225465664&4294967295,B=A+(O<<9&4294967295|O>>>23),O=k+(A^N&(B^A))+P[11]+643717713&4294967295,k=B+(O<<14&4294967295|O>>>18),O=N+(B^A&(k^B))+P[0]+3921069994&4294967295,N=k+(O<<20&4294967295|O>>>12),O=A+(k^B&(N^k))+P[5]+3593408605&4294967295,A=N+(O<<5&4294967295|O>>>27),O=B+(N^k&(A^N))+P[10]+38016083&4294967295,B=A+(O<<9&4294967295|O>>>23),O=k+(A^N&(B^A))+P[15]+3634488961&4294967295,k=B+(O<<14&4294967295|O>>>18),O=N+(B^A&(k^B))+P[4]+3889429448&4294967295,N=k+(O<<20&4294967295|O>>>12),O=A+(k^B&(N^k))+P[9]+568446438&4294967295,A=N+(O<<5&4294967295|O>>>27),O=B+(N^k&(A^N))+P[14]+3275163606&4294967295,B=A+(O<<9&4294967295|O>>>23),O=k+(A^N&(B^A))+P[3]+4107603335&4294967295,k=B+(O<<14&4294967295|O>>>18),O=N+(B^A&(k^B))+P[8]+1163531501&4294967295,N=k+(O<<20&4294967295|O>>>12),O=A+(k^B&(N^k))+P[13]+2850285829&4294967295,A=N+(O<<5&4294967295|O>>>27),O=B+(N^k&(A^N))+P[2]+4243563512&4294967295,B=A+(O<<9&4294967295|O>>>23),O=k+(A^N&(B^A))+P[7]+1735328473&4294967295,k=B+(O<<14&4294967295|O>>>18),O=N+(B^A&(k^B))+P[12]+2368359562&4294967295,N=k+(O<<20&4294967295|O>>>12),O=A+(N^k^B)+P[5]+4294588738&4294967295,A=N+(O<<4&4294967295|O>>>28),O=B+(A^N^k)+P[8]+2272392833&4294967295,B=A+(O<<11&4294967295|O>>>21),O=k+(B^A^N)+P[11]+1839030562&4294967295,k=B+(O<<16&4294967295|O>>>16),O=N+(k^B^A)+P[14]+4259657740&4294967295,N=k+(O<<23&4294967295|O>>>9),O=A+(N^k^B)+P[1]+2763975236&4294967295,A=N+(O<<4&4294967295|O>>>28),O=B+(A^N^k)+P[4]+1272893353&4294967295,B=A+(O<<11&4294967295|O>>>21),O=k+(B^A^N)+P[7]+4139469664&4294967295,k=B+(O<<16&4294967295|O>>>16),O=N+(k^B^A)+P[10]+3200236656&4294967295,N=k+(O<<23&4294967295|O>>>9),O=A+(N^k^B)+P[13]+681279174&4294967295,A=N+(O<<4&4294967295|O>>>28),O=B+(A^N^k)+P[0]+3936430074&4294967295,B=A+(O<<11&4294967295|O>>>21),O=k+(B^A^N)+P[3]+3572445317&4294967295,k=B+(O<<16&4294967295|O>>>16),O=N+(k^B^A)+P[6]+76029189&4294967295,N=k+(O<<23&4294967295|O>>>9),O=A+(N^k^B)+P[9]+3654602809&4294967295,A=N+(O<<4&4294967295|O>>>28),O=B+(A^N^k)+P[12]+3873151461&4294967295,B=A+(O<<11&4294967295|O>>>21),O=k+(B^A^N)+P[15]+530742520&4294967295,k=B+(O<<16&4294967295|O>>>16),O=N+(k^B^A)+P[2]+3299628645&4294967295,N=k+(O<<23&4294967295|O>>>9),O=A+(k^(N|~B))+P[0]+4096336452&4294967295,A=N+(O<<6&4294967295|O>>>26),O=B+(N^(A|~k))+P[7]+1126891415&4294967295,B=A+(O<<10&4294967295|O>>>22),O=k+(A^(B|~N))+P[14]+2878612391&4294967295,k=B+(O<<15&4294967295|O>>>17),O=N+(B^(k|~A))+P[5]+4237533241&4294967295,N=k+(O<<21&4294967295|O>>>11),O=A+(k^(N|~B))+P[12]+1700485571&4294967295,A=N+(O<<6&4294967295|O>>>26),O=B+(N^(A|~k))+P[3]+2399980690&4294967295,B=A+(O<<10&4294967295|O>>>22),O=k+(A^(B|~N))+P[10]+4293915773&4294967295,k=B+(O<<15&4294967295|O>>>17),O=N+(B^(k|~A))+P[1]+2240044497&4294967295,N=k+(O<<21&4294967295|O>>>11),O=A+(k^(N|~B))+P[8]+1873313359&4294967295,A=N+(O<<6&4294967295|O>>>26),O=B+(N^(A|~k))+P[15]+4264355552&4294967295,B=A+(O<<10&4294967295|O>>>22),O=k+(A^(B|~N))+P[6]+2734768916&4294967295,k=B+(O<<15&4294967295|O>>>17),O=N+(B^(k|~A))+P[13]+1309151649&4294967295,N=k+(O<<21&4294967295|O>>>11),O=A+(k^(N|~B))+P[4]+4149444226&4294967295,A=N+(O<<6&4294967295|O>>>26),O=B+(N^(A|~k))+P[11]+3174756917&4294967295,B=A+(O<<10&4294967295|O>>>22),O=k+(A^(B|~N))+P[2]+718787259&4294967295,k=B+(O<<15&4294967295|O>>>17),O=N+(B^(k|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+B&4294967295}i.prototype.v=function(C,A){A===void 0&&(A=C.length);const N=A-this.blockSize,P=this.C;let k=this.h,B=0;for(;B<A;){if(k==0)for(;B<=N;)a(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<A;)if(P[k++]=C.charCodeAt(B++),k==this.blockSize){a(this,P),k=0;break}}else for(;B<A;)if(P[k++]=C[B++],k==this.blockSize){a(this,P),k=0;break}}this.h=k,this.o+=A},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)C[A++]=this.g[N]>>>P&255;return C};function l(C,A){var N=h;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=A(C)}function u(C,A){this.h=A;const N=[];let P=!0;for(let k=C.length-1;k>=0;k--){const B=C[k]|0;P&&B==A||(N[k]=B,P=!1)}this.g=N}var h={};function d(C){return-128<=C&&C<128?l(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return M(m(-C));const A=[];let N=1;for(let P=0;C>=N;P++)A[P]=C/N|0,N*=4294967296;return new u(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return M(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=m(Math.pow(A,8));let P=v;for(let B=0;B<C.length;B+=8){var k=Math.min(8,C.length-B);const O=parseInt(C.substring(B,B+k),A);k<8?(k=m(Math.pow(A,k)),P=P.j(k).add(m(O))):(P=P.j(N),P=P.add(m(O)))}return P}var v=d(0),b=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(L(this))return-M(this).m();let C=0,A=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(L(this))return"-"+M(this).toString(C);const A=m(Math.pow(C,6));var N=this;let P="";for(;;){const k=te(N,A).g;N=z(N,k.j(A));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=k,I(N))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function L(C){return C.h==-1}t.l=function(C){return C=z(this,C),L(C)?-1:I(C)?0:1};function M(C){const A=C.g.length,N=[];for(let P=0;P<A;P++)N[P]=~C.g[P];return new u(N,~C.h).add(b)}t.abs=function(){return L(this)?M(this):this},t.add=function(C){const A=Math.max(this.g.length,C.g.length),N=[];let P=0;for(let k=0;k<=A;k++){let B=P+(this.i(k)&65535)+(C.i(k)&65535),O=(B>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=O>>>16,B&=65535,O&=65535,N[k]=O<<16|B}return new u(N,N[N.length-1]&-2147483648?-1:0)};function z(C,A){return C.add(M(A))}t.j=function(C){if(I(this)||I(C))return v;if(L(this))return L(C)?M(this).j(M(C)):M(M(this).j(C));if(L(C))return M(this.j(M(C)));if(this.l(S)<0&&C.l(S)<0)return m(this.m()*C.m());const A=this.g.length+C.g.length,N=[];for(var P=0;P<2*A;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<C.g.length;k++){const B=this.i(P)>>>16,O=this.i(P)&65535,Ce=C.i(k)>>>16,Ye=C.i(k)&65535;N[2*P+2*k]+=O*Ye,F(N,2*P+2*k),N[2*P+2*k+1]+=B*Ye,F(N,2*P+2*k+1),N[2*P+2*k+1]+=O*Ce,F(N,2*P+2*k+1),N[2*P+2*k+2]+=B*Ce,F(N,2*P+2*k+2)}for(C=0;C<A;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=A;C<2*A;C++)N[C]=0;return new u(N,0)};function F(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function q(C,A){this.g=C,this.h=A}function te(C,A){if(I(A))throw Error("division by zero");if(I(C))return new q(v,v);if(L(C))return A=te(M(C),A),new q(M(A.g),M(A.h));if(L(A))return A=te(C,M(A)),new q(M(A.g),A.h);if(C.g.length>30){if(L(C)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var N=b,P=A;P.l(C)<=0;)N=ie(N),P=ie(P);var k=ue(N,1),B=ue(P,1);for(P=ue(P,2),N=ue(N,2);!I(P);){var O=B.add(P);O.l(C)<=0&&(k=k.add(N),B=O),P=ue(P,1),N=ue(N,1)}return A=z(C,k.j(A)),new q(k,A)}for(k=v;C.l(A)>=0;){for(N=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=m(N),O=B.j(A);L(O)||O.l(C)>0;)N-=P,B=m(N),O=B.j(A);I(B)&&(B=b),k=k.add(B),C=z(C,O)}return new q(k,C)}t.B=function(C){return te(this,C).h},t.and=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)&C.i(P);return new u(N,this.h&C.h)},t.or=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)|C.i(P);return new u(N,this.h|C.h)},t.xor=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)^C.i(P);return new u(N,this.h^C.h)};function ie(C){const A=C.g.length+1,N=[];for(let P=0;P<A;P++)N[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(N,C.h)}function ue(C,A){const N=A>>5;A%=32;const P=C.g.length-N,k=[];for(let B=0;B<P;B++)k[B]=A>0?C.i(B+N)>>>A|C.i(B+N+1)<<32-A:C.i(B+N);return new u(k,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,CA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Vr=u}).apply(typeof Nw<"u"?Nw:typeof self<"u"?self:typeof window<"u"?window:{});var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var NA,Wu,IA,Qf,Ey,DA,OA,PA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pf=="object"&&Pf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(f,_){if(_)e:{var E=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var $=f[R];if(!($ in E))break e;E=E[$]}f=f[f.length-1],R=E[f],_=_(R),_!=R&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function m(f,_,E){return m=d,m.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(R,$,W){for(var he=Array(arguments.length-2),De=2;De<arguments.length;De++)he[De-2]=arguments[De];return _.prototype[$].apply(R,he)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const _=f.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=f[R];return E}return[]}function I(f,_){for(let R=1;R<arguments.length;R++){const $=arguments[R];var E=typeof $;if(E=E!="object"?E:$?Array.isArray($)?"array":E:"null",E=="array"||E=="object"&&typeof $.length=="number"){E=f.length||0;const W=$.length||0;f.length=E+W;for(let he=0;he<W;he++)f[E+he]=$[he]}else f.push($)}}class L{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(f){u.setTimeout(()=>{throw f},0)}function z(){var f=C;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,E){const R=q.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new L(()=>new te,f=>f.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,C=new F,A=()=>{const f=Promise.resolve(void 0);ie=()=>{f.then(N)}};function N(){for(var f;f=z();){try{f.h.call(f.g)}catch(E){M(E)}var _=q;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}ue=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function O(f){return/^[\s\xa0]*$/.test(f)}function Ce(f,_){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Ce,k),Ce.prototype.init=function(f,_){const E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(f,_,E,R,$){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=$,this.key=++J,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Te(f,_,E){for(const R in f)_.call(E,f[R],R,f)}function ee(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function D(f){const _={};for(const E in f)_[E]=f[E];return _}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(f,_){let E,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(E in R)f[E]=R[E];for(let W=0;W<Q.length;W++)E=Q[W],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function ce(f){this.src=f,this.g={},this.h=0}ce.prototype.add=function(f,_,E,R,$){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const he=Ee(f,_,R,$);return he>-1?(_=f[he],E||(_.fa=!1)):(_=new oe(_,this.src,W,!!R,$),_.fa=E,f.push(_)),_};function ye(f,_){const E=_.type;if(E in f.g){var R=f.g[E],$=Array.prototype.indexOf.call(R,_,void 0),W;(W=$>=0)&&Array.prototype.splice.call(R,$,1),W&&(fe(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ee(f,_,E,R){for(let $=0;$<f.length;++$){const W=f[$];if(!W.da&&W.listener==_&&W.capture==!!E&&W.ha==R)return $}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Tt={};function lt(f,_,E,R,$){if(Array.isArray(_)){for(let W=0;W<_.length;W++)lt(f,_[W],E,R,$);return null}return E=Bl(E),f&&f[Ye]?f.J(_,E,h(R)?!!R.capture:!1,$):ia(f,_,E,!1,R,$)}function ia(f,_,E,R,$,W){if(!_)throw Error("Invalid event type");const he=h($)?!!$.capture:!!$;let De=sa(f);if(De||(f[Me]=De=new ce(f)),E=De.add(_,E,R,he,W),E.proxy)return E;if(R=so(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)B||($=he),$===void 0&&($=!1),f.addEventListener(_.toString(),R,$);else if(f.attachEvent)f.attachEvent(Ni(_.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function so(){function f(E){return _.call(f.src,f.listener,E)}const _=Ul;return f}function ro(f,_,E,R,$){if(Array.isArray(_))for(var W=0;W<_.length;W++)ro(f,_[W],E,R,$);else R=h(R)?!!R.capture:!!R,E=Bl(E),f&&f[Ye]?(f=f.i,W=String(_).toString(),W in f.g&&(_=f.g[W],E=Ee(_,E,R,$),E>-1&&(fe(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[W],f.h--)))):f&&(f=sa(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ee(_,E,R,$)),(E=f>-1?_[f]:null)&&ao(E))}function ao(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ye])ye(_.i,f);else{var E=f.type,R=f.proxy;_.removeEventListener?_.removeEventListener(E,R,f.capture):_.detachEvent?_.detachEvent(Ni(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=sa(_))?(ye(E,f),E.h==0&&(E.src=null,_[Me]=null)):fe(f)}}}function Ni(f){return f in Tt?Tt[f]:Tt[f]="on"+f}function Ul(f,_){if(f.da)f=!0;else{_=new Ce(_,this);const E=f.listener,R=f.ha||f.src;f.fa&&ao(f),f=E.call(R,_)}return f}function sa(f){return f=f[Me],f instanceof ce?f:null}var zl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bl(f){return typeof f=="function"?f:(f[zl]||(f[zl]=function(_){return f.handleEvent(_)}),f[zl])}function Rt(){P.call(this),this.i=new ce(this),this.M=this,this.G=null}v(Rt,P),Rt.prototype[Ye]=!0,Rt.prototype.removeEventListener=function(f,_,E,R){ro(this,f,_,E,R)};function zt(f,_){var E,R=f.G;if(R)for(E=[];R;R=R.G)E.push(R);if(f=f.M,R=_.type||_,typeof _=="string")_=new k(_,f);else if(_ instanceof k)_.target=_.target||f;else{var $=_;_=new k(R,f),le(_,$)}$=!0;let W,he;if(E)for(he=E.length-1;he>=0;he--)W=_.g=E[he],$=$s(W,R,!0,_)&&$;if(W=_.g=f,$=$s(W,R,!0,_)&&$,$=$s(W,R,!1,_)&&$,E)for(he=0;he<E.length;he++)W=_.g=E[he],$=$s(W,R,!1,_)&&$}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let R=0;R<E.length;R++)fe(E[R]);delete f.g[_],f.h--}}this.G=null},Rt.prototype.J=function(f,_,E,R){return this.i.add(String(f),_,!1,E,R)},Rt.prototype.K=function(f,_,E,R){return this.i.add(String(f),_,!0,E,R)};function $s(f,_,E,R){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let W=0;W<_.length;++W){const he=_[W];if(he&&!he.da&&he.capture==E){const De=he.listener,wt=he.ha||he.src;he.fa&&ye(f.i,he),$=De.call(wt,R)!==!1&&$}}return $&&!R.defaultPrevented}function bm(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function eh(f){f.g=bm(()=>{f.g=null,f.i&&(f.i=!1,eh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class mn extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:eh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(f){P.call(this),this.h=f,this.g={}}v(ra,P);var Fl=[];function Hl(f){Te(f.g,function(_,E){this.g.hasOwnProperty(E)&&ao(_)},f),f.g={}}ra.prototype.N=function(){ra.Z.N.call(this),Hl(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=u.JSON.stringify,Tm=u.JSON.parse,th=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function nh(){}function ih(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){k.call(this,"d")}v(Xt,k);function Hn(){k.call(this,"c")}v(Hn,k);var Et={},sh=null;function oo(){return sh=sh||new Rt}Et.Ia="serverreachability";function rh(f){k.call(this,Et.Ia,f)}v(rh,k);function Ii(f){const _=oo();zt(_,new rh(_))}Et.STAT_EVENT="statevent";function aa(f,_){k.call(this,Et.STAT_EVENT,f),this.stat=_}v(aa,k);function Ct(f){const _=oo();zt(_,new aa(_,f))}Et.Ja="timingevent";function Di(f,_){k.call(this,Et.Ja,f),this.size=_}v(Di,k);function Oi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Em(f,_,E,R,$,W){f.info(function(){if(f.g)if(W){var he="",De=W.split("&");for(let Ge=0;Ge<De.length;Ge++){var wt=De[Ge].split("=");if(wt.length>1){const ht=wt[0];wt=wt[1];const Kn=ht.split("_");he=Kn.length>=2&&Kn[1]=="type"?he+(ht+"="+wt+"&"):he+(ht+"=redacted&")}}}else he=null;else he=W;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+E+`
`+he})}function ah(f,_,E,R,$,W,he){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+E+`
`+W+" "+he})}function Pi(f,_,E,R){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+wm(f,E)+(R?" "+R:"")})}function oa(f,_){f.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function wm(f,_){if(!f.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var E=W[f];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var $=R[0];if($!="noop"&&$!="stop"&&$!="close")for(let he=1;he<R.length;he++)R[he]=""}}}}return Gs(W)}catch{return _}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ql={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$l;function ua(){}v(ua,nh),ua.prototype.g=function(){return new XMLHttpRequest},$l=new ua;function ds(f){return encodeURIComponent(String(f))}function oh(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function ci(f,_,E,R){this.j=f,this.i=_,this.l=E,this.S=R||1,this.V=new ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Nt={},$t={};function Mi(f,_,E){f.M=1,f.A=ca(Dt(_)),f.u=E,f.R=!0,lo(f,null)}function lo(f,_){f.F=Date.now(),ki(f),f.B=Dt(f.A);var E=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),fo(E.i,"t",R),f.C=0,E=f.j.L,f.h=new hi,f.g=Eh(f.j,E?_:null,!f.u),f.P>0&&(f.O=new mn(m(f.Y,f,f.g),f.P)),_=f.V,E=f.g,R=f.ba;var $="readystatechange";Array.isArray($)||($&&(Fl[0]=$.toString()),$=Fl);for(let W=0;W<$.length;W++){const he=lt(E,$[W],R||_.handleEvent,!1,_.h||_);if(!he)break;_.g[he.key]=he}_=f.J?D(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Ii(),Em(f.i,f.v,f.B,f.l,f.S,f.u)}ci.prototype.ba=function(f){f=f.target;const _=this.O;_&&mi(f)==3?_.j():this.Y(f)},ci.prototype.Y=function(f){try{if(f==this.g)e:{const De=mi(this.g),wt=this.g.ya(),Ge=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||De!=4||wt==7||(wt==8||Ge<=0?Ii(3):Ii(2)),Vi(this);var _=this.g.ca();this.X=_;var E=xm(this);if(this.o=_==200,ah(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var W=R;break t}}W=null}if(f=W)Pi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,f);else{this.o=!1,this.m=3,Ct(12),Nn(this),qn(this);break e}}if(this.R){f=!0;let ht;for(;!this.K&&this.C<E.length;)if(ht=uh(this,E),ht==$t){De==4&&(this.m=4,Ct(14),f=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Nt){this.m=4,Ct(15),Pi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Pi(this.i,this.l,ht,null),Li(this,ht);if(lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,Ct(16),f=!1),this.o=this.o&&f,!f)Pi(this.i,this.l,E,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),au(he),he.P=!0,Ct(11))}}else Pi(this.i,this.l,E,null),Li(this,E);De==4&&Nn(this),this.o&&!this.K&&(De==4?vh(this.j,this):(this.o=!1,ki(this)))}else ps(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Nn(this),qn(this)}}}catch{}};function xm(f){if(!lh(f))return f.g.la();const _=Jt(f.g);if(_==="")return"";let E="";const R=_.length,$=mi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Nn(f),qn(f),"";f.h.i=new u.TextDecoder}for(let W=0;W<R;W++)f.h.h=!0,E+=f.h.i.decode(_[W],{stream:!($&&W==R-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function lh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function uh(f,_){var E=f.C,R=_.indexOf(`
`,E);return R==-1?$t:(E=Number(_.substring(E,R)),isNaN(E)?Nt:(R+=1,R+E>_.length?$t:(_=_.slice(R,R+E),f.C=R+E,_)))}ci.prototype.cancel=function(){this.K=!0,Nn(this)};function ki(f){f.T=Date.now()+f.H,uo(f,f.H)}function uo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Oi(m(f.aa,f),_)}function Vi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}ci.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(oa(this.i,this.B),this.M!=2&&(Ii(),Ct(17)),Nn(this),this.m=2,qn(this)):uo(this,this.T-f)};function qn(f){f.j.I==0||f.K||vh(f.j,f)}function Nn(f){Vi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Hl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Li(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Ui(E.h,f))){if(!f.L&&Ui(E.h,f)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)vo(E),er(E);else break e;ya(E),Ct(18)}}else E.xa=$[1],0<E.xa-E.K&&$[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Oi(m(E.Va,E),6e3));ji(E.h)<=1&&E.ta&&(E.ta=void 0)}else $i(E,11)}else if((f.L||E.g==f)&&vo(E),!O(_))for($=E.Ba.g.parse(_),_=0;_<$.length;_++){let Ge=$[_];const ht=Ge[0];if(!(ht<=E.K))if(E.K=ht,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Kn=Ge[3];Kn!=null&&(E.ka=Kn,E.j.info("VER="+E.ka));const Gi=Ge[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const pi=Ge[5];pi!=null&&typeof pi=="number"&&pi>0&&(R=1.5*pi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const gi=f.g;if(gi){const va=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var W=R.h;W.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Yl(W,W.h),W.h=null))}if(R.G){const _o=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(R.wa=_o,We(R.J,R.G,_o))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var he=f;if(R.na=Th(R,R.L?R.ba:null,R.W),he.L){Ql(R.h,he);var De=he,wt=R.O;wt&&(De.H=wt),De.D&&(Vi(De),ki(De)),R.g=he}else gh(R);E.i.length>0&&qi(E)}else Ge[0]!="stop"&&Ge[0]!="close"||$i(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?$i(E,7):su(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}Ii(4)}catch{}}var It=class{constructor(f,_){this.g=f,this.map=_}};function Gl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ji(f){return f.h?1:f.g?f.g.size:0}function Ui(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Yl(f,_){f.g?f.g.add(_):f.h=_}function Ql(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Gl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Wl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return S(f.i)}var ch=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const R=f[E].indexOf("=");let $,W=null;R>=0?($=f[E].substring(0,R),W=f[E].substring(R+1)):$=f[E],_($,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function In(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof In?(this.l=f.l,Gt(this,f.j),this.o=f.o,this.g=f.g,Ks(this,f.u),this.h=f.h,Xl(this,mh(f.i)),this.m=f.m):f&&(_=String(f).match(ch))?(this.l=!1,Gt(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),Ks(this,_[4]),this.h=zi(_[5]||"",!0),Xl(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}In.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(ha(_,ho,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ha(_,ho,!0),"@"),f.push(ds(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ha(E,E.charAt(0)=="/"?Jl:hh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ha(E,fh)),f.join("")},In.prototype.resolve=function(f){const _=Dt(this);let E=!!f.j;E?Gt(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var R=f.h;if(E)Ks(_,f.u);else if(E=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var $=_.h.lastIndexOf("/");$!=-1&&(R=_.h.slice(0,$+1)+R)}if($=R,$==".."||$==".")R="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){R=$.lastIndexOf("/",0)==0,$=$.split("/");const W=[];for(let he=0;he<$.length;){const De=$[he++];De=="."?R&&he==$.length&&W.push(""):De==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&he==$.length&&W.push("")):(W.push(De),R=!0)}R=W.join("/")}else R=$}return E?_.h=R:E=f.i.toString()!=="",E?Xl(_,mh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Dt(f){return new In(f)}function Gt(f,_,E){f.j=E?zi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ks(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Xl(f,_,E){_ instanceof Qs?(f.i=_,mo(f.i,f.l)):(E||(_=ha(_,Ys)),f.i=new Qs(_,f.l))}function We(f,_,E){f.i.set(_,E)}function ca(f){return We(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function zi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ha(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,vn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function vn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ho=/[#\/\?@]/g,hh=/[#\?:]/g,Jl=/[#\?]/g,Ys=/[#\?@]/g,fh=/#/g;function Qs(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function _n(f){f.g||(f.g=new Map,f.h=0,f.i&&co(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Qs.prototype,t.add=function(f,_){_n(this),this.i=null,f=Ws(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function dh(f,_){_n(f),_=Ws(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Zl(f,_){return _n(f),_=Ws(f,_),f.g.has(_)}t.forEach=function(f,_){_n(this),this.g.forEach(function(E,R){E.forEach(function($){f.call(_,$,R,this)},this)},this)};function eu(f,_){_n(f);let E=[];if(typeof _=="string")Zl(f,_)&&(E=E.concat(f.g.get(Ws(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return _n(this),this.i=null,f=Ws(this,f),Zl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=eu(this,f),f.length>0?String(f[0]):_):_};function fo(f,_,E){dh(f,_),E.length>0&&(f.i=null,f.g.set(Ws(f,_),S(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const $=ds(E);E=eu(this,E);for(let W=0;W<E.length;W++){let he=$;E[W]!==""&&(he+="="+ds(E[W])),f.push(he)}}return this.i=f.join("&")};function mh(f){const _=new Qs;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Ws(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function mo(f,_){_&&!f.j&&(_n(f),f.i=null,f.g.forEach(function(E,R){const $=R.toLowerCase();R!=$&&(dh(this,R),fo(this,$,E))},f)),f.j=_}function fi(f,_){const E=new ui;if(u.Image){const R=new Image;R.onload=y($n,E,"TestLoadImage: loaded",!0,_,R),R.onerror=y($n,E,"TestLoadImage: error",!1,_,R),R.onabort=y($n,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=y($n,E,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else _(!1)}function tu(f,_){const E=new ui,R=new AbortController,$=setTimeout(()=>{R.abort(),$n(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:R.signal}).then(W=>{clearTimeout($),W.ok?$n(E,"TestPingServer: ok",!0,_):$n(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),$n(E,"TestPingServer: error",!1,_)})}function $n(f,_,E,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(E)}catch{}}function Xs(){this.g=new th}function Bi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Bi,nh),Bi.prototype.g=function(){return new fa(this.i,this.h)};function fa(f,_){Rt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(fa,Rt),t=fa.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,di(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;po(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function po(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Js(this):di(this),this.readyState==3&&po(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Js(this))},t.Na=function(f){this.g&&(this.response=f,Js(this))},t.ga=function(){this.g&&Js(this)};function Js(f){f.readyState=4,f.l=null,f.j=null,f.B=null,di(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gn(f){let _="";return Te(f,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function da(f,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Gn(E),typeof f=="string"?E!=null&&ds(E):We(f,_,E))}function nt(f){Rt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nt,Rt);var Fi=/^https?$/i,nu=["POST","PUT"];t=nt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$l.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(W){ma(this,W);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)E.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())E.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),$=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(nu,_,void 0)>=0)||R||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of E)this.g.setRequestHeader(W,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){ma(this,W)}};function ma(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,iu(f),ms(f)}function iu(f){f.A||(f.A=!0,zt(f,"complete"),zt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,zt(this,"complete"),zt(this,"abort"),ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},t.Xa=function(){pa(this)};function pa(f){if(f.h&&typeof l<"u"){if(f.v&&mi(f)==4)setTimeout(f.Ca.bind(f),0);else if(zt(f,"readystatechange"),mi(f)==4){f.h=!1;try{const W=f.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=W===0){let he=String(f.D).match(ch)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),R=!Fi.test(he?he.toLowerCase():"")}E=R}if(E)zt(f,"complete"),zt(f,"success");else{f.o=6;try{var $=mi(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",iu(f)}}finally{ms(f)}}}}function ms(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||zt(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Tm(_)}};function Jt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ps(f){const _={};f=(f.g&&mi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(O(f[R]))continue;var E=oh(f[R]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=_[$]||[];_[$]=W,W.push(E)}ee(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Zs(f){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,f),this.Za=Hi("retryDelaySeedMs",1e4,f),this.Ta=Hi("forwardChannelMaxRetries",2,f),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(f&&f.concurrentRequestLimit),this.Ba=new Xs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zs.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,R){Ct(0),this.W=f,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Th(this,null,this.W),qi(this)};function su(f){if(go(f),f.I==3){var _=f.V++,E=Dt(f.J);if(We(E,"SID",f.M),We(E,"RID",_),We(E,"TYPE","terminate"),ga(f,E),_=new ci(f,f.j,_),_.M=2,_.A=ca(Dt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Eh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ki(_)}bh(f)}function er(f){f.g&&(au(f),f.g.cancel(),f.g=null)}function go(f){er(f),f.v&&(u.clearTimeout(f.v),f.v=null),vo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function qi(f){if(!Kl(f.h)&&!f.m){f.m=!0;var _=f.Ea;ie||A(),ue||(ie(),ue=!0),C.add(_,f),f.D=0}}function yo(f,_){return ji(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Oi(m(f.Ea,f,_),_h(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new ci(this,this.j,f);let W=this.o;if(this.U&&(W?(W=D(W),le(W,this.U)):W=this.U),this.u!==null||this.R||($.J=W,W=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ph(this,$,_),E=Dt(this.J),We(E,"RID",f),We(E,"CVER",22),this.G&&We(E,"X-HTTP-Session-Id",this.G),ga(this,E),W&&(this.R?_="headers="+ds(Gn(W))+"&"+_:this.u&&da(E,this.u,W)),Yl(this.h,$),this.Ra&&We(E,"TYPE","init"),this.S?(We(E,"$req",_),We(E,"SID","null"),$.U=!0,Mi($,E,null)):Mi($,E,_),this.I=2}}else this.I==3&&(f?ru(this,f):this.i.length==0||Kl(this.h)||ru(this))};function ru(f,_){var E;_?E=_.l:E=f.V++;const R=Dt(f.J);We(R,"SID",f.M),We(R,"RID",E),We(R,"AID",f.K),ga(f,R),f.u&&f.o&&da(R,f.u,f.o),E=new ci(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=ph(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Yl(f.h,E),Mi(E,R,_)}function ga(f,_){f.H&&Te(f.H,function(E,R){We(_,R,E)}),f.l&&Te({},function(E,R){We(_,R,E)})}function ph(f,_,E){E=Math.min(f.i.length,E);const R=f.l?m(f.l.Ka,f.l,f):null;e:{var $=f.i;let De=-1;for(;;){const wt=["count="+E];De==-1?E>0?(De=$[0].g,wt.push("ofs="+De)):De=0:wt.push("ofs="+De);let Ge=!0;for(let ht=0;ht<E;ht++){var W=$[ht].g;const Kn=$[ht].map;if(W-=De,W<0)De=Math.max(0,$[ht].g-100),Ge=!1;else try{W="req"+W+"_"||"";try{var he=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Gi,pi]of he){let gi=pi;h(pi)&&(gi=Gs(pi)),wt.push(W+Gi+"="+encodeURIComponent(gi))}}catch(Gi){throw wt.push(W+"type="+encodeURIComponent("_badmap")),Gi}}catch{R&&R(Kn)}}if(Ge){he=wt.join("&");break e}}he=void 0}return f=f.i.splice(0,E),_.G=f,he}function gh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;ie||A(),ue||(ie(),ue=!0),C.add(_,f),f.A=0}}function ya(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Oi(m(f.Da,f),_h(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,yh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Oi(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),er(this),yh(this))};function au(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function yh(f){f.g=new ci(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Dt(f.na);We(_,"RID","rpc"),We(_,"SID",f.M),We(_,"AID",f.K),We(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&We(_,"TO",f.ia),We(_,"TYPE","xmlhttp"),ga(f,_),f.u&&f.o&&da(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=ca(Dt(_)),E.u=null,E.R=!0,lo(E,f)}t.Va=function(){this.C!=null&&(this.C=null,er(this),ya(this),Ct(19))};function vo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function vh(f,_){var E=null;if(f.g==_){vo(f),au(f),f.g=null;var R=2}else if(Ui(f.h,_))E=_.G,Ql(f.h,_),R=1;else return;if(f.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var $=f.D;R=oo(),zt(R,new Di(R,E)),qi(f)}else gh(f);else if($=_.m,$==3||$==0&&_.X>0||!(R==1&&yo(f,_)||R==2&&ya(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),$){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function _h(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function $i(f,_){if(f.j.info("Error code "+_),_==2){var E=m(f.bb,f),R=f.Ua;const $=!R;R=new In(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gt(R,"https"),ca(R),$?fi(R.toString(),E):tu(R.toString(),E)}else Ct(2);f.I=0,f.l&&f.l.pa(_),bh(f),go(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function bh(f){if(f.I=0,f.ja=[],f.l){const _=Wl(f.h);(_.length!=0||f.i.length!=0)&&(I(f.ja,_),I(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function Th(f,_,E){var R=E instanceof In?Dt(E):new In(E);if(R.g!="")_&&(R.g=_+"."+R.g),Ks(R,R.u);else{var $=u.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const W=new In(null);R&&Gt(W,R),_&&(W.g=_),$&&Ks(W,$),E&&(W.h=E),R=W}return E=f.G,_=f.wa,E&&_&&We(R,E,_),We(R,"VER",f.ka),ga(f,R),R}function Eh(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new nt(new Bi({ab:E})):new nt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wh(){}t=wh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tr(){}tr.prototype.g=function(f,_){return new pn(f,_)};function pn(f,_){Rt.call(this),this.g=new Zs(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!O(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new gs(this)}v(pn,Rt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){su(this.g)},pn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Gs(f),f=E);_.i.push(new It(_.Ya++,f)),_.I==3&&qi(_)},pn.prototype.N=function(){this.g.l=null,delete this.j,su(this.g),delete this.g,pn.Z.N.call(this)};function xh(f){Xt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(xh,Xt);function Sh(){Hn.call(this),this.status=1}v(Sh,Hn);function gs(f){this.g=f}v(gs,wh),gs.prototype.ra=function(){zt(this.g,"a")},gs.prototype.qa=function(f){zt(this.g,new xh(f))},gs.prototype.pa=function(f){zt(this.g,new Sh)},gs.prototype.oa=function(){zt(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,PA=function(){return new tr},OA=function(){return oo()},DA=Et,Ey={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Qf=la,ql.COMPLETE="complete",IA=ql,ih.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Wu=ih,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,NA=nt}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});const Iw="@firebase/firestore",Dw="4.9.3";let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Ol="12.7.0";const Qa=new bv("@firebase/firestore");function el(){return Qa.logLevel}function me(t,...e){if(Qa.logLevel<=Ue.DEBUG){const n=e.map(Dv);Qa.debug(`Firestore (${Ol}): ${t}`,...n)}}function zs(t,...e){if(Qa.logLevel<=Ue.ERROR){const n=e.map(Dv);Qa.error(`Firestore (${Ol}): ${t}`,...n)}}function Wa(t,...e){if(Qa.logLevel<=Ue.WARN){const n=e.map(Dv);Qa.warn(`Firestore (${Ol}): ${t}`,...n)}}function Dv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,MA(t,i,n)}function MA(t,e,n){let i=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw zs(i),new Error(i)}function Qe(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||MA(e,a,i)}function Ie(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class kA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class LL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jL{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ks,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ks)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string",31837,{l:i}),new kA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class UL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new UL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ow(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ow(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Qd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=FL(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function ze(t,e){return t<e?-1:t>e?1:0}function wy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return jg(a)===jg(l)?ze(a,l):jg(a)?1:-1}return ze(t.length,e.length)}const HL=55296,qL=57343;function jg(t){const e=t.charCodeAt(0);return e>=HL&&e<=qL}function vl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const Pw="__name__";class Xi{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Xi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const i=Xi.isNumericId(e),a=Xi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Xi.extractNumericId(e).compare(Xi.extractNumericId(n)):wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class ot extends Xi{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const $L=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Xi{construct(e,n,i){return new Qt(e,n,i)}static isValidIdentifier(e){return $L.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pw}static keyField(){return new Qt([Pw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}function LA(t,e,n){if(!n)throw new de(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jA(t,e,n,i){if(e===!0&&i===!0)throw new de(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mw(t){if(!ve.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kw(t){if(ve.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wd(t);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uc(t,e){if(!UA(t))throw new de(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new de(re.INVALID_ARGUMENT,n);return!0}const Vw=-62135596800,Lw=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Lw);return new et(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vw)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uc(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Ut("string",et._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new et(0,0))}static max(){return new Re(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bc=-1;function GL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(i===1e9?new et(n+1,0):new et(n,i));return new Fr(a,ve.empty(),e)}function KL(t){return new Fr(t.readTime,t.key,bc)}class Fr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fr(Re.min(),ve.empty(),bc)}static max(){return new Fr(Re.max(),ve.empty(),bc)}}function YL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}const QL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==QL)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>i(d)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((a=>a?ae.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((y=>{u[m]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ae(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function XL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(t){return t.name==="IndexedDbTransactionError"}class Xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xd.ce=-1;const Ov=-1;function Jd(t){return t==null}function pd(t){return t===0&&1/t==-1/0}function JL(t){return typeof t=="number"&&Number.isInteger(t)&&!pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const zA="";function ZL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jw(e)),e=e4(t.get(n),e);return jw(e)}function e4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case zA:n+="";break;default:n+=l}}return n}function jw(t){return t+zA+""}function Uw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new an(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zw(this.data.getIterator())}getIteratorFrom(e){return new zw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class zw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ht(Qt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class FA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new FA("Invalid base64 string: "+l):l}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const t4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=t4.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}const HA="server_timestamp",qA="__type__",$A="__previous_value__",GA="__local_write_time__";function Pv(t){return(t?.mapValue?.fields||{})[qA]?.stringValue===HA}function Zd(t){const e=t.mapValue.fields[$A];return Pv(e)?Zd(e):e}function Tc(t){const e=Hr(t.mapValue.fields[GA].timestampValue);return new et(e.seconds,e.nanos)}class n4{constructor(e,n,i,a,l,u,h,d,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y}}const gd="(default)";class _l{constructor(e,n){this.projectId=e,this.database=n||gd}static empty(){return new _l("","")}get isDefaultDatabase(){return this.database===gd}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}const KA="__type__",i4="__max__",kf={mapValue:{}},YA="__vector__",yd="value";function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pv(t)?4:r4(t)?9007199254740991:s4(t)?10:11:xe(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Hr(a.timestampValue),h=Hr(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return qr(a.bytesValue).isEqual(qr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=At(a.doubleValue),h=At(l.doubleValue);return u===h?pd(u)===pd(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return vl(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Uw(u)!==Uw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ls(u[d],h[d])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Ec(t,e){return(t.values||[]).find((n=>ls(n,e)))!==void 0}function bl(t,e){if(t===e)return 0;const n=$r(t),i=$r(e);if(n!==i)return ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=At(l.integerValue||l.doubleValue),d=At(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return Bw(t.timestampValue,e.timestampValue);case 4:return Bw(Tc(t),Tc(e));case 5:return wy(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=qr(l),d=qr(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=ze(h[m],d[m]);if(y!==0)return y}return ze(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=ze(At(l.latitude),At(u.latitude));return h!==0?h:ze(At(l.longitude),At(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Fw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},m=h[yd]?.arrayValue,y=d[yd]?.arrayValue,v=ze(m?.values?.length||0,y?.values?.length||0);return v!==0?v:Fw(m,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===kf.mapValue&&u===kf.mapValue)return 0;if(l===kf.mapValue)return 1;if(u===kf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const b=wy(d[v],y[v]);if(b!==0)return b;const S=bl(h[d[v]],m[y[v]]);if(S!==0)return S}return ze(d.length,y.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function Bw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Hr(t),i=Hr(e),a=ze(n.seconds,i.seconds);return a!==0?a:ze(n.nanos,i.nanos)}function Fw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=bl(n[a],i[a]);if(l)return l}return ze(n.length,i.length)}function Tl(t){return xy(t)}function xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Hr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=xy(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${xy(n.fields[u])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function Wf(t){switch($r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zd(t);return e?16+Wf(e):16;case 5:return 2*t.stringValue.length;case 6:return qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Wf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Zr(i.fields,((l,u)=>{a+=l.length+Wf(u)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function Hw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function Mv(t){return!!t&&"arrayValue"in t}function qw(t){return!!t&&"nullValue"in t}function $w(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xf(t){return!!t&&"mapValue"in t}function s4(t){return(t?.mapValue?.fields||{})[KA]?.stringValue===YA}function ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=ac(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return{...t}}function r4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===i4}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=Qt.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=ac(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Zr(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new An(ac(this.value))}}function QA(t){const e=[];return Zr(t.fields,((n,i)=>{const a=new Qt([n]);if(Xf(i)){const l=QA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new zn(e)}class cn{constructor(e,n,i,a,l,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new cn(e,0,Re.min(),Re.min(),Re.min(),An.empty(),0)}static newFoundDocument(e,n,i,a){return new cn(e,1,n,Re.min(),i,a,0)}static newNoDocument(e,n){return new cn(e,2,n,Re.min(),Re.min(),An.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Re.min(),Re.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vd{constructor(e,n){this.position=e,this.inclusive=n}}function Gw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(u.referenceValue),n.key):i=bl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Kw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}class _d{constructor(e,n="asc"){this.field=e,this.dir=n}}function a4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class WA{}class jt extends WA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new l4(e,n,i):n==="array-contains"?new h4(e,i):n==="in"?new f4(e,i):n==="not-in"?new d4(e,i):n==="array-contains-any"?new m4(e,i):new jt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new u4(e,i):new c4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bl(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends WA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ci(e,n)}matches(e){return XA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XA(t){return t.op==="and"}function JA(t){return o4(t)&&XA(t)}function o4(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function Ay(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(JA(t))return t.filters.map((e=>Ay(e))).join(",");{const e=t.filters.map((n=>Ay(n))).join(",");return`${t.op}(${e})`}}function ZA(t,e){return t instanceof jt?(function(i,a){return a instanceof jt&&i.op===a.op&&i.field.isEqual(a.field)&&ls(i.value,a.value)})(t,e):t instanceof Ci?(function(i,a){return a instanceof Ci&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&ZA(u,a.filters[h])),!0):!1})(t,e):void xe(19439)}function eR(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof Ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(eR).join(" ,")+"}"})(t):"Filter"}class l4 extends jt{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class u4 extends jt{constructor(e,n){super(e,"in",n),this.keys=tR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class c4 extends jt{constructor(e,n){super(e,"not-in",n),this.keys=tR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tR(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class h4 extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mv(n)&&Ec(n.arrayValue,this.value)}}class f4 extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class d4 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class m4 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ec(this.value.arrayValue,i)))}}class p4{constructor(e,n=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Yw(t,e=null,n=[],i=[],a=null,l=null,u=null){return new p4(t,e,n,i,a,l,u)}function kv(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ay(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Tl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Tl(i))).join(",")),e.Te=n}return e.Te}function Vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kw(t.startAt,e.startAt)&&Kw(t.endAt,e.endAt)}function Ry(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class zc{constructor(e,n=null,i=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g4(t,e,n,i,a,l,u,h){return new zc(t,e,n,i,a,l,u,h)}function em(t){return new zc(t)}function Qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nR(t){return t.collectionGroup!==null}function oc(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ht(Qt.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new _d(l,i))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new _d(Qt.keyField(),i))}return e.Ie}function ss(t){const e=Ie(t);return e.Ee||(e.Ee=y4(e,oc(t))),e.Ee}function y4(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new _d(a.field,l)}));const n=t.endAt?new vd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vd(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Cy(t,e){const n=t.filters.concat([e]);return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ny(t,e,n){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tm(t,e){return Vv(ss(t),ss(e))&&t.limitType===e.limitType}function iR(t){return`${kv(ss(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>eR(a))).join(", ")}]`),Jd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Tl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Tl(a))).join(",")),`Target(${i})`})(ss(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of oc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,d){const m=Gw(u,h,d);return u.inclusive?m<=0:m<0})(i.startAt,oc(i),a)||i.endAt&&!(function(u,h,d){const m=Gw(u,h,d);return u.inclusive?m>=0:m>0})(i.endAt,oc(i),a))})(t,e)}function v4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sR(t){return(e,n)=>{let i=!1;for(const a of oc(t)){const l=_4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function _4(t,e,n){const i=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),m=h.data.field(l);return d!==null&&m!==null?bl(d,m):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:t.dir})}}class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return BA(this.inner)}size(){return this.innerSize}}const b4=new yt(ve.comparator);function Bs(){return b4}const rR=new yt(ve.comparator);function Xu(...t){let e=rR;for(const n of t)e=e.insert(n.key,n);return e}function aR(t){let e=rR;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ua(){return lc()}function oR(){return lc()}function lc(){return new no((t=>t.toString()),((t,e)=>t.isEqual(e)))}const T4=new yt(ve.comparator),E4=new Ht(ve.comparator);function Be(...t){let e=E4;for(const n of t)e=e.add(n);return e}const w4=new Ht(ze);function x4(){return w4}function Lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function lR(t){return{integerValue:""+t}}function S4(t,e){return JL(e)?lR(e):Lv(t,e)}class im{constructor(){this._=void 0}}function A4(t,e,n){return t instanceof bd?(function(a,l){const u={fields:{[qA]:{stringValue:HA},[GA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Pv(l)&&(l=Zd(l)),l&&(u.fields[$A]=l),{mapValue:u}})(n,e):t instanceof wc?cR(t,e):t instanceof xc?hR(t,e):(function(a,l){const u=uR(a,l),h=Ww(u)+Ww(a.Ae);return Sy(u)&&Sy(a.Ae)?lR(h):Lv(a.serializer,h)})(t,e)}function R4(t,e,n){return t instanceof wc?cR(t,e):t instanceof xc?hR(t,e):n}function uR(t,e){return t instanceof Td?(function(i){return Sy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class bd extends im{}class wc extends im{constructor(e){super(),this.elements=e}}function cR(t,e){const n=fR(e);for(const i of t.elements)n.some((a=>ls(a,i)))||n.push(i);return{arrayValue:{values:n}}}class xc extends im{constructor(e){super(),this.elements=e}}function hR(t,e){let n=fR(e);for(const i of t.elements)n=n.filter((a=>!ls(a,i)));return{arrayValue:{values:n}}}class Td extends im{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ww(t){return At(t.integerValue||t.doubleValue)}function fR(t){return Mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function C4(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof wc&&a instanceof wc||i instanceof xc&&a instanceof xc?vl(i.elements,a.elements,ls):i instanceof Td&&a instanceof Td?ls(i.Ae,a.Ae):i instanceof bd&&a instanceof bd})(t.transform,e.transform)}class N4{constructor(e,n){this.version=e,this.transformResults=n}}class xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function dR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pR(t.key,xi.none()):new Bc(t.key,t.data,xi.none());{const n=t.data,i=An.empty();let a=new Ht(Qt.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new ea(t.key,i,new zn(a.toArray()),xi.none())}}function I4(t,e,n){t instanceof Bc?(function(a,l,u){const h=a.value.clone(),d=Jw(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ea?(function(a,l,u){if(!Jf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Jw(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(mR(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function uc(t,e,n,i){return t instanceof Bc?(function(l,u,h,d){if(!Jf(l.precondition,u))return h;const m=l.value.clone(),y=Zw(l.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof ea?(function(l,u,h,d){if(!Jf(l.precondition,u))return h;const m=Zw(l.fieldTransforms,d,u),y=u.data;return y.setAll(mR(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(l,u,h){return Jf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function D4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=uR(i.transform,a||null);l!=null&&(n===null&&(n=An.empty()),n.set(i.field,l))}return n||null}function Xw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&vl(i,a,((l,u)=>C4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bc extends sm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ea extends sm{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function mR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Jw(t,e,n){const i=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,R4(u,h,n[a]))}return i}function Zw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,A4(l,u,e))}return i}class pR extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O4 extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class P4{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&I4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=uc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=uc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=oR();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=dR(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((n,i)=>Xw(n,i)))&&vl(this.baseMutations,e.baseMutations,((n,i)=>Xw(n,i)))}}class jv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return T4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new jv(e,n,i,a)}}class M4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class k4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,He;function V4(t){switch(t){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function gR(t){if(t===void 0)return zs("GRPC error has no .code"),re.UNKNOWN;switch(t){case Vt.OK:return re.OK;case Vt.CANCELLED:return re.CANCELLED;case Vt.UNKNOWN:return re.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return re.INTERNAL;case Vt.UNAVAILABLE:return re.UNAVAILABLE;case Vt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Vt.NOT_FOUND:return re.NOT_FOUND;case Vt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Vt.ABORTED:return re.ABORTED;case Vt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Vt.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:t})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function L4(){return new TextEncoder}const j4=new Vr([4294967295,4294967295],0);function e1(t){const e=L4().encode(t),n=new CA;return n.update(e),new Uint8Array(n.digest())}function t1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Vr([n,i],0),new Vr([a,l],0)]}class Uv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ju(`Invalid padding: ${n}`);if(i<0)throw new Ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Vr.fromNumber(i)));return a.compare(j4)===1&&(a=new Vr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=e1(e),[i,a]=t1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Uv(l,a,n);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=e1(e),[i,a]=t1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new rm(Re.min(),a,new yt(ze),Bs(),Be())}}class Fc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Fc(i,n,Be(),Be(),Be())}}class Zf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class yR{constructor(e,n){this.targetId=e,this.Ce=n}}class vR{constructor(e,n,i=Wt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class n1{constructor(){this.ve=0,this.Fe=i1(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),i=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:xe(38017,{changeType:l})}})),new Fc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=i1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=Vf(),this.He=Vf(),this.Ye=new yt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ry(l))if(i===0){const u=new ve(l.path);this.et(n,u,cn.newNoDocument(u,Re.min()))}else Qe(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=qr(i).toUint8Array()}catch(d){if(d instanceof FA)return Wa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Uv(u,a,l)}catch(d){return Wa(d instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Ry(h.target)){const d=new ve(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,cn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Be();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new rm(e,n,this.Ye,this.je,i);return this.je=Bs(),this.Je=Vf(),this.He=Vf(),this.Ye=new yt(ze),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new n1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vf(){return new yt(ve.comparator)}function i1(){return new yt(ve.comparator)}const z4={asc:"ASCENDING",desc:"DESCENDING"},B4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F4={and:"AND",or:"OR"};class H4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iy(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function Ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _R(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q4(t,e){return Ed(t,e.toTimestamp())}function rs(t){return Qe(!!t,49232),Re.fromTimestamp((function(n){const i=Hr(n);return new et(i.seconds,i.nanos)})(t))}function zv(t,e){return Dy(t,e).canonicalString()}function Dy(t,e){const n=(function(a){return new ot(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function bR(t){const e=ot.fromString(t);return Qe(SR(e),10190,{key:e.toString()}),e}function Oy(t,e){return zv(t.databaseId,e.path)}function Ug(t,e){const n=bR(e);if(n.get(1)!==t.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(ER(n))}function TR(t,e){return zv(t.databaseId,e)}function $4(t){const e=bR(t);return e.length===4?ot.emptyPath():ER(e)}function Py(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ER(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s1(t,e,n){return{name:Oy(t,e),fields:n.value.mapValue.fields}}function G4(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),Wt.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Wt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?re.UNKNOWN:gR(m.code);return new de(y,m.message||"")})(u);n=new vR(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ug(t,i.document.name),l=rs(i.document.updateTime),u=i.document.createTime?rs(i.document.createTime):Re.min(),h=new An({mapValue:{fields:i.document.fields}}),d=cn.newFoundDocument(a,l,u,h),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Zf(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ug(t,i.document),l=i.readTime?rs(i.readTime):Re.min(),u=cn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Zf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ug(t,i.document),l=i.removedTargetIds||[];n=new Zf([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new k4(a,l),h=i.targetId;n=new yR(h,u)}}return n}function K4(t,e){let n;if(e instanceof Bc)n={update:s1(t,e.key,e.value)};else if(e instanceof pR)n={delete:Oy(t,e.key)};else if(e instanceof ea)n={update:s1(t,e.key,e.data),updateMask:n3(e.fieldMask)};else{if(!(e instanceof O4))return xe(16599,{Vt:e.type});n={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof bd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Td)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw xe(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:q4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function Y4(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?rs(a.updateTime):rs(l);return u.isEqual(Re.min())&&(u=rs(l)),new N4(u,a.transformResults||[])})(n,e)))):[]}function Q4(t,e){return{documents:[TR(t,e.path)]}}function W4(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=TR(t,a);const l=(function(m){if(m.length!==0)return xR(Ci.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(b){return{field:nl(b.field),direction:Z4(b.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Iy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function X4(t){let e=$4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Qe(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const b=wR(v);return b instanceof Ci&&JA(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((b=>(function(I){return new _d(il(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,Jd(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(v){const b=!!v.before,S=v.values||[];return new vd(S,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const b=!v.before,S=v.values||[];return new vd(S,b)})(n.endAt)),g4(e,a,u,l,h,"F",d,m)}function J4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=il(n.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=il(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=il(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=il(n.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(il(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ci.create(n.compositeFilter.filters.map((i=>wR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function Z4(t){return z4[t]}function e3(t){return B4[t]}function t3(t){return F4[t]}function nl(t){return{fieldPath:t.canonicalString()}}function il(t){return Qt.fromServerFormat(t.fieldPath)}function xR(t){return t instanceof jt?(function(n){if(n.op==="=="){if($w(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NAN"}};if(qw(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($w(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NAN"}};if(qw(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(n.field),op:e3(n.op),value:n.value}}})(t):t instanceof Ci?(function(n){const i=n.getFilters().map((a=>xR(a)));return i.length===1?i[0]:{compositeFilter:{op:t3(n.op),filters:i}}})(t):xe(54877,{filter:t})}function n3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Dr{constructor(e,n,i,a,l=Re.min(),u=Re.min(),h=Wt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class i3{constructor(e){this.yt=e}}function s3(t){const e=X4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ny(e,e.limit,"L"):e}class r3{constructor(){this.Cn=new a3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Fr.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class a3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Ht(ot.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}const r1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AR=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(AR,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}const a1="LruGarbageCollector",o3=1048576;function o1([t,e],[n,i]){const a=ze(t,n);return a===0?ze(e,i):a}class l3{constructor(e){this.Ir=e,this.buffer=new Ht(o1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();o1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(a1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?me(a1,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Vr(3e5)}))}}class c3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Xd.ce);const i=new l3(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(r1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(m=Date.now(),el()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function h3(t,e){return new c3(t,e)}class f3{constructor(){this.changes=new no((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class d3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class m3{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&uc(i.mutation,a,zn.empty(),et.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Be()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Be()){const a=Ua();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=Xu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Ua();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Be())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,i,a){let l=Bs();const u=lc(),h=(function(){return lc()})();return n.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof ea)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),uc(y.mutation,m,y.mutation.getFieldMask(),et.now())):u.set(m.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,y)=>u.set(m,y))),n.forEach(((m,y)=>h.set(m,new d3(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=lc();let a=new yt(((u,h)=>u-h)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let y=i.get(d)||zn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const v=(a.get(h.batchId)||Be()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,v=oR();y.forEach((b=>{if(!l.has(b)){const S=dR(n.get(b),i.get(b));S!==null&&v.set(b,S),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ae.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(Ua());let h=bc,d=l;return u.next((m=>ae.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{d=d.insert(y,b)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,Be()))).next((y=>({batchId:h,changes:aR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((i=>{let a=Xu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Xu();return this.indexManager.getCollectionParents(e,l).next((h=>ae.forEach(h,(d=>{const m=(function(v,b){return new zc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((y=>{y.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,cn.newInvalidDocument(y)))}));let h=Xu();return u.forEach(((d,m)=>{const y=l.get(d);y!==void 0&&uc(y.mutation,m,zn.empty(),et.now()),nm(n,m)&&(h=h.insert(d,m))})),h}))}}class p3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:rs(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:s3(a.bundledQuery),readTime:rs(a.readTime)}})(n)),ae.resolve()}}class g3{constructor(){this.overlays=new yt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ua();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=Ua(),l=n.length+1,u=new ve(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new yt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Ua(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ua(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return ae.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new M4(n,i));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class y3{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Bv{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Yt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Yt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new ve(new ot([])),i=new Yt(n,e),a=new Yt(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ot([])),i=new Yt(n,e),a=new Yt(n,e+1);let l=Be();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Yt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class v3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new P4(l,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Yt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Ov:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Yt(n,0),a=new Yt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ht(ze);return n.forEach((a=>{const l=new Yt(a,0),u=new Yt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{i=i.add(h.Yr)}))})),ae.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const u=new Yt(new ve(l),0);let h=new Ht(ze);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Yr)),!0)}),u),ae.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new Yt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Yt(n,0),a=this.Zr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _3{constructor(e){this.ri=e,this.docs=(function(){return new yt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let i=Bs();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Bs();const u=n.path,h=new ve(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||YL(KL(y),i)<=0||(a.has(y.key)||nm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){xe(9500)}ii(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new b3(this)}getSize(e){return ae.resolve(this.size)}}class b3 extends f3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class T3{constructor(e){this.persistence=e,this.si=new no((n=>kv(n)),Vv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Bv,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}class RR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xd(0),this.li=!1,this.li=!0,this.hi=new y3,this.referenceDelegate=e(this),this.Pi=new T3(this),this.indexManager=new r3,this.remoteDocumentCache=(function(a){return new _3(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new i3(n),this.Ii=new p3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new v3(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new E3(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class E3 extends WL{constructor(e){super(),this.currentSequenceNumber=e}}class Fv{constructor(e){this.persistence=e,this.Ri=new Bv,this.Vi=null}static mi(e){return new Fv(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(i=>{const a=ve.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wd{constructor(e,n){this.persistence=e,this.pi=new no((i=>ZL(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=h3(this,n)}static mi(e,n){return new wd(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(i++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wf(e.data.value)),n}br(e,n,i){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Hv(e,n.fromCache,i,a)}}class w3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class x3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sM()?8:XL(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new w3;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(el()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(el()<=Ue.DEBUG&&me("QueryEngine","Query:",tl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(el()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(n))):ae.resolve())}ys(e,n){if(Qw(n))return ae.resolve(null);let i=ss(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ny(n,null,"F"),i=ss(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Be(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.Ds(n,h);return this.Cs(n,m,u,d.readTime)?this.ys(e,Ny(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,i,a){return Qw(n)||a.isEqual(Re.min())?ae.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?ae.resolve(null):(el()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tl(n)),this.vs(e,u,n,GL(a,bc)).next((h=>h)))}))}Ds(e,n){let i=new Ht(sR(e));return n.forEach(((a,l)=>{nm(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return el()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ps.getDocumentsMatchingQuery(e,n,Fr.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const qv="LocalStore",S3=3e8;class A3{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new yt(ze),this.xs=new no((l=>kv(l)),Vv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function R3(t,e,n,i){return new A3(t,e,n,i)}async function CR(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let d=Be();for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function C3(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const v=m.batch,b=v.keys();let S=ae.resolve();return b.forEach((I=>{S=S.next((()=>y.getEntry(d,I))).next((L=>{const M=m.docVersions.get(I);Qe(M!==null,48541),L.version.compareTo(M)<0&&(v.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),y.addEntry(L)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Be();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function NR(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function N3(t,e){const n=Ie(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const b=a.get(v);if(!b)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Wt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(v,S),(function(L,M,z){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=S3?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(b,S,y)&&h.push(n.Pi.updateTargetData(l,S))}));let d=Bs(),m=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(I3(l,u,e.documentUpdates).next((y=>{d=y.ks,m=y.qs}))),!i.isEqual(Re.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return ae.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function I3(t,e,n){let i=Be(),a=Be();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Bs();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):me(qv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function D3(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ov),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function O3(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new Dr(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function My(t,e,n){const i=Ie(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Ml(u))throw u;me(qv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function l1(t,e,n){const i=Ie(t);let a=Re.min(),l=Be();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,y){const v=Ie(d),b=v.xs.get(y);return b!==void 0?ae.resolve(v.Ms.get(b)):v.Pi.getTargetData(m,y)})(i,u,ss(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:Re.min(),n?l:Be()))).next((h=>(P3(i,v4(e),h),{documents:h,Qs:l})))))}function P3(t,e,n){let i=t.Os.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class u1{constructor(){this.activeTargetIds=x4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M3{constructor(){this.Mo=new u1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new u1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k3{Oo(e){}shutdown(){}}const c1="ConnectivityMonitor";class h1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(c1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(c1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lf=null;function ky(){return Lf===null?Lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lf++,"0x"+Lf.toString(16)}const zg="RestConnection",V3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===gd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=ky(),h=this.zo(e,n.toUriEncodedString());me(zg,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:m}=new URL(h),y=Za(m);return this.Jo(e,h,d,i,y).then((v=>(me(zg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Wa(zg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=V3[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class j3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class U3 extends L3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=ky();return new Promise(((h,d)=>{const m=new NA;m.setWithCredentials(!0),m.listenOnce(IA.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Qf.NO_ERROR:const v=m.getResponseJson();me(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Qf.TIMEOUT:me(ln,`RPC '${e}' ${u} timed out`),d(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const b=m.getStatus();if(me(ln,`RPC '${e}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S?.error;if(I&&I.status&&I.message){const L=(function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(F)>=0?F:re.UNKNOWN})(I.status);d(new de(L,I.message))}else d(new de(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new de(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(ln,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(ln,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=ky(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=PA(),h=OA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const y=l.join("");me(ln,`Creating RPC '${e}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let b=!1,S=!1;const I=new j3({Yo:M=>{S?me(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(me(ln,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),me(ln,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Zo:()=>v.close()}),L=(M,z,F)=>{M.listen(z,(q=>{try{F(q)}catch(te){setTimeout((()=>{throw te}),0)}}))};return L(v,Wu.EventType.OPEN,(()=>{S||(me(ln,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),L(v,Wu.EventType.CLOSE,(()=>{S||(S=!0,me(ln,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(v))})),L(v,Wu.EventType.ERROR,(M=>{S||(S=!0,Wa(ln,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),I.a_(new de(re.UNAVAILABLE,"The operation could not be completed")))})),L(v,Wu.EventType.MESSAGE,(M=>{if(!S){const z=M.data[0];Qe(!!z,16349);const F=z,q=F?.error||F[0]?.error;if(q){me(ln,`RPC '${e}' stream ${a} received error:`,q);const te=q.status;let ie=(function(A){const N=Vt[A];if(N!==void 0)return gR(N)})(te),ue=q.message;ie===void 0&&(ie=re.INTERNAL,ue="Unknown error status: "+te+" with message "+q.message),S=!0,I.a_(new de(ie,ue)),v.close()}else me(ln,`RPC '${e}' stream ${a} received:`,z),I.u_(z)}})),L(h,DA.STAT_EVENT,(M=>{M.stat===Ey.PROXY?me(ln,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===Ey.NOPROXY&&me(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Bg(){return typeof document<"u"?document:null}function am(t){return new H4(t,!0)}class IR{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const f1="PersistentStream";class DR{constructor(e,n,i,a,l,u,h,d){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new de(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(f1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(f1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class z3 extends DR{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=G4(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?rs(u.readTime):Re.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Py(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Ry(d)?{documents:Q4(l,d)}:{query:W4(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=_R(l,u.resumeToken);const m=Iy(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=Ed(l,u.snapshotVersion.toTimestamp());const m=Iy(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=J4(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.q_(n)}}class B3 extends DR{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y4(e.writeResults,e.commitTime),i=rs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Py(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>K4(this.serializer,i)))};this.q_(n)}}class F3{}class H3 extends F3{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Dy(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(re.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Dy(n,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xa="RemoteStore";class $3{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{io(this)&&(me(Xa,"Restarting streams for network reachability change."),await(async function(d){const m=Ie(d);m.Ea.add(4),await Hc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await om(m)})(this))}))})),this.Ra=new q3(i,a)}}async function om(t){if(io(t))for(const e of t.da)await e(!0)}async function Hc(t){for(const e of t.da)await e(!1)}function OR(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yv(n)?Kv(n):kl(n).O_()&&Gv(n,e))}function $v(t,e){const n=Ie(t),i=kl(n);n.Ia.delete(e),i.O_()&&PR(n,e),n.Ia.size===0&&(i.O_()?i.L_():io(n)&&n.Ra.set("Unknown"))}function Gv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).Y_(e)}function PR(t,e){t.Va.Ue(e),kl(t).Z_(e)}function Kv(t){t.Va=new U4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Ra.ua()}function Yv(t){return io(t)&&!kl(t).x_()&&t.Ia.size>0}function io(t){return Ie(t).Ea.size===0}function MR(t){t.Va=void 0}async function G3(t){t.Ra.set("Online")}async function K3(t){t.Ia.forEach(((e,n)=>{Gv(t,e)}))}async function Y3(t,e){MR(t),Yv(t)?(t.Ra.ha(e),Kv(t)):t.Ra.set("Unknown")}async function Q3(t,e,n){if(t.Ra.set("Online"),e instanceof vR&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(i){me(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xd(t,i)}else if(e instanceof Zf?t.Va.Ze(e):e instanceof yR?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const i=await NR(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(Wt.EMPTY_BYTE_STRING,y.snapshotVersion)),PR(l,d);const v=new Dr(y.target,d,m,y.sequenceNumber);Gv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){me(Xa,"Failed to raise snapshot:",i),await xd(t,i)}}async function xd(t,e,n){if(!Ml(e))throw e;t.Ea.add(1),await Hc(t),t.Ra.set("Offline"),n||(n=()=>NR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Xa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await om(t)}))}function kR(t,e){return e().catch((n=>xd(t,n,e)))}async function lm(t){const e=Ie(t),n=Gr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ov;for(;W3(e);)try{const a=await D3(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,X3(e,a)}catch(a){await xd(e,a)}VR(e)&&LR(e)}function W3(t){return io(t)&&t.Ta.length<10}function X3(t,e){t.Ta.push(e);const n=Gr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VR(t){return io(t)&&!Gr(t).x_()&&t.Ta.length>0}function LR(t){Gr(t).start()}async function J3(t){Gr(t).ra()}async function Z3(t){const e=Gr(t);for(const n of t.Ta)e.ea(n.mutations)}async function e6(t,e,n){const i=t.Ta.shift(),a=jv.from(i,e,n);await kR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await lm(t)}async function t6(t,e){e&&Gr(t).X_&&await(async function(i,a){if((function(u){return V4(u)&&u!==re.ABORTED})(a.code)){const l=i.Ta.shift();Gr(i).B_(),await kR(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await lm(i)}})(t,e),VR(t)&&LR(t)}async function d1(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),me(Xa,"RemoteStore received new credentials");const i=io(n);n.Ea.add(3),await Hc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await om(n)}async function n6(t,e){const n=Ie(t);e?(n.Ea.delete(2),await om(n)):e||(n.Ea.add(2),await Hc(n),n.Ra.set("Unknown"))}function kl(t){return t.ma||(t.ma=(function(n,i,a){const l=Ie(n);return l.sa(),new z3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:G3.bind(null,t),t_:K3.bind(null,t),r_:Y3.bind(null,t),H_:Q3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Yv(t)?Kv(t):t.Ra.set("Unknown")):(await t.ma.stop(),MR(t))}))),t.ma}function Gr(t){return t.fa||(t.fa=(function(n,i,a){const l=Ie(n);return l.sa(),new B3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:J3.bind(null,t),r_:t6.bind(null,t),ta:Z3.bind(null,t),na:e6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await lm(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Xa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Qv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,h=new Qv(e,n,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wv(t,e){if(zs("AsyncQueue",`${e}: ${t}`),Ml(t))return new de(re.UNAVAILABLE,`${e}: ${t}`);throw t}class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=Xu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ml;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class m1{constructor(){this.ga=new yt(ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class wl{constructor(e,n,i,a,l,u,h,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new wl(e,n,ml.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class i6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class s6{constructor(){this.queries=p1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ie(n),l=a.queries;a.queries=p1(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(i)}))})(this,new de(re.ABORTED,"Firestore shutting down"))}}function p1(){return new no((t=>iR(t)),tm)}async function Xv(t,e){const n=Ie(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new i6,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=Wv(u,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Zv(n)}async function Jv(t,e){const n=Ie(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function r6(t,e){const n=Ie(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&Zv(n)}function a6(t,e,n){const i=Ie(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function Zv(t){t.Ca.forEach((e=>{e.next()}))}var Vy,g1;(g1=Vy||(Vy={})).Ma="default",g1.Cache="cache";class e0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new wl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vy.Cache}}class jR{constructor(e){this.key=e}}class UR{constructor(e){this.key=e}}class o6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=sR(e),this.tu=new ml(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new m1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const b=a.get(y),S=nm(this.query,v)?v:null,I=!!b&&this.mutatedKeys.has(b.key),L=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;b&&S?b.data.isEqual(S.data)?I!==L&&(i.track({type:3,doc:S}),M=!0):this.su(b,S)||(i.track({type:2,doc:S}),M=!0,(d&&this.eu(S,d)>0||m&&this.eu(S,m)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),M=!0):b&&!S&&(i.track({type:1,doc:b}),M=!0,(d||m)&&(h=!0)),M&&(S?(u=u.add(S),l=L?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(S,I){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:M})}};return L(S)-L(I)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new wl(this.query,e.tu,l,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new UR(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new jR(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const t0="SyncEngine";class l6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class u6{constructor(e){this.key=e,this.hu=!1}}class c6{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new no((h=>iR(h)),tm),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ve.comparator),this.Au=new Map,this.Ru=new Bv,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h6(t,e,n=!0){const i=$R(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await zR(i,e,n,!0),a}async function f6(t,e){const n=$R(t);await zR(n,e,!0,!1)}async function zR(t,e,n,i){const a=await O3(t.localStore,ss(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await d6(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&OR(t.remoteStore,a),h}async function d6(t,e,n,i,a){t.pu=(v,b,S)=>(async function(L,M,z,F){let q=M.view.ru(z);q.Cs&&(q=await l1(L.localStore,M.query,!1).then((({documents:C})=>M.view.ru(C,q))));const te=F&&F.targetChanges.get(M.targetId),ie=F&&F.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(q,L.isPrimaryClient,te,ie);return v1(L,M.targetId,ue.au),ue.snapshot})(t,v,b,S);const l=await l1(t.localStore,e,!0),u=new o6(e,l.Qs),h=u.ru(l.documents),d=Fc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,d);v1(t,n,m.au);const y=new l6(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function m6(t,e,n){const i=Ie(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!tm(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await My(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&$v(i.remoteStore,a.targetId),Ly(i,a.targetId)})).catch(Pl)):(Ly(i,a.targetId),await My(i.localStore,a.targetId,!0))}async function p6(t,e){const n=Ie(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$v(n.remoteStore,i.targetId))}async function g6(t,e,n){const i=w6(t);try{const a=await(function(u,h){const d=Ie(u),m=et.now(),y=h.reduce(((S,I)=>S.add(I.key)),Be());let v,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=Bs(),L=Be();return d.Ns.getEntries(S,y).next((M=>{I=M,I.forEach(((z,F)=>{F.isValidDocument()||(L=L.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,I))).next((M=>{v=M;const z=[];for(const F of h){const q=D4(F,v.get(F.key).overlayedDocument);q!=null&&z.push(new ea(F.key,q,QA(q.value.mapValue),xi.exists(!0)))}return d.mutationQueue.addMutationBatch(S,m,z,h)})).next((M=>{b=M;const z=M.applyToLocalDocumentSet(v,L);return d.documentOverlayCache.saveOverlays(S,M.batchId,z)}))})).then((()=>({batchId:b.batchId,changes:aR(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let m=u.Vu[u.currentUser.toKey()];m||(m=new yt(ze)),m=m.insert(h,d),u.Vu[u.currentUser.toKey()]=m})(i,a.batchId,n),await qc(i,a.changes),await lm(i.remoteStore)}catch(a){const l=Wv(a,"Failed to persist write");n.reject(l)}}async function BR(t,e){const n=Ie(t);try{const i=await N3(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Qe(u.hu,14607):a.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await qc(n,i,e)}catch(i){await Pl(i)}}function y1(t,e,n){const i=Ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ie(u);d.onlineState=h;let m=!1;d.queries.forEach(((y,v)=>{for(const b of v.Sa)b.va(h)&&(m=!0)})),m&&Zv(d)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function y6(t,e,n){const i=Ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new yt(ve.comparator);u=u.insert(l,cn.newNoDocument(l,Re.min()));const h=Be().add(l),d=new rm(Re.min(),new Map,new yt(ze),u,h);await BR(i,d),i.du=i.du.remove(l),i.Au.delete(e),n0(i)}else await My(i.localStore,e,!1).then((()=>Ly(i,e,n))).catch(Pl)}async function v6(t,e){const n=Ie(t),i=e.batch.batchId;try{const a=await C3(n.localStore,e);HR(n,i,null),FR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await qc(n,a)}catch(a){await Pl(a)}}async function _6(t,e,n){const i=Ie(t);try{const a=await(function(u,h){const d=Ie(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(Qe(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);HR(i,e,n),FR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await qc(i,a)}catch(a){await Pl(a)}}function FR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function HR(t,e,n){const i=Ie(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||qR(t,i)}))}function qR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($v(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),n0(t))}function v1(t,e,n){for(const i of n)i instanceof jR?(t.Ru.addReference(i.key,e),b6(t,i)):i instanceof UR?(me(t0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||qR(t,i.key)):xe(19791,{wu:i})}function b6(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(me(t0,"New document in limbo: "+n),t.Eu.add(i),n0(t))}function n0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(ot.fromString(e)),i=t.fu.next();t.Au.set(i,new u6(n)),t.du=t.du.insert(n,i),OR(t.remoteStore,new Dr(ss(em(n.path)),i,"TargetPurposeLimboResolution",Xd.ce))}}async function qc(t,e,n){const i=Ie(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Hv.As(d.targetId,m);l.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(d,m){const y=Ie(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ae.forEach(m,(b=>ae.forEach(b.Es,(S=>y.persistence.referenceDelegate.addReference(v,b.targetId,S))).next((()=>ae.forEach(b.ds,(S=>y.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))))))}catch(v){if(!Ml(v))throw v;me(qv,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const S=y.Ms.get(b),I=S.snapshotVersion,L=S.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(b,L)}}})(i.localStore,l))}async function T6(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){me(t0,"User change. New user:",e.toKey());const i=await CR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(re.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await qc(n,i.Ls)}}function E6(t,e){const n=Ie(t),i=n.Au.get(e);if(i&&i.hu)return Be().add(i.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function $R(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y6.bind(null,e),e.Pu.H_=r6.bind(null,e.eventManager),e.Pu.yu=a6.bind(null,e.eventManager),e}function w6(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_6.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return R3(this.persistence,new x3,e.initialUser,this.serializer)}Cu(e){return new RR(Fv.mi,this.serializer)}Du(e){return new M3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class x6 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof wd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new u3(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new RR((i=>wd.mi(i,n)),this.serializer)}}class jy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>y1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=T6.bind(null,this.syncEngine),await n6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s6})()}createDatastore(e){const n=am(e.databaseInfo.databaseId),i=(function(l){return new U3(l)})(e.databaseInfo);return(function(l,u,h,d){return new H3(l,u,h,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,h){return new $3(i,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>y1(this.syncEngine,n,0)),(function(){return h1.v()?new h1:new k3})())}createSyncEngine(e,n){return(function(a,l,u,h,d,m,y){const v=new c6(a,l,u,h,d,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ie(n);me(Xa,"RemoteStore shutting down."),i.Ea.add(5),await Hc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jy.provider={build:()=>new jy};class i0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Kr="FirestoreClient";class S6{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{me(Kr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(me(Kr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Fg(t,e){t.asyncQueue.verifyOperationInProgress(),me(Kr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await CR(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function _1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A6(t);me(Kr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>d1(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>d1(e.remoteStore,a))),t._onlineComponents=e}async function A6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Kr,"Using user provided OfflineComponentProvider");try{await Fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await Fg(t,new Sd)}}else me(Kr,"Using default OfflineComponentProvider"),await Fg(t,new x6(void 0));return t._offlineComponents}async function GR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Kr,"Using user provided OnlineComponentProvider"),await _1(t,t._uninitializedComponentsProvider._online)):(me(Kr,"Using default OnlineComponentProvider"),await _1(t,new jy))),t._onlineComponents}function R6(t){return GR(t).then((e=>e.syncEngine))}async function Ad(t){const e=await GR(t),n=e.eventManager;return n.onListen=h6.bind(null,e.syncEngine),n.onUnlisten=m6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=f6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p6.bind(null,e.syncEngine),n}function C6(t,e,n={}){const i=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,m){const y=new i0({next:b=>{y.Nu(),u.enqueueAndForget((()=>Jv(l,v)));const S=b.docs.has(h);!S&&b.fromCache?m.reject(new de(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&d&&d.source==="server"?m.reject(new de(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new e0(em(h.path),y,{includeMetadataChanges:!0,qa:!0});return Xv(l,v)})(await Ad(t),t.asyncQueue,e,n,i))),i.promise}function N6(t,e,n={}){const i=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,m){const y=new i0({next:b=>{y.Nu(),u.enqueueAndForget((()=>Jv(l,v))),b.fromCache&&d.source==="server"?m.reject(new de(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new e0(h,y,{includeMetadataChanges:!0,qa:!0});return Xv(l,v)})(await Ad(t),t.asyncQueue,e,n,i))),i.promise}function KR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const b1=new Map;const YR="firestore.googleapis.com",T1=!0;class E1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YR,this.ssl=T1}else this.host=e.host,this.ssl=e.ssl??T1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o3)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KR(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new VA;switch(i.type){case"firstParty":return new zL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=b1.get(n);i&&(me("ComponentProvider","Removing Datastore"),b1.delete(n),i.terminate())})(this),Promise.resolve()}}function QR(t,e,n,i={}){t=Cn(t,um);const a=Za(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(vv(`https://${h}`),_v("Firestore",!0)),l.host!==YR&&l.host!==h&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:i};if(!Ga(d,u)&&(t._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=un.MOCK_USER;else{m=HS(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(v)}t._authCredentials=new LL(new kA(m,y))}}class ta{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class gt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Uc(n,gt._jsonSchema))return new gt(e,i||null,new ve(ot.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ut("string",gt._jsonSchemaVersion),referencePath:Ut("string")};class Vs extends ta{constructor(e,n,i){super(e,n,em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ve(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Lr(t,e,...n){if(t=qt(t),LA("collection","path",e),t instanceof um){const i=ot.fromString(e,...n);return kw(i),new Vs(t,null,i)}{if(!(t instanceof gt||t instanceof Vs))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return kw(i),new Vs(t.firestore,null,i)}}function ii(t,e,...n){if(t=qt(t),arguments.length===1&&(e=Qd.newId()),LA("doc","path",e),t instanceof um){const i=ot.fromString(e,...n);return Mw(i),new gt(t,null,new ve(i))}{if(!(t instanceof gt||t instanceof Vs))throw new de(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return Mw(i),new gt(t.firestore,t instanceof Vs?t.converter:null,new ve(i))}}const w1="AsyncQueue";class x1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IR(this,"async_queue_retry"),this._c=()=>{const i=Bg();i&&me(w1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;me(w1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",S1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Qv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:S1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function S1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function A1(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Fs extends um{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new x1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x1(e),this._firestoreClient=void 0,await e}}}function WR(t,e){const n=typeof t=="object"?t:Ev(),i=typeof t=="string"?t:gd,a=qd(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=zS("firestore");l&&QR(a,...l)}return a}function $c(t){if(t._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I6(t),t._firestoreClient}function I6(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new n4(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Wt.fromBase64String(e))}catch(n){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uc(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ut("string",Un._jsonSchemaVersion),bytes:Ut("string")};class Gc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._methodName=e}}class Si{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(Uc(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Ut("string",Si._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uc(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ai(e.vectorValues);throw new de(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Ut("string",Ai._jsonSchemaVersion),vectorValues:Ut("object")};const D6=/^__.*__$/;class O6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}}class XR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class s0{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new s0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JR(this.Ac)&&D6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class P6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||am(e)}Cc(e,n,i,a=!1){return new s0({Ac:e,methodName:n,Dc:i,path:Qt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(t){const e=t._freezeSettings(),n=am(t._databaseId);return new P6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZR(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);r0("Data must be an object, but it was:",u,i);const h=eC(i,u);let d,m;if(l.merge)d=new zn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=Uy(e,v,n);if(!u.contains(b))throw new de(re.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nC(y,b)||y.push(b)}d=new zn(y),m=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=u.fieldTransforms;return new O6(new An(h),d,m)}class fm extends cm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}function M6(t,e,n,i){const a=t.Cc(1,e,n);r0("Data must be an object, but it was:",a,i);const l=[],u=An.empty();Zr(i,((d,m)=>{const y=a0(e,d,n);m=qt(m);const v=a.yc(y);if(m instanceof fm)l.push(y);else{const b=Kc(m,v);b!=null&&(l.push(y),u.set(y,b))}}));const h=new zn(l);return new XR(u,h,a.fieldTransforms)}function k6(t,e,n,i,a,l){const u=t.Cc(1,e,n),h=[Uy(e,i,n)],d=[a];if(l.length%2!=0)throw new de(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)h.push(Uy(e,l[b])),d.push(l[b+1]);const m=[],y=An.empty();for(let b=h.length-1;b>=0;--b)if(!nC(m,h[b])){const S=h[b];let I=d[b];I=qt(I);const L=u.yc(S);if(I instanceof fm)m.push(S);else{const M=Kc(I,L);M!=null&&(m.push(S),y.set(S,M))}}const v=new zn(m);return new XR(y,v,u.fieldTransforms)}function V6(t,e,n,i=!1){return Kc(n,t.Cc(i?4:3,e))}function Kc(t,e){if(tC(t=qt(t)))return r0("Unsupported field value:",e,t),eC(t,e);if(t instanceof cm)return(function(i,a){if(!JR(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let d=Kc(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return S4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=et.fromDate(i);return{timestampValue:Ed(a.serializer,l)}}if(i instanceof et){const l=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ed(a.serializer,l)}}if(i instanceof Si)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Un)return{bytesValue:_R(a.serializer,i._byteString)};if(i instanceof gt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ai)return(function(u,h){return{mapValue:{fields:{[KA]:{stringValue:YA},[yd]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Lv(h.serializer,m)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Wd(i)}`)})(t,e)}function eC(t,e){const n={};return BA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,((i,a)=>{const l=Kc(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function tC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Si||t instanceof Un||t instanceof gt||t instanceof cm||t instanceof Ai)}function r0(t,e,n){if(!tC(n)||!UA(n)){const i=Wd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Uy(t,e,n){if((e=qt(e))instanceof Gc)return e._internalPath;if(typeof e=="string")return a0(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const L6=new RegExp("[~\\*/\\[\\]]");function a0(t,e,n){if(e.search(L6)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gc(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new de(re.INVALID_ARGUMENT,h+t+d)}function nC(t,e){return t.some((n=>n.isEqual(e)))}class iC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j6 extends iC{data(){return super.data()}}function o0(t,e){return typeof e=="string"?a0(t,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}function sC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l0{}class rC extends l0{}function Fa(t,e,...n){let i=[];e instanceof l0&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((d=>d instanceof dm)).length,h=l.filter((d=>d instanceof Yc)).length;if(u>1||u>0&&h>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Yc extends rC{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Yc(e,n,i)}_apply(e){const n=this._parse(e);return aC(e._query,n),new ta(e.firestore,e.converter,Cy(e._query,n))}_parse(e){const n=hm(e.firestore);return(function(l,u,h,d,m,y,v){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){C1(v,y);const I=[];for(const L of v)I.push(R1(d,l,L));b={arrayValue:{values:I}}}else b=R1(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||C1(v,y),b=V6(h,u,v,y==="in"||y==="not-in");return jt.create(m,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Or(t,e,n){const i=e,a=o0("where",t);return Yc._create(a,i,n)}class dm extends l0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dm(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)aC(u,d),u=Cy(u,d)})(e._query,n),new ta(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function R1(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nR(e)&&n.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!ve.isDocumentKey(i))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hw(t,new ve(i))}if(n instanceof gt)return Hw(t,n._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wd(n)}.`)}function C1(t,e){if(!Array.isArray(t)||t.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aC(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oC{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Zr(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[yd].arrayValue?.values?.map((i=>At(i.doubleValue)));return new Ai(n)}convertGeoPoint(e){return new Si(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Zd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Qe(SR(i),9688,{name:e});const a=new _l(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return a.isEqual(n)||zs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function lC(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jr extends iC{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(o0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Ut("string",jr._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class cc extends jr{data(e={}){return super.data(e)}}class Ur{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new rl(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new cc(this._firestore,this._userDataWriter,i.key,i,new rl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new cc(a._firestore,a._userDataWriter,h.doc.key,h.doc,new rl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new cc(a._firestore,a._userDataWriter,h.doc.key,h.doc,new rl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:U6(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ur._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}function uC(t){t=Cn(t,gt);const e=Cn(t.firestore,Fs);return C6($c(e),t._key).then((n=>hC(e,t,n)))}Ur._jsonSchemaVersion="firestore/querySnapshot/1.0",Ur._jsonSchema={type:Ut("string",Ur._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class u0 extends oC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Cd(t){t=Cn(t,ta);const e=Cn(t.firestore,Fs),n=$c(e),i=new u0(e);return sC(t._query),N6(n,t._query).then((a=>new Ur(e,i,t,a)))}function z6(t,e,n){t=Cn(t,gt);const i=Cn(t.firestore,Fs),a=lC(t.converter,e,n);return mm(i,[ZR(hm(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,xi.none())])}function Zu(t,e,n,...i){t=Cn(t,gt);const a=Cn(t.firestore,Fs),l=hm(a);let u;return u=typeof(e=qt(e))=="string"||e instanceof Gc?k6(l,"updateDoc",t._key,e,n,i):M6(l,"updateDoc",t._key,e),mm(a,[u.toMutation(t._key,xi.exists(!0))])}function cC(t,e){const n=Cn(t.firestore,Fs),i=ii(t),a=lC(t.converter,e);return mm(n,[ZR(hm(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,xi.exists(!1))]).then((()=>i))}function xl(t,...e){t=qt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||A1(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(A1(e[i])){const d=e[i];e[i]=d.next?.bind(d),e[i+1]=d.error?.bind(d),e[i+2]=d.complete?.bind(d)}let l,u,h;if(t instanceof gt)u=Cn(t.firestore,Fs),h=em(t._key.path),l={next:d=>{e[i]&&e[i](hC(u,t,d))},error:e[i+1],complete:e[i+2]};else{const d=Cn(t,ta);u=Cn(d.firestore,Fs),h=d._query;const m=new u0(u);l={next:y=>{e[i]&&e[i](new Ur(u,m,d,y))},error:e[i+1],complete:e[i+2]},sC(t._query)}return(function(m,y,v,b){const S=new i0(b),I=new e0(y,S,v);return m.asyncQueue.enqueueAndForget((async()=>Xv(await Ad(m),I))),()=>{S.Nu(),m.asyncQueue.enqueueAndForget((async()=>Jv(await Ad(m),I)))}})($c(u),h,a,l)}function mm(t,e){return(function(i,a){const l=new ks;return i.asyncQueue.enqueueAndForget((async()=>g6(await R6(i),a,l))),l.promise})($c(t),e)}function hC(t,e,n){const i=n.docs.get(e._key),a=new u0(t);return new jr(t,a,e._key,i,new rl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ol=a})(eo),Ka(new Br("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new Fs(new jL(i.getProvider("auth-internal")),new BL(u,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(m.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ts(Iw,Dw,e),ts(Iw,Dw,"esm2020")})();const B6=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:oC,Bytes:Un,CollectionReference:Vs,DocumentReference:gt,DocumentSnapshot:jr,FieldPath:Gc,FieldValue:cm,Firestore:Fs,FirestoreError:de,GeoPoint:Si,Query:ta,QueryCompositeFilterConstraint:dm,QueryConstraint:rC,QueryDocumentSnapshot:cc,QueryFieldFilterConstraint:Yc,QuerySnapshot:Ur,SnapshotMetadata:rl,Timestamp:et,VectorValue:Ai,_AutoId:Qd,_ByteString:Wt,_DatabaseId:_l,_DocumentKey:ve,_EmptyAuthCredentialsProvider:VA,_FieldPath:Qt,_cast:Cn,_logWarn:Wa,_validateIsNotUsedTogether:jA,addDoc:cC,collection:Lr,connectFirestoreEmulator:QR,doc:ii,ensureFirestoreConfigured:$c,executeWrite:mm,getDoc:uC,getDocs:Cd,getFirestore:WR,onSnapshot:xl,query:Fa,setDoc:z6,updateDoc:Zu,where:Or},Symbol.toStringTag,{value:"Module"}));const fC="firebasestorage.googleapis.com",F6="storageBucket",H6=120*1e3,q6=600*1e3;class fs extends hs{constructor(e,n,i=0){super(Hg(e),`Firebase Storage: ${n} (${Hg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var us;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(us||(us={}));function Hg(t){return"storage/"+t}function $6(){const t="An unknown error occurred, please check the error payload for server response.";return new fs(us.UNKNOWN,t)}function G6(){return new fs(us.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K6(){return new fs(us.CANCELED,"User canceled the upload/download.")}function Y6(t){return new fs(us.INVALID_URL,"Invalid URL '"+t+"'.")}function Q6(t){return new fs(us.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N1(t){return new fs(us.INVALID_ARGUMENT,t)}function dC(){return new fs(us.APP_DELETED,"The Firebase app was deleted.")}function W6(t){return new fs(us.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class wi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=wi.makeFromUrl(e,n)}catch{return new wi(e,"")}if(i.path==="")return i;throw Q6(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${y}/b/${a}/o${b}`,"i"),I={bucket:1,path:3},L=n===fC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",z=new RegExp(`^https?://${L}/${a}/${M}`,"i"),q=[{regex:h,indices:d,postModify:l},{regex:S,indices:I,postModify:m},{regex:z,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<q.length;te++){const ie=q[te],ue=ie.regex.exec(e);if(ue){const C=ue[ie.indices.bucket];let A=ue[ie.indices.path];A||(A=""),i=new wi(C,A),ie.postModify(i);break}}if(i==null)throw Y6(e);return i}}class X6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function J6(t,e,n){let i=1,a=null,l=null,u=!1,h=0;function d(){return h===2}let m=!1;function y(...M){m||(m=!0,e.apply(null,M))}function v(M){a=setTimeout(()=>{a=null,t(S,d())},M)}function b(){l&&clearTimeout(l)}function S(M,...z){if(m){b();return}if(M){b(),y.call(null,M,...z);return}if(d()||u){b(),y.call(null,M,...z);return}i<64&&(i*=2);let q;h===1?(h=2,q=0):q=(i+Math.random())*1e3,v(q)}let I=!1;function L(M){I||(I=!0,b(),!m&&(a!==null?(M||(h=2),clearTimeout(a),v(0)):M||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,L(!0)},n),L}function Z6(t){t(!1)}function ej(t){return t!==void 0}function I1(t,e,n,i){if(i<e)throw N1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw N1(`Invalid value for '${t}'. Expected ${n} or less.`)}function tj(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Nd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nd||(Nd={}));function nj(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class ij{constructor(e,n,i,a,l,u,h,d,m,y,v,b=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,L)=>{this.resolve_=I,this.reject_=L,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new jf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Nd.NO_ERROR,d=l.getStatus();if(!h||nj(d,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Nd.ABORT;i(!1,new jf(!1,null,y));return}const m=this.successCodes_.indexOf(d)!==-1;i(!0,new jf(m,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());ej(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=$6();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?dC():K6();u(d)}else{const d=G6();u(d)}};this.canceled_?n(!1,new jf(!1,null,!0)):this.backoffId_=J6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Z6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function sj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lj(t,e,n,i,a,l,u=!0,h=!1){const d=tj(t.urlParams),m=t.url+d,y=Object.assign({},t.headers);return aj(y,e),sj(y,n),rj(y,l),oj(y,i),new ij(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,h)}function uj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Id{constructor(e,n){this._service=e,n instanceof wi?this._location=n:this._location=wi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Id(e,n)}get root(){const e=new wi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cj(this._location.path)}get storage(){return this._service}get parent(){const e=uj(this._location.path);if(e===null)return null;const n=new wi(this._location.bucket,e);return new Id(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W6(e)}}function D1(t,e){const n=e?.[F6];return n==null?null:wi.makeFromBucketSpec(n,t)}function hj(t,e,n,i={}){t.host=`${e}:${n}`;const a=Za(e);a&&(vv(`https://${t.host}/b`),_v("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:HS(l,t.app.options.projectId))}class fj{constructor(e,n,i,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=fC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H6,this._maxUploadRetryTime=q6,this._requests=new Set,a!=null?this._bucket=wi.makeFromBucketSpec(a,this._host):this._bucket=D1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wi.makeFromBucketSpec(this._url,e):this._bucket=D1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Id(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new X6(dC());{const u=lj(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const O1="@firebase/storage",P1="0.14.0";const mC="storage";function dj(t=Ev(),e){t=qt(t);const i=qd(t,mC).getImmediate({identifier:e}),a=zS("storage");return a&&mj(i,...a),i}function mj(t,e,n,i={}){hj(t,e,n,i)}function pj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new fj(n,i,a,e,eo)}function gj(){Ka(new Br(mC,pj,"PUBLIC").setMultipleInstances(!0)),ts(O1,P1,""),ts(O1,P1,"esm2020")}gj();const yj={apiKey:"AIzaSyCGRAz4hNy9737rRC2XhGjihrroVFrBnyE",authDomain:"doctors-89de9.firebaseapp.com",projectId:"doctors-89de9",storageBucket:"doctors-89de9.firebasestorage.app",messagingSenderId:"843277629462",appId:"1:843277629462:web:c6ef4918f469d13dff5d37",measurementId:"G-RVBRHCX77H"},c0=GS(yj),h0=kL(c0),rn=WR(c0);dj(c0);const pC=V.createContext();function vj(){return V.useContext(pC)}function _j({children:t}){const[e,n]=V.useState(null),[i,a]=V.useState(null),[l,u]=V.useState(!0);V.useEffect(()=>xV(h0,async m=>{if(n(m),m){const y=ii(rn,"users",m.uid),v=await uC(y);v.exists()&&a(v.data())}else a(null);u(!1)}),[]);const h={currentUser:e,userData:i,isDoctor:i?.role==="doctor"};return w.jsx(pC.Provider,{value:h,children:!l&&t})}const bj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),M1=t=>{const e=Tj(t);return e.charAt(0).toUpperCase()+e.slice(1)},gC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Ej=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var wj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xj=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},d)=>V.createElement("svg",{ref:d,...wj,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:gC("lucide",a),...!l&&!Ej(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,y])=>V.createElement(m,y)),...Array.isArray(l)?l:[l]]));const tt=(t,e)=>{const n=V.forwardRef(({className:i,...a},l)=>V.createElement(xj,{ref:l,iconNode:e,className:gC(`lucide-${bj(M1(t))}`,`lucide-${t}`,i),...a}));return n.displayName=M1(t),n};const Sj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zy=tt("activity",Sj);const Aj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rj=tt("arrow-right",Aj);const Cj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ec=tt("calendar",Cj);const Nj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k1=tt("chevron-right",Nj);const Ij=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dj=tt("circle-alert",Ij);const Oj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dd=tt("circle-check",Oj);const Pj=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mj=tt("circle-play",Pj);const kj=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],By=tt("clipboard",kj);const Vj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lj=tt("clock",Vj);const jj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],V1=tt("external-link",jj);const Uj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zj=tt("eye",Uj);const Bj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fj=tt("file-text",Bj);const Hj=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],L1=tt("folder-open",Hj);const qj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],$j=tt("history",qj);const Gj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f0=tt("info",Gj);const Kj=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Yj=tt("languages",Kj);const Qj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wj=tt("lock",Qj);const Xj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Jj=tt("mail",Xj);const Zj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yC=tt("map-pin",Zj);const e5=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vC=tt("phone-call",e5);const t5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_C=tt("phone",t5);const n5=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],i5=tt("printer",n5);const s5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],j1=tt("save",s5);const r5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],U1=tt("settings",r5);const a5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],o5=tt("shield-check",a5);const l5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],u5=tt("upload",l5);const c5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],h5=tt("user",c5);const f5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bC=tt("users",f5);const d5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],z1=tt("x",d5),d0=V.createContext({});function m0(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const p0=typeof window<"u",TC=p0?V.useLayoutEffect:V.useEffect,pm=V.createContext(null);function g0(t,e){t.indexOf(e)===-1&&t.push(e)}function y0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hs=(t,e,n)=>n>e?e:n<t?t:n;let v0=()=>{};const qs={},EC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wC(t){return typeof t=="object"&&t!==null}const xC=t=>/^0[^.\s]+$/u.test(t);function _0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ai=t=>t,m5=(t,e)=>n=>e(t(n)),Qc=(...t)=>t.reduce(m5),Sc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class b0{constructor(){this.subscriptions=[]}add(e){return g0(this.subscriptions,e),()=>y0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const as=t=>t*1e3,ri=t=>t/1e3;function SC(t,e){return e?t*(1e3/e):0}const AC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,p5=1e-7,g5=12;function y5(t,e,n,i,a){let l,u,h=0;do u=e+(n-e)/2,l=AC(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>p5&&++h<g5);return u}function Wc(t,e,n,i){if(t===e&&n===i)return ai;const a=l=>y5(l,0,1,t,n);return l=>l===0||l===1?l:AC(a(l),e,i)}const RC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CC=t=>e=>1-t(1-e),NC=Wc(.33,1.53,.69,.99),T0=CC(NC),IC=RC(T0),DC=t=>(t*=2)<1?.5*T0(t):.5*(2-Math.pow(2,-10*(t-1))),E0=t=>1-Math.sin(Math.acos(t)),OC=CC(E0),PC=RC(E0),v5=Wc(.42,0,1,1),_5=Wc(0,0,.58,1),MC=Wc(.42,0,.58,1),b5=t=>Array.isArray(t)&&typeof t[0]!="number",kC=t=>Array.isArray(t)&&typeof t[0]=="number",T5={linear:ai,easeIn:v5,easeInOut:MC,easeOut:_5,circIn:E0,circInOut:PC,circOut:OC,backIn:T0,backInOut:IC,backOut:NC,anticipate:DC},E5=t=>typeof t=="string",B1=t=>{if(kC(t)){v0(t.length===4);const[e,n,i,a]=t;return Wc(e,n,i,a)}else if(E5(t))return T5[t];return t},Uf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function w5(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(m.schedule(y),t()),y(h)}const m={schedule:(y,v=!1,b=!1)=>{const I=b&&a?n:i;return v&&u.add(y),I.has(y)||I.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const x5=40;function VC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Uf.reduce((q,te)=>(q[te]=w5(l),q),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:v,preRender:b,render:S,postRender:I}=u,L=()=>{const q=qs.useManualTiming?a.timestamp:performance.now();n=!1,qs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(q-a.timestamp,x5),1)),a.timestamp=q,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),y.process(a),v.process(a),b.process(a),S.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},M=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:Uf.reduce((q,te)=>{const ie=u[te];return q[te]=(ue,C=!1,A=!1)=>(n||M(),ie.schedule(ue,C,A)),q},{}),cancel:q=>{for(let te=0;te<Uf.length;te++)u[Uf[te]].cancel(q)},state:a,steps:u}}const{schedule:dt,cancel:Yr,state:sn,steps:qg}=VC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let ed;function S5(){ed=void 0}const Rn={now:()=>(ed===void 0&&Rn.set(sn.isProcessing||qs.useManualTiming?sn.timestamp:performance.now()),ed),set:t=>{ed=t,queueMicrotask(S5)}},LC=t=>e=>typeof e=="string"&&e.startsWith(t),jC=LC("--"),A5=LC("var(--"),w0=t=>A5(t)?R5.test(t.split("/*")[0].trim()):!1,R5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ac={...Vl,transform:t=>Hs(0,1,t)},zf={...Vl,default:1},hc=t=>Math.round(t*1e5)/1e5,x0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C5(t){return t==null}const N5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,S0=(t,e)=>n=>!!(typeof n=="string"&&N5.test(n)&&n.startsWith(t)||e&&!C5(n)&&Object.prototype.hasOwnProperty.call(n,e)),UC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(x0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},I5=t=>Hs(0,255,t),$g={...Vl,transform:t=>Math.round(I5(t))},za={test:S0("rgb","red"),parse:UC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+$g.transform(t)+", "+$g.transform(e)+", "+$g.transform(n)+", "+hc(Ac.transform(i))+")"};function D5(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Fy={test:S0("#"),parse:D5,transform:za.transform},Xc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ar=Xc("deg"),os=Xc("%"),Se=Xc("px"),O5=Xc("vh"),P5=Xc("vw"),F1={...os,parse:t=>os.parse(t)/100,transform:t=>os.transform(t*100)},al={test:S0("hsl","hue"),parse:UC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+os.transform(hc(e))+", "+os.transform(hc(n))+", "+hc(Ac.transform(i))+")"},Lt={test:t=>za.test(t)||Fy.test(t)||al.test(t),parse:t=>za.test(t)?za.parse(t):al.test(t)?al.parse(t):Fy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?za.transform(t):al.transform(t),getAnimatableNone:t=>{const e=Lt.parse(t);return e.alpha=0,Lt.transform(e)}},M5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k5(t){return isNaN(t)&&typeof t=="string"&&(t.match(x0)?.length||0)+(t.match(M5)?.length||0)>0}const zC="number",BC="color",V5="var",L5="var(",H1="${}",j5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(j5,d=>(Lt.test(d)?(i.color.push(l),a.push(BC),n.push(Lt.parse(d))):d.startsWith(L5)?(i.var.push(l),a.push(V5),n.push(d)):(i.number.push(l),a.push(zC),n.push(parseFloat(d))),++l,H1)).split(H1);return{values:n,split:h,indexes:i,types:a}}function FC(t){return Rc(t).values}function HC(t){const{split:e,types:n}=Rc(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===zC?l+=hc(a[u]):h===BC?l+=Lt.transform(a[u]):l+=a[u]}return l}}const U5=t=>typeof t=="number"?0:Lt.test(t)?Lt.getAnimatableNone(t):t;function z5(t){const e=FC(t);return HC(t)(e.map(U5))}const Qr={test:k5,parse:FC,createTransformer:HC,getAnimatableNone:z5};function Gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B5({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Gg(d,h,t+1/3),l=Gg(d,h,t),u=Gg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Od(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,Kg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},F5=[Fy,za,al],H5=t=>F5.find(e=>e.test(t));function q1(t){const e=H5(t);if(!e)return!1;let n=e.parse(t);return e===al&&(n=B5(n)),n}const $1=(t,e)=>{const n=q1(t),i=q1(e);if(!n||!i)return Od(t,e);const a={...n};return l=>(a.red=Kg(n.red,i.red,l),a.green=Kg(n.green,i.green,l),a.blue=Kg(n.blue,i.blue,l),a.alpha=pt(n.alpha,i.alpha,l),za.transform(a))},Hy=new Set(["none","hidden"]);function q5(t,e){return Hy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $5(t,e){return n=>pt(t,e,n)}function A0(t){return typeof t=="number"?$5:typeof t=="string"?w0(t)?Od:Lt.test(t)?$1:Y5:Array.isArray(t)?qC:typeof t=="object"?Lt.test(t)?$1:G5:Od}function qC(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>A0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function G5(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=A0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function K5(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],h=t.values[u]??0;n[a]=h,i[l]++}return n}const Y5=(t,e)=>{const n=Qr.createTransformer(e),i=Rc(t),a=Rc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Hy.has(t)&&!a.values.length||Hy.has(e)&&!i.values.length?q5(t,e):Qc(qC(K5(i,a),a.values),n):Od(t,e)};function $C(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):A0(t)(t,e)}const Q5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Yr(e),now:()=>sn.isProcessing?sn.timestamp:Rn.now()}},GC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Pd=2e4;function R0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Pd;)e+=n,i=t.next(e);return e>=Pd?1/0:e}function W5(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(R0(i),Pd);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ri(a)}}const X5=5;function KC(t,e,n){const i=Math.max(e-X5,0);return SC(n-t(i),e-i)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yg=.001;function J5({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:i=bt.mass}){let a,l,u=1-e;u=Hs(bt.minDamping,bt.maxDamping,u),t=Hs(bt.minDuration,bt.maxDuration,ri(t)),u<1?(a=m=>{const y=m*u,v=y*t,b=y-n,S=qy(m,u),I=Math.exp(-v);return Yg-b/S*I},l=m=>{const v=m*u*t,b=v*n+n,S=Math.pow(u,2)*Math.pow(m,2)*t,I=Math.exp(-v),L=qy(Math.pow(m,2),u);return(-a(m)+Yg>0?-1:1)*((b-S)*I)/L}):(a=m=>{const y=Math.exp(-m*t),v=(m-n)*t+1;return-Yg+y*v},l=m=>{const y=Math.exp(-m*t),v=(n-m)*(t*t);return y*v});const h=5/t,d=eU(a,l,h);if(t=as(t),isNaN(d))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const Z5=12;function eU(t,e,n){let i=n;for(let a=1;a<Z5;a++)i=i-t(i)/e(i);return i}function qy(t,e){return t*Math.sqrt(1-e*e)}const tU=["duration","bounce"],nU=["stiffness","damping","mass"];function G1(t,e){return e.some(n=>t[n]!==void 0)}function iU(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!G1(t,nU)&&G1(t,tU))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Hs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=J5(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Md(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:y,duration:v,velocity:b,isResolvedFromDuration:S}=iU({...n,velocity:-ri(n.velocity||0)}),I=b||0,L=m/(2*Math.sqrt(d*y)),M=u-l,z=ri(Math.sqrt(d/y)),F=Math.abs(M)<5;i||(i=F?bt.restSpeed.granular:bt.restSpeed.default),a||(a=F?bt.restDelta.granular:bt.restDelta.default);let q;if(L<1){const ie=qy(z,L);q=ue=>{const C=Math.exp(-L*z*ue);return u-C*((I+L*z*M)/ie*Math.sin(ie*ue)+M*Math.cos(ie*ue))}}else if(L===1)q=ie=>u-Math.exp(-z*ie)*(M+(I+z*M)*ie);else{const ie=z*Math.sqrt(L*L-1);q=ue=>{const C=Math.exp(-L*z*ue),A=Math.min(ie*ue,300);return u-C*((I+L*z*M)*Math.sinh(A)+ie*M*Math.cosh(A))/ie}}const te={calculatedDuration:S&&v||null,next:ie=>{const ue=q(ie);if(S)h.done=ie>=v;else{let C=ie===0?I:0;L<1&&(C=ie===0?as(I):KC(q,ie,ue));const A=Math.abs(C)<=i,N=Math.abs(u-ue)<=a;h.done=A&&N}return h.value=h.done?u:ue,h},toString:()=>{const ie=Math.min(R0(te),Pd),ue=GC(C=>te.next(ie*C).value,ie,30);return ie+"ms "+ue},toTransition:()=>{}};return te}Md.applyToOptions=t=>{const e=W5(t,100,Md);return t.ease=e.ease,t.duration=as(e.duration),t.type="keyframes",t};function $y({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:y}){const v=t[0],b={done:!1,value:v},S=A=>h!==void 0&&A<h||d!==void 0&&A>d,I=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let L=n*e;const M=v+L,z=u===void 0?M:u(M);z!==M&&(L=z-v);const F=A=>-L*Math.exp(-A/i),q=A=>z+F(A),te=A=>{const N=F(A),P=q(A);b.done=Math.abs(N)<=m,b.value=b.done?z:P};let ie,ue;const C=A=>{S(b.value)&&(ie=A,ue=Md({keyframes:[b.value,I(b.value)],velocity:KC(q,A,b.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let N=!1;return!ue&&ie===void 0&&(N=!0,te(A),C(A)),ie!==void 0&&A>=ie?ue.next(A-ie):(!N&&te(A),b)}}}function sU(t,e,n){const i=[],a=n||qs.mix||$C,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||ai:e;h=Qc(d,h)}i.push(h)}return i}function rU(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(v0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=sU(e,i,a),d=h.length,m=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const b=Sc(t[v],t[v+1],y);return h[v](b)};return n?y=>m(Hs(t[0],t[l-1],y)):m}function aU(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Sc(0,e,i);t.push(pt(n,1,a))}}function oU(t){const e=[0];return aU(e,t.length-1),e}function lU(t,e){return t.map(n=>n*e)}function uU(t,e){return t.map(()=>e||MC).splice(0,t.length-1)}function fc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=b5(i)?i.map(B1):B1(i),l={done:!1,value:e[0]},u=lU(n&&n.length===e.length?n:oU(e),t),h=rU(u,e,{ease:Array.isArray(a)?a:uU(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const cU=t=>t!==null;function C0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(cU),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const hU={decay:$y,inertia:$y,tween:fc,keyframes:fc,spring:Md};function YC(t){typeof t.type=="string"&&(t.type=hU[t.type])}class N0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const fU=t=>t/100;class I0 extends N0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Rn.now()&&this.tick(Rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;YC(e);const{type:n=fc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||fc;d!==fc&&typeof h[0]!="number"&&(this.mixKeyframes=Qc(fU,$C(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=R0(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:S,type:I,onUpdate:L,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-m*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,te=i;if(v){const A=Math.min(this.currentTime,a)/h;let N=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&N--,N=Math.min(N,v+1),N%2&&(b==="reverse"?(P=1-P,S&&(P-=S/h)):b==="mirror"&&(te=u)),q=Hs(0,1,P)*h}const ie=F?{done:!1,value:y[0]}:te.next(q);l&&(ie.value=l(ie.value));let{done:ue}=ie;!F&&d!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return C&&I!==$y&&(ie.value=C0(y,this.options,M,this.speed)),L&&L(ie.value),C&&this.finish(),ie}then(e,n){return this.finished.then(e,n)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(this.currentTime)}set time(e){e=as(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Q5,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function dU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ba=t=>t*180/Math.PI,Gy=t=>{const e=Ba(Math.atan2(t[1],t[0]));return Ky(e)},mU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gy,rotateZ:Gy,skewX:t=>Ba(Math.atan(t[1])),skewY:t=>Ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ky=t=>(t=t%360,t<0&&(t+=360),t),K1=Gy,Y1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Q1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Y1,scaleY:Q1,scale:t=>(Y1(t)+Q1(t))/2,rotateX:t=>Ky(Ba(Math.atan2(t[6],t[5]))),rotateY:t=>Ky(Ba(Math.atan2(-t[2],t[0]))),rotateZ:K1,rotate:K1,skewX:t=>Ba(Math.atan(t[4])),skewY:t=>Ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yy(t){return t.includes("scale")?1:0}function Qy(t,e){if(!t||t==="none")return Yy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=pU,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=mU,a=h}if(!a)return Yy(e);const l=i[e],u=a[1].split(",").map(yU);return typeof l=="function"?l(u):u[l]}const gU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qy(n,e)};function yU(t){return parseFloat(t.trim())}const Ll=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(Ll),W1=t=>t===Vl||t===Se,vU=new Set(["x","y","z"]),_U=Ll.filter(t=>!vU.has(t));function bU(t){const e=[];return _U.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ha={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qy(e,"x"),y:(t,{transform:e})=>Qy(e,"y")};Ha.translateX=Ha.x;Ha.translateY=Ha.y;const qa=new Set;let Wy=!1,Xy=!1,Jy=!1;function QC(){if(Xy){const t=Array.from(qa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=bU(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Xy=!1,Wy=!1,qa.forEach(t=>t.complete(Jy)),qa.clear()}function WC(){qa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xy=!0)})}function TU(){Jy=!0,WC(),QC(),Jy=!1}class D0{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(qa.add(this),Wy||(Wy=!0,dt.read(WC),dt.resolveKeyframes(QC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}dU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qa.delete(this)}cancel(){this.state==="scheduled"&&(qa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EU=t=>t.startsWith("--");function wU(t,e,n){EU(e)?t.style.setProperty(e,n):t.style[e]=n}const xU=_0(()=>window.ScrollTimeline!==void 0),SU={};function AU(t,e){const n=_0(t);return()=>SU[e]??n()}const XC=AU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,X1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tc([0,.65,.55,1]),circOut:tc([.55,0,1,.45]),backIn:tc([.31,.01,.66,-.59]),backOut:tc([.33,1.53,.69,.99])};function JC(t,e){if(t)return typeof t=="function"?XC()?GC(t,e):"ease-out":kC(t)?tc(t):Array.isArray(t)?t.map(n=>JC(n,e)||X1.easeOut):X1[t]}function RU(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[e]:n};d&&(y.offset=d);const v=JC(h,a);Array.isArray(v)&&(y.easing=v);const b={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(y,b)}function ZC(t){return typeof t=="function"&&"applyToOptions"in t}function CU({type:t,...e}){return ZC(t)&&XC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NU extends N0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,v0(typeof e.type!="string");const m=CU(e);this.animation=RU(n,i,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=C0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):wU(n,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=as(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&xU()?(this.animation.timeline=e,ai):n(this)}}const e2={anticipate:DC,backInOut:IC,circInOut:PC};function IU(t){return t in e2}function DU(t){typeof t.ease=="string"&&IU(t.ease)&&(t.ease=e2[t.ease])}const J1=10;class OU extends NU{constructor(e){DU(e),YC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new I0({...u,autoplay:!1}),d=as(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-J1).value,h.sample(d).value,J1),h.stop()}}const Z1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qr.test(t)||t==="0")&&!t.startsWith("url("));function PU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function MU(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Z1(a,e),h=Z1(l,e);return!u||!h?!1:PU(t)||(n==="spring"||ZC(n))&&i}function Zy(t){t.duration=0,t.type="keyframes"}const kU=new Set(["opacity","clipPath","filter","transform"]),VU=_0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LU(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return VU()&&n&&kU.has(n)&&(n!=="transform"||!m)&&!d&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const jU=40;class UU extends N0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rn.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:m,element:y,...v},S=y?.KeyframeResolver||D0;this.keyframeResolver=new S(h,(I,L,M)=>this.onKeyframesResolved(I,L,b,!M),d,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:y}=i;this.resolvedAt=Rn.now(),MU(e,l,u,h)||((qs.instantAnimations||!d)&&y?.(C0(e,i,n)),e[0]=e[e.length-1],Zy(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>jU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!m&&LU(b)?new OU({...b,element:b.motionValue.owner.current}):new I0(b);S.finished.then(()=>this.notifyFinished()).catch(ai),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),TU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const zU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BU(t){const e=zU.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function t2(t,e,n=1){const[i,a]=BU(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return EC(u)?parseFloat(u):u}return w0(a)?t2(a,e,n+1):a}function O0(t,e){return t?.[e]??t?.default??t}const n2=new Set(["width","height","top","left","right","bottom",...Ll]),FU={test:t=>t==="auto",parse:t=>t},i2=t=>e=>e.test(t),s2=[Vl,Se,os,Ar,P5,O5,FU],ex=t=>s2.find(i2(t));function HU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xC(t):!0}const qU=new Set(["brightness","contrast","saturate","opacity"]);function $U(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(x0)||[];if(!i)return t;const a=n.replace(i,"");let l=qU.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const GU=/\b([a-z-]*)\(.*?\)/gu,ev={...Qr,getAnimatableNone:t=>{const e=t.match(GU);return e?e.map($U).join(" "):t}},tx={...Vl,transform:Math.round},KU={rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:zf,scaleX:zf,scaleY:zf,scaleZ:zf,skew:Ar,skewX:Ar,skewY:Ar,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Ac,originX:F1,originY:F1,originZ:Se},P0={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...KU,zIndex:tx,fillOpacity:Ac,strokeOpacity:Ac,numOctaves:tx},YU={...P0,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:ev,WebkitFilter:ev},r2=t=>YU[t];function a2(t,e){let n=r2(t);return n!==ev&&(n=Qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QU=new Set(["auto","none","0"]);function WU(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!QU.has(l)&&Rc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=a2(n,a)}class XU extends D0{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),w0(m))){const y=t2(m,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!n2.has(i)||e.length!==2)return;const[a,l]=e,u=ex(a),h=ex(l);if(u!==h)if(W1(u)&&W1(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else Ha[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||HU(e[a]))&&i.push(a);i.length&&WU(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ha[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Ha[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function JU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const o2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function l2(t){return wC(t)&&"offsetHeight"in t}const nx=30,ZU=t=>!isNaN(parseFloat(t));class e9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Rn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new b0);const i=this.events[e].add(n);return e==="change"?()=>{i(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nx);return SC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sl(t,e){return new e9(t,e)}const{schedule:M0}=VC(queueMicrotask,!1),Ti={x:!1,y:!1};function u2(){return Ti.x||Ti.y}function t9(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function c2(t,e){const n=JU(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function ix(t){return!(t.pointerType==="touch"||u2())}function n9(t,e,n={}){const[i,a,l]=c2(t,n),u=h=>{if(!ix(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const y=v=>{ix(v)&&(m(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const h2=(t,e)=>e?t===e?!0:h2(t,e.parentElement):!1,k0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,i9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s9(t){return i9.has(t.tagName)||t.tabIndex!==-1}const td=new WeakSet;function sx(t){return e=>{e.key==="Enter"&&t(e)}}function Qg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const r9=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=sx(()=>{if(td.has(n))return;Qg(n,"down");const a=sx(()=>{Qg(n,"up")}),l=()=>Qg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function rx(t){return k0(t)&&!u2()}function a9(t,e,n={}){const[i,a,l]=c2(t,n),u=h=>{const d=h.currentTarget;if(!rx(h))return;td.add(d);const m=e(d,h),y=(S,I)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),td.has(d)&&td.delete(d),rx(S)&&typeof m=="function"&&m(S,{success:I})},v=S=>{y(S,d===window||d===document||n.useGlobalTarget||h2(d,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),l2(h)&&(h.addEventListener("focus",m=>r9(m,a)),!s9(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function f2(t){return wC(t)&&"ownerSVGElement"in t}function o9(t){return f2(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),l9=[...s2,Lt,Qr],u9=t=>l9.find(i2(t)),V0=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ax(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function c9(...t){return e=>{let n=!1;const i=t.map(a=>{const l=ax(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():ax(t[a],null)}}}}function h9(...t){return V.useCallback(c9(...t),t)}class f9 extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=l2(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d9({children:t,isPresent:e,anchorX:n,root:i}){const a=V.useId(),l=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(V0),d=h9(l,t?.ref);return V.useInsertionEffect(()=>{const{width:m,height:y,top:v,left:b,right:S}=u.current;if(e||!l.current||!m||!y)return;const I=n==="left"?`left: ${b}`:`right: ${S}`;l.current.dataset.motionPopId=a;const L=document.createElement("style");h&&(L.nonce=h);const M=i??document.head;return M.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${I}px !important;
            top: ${v}px !important;
          }
        `),()=>{M.contains(L)&&M.removeChild(L)}},[e]),w.jsx(f9,{isPresent:e,childRef:l,sizeRef:u,children:V.cloneElement(t,{ref:d})})}const m9=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const m=m0(p9),y=V.useId();let v=!0,b=V.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:S=>{m.set(S,!0);for(const I of m.values())if(!I)return;i&&i()},register:S=>(m.set(S,!1),()=>m.delete(S))}),[n,m,i]);return l&&v&&(b={...b}),V.useMemo(()=>{m.forEach((S,I)=>m.set(I,!1))},[n]),V.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),u==="popLayout"&&(t=w.jsx(d9,{isPresent:n,anchorX:h,root:d,children:t})),w.jsx(pm.Provider,{value:b,children:t})};function p9(){return new Map}function d2(t=!0){const e=V.useContext(pm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const u=V.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const Bf=t=>t.key||"";function ox(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const tv=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[m,y]=d2(u),v=V.useMemo(()=>ox(t),[t]),b=u&&!m?[]:v.map(Bf),S=V.useRef(!0),I=V.useRef(v),L=m0(()=>new Map),[M,z]=V.useState(v),[F,q]=V.useState(v);TC(()=>{S.current=!1,I.current=v;for(let ue=0;ue<F.length;ue++){const C=Bf(F[ue]);b.includes(C)?L.delete(C):L.get(C)!==!0&&L.set(C,!1)}},[F,b.length,b.join("-")]);const te=[];if(v!==M){let ue=[...v];for(let C=0;C<F.length;C++){const A=F[C],N=Bf(A);b.includes(N)||(ue.splice(C,0,A),te.push(A))}return l==="wait"&&te.length&&(ue=te),q(ox(ue)),z(v),null}const{forceRender:ie}=V.useContext(d0);return w.jsx(w.Fragment,{children:F.map(ue=>{const C=Bf(ue),A=u&&!m?!1:v===F||b.includes(C),N=()=>{if(L.has(C))L.set(C,!0);else return;let P=!0;L.forEach(k=>{k||(P=!1)}),P&&(ie?.(),q(I.current),u&&y?.(),i&&i())};return w.jsx(m9,{isPresent:A,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:A?void 0:N,anchorX:h,children:ue},C)})})},m2=V.createContext({strict:!1}),lx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Al={};for(const t in lx)Al[t]={isEnabled:e=>lx[t].some(n=>!!e[n])};function g9(t){for(const e in t)Al[e]={...Al[e],...t[e]}}const y9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||y9.has(t)}let p2=t=>!kd(t);function v9(t){typeof t=="function"&&(p2=e=>e.startsWith("on")?!kd(e):t(e))}try{v9(require("@emotion/is-prop-valid").default)}catch{}function _9(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(p2(a)||n===!0&&kd(a)||!e&&!kd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const gm=V.createContext({});function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cc(t){return typeof t=="string"||Array.isArray(t)}const L0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j0=["initial",...L0];function vm(t){return ym(t.animate)||j0.some(e=>Cc(t[e]))}function g2(t){return!!(vm(t)||t.variants)}function b9(t,e){if(vm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Cc(n)?n:void 0,animate:Cc(i)?i:void 0}}return t.inherit!==!1?e:{}}function T9(t){const{initial:e,animate:n}=b9(t,V.useContext(gm));return V.useMemo(()=>({initial:e,animate:n}),[ux(e),ux(n)])}function ux(t){return Array.isArray(t)?t.join(" "):t}function cx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ku={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=cx(t,e.target.x),i=cx(t,e.target.y);return`${n}% ${i}%`}},E9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Qr.parse(t);if(a.length>5)return i;const l=Qr.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const m=pt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}},nv={borderRadius:{...Ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ku,borderTopRightRadius:Ku,borderBottomLeftRadius:Ku,borderBottomRightRadius:Ku,boxShadow:E9};function y2(t,{layout:e,layoutId:n}){return jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nv[t]||t==="opacity")}const w9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x9=Ll.length;function S9(t,e,n){let i="",a=!0;for(let l=0;l<x9;l++){const u=Ll[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=o2(h,P0[u]);if(!d){a=!1;const y=w9[u]||u;i+=`${y}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function U0(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const m=e[d];if(jl.has(d)){u=!0;continue}else if(jC(d)){a[d]=m;continue}else{const y=o2(m,P0[d]);d.startsWith("origin")?(h=!0,l[d]=y):i[d]=y}}if(e.transform||(u||n?i.transform=S9(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=l;i.transformOrigin=`${d} ${m} ${y}`}}const z0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function v2(t,e,n){for(const i in e)!hn(e[i])&&!y2(i,n)&&(t[i]=e[i])}function A9({transformTemplate:t},e){return V.useMemo(()=>{const n=z0();return U0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function R9(t,e){const n=t.style||{},i={};return v2(i,n,t),Object.assign(i,A9(t,e)),i}function C9(t,e){const n={},i=R9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const N9={offset:"stroke-dashoffset",array:"stroke-dasharray"},I9={offset:"strokeDashoffset",array:"strokeDasharray"};function D9(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?N9:I9;t[l.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(n);t[l.array]=`${u} ${h}`}function _2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,m,y){if(U0(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&D9(v,a,l,u,!1)}const b2=()=>({...z0(),attrs:{}}),T2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function O9(t,e,n,i){const a=V.useMemo(()=>{const l=b2();return _2(l,e,T2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};v2(l,t.style,t),a.style={...l,...a.style}}return a}const P9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function B0(t){return typeof t!="string"||t.includes("-")?!1:!!(P9.indexOf(t)>-1||/[A-Z]/u.test(t))}function M9(t,e,n,{latestValues:i},a,l=!1){const h=(B0(t)?O9:C9)(e,i,a,t),d=_9(e,typeof t=="string",l),m=t!==V.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=V.useMemo(()=>hn(y)?y.get():y,[y]);return V.createElement(t,{...m,children:v})}function hx(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function F0(t,e,n,i){if(typeof e=="function"){const[a,l]=hx(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=hx(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function nd(t){return hn(t)?t.get():t}function k9({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:V9(n,i,a,t),renderState:e()}}function V9(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=nd(l[b]);let{initial:u,animate:h}=t;const d=vm(t),m=g2(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!ym(v)){const b=Array.isArray(v)?v:[v];for(let S=0;S<b.length;S++){const I=F0(t,b[S]);if(I){const{transitionEnd:L,transition:M,...z}=I;for(const F in z){let q=z[F];if(Array.isArray(q)){const te=y?q.length-1:0;q=q[te]}q!==null&&(a[F]=q)}for(const F in L)a[F]=L[F]}}}return a}const E2=t=>(e,n)=>{const i=V.useContext(gm),a=V.useContext(pm),l=()=>k9(t,e,i,a);return n?l():m0(l)};function H0(t,e,n){const{style:i}=t,a={};for(const l in i)(hn(i[l])||e.style&&hn(e.style[l])||y2(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const L9=E2({scrapeMotionValuesFromProps:H0,createRenderState:z0});function w2(t,e,n){const i=H0(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=Ll.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const j9=E2({scrapeMotionValuesFromProps:w2,createRenderState:b2}),U9=Symbol.for("motionComponentSymbol");function ol(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z9(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ol(n)&&(n.current=i))},[e])}const q0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B9="framerAppearId",x2="data-"+q0(B9),S2=V.createContext({});function F9(t,e,n,i,a){const{visualElement:l}=V.useContext(gm),u=V.useContext(m2),h=V.useContext(pm),d=V.useContext(V0).reducedMotion,m=V.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=m.current,v=V.useContext(S2);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&H9(m.current,n,a,v);const b=V.useRef(!1);V.useInsertionEffect(()=>{y&&b.current&&y.update(n,h)});const S=n[x2],I=V.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return TC(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),I.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),I.current=!1),y.enteringChildren=void 0)}),y}function H9(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:A2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&ol(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:m})}function A2(t){if(t)return t.options.allowProjection!==!1?t.projection:A2(t.parent)}function Wg(t,{forwardMotionProps:e=!1}={},n,i){n&&g9(n);const a=B0(t)?j9:L9;function l(h,d){let m;const y={...V.useContext(V0),...h,layoutId:q9(h)},{isStatic:v}=y,b=T9(h),S=a(h,v);if(!v&&p0){$9();const I=G9(y);m=I.MeasureLayout,b.visualElement=F9(t,S,y,i,I.ProjectionNode)}return w.jsxs(gm.Provider,{value:b,children:[m&&b.visualElement?w.jsx(m,{visualElement:b.visualElement,...y}):null,M9(t,h,z9(S,b.visualElement,d),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(l);return u[U9]=t,u}function q9({layoutId:t}){const e=V.useContext(d0).id;return e&&t!==void 0?e+"-"+t:t}function $9(t,e){V.useContext(m2).strict}function G9(t){const{drag:e,layout:n}=Al;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function K9(t,e){if(typeof Proxy>"u")return Wg;const n=new Map,i=(l,u)=>Wg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,Wg(u,void 0,t,e)),n.get(u))})}function R2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Y9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Xg(t){return t===void 0||t===1}function iv({scale:t,scaleX:e,scaleY:n}){return!Xg(t)||!Xg(e)||!Xg(n)}function Va(t){return iv(t)||C2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function C2(t){return fx(t.x)||fx(t.y)}function fx(t){return t&&t!=="0%"}function Vd(t,e,n){const i=t-n,a=e*i;return n+a}function dx(t,e,n,i,a){return a!==void 0&&(t=Vd(t,a,i)),Vd(t,n,i)+e}function sv(t,e=0,n=1,i,a){t.min=dx(t.min,e,n,i,a),t.max=dx(t.max,e,n,i,a)}function N2(t,{x:e,y:n}){sv(t.x,e.translate,e.scale,e.originPoint),sv(t.y,n.translate,n.scale,n.originPoint)}const mx=.999999999999,px=1.0000000000001;function W9(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ul(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,N2(t,u)),i&&Va(l.latestValues)&&ul(t,l.latestValues))}e.x<px&&e.x>mx&&(e.x=1),e.y<px&&e.y>mx&&(e.y=1)}function ll(t,e){t.min=t.min+e,t.max=t.max+e}function gx(t,e,n,i,a=.5){const l=pt(t.min,t.max,a);sv(t,e,n,l,i)}function ul(t,e){gx(t.x,e.x,e.scaleX,e.scale,e.originX),gx(t.y,e.y,e.scaleY,e.scale,e.originY)}function I2(t,e){return R2(Q9(t.getBoundingClientRect(),e))}function X9(t,e,n){const i=I2(t,n),{scroll:a}=e;return a&&(ll(i.x,a.offset.x),ll(i.y,a.offset.y)),i}const yx=()=>({translate:0,scale:1,origin:0,originPoint:0}),cl=()=>({x:yx(),y:yx()}),vx=()=>({min:0,max:0}),Ft=()=>({x:vx(),y:vx()}),rv={current:null},D2={current:!1};function J9(){if(D2.current=!0,!!p0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rv.current=t.matches;t.addEventListener("change",e),e()}else rv.current=!1}const Z9=new WeakMap;function e8(t,e,n){for(const i in e){const a=e[i],l=n[i];if(hn(a))t.addValue(i,a);else if(hn(l))t.addValue(i,Sl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Sl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const _x=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t8{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=D0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Rn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,dt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=vm(n),this.isVariantNode=g2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const S=v[b];d[b]!==void 0&&hn(S)&&S.set(d[b])}}mount(e){this.current=e,Z9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),D2.current||J9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yr(this.notifyUpdate),Yr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=jl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Al){const n=Al[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<_x.length;i++){const a=_x[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=e8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Sl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(EC(i)||xC(i))?i=parseFloat(i):!u9(i)&&Qr.test(n)&&(i=a2(e,n)),this.setBaseTarget(e,hn(i)?i.get():i)),hn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=F0(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new b0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){M0.render(this.render)}}class O2 extends t8{constructor(){super(...arguments),this.KeyframeResolver=XU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P2(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function n8(t){return window.getComputedStyle(t)}class i8 extends O2{constructor(){super(...arguments),this.type="html",this.renderInstance=P2}readValueFromInstance(e,n){if(jl.has(n))return this.projection?.isProjecting?Yy(n):gU(e,n);{const i=n8(e),a=(jC(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return I2(e,n)}build(e,n,i){U0(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return H0(e,n,i)}}const M2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function s8(t,e,n,i){P2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(M2.has(a)?a:q0(a),e.attrs[a])}class r8 extends O2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jl.has(n)){const i=r2(n);return i&&i.default||0}return n=M2.has(n)?n:q0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return w2(e,n,i)}build(e,n,i){_2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){s8(e,n,i,a)}mount(e){this.isSVGTag=T2(e.tagName),super.mount(e)}}const a8=(t,e)=>B0(t)?new r8(e):new i8(e,{allowProjection:t!==V.Fragment});function pl(t,e,n){const i=t.getProps();return F0(i,e,n!==void 0?n:i.custom,t)}const av=t=>Array.isArray(t);function o8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sl(n))}function l8(t){return av(t)?t[t.length-1]||0:t}function u8(t,e){const n=pl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const h=l8(l[u]);o8(t,u,h)}}function c8(t){return!!(hn(t)&&t.add)}function ov(t,e){const n=t.getValue("willChange");if(c8(n))return n.add(e);if(!n&&qs.WillChange){const i=new qs.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function k2(t){return t.props[x2]}const h8=t=>t!==null;function f8(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(h8),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const d8={type:"spring",stiffness:500,damping:25,restSpeed:10},m8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p8={type:"keyframes",duration:.8},g8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},y8=(t,{keyframes:e})=>e.length>2?p8:jl.has(t)?t.startsWith("scale")?m8(e[1]):d8:g8;function v8({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const $0=(t,e,n,i={},a,l)=>u=>{const h=O0(i,t)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-as(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};v8(h)||Object.assign(y,y8(t,y)),y.duration&&(y.duration=as(y.duration)),y.repeatDelay&&(y.repeatDelay=as(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Zy(y),y.delay===0&&(v=!0)),(qs.instantAnimations||qs.skipAnimations)&&(v=!0,Zy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const b=f8(y.keyframes,h);if(b!==void 0){dt.update(()=>{y.onUpdate(b),y.onComplete()});return}}return h.isSync?new I0(y):new UU(y)};function _8({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function V2(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),b=h[y];if(b===void 0||m&&_8(m,y))continue;const S={delay:n,...O0(l||{},y)},I=v.get();if(I!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===I&&!S.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const z=k2(t);if(z){const F=window.MotionHandoffAnimation(z,y,dt);F!==null&&(S.startTime=F,L=!0)}}ov(t,y),v.start($0(y,v,b,t.shouldReduceMotion&&n2.has(y)?{type:!1}:S,t,L));const M=v.animation;M&&d.push(M)}return u&&Promise.all(d).then(()=>{dt.update(()=>{u&&u8(t,u)})}),d}function L2(t,e,n,i=0,a=1){const l=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:h-l*i}function lv(t,e,n={}){const i=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(V2(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return b8(t,e,d,m,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function b8(t,e,n=0,i=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(lv(d,e,{...u,delay:n+(typeof i=="function"?0:i)+L2(t.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function T8(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>lv(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=lv(t,e,n);else{const a=typeof e=="function"?pl(t,e,n.custom):e;i=Promise.all(V2(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function j2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const E8=j0.length;function U2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?U2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<E8;n++){const i=j0[n],a=t.props[i];(Cc(a)||a===!1)&&(e[i]=a)}return e}const w8=[...L0].reverse(),x8=L0.length;function S8(t){return e=>Promise.all(e.map(({animation:n,options:i})=>T8(t,n,i)))}function A8(t){let e=S8(t),n=bx(),i=!0;const a=d=>(m,y)=>{const v=pl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:S,...I}=v;m={...m,...I,...S}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,y=U2(t.parent)||{},v=[],b=new Set;let S={},I=1/0;for(let M=0;M<x8;M++){const z=w8[M],F=n[z],q=m[z]!==void 0?m[z]:y[z],te=Cc(q),ie=z===d?F.isActive:null;ie===!1&&(I=M);let ue=q===y[z]&&q!==m[z]&&te;if(ue&&i&&t.manuallyAnimateOnMount&&(ue=!1),F.protectedKeys={...S},!F.isActive&&ie===null||!q&&!F.prevProp||ym(q)||typeof q=="boolean")continue;const C=R8(F.prevProp,q);let A=C||z===d&&F.isActive&&!ue&&te||M>I&&te,N=!1;const P=Array.isArray(q)?q:[q];let k=P.reduce(a(z),{});ie===!1&&(k={});const{prevResolvedValues:B={}}=F,O={...B,...k},Ce=oe=>{A=!0,b.has(oe)&&(N=!0,b.delete(oe)),F.needsAnimating[oe]=!0;const fe=t.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in O){const fe=k[oe],Te=B[oe];if(S.hasOwnProperty(oe))continue;let ee=!1;av(fe)&&av(Te)?ee=!j2(fe,Te):ee=fe!==Te,ee?fe!=null?Ce(oe):b.add(oe):fe!==void 0&&b.has(oe)?Ce(oe):F.protectedKeys[oe]=!0}F.prevProp=q,F.prevResolvedValues=k,F.isActive&&(S={...S,...k}),i&&t.blockInitialAnimation&&(A=!1);const Ye=ue&&C;A&&(!Ye||N)&&v.push(...P.map(oe=>{const fe={type:z};if(typeof oe=="string"&&i&&!Ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,ee=pl(Te,oe);if(Te.enteringChildren&&ee){const{delayChildren:D}=ee.transition||{};fe.delay=L2(Te.enteringChildren,t,D)}}return{animation:oe,options:fe}}))}if(b.size){const M={};if(typeof m.initial!="boolean"){const z=pl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);z&&z.transition&&(M.transition=z.transition)}b.forEach(z=>{const F=t.getBaseTarget(z),q=t.getValue(z);q&&(q.liveStyle=!0),M[z]=F??null}),v.push({animation:M})}let L=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(v):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),n[d].isActive=m;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=bx()}}}function R8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!j2(e,t):!1}function Ma(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bx(){return{animate:Ma(!0),whileInView:Ma(),whileHover:Ma(),whileTap:Ma(),whileDrag:Ma(),whileFocus:Ma(),exit:Ma()}}class na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class C8 extends na{constructor(e){super(e),e.animationState||(e.animationState=A8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let N8=0;class I8 extends na{constructor(){super(...arguments),this.id=N8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const D8={animation:{Feature:C8},exit:{Feature:I8}};function Nc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Jc(t){return{point:{x:t.pageX,y:t.pageY}}}const O8=t=>e=>k0(e)&&t(e,Jc(e));function dc(t,e,n,i){return Nc(t,e,O8(n),i)}const z2=1e-4,P8=1-z2,M8=1+z2,B2=.01,k8=0-B2,V8=0+B2;function yn(t){return t.max-t.min}function L8(t,e,n){return Math.abs(t-e)<=n}function Tx(t,e,n,i=.5){t.origin=i,t.originPoint=pt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=P8&&t.scale<=M8||isNaN(t.scale))&&(t.scale=1),(t.translate>=k8&&t.translate<=V8||isNaN(t.translate))&&(t.translate=0)}function mc(t,e,n,i){Tx(t.x,e.x,n.x,i?i.originX:void 0),Tx(t.y,e.y,n.y,i?i.originY:void 0)}function Ex(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function j8(t,e,n){Ex(t.x,e.x,n.x),Ex(t.y,e.y,n.y)}function wx(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function Ld(t,e,n){wx(t.x,e.x,n.x),wx(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const F2=({current:t})=>t?t.ownerDocument.defaultView:null,xx=(t,e)=>Math.abs(t-e);function U8(t,e){const n=xx(t.x,e.x),i=xx(t.y,e.y);return Math.sqrt(n**2+i**2)}class H2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Zg(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,I=U8(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!I)return;const{point:L}=b,{timestamp:M}=sn;this.history.push({...L,timestamp:M});const{onStart:z,onMove:F}=this.handlers;S||(z&&z(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Jg(S,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:I,onSessionEnd:L,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Zg(b.type==="pointercancel"?this.lastMoveEventInfo:Jg(S,this.transformPagePoint),this.history);this.startEvent&&I&&I(b,z),L&&L(b,z)},!k0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const h=Jc(e),d=Jg(h,this.transformPagePoint),{point:m}=d,{timestamp:y}=sn;this.history=[{...m,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,Zg(d,this.history)),this.removeListeners=Qc(dc(this.contextWindow,"pointermove",this.handlePointerMove),dc(this.contextWindow,"pointerup",this.handlePointerUp),dc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yr(this.updatePoint)}}function Jg(t,e){return e?{point:e(t.point)}:t}function Sx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zg({point:t},e){return{point:t,delta:Sx(t,q2(e)),offset:Sx(t,z8(e)),velocity:B8(e,.1)}}function z8(t){return t[0]}function q2(t){return t[t.length-1]}function B8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=q2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>as(e)));)n--;if(!i)return{x:0,y:0};const l=ri(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function F8(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?pt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?pt(n,t,i.max):Math.min(t,n)),t}function Ax(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function H8(t,{top:e,left:n,bottom:i,right:a}){return{x:Ax(t.x,n,a),y:Ax(t.y,e,i)}}function Rx(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function q8(t,e){return{x:Rx(t.x,e.x),y:Rx(t.y,e.y)}}function $8(t,e){let n=.5;const i=yn(t),a=yn(e);return a>i?n=Sc(e.min,e.max-i,t.min):i>a&&(n=Sc(t.min,t.max-a,e.min)),Hs(0,1,n)}function G8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uv=.35;function K8(t=uv){return t===!1?t=0:t===!0&&(t=uv),{x:Cx(t,"left","right"),y:Cx(t,"top","bottom")}}function Cx(t,e,n){return{min:Nx(t,e),max:Nx(t,n)}}function Nx(t,e){return typeof t=="number"?t:t[e]||0}const Y8=new WeakMap;class Q8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jc(v).point)},u=(v,b)=>{const{drag:S,dragPropagation:I,onDragStart:L}=this.getProps();if(S&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t9(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(z=>{let F=this.getAxisMotionValue(z).get()||0;if(os.test(F)){const{projection:q}=this.visualElement;if(q&&q.layout){const te=q.layout.layoutBox[z];te&&(F=yn(te)*(parseFloat(F)/100))}}this.originPoint[z]=F}),L&&dt.postRender(()=>L(v,b)),ov(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:I,onDirectionLock:L,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=b;if(I&&this.currentDirection===null){this.currentDirection=W8(z),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",b.point,z),this.updateAxis("y",b.point,z),this.visualElement.render(),M&&M(v,b)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ni(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new H2(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:F2(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Ff(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=F8(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&ol(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=H8(i.layoutBox,e):this.constraints=!1,this.elastic=K8(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=G8(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ol(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=X9(i,a.root,this.visualElement.getTransformPagePoint());let u=q8(a.layout.layoutBox,l);if(n){const h=n(Y9(u));this.hasMutatedConstraints=!!h,h&&(u=R2(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=ni(y=>{if(!Ff(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,I={type:"inertia",velocity:i?e[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,I)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ov(this.visualElement,e),i.start($0(e,i,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:i}=this.getProps();if(!Ff(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-pt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ol(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=$8({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ni(u=>{if(!Ff(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(pt(d,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;Y8.set(this.visualElement,this);const e=this.visualElement.current,n=dc(e,"pointerdown",d=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();ol(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(i);const u=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(ni(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=uv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Ff(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function W8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class X8 extends na{constructor(e){super(e),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new Q8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ix=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class J8 extends na{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(e){this.session=new H2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ix(e),onStart:Ix(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=dc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const id={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ey=!1;class Z8 extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),ey&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),id.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,ey=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),M0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;ey=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $2(t){const[e,n]=d2(),i=V.useContext(d0);return w.jsx(Z8,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(S2),isPresent:e,safeToRemove:n})}function ez(t,e,n){const i=hn(t)?t:Sl(t);return i.start($0("",i,e,n)),i.animation}const tz=(t,e)=>t.depth-e.depth;class nz{constructor(){this.children=[],this.isDirty=!1}add(e){g0(this.children,e),this.isDirty=!0}remove(e){y0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tz),this.isDirty=!1,this.children.forEach(e)}}function iz(t,e){const n=Rn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Yr(i),t(l-e))};return dt.setup(i,!0),()=>Yr(i)}const G2=["TopLeft","TopRight","BottomLeft","BottomRight"],sz=G2.length,Dx=t=>typeof t=="string"?parseFloat(t):t,Ox=t=>typeof t=="number"||Se.test(t);function rz(t,e,n,i,a,l){a?(t.opacity=pt(0,n.opacity??1,az(i)),t.opacityExit=pt(e.opacity??1,0,oz(i))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,i));for(let u=0;u<sz;u++){const h=`border${G2[u]}Radius`;let d=Px(e,h),m=Px(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Ox(d)===Ox(m)?(t[h]=Math.max(pt(Dx(d),Dx(m),i),0),(os.test(m)||os.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,i))}function Px(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const az=K2(0,.5,OC),oz=K2(.5,.95,ai);function K2(t,e,n){return i=>i<t?0:i>e?1:n(Sc(t,e,i))}function Mx(t,e){t.min=e.min,t.max=e.max}function bi(t,e){Mx(t.x,e.x),Mx(t.y,e.y)}function kx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vx(t,e,n,i,a){return t-=e,t=Vd(t,1/n,i),a!==void 0&&(t=Vd(t,1/a,i)),t}function lz(t,e=0,n=1,i=.5,a,l=t,u=t){if(os.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=pt(l.min,l.max,i);t===l&&(h-=e),t.min=Vx(t.min,e,n,h,a),t.max=Vx(t.max,e,n,h,a)}function Lx(t,e,[n,i,a],l,u){lz(t,e[n],e[i],e[a],e.scale,l,u)}const uz=["x","scaleX","originX"],cz=["y","scaleY","originY"];function jx(t,e,n,i){Lx(t.x,e,uz,n?n.x:void 0,i?i.x:void 0),Lx(t.y,e,cz,n?n.y:void 0,i?i.y:void 0)}function Ux(t){return t.translate===0&&t.scale===1}function Y2(t){return Ux(t.x)&&Ux(t.y)}function zx(t,e){return t.min===e.min&&t.max===e.max}function hz(t,e){return zx(t.x,e.x)&&zx(t.y,e.y)}function Bx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Q2(t,e){return Bx(t.x,e.x)&&Bx(t.y,e.y)}function Fx(t){return yn(t.x)/yn(t.y)}function Hx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class fz{constructor(){this.members=[]}add(e){g0(this.members,e),e.scheduleRender()}remove(e){if(y0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dz(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:b,skewX:S,skewY:I}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),S&&(i+=`skewX(${S}deg) `),I&&(i+=`skewY(${I}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const ty=["","X","Y","Z"],mz=1e3;let pz=0;function ny(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function W2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=k2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&W2(i)}function X2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=pz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vz),this.nodes.forEach(Ez),this.nodes.forEach(wz),this.nodes.forEach(_z)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new nz)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new b0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=f2(u)&&!o9(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=iz(b,250),id.hasAnimatedSinceResize&&(id.hasAnimatedSinceResize=!1,this.nodes.forEach(Gx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||m.getDefaultTransition()||Cz,{onLayoutAnimationStart:L,onLayoutAnimationComplete:M}=m.getProps(),z=!this.targetLayout||!Q2(this.targetLayout,S),F=!v&&b;if(this.options.layoutRoot||this.resumeFrom||F||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...O0(I,"layout"),onPlay:L,onComplete:M};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,F)}else v||Gx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&W2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($x);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Tz),this.nodes.forEach(gz),this.nodes.forEach(yz)):this.nodes.forEach($x),this.clearAllSnapshots();const h=Rn.now();sn.delta=Hs(0,1e3/60,h-sn.timestamp),sn.timestamp=h,sn.isProcessing=!0,qg.update.process(sn),qg.preRender.process(sn),qg.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,M0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bz),this.sharedNodes.forEach(Sz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Y2(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Va(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),Nz(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ft();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Iz))){const{scroll:m}=this.root;m&&(ll(h.x,m.offset.x),ll(h.y,m.offset.y))}return h}removeElementScroll(u){const h=Ft();if(bi(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&bi(h,u),ll(h.x,y.offset.x),ll(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Ft();bi(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ul(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Va(y.latestValues)&&ul(d,y.latestValues)}return Va(this.latestValues)&&ul(d,this.latestValues),d}removeTransform(u){const h=Ft();bi(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Va(m.latestValues))continue;iv(m.latestValues)&&m.updateSnapshot();const y=Ft(),v=m.measurePageBox();bi(y,v),jx(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Va(this.latestValues)&&jx(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=sn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),N2(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||iv(this.parent.latestValues)||C2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),Ld(this.relativeTargetOrigin,h,d),bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;bi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;W9(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ft());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kx(this.prevProjectionDelta.x,this.projectionDelta.x),kx(this.prevProjectionDelta.y,this.projectionDelta.y)),mc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!Hx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cl(),this.projectionDelta=cl(),this.projectionDeltaWithTransform=cl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},v=cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=Ft(),S=d?d.source:void 0,I=this.layout?this.layout.source:void 0,L=S!==I,M=this.getStack(),z=!M||M.members.length<=1,F=!!(L&&!z&&this.options.crossfade===!0&&!this.path.some(Rz));this.animationProgress=0;let q;this.mixTargetDelta=te=>{const ie=te/1e3;Kx(v.x,u.x,ie),Kx(v.y,u.y,ie),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ld(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Az(this.relativeTarget,this.relativeTargetOrigin,b,ie),q&&hz(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Ft()),bi(q,this.relativeTarget)),L&&(this.animationValues=y,rz(y,m,this.latestValues,ie,F,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{id.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sl(0)),this.currentAnimation=ez(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&J2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Ft();const v=yn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const b=yn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+b}bi(h,d),ul(h,y),mc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new fz),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&ny("z",u,m,this.animationValues);for(let y=0;y<ty.length;y++)ny(`rotate${ty[y]}`,u,m,this.animationValues),ny(`skew${ty[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=nd(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=nd(h?.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=dz(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:b,y:S}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in nv){if(y[I]===void 0)continue;const{correct:L,applyTo:M,isCSSVariable:z}=nv[I],F=v==="none"?y[I]:L(y[I],m);if(M){const q=M.length;for(let te=0;te<q;te++)u[M[te]]=F}else z?this.options.visualElement.renderState.vars[I]=F:u[I]=F}this.options.layoutId&&(u.pointerEvents=m===this?nd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(qx),this.root.sharedNodes.clear()}}}function gz(t){t.updateLayout()}function yz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ni(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=yn(v);v.min=n[y].min,v.max=v.min+b}):J2(a,e.layoutBox,n)&&ni(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=yn(n[y]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const u=cl();mc(u,n,e.layoutBox);const h=cl();l?mc(h,t.applyTransform(i,!0),e.measuredBox):mc(h,n,e.layoutBox);const d=!Y2(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const S=Ft();Ld(S,e.layoutBox,v.layoutBox);const I=Ft();Ld(I,n,b.layoutBox),Q2(S,I)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _z(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bz(t){t.clearSnapshot()}function qx(t){t.clearMeasurements()}function $x(t){t.isLayoutDirty=!1}function Tz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ez(t){t.resolveTargetDelta()}function wz(t){t.calcProjection()}function xz(t){t.resetSkewAndRotation()}function Sz(t){t.removeLeadSnapshot()}function Kx(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Yx(t,e,n,i){t.min=pt(e.min,n.min,i),t.max=pt(e.max,n.max,i)}function Az(t,e,n,i){Yx(t.x,e.x,n.x,i),Yx(t.y,e.y,n.y,i)}function Rz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Cz={duration:.45,ease:[.4,0,.1,1]},Qx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Wx=Qx("applewebkit/")&&!Qx("chrome/")?Math.round:ai;function Xx(t){t.min=Wx(t.min),t.max=Wx(t.max)}function Nz(t){Xx(t.x),Xx(t.y)}function J2(t,e,n){return t==="position"||t==="preserve-aspect"&&!L8(Fx(e),Fx(n),.2)}function Iz(t){return t!==t.root&&t.scroll?.wasRoot}const Dz=X2({attachResizeListener:(t,e)=>Nc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},Z2=X2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iy.current){const t=new Dz({});t.mount(window),t.setOptions({layoutScroll:!0}),iy.current=t}return iy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Oz={pan:{Feature:J8},drag:{Feature:X8,ProjectionNode:Z2,MeasureLayout:$2}};function Jx(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&dt.postRender(()=>l(e,Jc(e)))}class Pz extends na{mount(){const{current:e}=this.node;e&&(this.unmount=n9(e,(n,i)=>(Jx(this.node,i,"Start"),a=>Jx(this.node,a,"End"))))}unmount(){}}class Mz extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qc(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zx(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&dt.postRender(()=>l(e,Jc(e)))}class kz extends na{mount(){const{current:e}=this.node;e&&(this.unmount=a9(e,(n,i)=>(Zx(this.node,i,"Start"),(a,{success:l})=>Zx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cv=new WeakMap,sy=new WeakMap,Vz=t=>{const e=cv.get(t.target);e&&e(t)},Lz=t=>{t.forEach(Vz)};function jz({root:t,...e}){const n=t||document;sy.has(n)||sy.set(n,{});const i=sy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Lz,{root:t,...e})),i[a]}function Uz(t,e,n){const i=jz(e);return cv.set(t,n),i.observe(t),()=>{cv.delete(t),i.unobserve(t)}}const zz={some:0,all:1};class Bz extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:zz[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=m?y:v;b&&b(d)};return Uz(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Fz(e,n))&&this.startObserver()}unmount(){}}function Fz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Hz={inView:{Feature:Bz},tap:{Feature:kz},focus:{Feature:Mz},hover:{Feature:Pz}},qz={layout:{ProjectionNode:Z2,MeasureLayout:$2}},$z={...D8,...Hz,...Oz,...qz},zr=K9($z,a8),Zc=()=>{const{i18n:t}=Rl(),e=()=>{const n=t.language==="ar"?"en":"ar";t.changeLanguage(n),document.documentElement.dir=n==="ar"?"rtl":"ltr",document.documentElement.lang=n,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},100)};return w.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 transition-all font-bold text-xs border border-slate-200",title:t.language==="ar"?"Switch to English":" ",children:[w.jsx(Yj,{className:"w-4 h-4 text-medical-600"}),w.jsx("span",{children:t.language==="ar"?"English":""})]})},Gz=()=>{const{t}=Rl(),e=[{name:t("home.services.gen_con"),price:"$50",description:t("home.services.gen_con_desc")},{name:t("home.services.follow_up"),price:"$30",description:t("home.services.follow_up_desc")},{name:t("home.services.special"),price:t("home.from")+" $100",description:t("home.services.special_desc")},{name:t("home.services.renewal"),price:"$20",description:t("home.services.renewal_desc")}];return w.jsxs("div",{className:"flex flex-col min-h-screen",children:[w.jsxs("nav",{className:"bg-white border-b border-slate-100 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(zy,{className:"text-medical-600 w-8 h-8"}),w.jsx("span",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"MedicoQueue"})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx(ja,{to:"/live-queue",className:"text-slate-600 hover:text-medical-600 font-medium",children:t("nav.live_queue")}),w.jsx(Zc,{}),w.jsx(ja,{to:"/booking",className:"btn-primary",children:t("nav.book_now")})]})]}),w.jsxs("main",{className:"flex-grow",children:[w.jsx("section",{className:"bg-gradient-to-b from-medical-50 to-white py-20 px-6 text-center",children:w.jsxs(zr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[w.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight",children:[t("home.hero_title")," ",w.jsx("br",{}),w.jsx("span",{className:"text-medical-600",children:t("home.hero_subtitle")})]}),w.jsx("p",{className:"text-xl text-slate-600 mb-10 max-w-2xl mx-auto",children:t("home.hero_desc")}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsxs(ja,{to:"/booking",className:"btn-primary text-lg px-8 py-3 flex items-center gap-2",children:[t("home.start_booking")," ",w.jsx(Rj,{className:"w-5 h-5 rtl:rotate-180"})]}),w.jsx(ja,{to:"/live-queue",className:"btn-secondary text-lg px-8 py-3",children:t("home.view_live_queue")})]})]})}),w.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:t("home.our_services")}),w.jsx("p",{className:"text-slate-600",children:t("home.pricing_desc")})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((n,i)=>w.jsxs(zr.div,{whileHover:{y:-5},className:"medical-card flex flex-col justify-between",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:n.name}),w.jsx("p",{className:"text-slate-600 text-sm mb-4",children:n.description})]}),w.jsxs("div",{className:"mt-4",children:[w.jsx("span",{className:"text-2xl font-bold text-medical-600",children:n.price}),w.jsx("button",{className:"w-full mt-4 py-2 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-slate-700 font-medium",children:t("home.details")})]})]},i))})]})]}),w.jsx("footer",{className:"bg-slate-900 text-white py-12 px-6",children:w.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[w.jsxs("div",{className:"flex items-center gap-2 text-white",children:[w.jsx(zy,{className:"text-medical-400 w-8 h-8"}),w.jsx("span",{className:"text-xl font-bold",children:"MedicoQueue"})]}),w.jsx("div",{className:"text-slate-400 text-sm",children:t("home.footer_copy")}),w.jsx("div",{className:"flex gap-6",children:w.jsx(ja,{to:"/login",className:"text-slate-400 hover:text-white transition-colors",children:t("nav.doctor_portal")})})]})})]})},eN=6048e5,Kz=864e5,Yz=6e4,eS=Symbol.for("constructDateFrom");function Wr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&eS in t?t[eS](e):t instanceof Date?new t.constructor(e):new Date(e)}function oi(t,e){return Wr(e||t,t)}let Qz={};function _m(){return Qz}function Ic(t,e){const n=_m(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=oi(t,e?.in),l=a.getDay(),u=(l<i?7:0)+l-i;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function jd(t,e){return Ic(t,{...e,weekStartsOn:1})}function tN(t,e){const n=oi(t,e?.in),i=n.getFullYear(),a=Wr(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=jd(a),u=Wr(n,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const h=jd(u);return n.getTime()>=l.getTime()?i+1:n.getTime()>=h.getTime()?i:i-1}function tS(t){const e=oi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Wz(t,...e){const n=Wr.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function nS(t,e){const n=oi(t,e?.in);return n.setHours(0,0,0,0),n}function Xz(t,e,n){const[i,a]=Wz(n?.in,t,e),l=nS(i),u=nS(a),h=+l-tS(l),d=+u-tS(u);return Math.round((h-d)/Kz)}function Jz(t,e){const n=tN(t,e),i=Wr(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),jd(i)}function Zz(t,e,n){const i=oi(t,n?.in);return i.setTime(i.getTime()+e*Yz),i}function eB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tB(t){return!(!eB(t)&&typeof t!="number"||isNaN(+oi(t)))}function nB(t,e){const n=oi(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const iB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sB=(t,e,n)=>{let i;const a=iB[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function gl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const rB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lB={date:gl({formats:rB,defaultWidth:"full"}),time:gl({formats:aB,defaultWidth:"full"}),dateTime:gl({formats:oB,defaultWidth:"full"})},uB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cB=(t,e,n,i)=>uB[t];function Ji(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):u;a=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const hB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yB=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vB={ordinalNumber:yB,era:Ji({values:hB,defaultWidth:"wide"}),quarter:Ji({values:fB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ji({values:dB,defaultWidth:"wide"}),day:Ji({values:mB,defaultWidth:"wide"}),dayPeriod:Ji({values:pB,defaultWidth:"wide",formattingValues:gB,defaultFormattingWidth:"wide"})};function Zi(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const u=l[0],h=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(h)?bB(h,v=>v.test(u)):_B(h,v=>v.test(u));let m;m=t.valueCallback?t.valueCallback(d):d,m=n.valueCallback?n.valueCallback(m):m;const y=e.slice(u.length);return{value:m,rest:y}}}function _B(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function bB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nN(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}const TB=/^(\d+)(th|st|nd|rd)?/i,EB=/\d+/i,wB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xB={any:[/^b/i,/^(a|c)/i]},SB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AB={any:[/1/i,/2/i,/3/i,/4/i]},RB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PB={ordinalNumber:nN({matchPattern:TB,parsePattern:EB,valueCallback:t=>parseInt(t,10)}),era:Zi({matchPatterns:wB,defaultMatchWidth:"wide",parsePatterns:xB,defaultParseWidth:"any"}),quarter:Zi({matchPatterns:SB,defaultMatchWidth:"wide",parsePatterns:AB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zi({matchPatterns:RB,defaultMatchWidth:"wide",parsePatterns:CB,defaultParseWidth:"any"}),day:Zi({matchPatterns:NB,defaultMatchWidth:"wide",parsePatterns:IB,defaultParseWidth:"any"}),dayPeriod:Zi({matchPatterns:DB,defaultMatchWidth:"any",parsePatterns:OB,defaultParseWidth:"any"})},G0={code:"en-US",formatDistance:sB,formatLong:lB,formatRelative:cB,localize:vB,match:PB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MB(t,e){const n=oi(t,e?.in);return Xz(n,nB(n))+1}function kB(t,e){const n=oi(t,e?.in),i=+jd(n)-+Jz(n);return Math.round(i/eN)+1}function iN(t,e){const n=oi(t,e?.in),i=n.getFullYear(),a=_m(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=Wr(e?.in||t,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const h=Ic(u,e),d=Wr(e?.in||t,0);d.setFullYear(i,0,l),d.setHours(0,0,0,0);const m=Ic(d,e);return+n>=+h?i+1:+n>=+m?i:i-1}function VB(t,e){const n=_m(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=iN(t,e),l=Wr(e?.in||t,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Ic(l,e)}function LB(t,e){const n=oi(t,e?.in),i=+Ic(n,e)-+VB(n,e);return Math.round(i/eN)+1}function Ze(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Sr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Ze(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ze(n+1,2)},d(t,e){return Ze(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ze(t.getHours()%12||12,e.length)},H(t,e){return Ze(t.getHours(),e.length)},m(t,e){return Ze(t.getMinutes(),e.length)},s(t,e){return Ze(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return Ze(a,e.length)}},Jo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iS={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Sr.y(t,e)},Y:function(t,e,n,i){const a=iN(t,i),l=a>0?a:1-a;if(e==="YY"){const u=l%100;return Ze(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ze(l,e.length)},R:function(t,e){const n=tN(t);return Ze(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ze(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ze(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ze(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Sr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ze(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const a=LB(t,i);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):Ze(a,e.length)},I:function(t,e,n){const i=kB(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Ze(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Sr.d(t,e)},D:function(t,e,n){const i=MB(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ze(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ze(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ze(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return Ze(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let a;switch(i===12?a=Jo.noon:i===0?a=Jo.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let a;switch(i>=17?a=Jo.evening:i>=12?a=Jo.afternoon:i>=4?a=Jo.morning:a=Jo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Sr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Sr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ze(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ze(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Sr.s(t,e)},S:function(t,e){return Sr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return rS(i);case"XXXX":case"XX":return La(i);default:return La(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return rS(i);case"xxxx":case"xx":return La(i);default:return La(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sS(i,":");default:return"GMT"+La(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sS(i,":");default:return"GMT"+La(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return Ze(i,e.length)},T:function(t,e,n){return Ze(+t,e.length)}};function sS(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),l=i%60;return l===0?n+String(a):n+String(a)+e+Ze(l,2)}function rS(t,e){return t%60===0?(t>0?"-":"+")+Ze(Math.abs(t)/60,2):La(t,e)}function La(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Ze(Math.trunc(i/60),2),l=Ze(i%60,2);return n+a+e+l}const aS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},sN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},jB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return aS(t,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",aS(i,e)).replace("{{time}}",sN(a,e))},UB={p:sN,P:jB},zB=/^D+$/,BB=/^Y+$/,FB=["D","DD","YY","YYYY"];function HB(t){return zB.test(t)}function qB(t){return BB.test(t)}function $B(t,e,n){const i=GB(t,e,n);if(console.warn(i),FB.includes(t))throw new RangeError(i)}function GB(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QB=/^'([^]*?)'?$/,WB=/''/g,XB=/[a-zA-Z]/;function jn(t,e,n){const i=_m(),a=n?.locale??i.locale??G0,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=oi(t,n?.in);if(!tB(h))throw new RangeError("Invalid time value");let d=e.match(YB).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=UB[v];return b(y,a.formatLong)}return y}).join("").match(KB).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:JB(y)};if(iS[v])return{isToken:!0,value:y};if(v.match(XB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(d=a.localize.preprocessor(h,d));const m={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return d.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!n?.useAdditionalWeekYearTokens&&qB(v)||!n?.useAdditionalDayOfYearTokens&&HB(v))&&$B(v,e,String(t));const b=iS[v[0]];return b(h,v,a.localize,m)}).join("")}function JB(t){const e=t.match(QB);return e?e[1].replace(WB,"'"):t}const ZB={lessThanXSeconds:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "}},eF=(t,e,n)=>{let i;const a=ZB[t];return typeof a=="string"?i=a:e===1?i=a.one:e===2?i=a.two:e<=10?i=a.threeToTen.replace("{{count}}",String(e)):i=a.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"  "+i:" "+i:i},tF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iF={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sF={date:gl({formats:tF,defaultWidth:"full"}),time:gl({formats:nF,defaultWidth:"full"}),dateTime:gl({formats:iF,defaultWidth:"full"})},rF={lastWeek:"'' eeee '' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},aF=(t,e,n,i)=>rF[t],oF={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},lF={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},uF={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},cF={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},hF={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""}},fF={narrow:{am:"",pm:"",midnight:"",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:" ",night:" "}},dF=t=>String(t),mF={ordinalNumber:dF,era:Ji({values:oF,defaultWidth:"wide"}),quarter:Ji({values:lF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ji({values:uF,defaultWidth:"wide"}),day:Ji({values:cF,defaultWidth:"wide"}),dayPeriod:Ji({values:hF,defaultWidth:"wide",formattingValues:fF,defaultFormattingWidth:"wide"})},pF=/^(\d+)(th|st|nd|rd)?/i,gF=/\d+/i,yF={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^( | | | )/i},vF={any:[/^/i,/^/i]},_F={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^ [1234]/i},bF={any:[/1/i,/2/i,/3/i,/4/i]},TF={narrow:/^[]/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},EF={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},wF={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},xF={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},SF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RF={ordinalNumber:nN({matchPattern:pF,parsePattern:gF,valueCallback:t=>parseInt(t,10)}),era:Zi({matchPatterns:yF,defaultMatchWidth:"wide",parsePatterns:vF,defaultParseWidth:"any"}),quarter:Zi({matchPatterns:_F,defaultMatchWidth:"wide",parsePatterns:bF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zi({matchPatterns:TF,defaultMatchWidth:"wide",parsePatterns:EF,defaultParseWidth:"any"}),day:Zi({matchPatterns:wF,defaultMatchWidth:"wide",parsePatterns:xF,defaultParseWidth:"any"}),dayPeriod:Zi({matchPatterns:SF,defaultMatchWidth:"any",parsePatterns:AF,defaultParseWidth:"any"})},rN={code:"ar-SA",formatDistance:eF,formatLong:sF,formatRelative:aF,localize:mF,match:RF,options:{weekStartsOn:0,firstWeekContainsDate:1}},CF=()=>{const{t,i18n:e}=Rl();e.language;const n=Oc(),[i,a]=V.useState({name:"",phone:"",date:jn(new Date,"yyyy-MM-dd")}),[l,u]=V.useState(!1),[h,d]=V.useState(null),[m,y]=V.useState({intervalMinutes:10,dailyLimit:20,dailySchedules:{Monday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Tuesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Wednesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Thursday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Friday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Saturday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Sunday:{isOpen:!0,startTime:"09:00",endTime:"17:00"}},clinicAddress:"Clinic Address Here",clinicPhone:"+20 123 456 789",mapIframeUrl:""}),v=L=>{if(!L)return"---";const[M,z]=L.split(":"),F=parseInt(M),q=F>=12?e.language==="ar"?"":"PM":e.language==="ar"?"":"AM",te=F%12||12;return e.language==="ar"?`${te}:${z} ${q}`:`${te}:${z} ${q}`},[b,S]=V.useState({totalBooked:0,estimatedWait:0});V.useEffect(()=>{(async()=>(ii(rn,"settings","clinic_settings"),await Cd(Fa(Lr(rn,"settings"),Or("id","==","clinic_settings"))),xl(ii(rn,"settings","clinic_settings"),F=>{F.exists()&&y(q=>({...q,...F.data()}))})))();const M=Fa(Lr(rn,"bookings"),Or("date","==",i.date)),z=xl(M,F=>{S({totalBooked:F.size,estimatedWait:F.size*(m.intervalMinutes||15)})});return()=>z()},[i.date,m.intervalMinutes]);const I=async L=>{L.preventDefault(),console.log("Submit button clicked. Form data:",i),u(!0);let M=!1;setTimeout(()=>{M||(console.warn("Firestore submission is taking too long (15s timeout reached)"),u(!1),alert(t("booking.validation.timeout")))},15e3);try{if(schedule&&!schedule.isOpen){alert(t("booking.validation.closed_day",{day:t(`days.${dayName.toLowerCase()}`)})),u(!1);return}if(b.totalBooked>=m.dailyLimit){alert(t("booking.validation.capacity")),u(!1);return}console.log("Current stats for queue calculation:",b);const z=(b.totalBooked||0)+1,F=schedule?.startTime||"09:00";let q=new Date(`${i.date}T${F}`);const te=new Date;i.date===jn(te,"yyyy-MM-dd")&&te>q&&(q=te);const ie=jn(Zz(q,b.totalBooked*m.intervalMinutes),"HH:mm"),ue=schedule?.endTime||"17:00";if(ie>ue){alert(t("booking.validation.hours_exceeded")),u(!1);return}const C=v(ie),A={name:String(i.name),phone:String(i.phone),date:String(i.date),queueNumber:Number(z),status:"pending",createdAt:new Date().toISOString(),estimatedTime:String(C)};console.log("Attempting to write to collection 'bookings' with data:",A);const N=await cC(Lr(rn,"bookings"),A);M=!0,console.log("Success! Firestore Document ID:",N.id),d({id:N.id,...A})}catch(z){M=!0,console.error("FIRESTORE ERROR DETECTED:",z),console.error("Error Code:",z.code),console.error("Error Message:",z.message),alert(t("booking.validation.db_error")+": "+z.message)}finally{u(!1),console.log("handleSubmit execution completed.")}};return h?w.jsx("div",{className:"min-h-screen bg-medical-50 flex items-center justify-center px-6",children:w.jsxs(zr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"medical-card max-w-md w-full text-center py-10",children:[w.jsx("div",{className:"bg-green-100 text-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(Dd,{className:"w-10 h-10"})}),w.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:t("booking.success.title")}),w.jsx("p",{className:"text-slate-600 mb-8",children:t("booking.success.desc")}),w.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-8 text-left rtl:text-right space-y-4",children:[w.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[w.jsx("span",{className:"text-slate-500",children:t("booking.success.queue_number")}),w.jsxs("span",{className:"font-bold text-medical-600 text-xl",children:["#",h.queueNumber]})]}),w.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[w.jsx("span",{className:"text-slate-500",children:t("booking.success.wait_time")}),w.jsx("span",{className:"font-semibold",children:h.estimatedTime})]}),w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-slate-500",children:t("labels.preferred_date")}),w.jsx("span",{className:"font-semibold",children:h.date})]})]}),w.jsx("p",{className:"text-sm text-slate-500 mb-8 italic",children:t("booking.success.time_desc")}),w.jsx("button",{onClick:()=>n("/"),className:"w-full btn-primary",children:t("booking.success.back_home")})]})}):w.jsx("div",{className:"min-h-screen py-12 px-6 bg-slate-50/50",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[w.jsx("div",{className:"flex justify-end mb-8",children:w.jsx(Zc,{})}),w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("h1",{className:"text-5xl font-black text-slate-900 mb-4 tracking-tight",children:t("booking.title")}),w.jsx("p",{className:"text-slate-500 text-lg",children:t("booking.subtitle")})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 items-start",children:[w.jsx("div",{className:"lg:col-span-12 xl:col-span-8 order-2 xl:order-1",children:w.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-slate-200/60 p-8 md:p-12 border border-slate-100",children:[w.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-8 flex items-center gap-3",children:[w.jsx("div",{className:"bg-medical-100 p-2 rounded-xl",children:w.jsx(By,{className:"w-6 h-6 text-medical-600"})}),t("booking.patient_info")]}),w.jsxs("form",{onSubmit:I,className:"space-y-8",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"fullName",className:"block text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide",children:t("labels.full_name")}),w.jsxs("div",{className:"relative group",children:[w.jsx(h5,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors w-5 h-5 rtl:right-4 rtl:left-auto"}),w.jsx("input",{id:"fullName",name:"name",type:"text",required:!0,className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-200 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white text-slate-800",placeholder:t("booking.placeholder_name"),value:i.name,onChange:L=>a({...i,name:L.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"whatsappNumber",className:"block text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide",children:t("labels.whatsapp_number")}),w.jsxs("div",{className:"relative group",children:[w.jsx(_C,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors w-5 h-5 rtl:right-4 rtl:left-auto"}),w.jsx("input",{id:"whatsappNumber",name:"phone",type:"tel",required:!0,className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-200 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white text-slate-800",placeholder:t("booking.placeholder_phone"),value:i.phone,onChange:L=>a({...i,phone:L.target.value})})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"appointmentDate",className:"block text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide",children:t("labels.preferred_date")}),w.jsxs("div",{className:"relative group",children:[w.jsx(ec,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors w-5 h-5 rtl:right-4 rtl:left-auto"}),w.jsx("input",{id:"appointmentDate",name:"date",type:"date",required:!0,min:jn(new Date,"yyyy-MM-dd"),className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-200 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white text-slate-800 font-medium",value:i.date,onChange:L=>a({...i,date:L.target.value})})]}),w.jsxs("p",{className:"mt-3 text-xs text-slate-400 font-medium flex items-center gap-2",children:[w.jsx(f0,{className:"w-3 h-3 text-medical-400"})," ",t("booking.date_hint")]})]}),w.jsx("button",{type:"submit",disabled:l,className:"w-full bg-medical-600 hover:bg-medical-700 text-white py-5 rounded-2xl text-xl font-bold transition-all shadow-xl shadow-medical-200 hover:scale-[1.01] active:scale-[0.99] flex justify-center items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-6 h-6 border-4 border-white border-t-transparent rounded-full animate-spin"}),t("booking.processing")]}):w.jsxs(w.Fragment,{children:[w.jsx(Dd,{className:"w-6 h-6"})," ",t("booking.submit_btn")]})})]})]})}),w.jsx("div",{className:"lg:col-span-12 xl:col-span-4 space-y-8 order-1 xl:order-2",children:w.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl shadow-slate-200/60 overflow-hidden border border-slate-100",children:[w.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[w.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[w.jsx(o5,{className:"w-5 h-5 text-medical-600"})," ",t("booking.schedule.title")]}),w.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${m.dailySchedules?.[jn(new Date(i.date),"EEEE")]?.isOpen?"bg-green-100 text-green-600":"bg-red-100 text-red-500"}`,children:m.dailySchedules?.[jn(new Date(i.date),"EEEE")]?.isOpen?t("booking.schedule.open"):t("booking.schedule.closed")})]}),w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsx("span",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:t("booking.schedule.hours")}),w.jsx("span",{className:"font-bold text-slate-700 bg-slate-100 px-3 py-1 rounded-lg",children:m.dailySchedules?.[jn(new Date(i.date),"EEEE")]?.isOpen?`${v(m.dailySchedules[jn(new Date(i.date),"EEEE")].startTime)} - ${v(m.dailySchedules[jn(new Date(i.date),"EEEE")].endTime)}`:"---"})]}),w.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[w.jsxs("div",{className:"flex gap-4",children:[w.jsx("div",{className:"bg-slate-100 p-2 rounded-xl h-fit",children:w.jsx(yC,{className:"w-4 h-4 text-medical-600"})}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("span",{className:"block text-[10px] text-slate-400 font-bold uppercase",children:t("booking.schedule.location")}),w.jsx("span",{className:"text-xs font-bold text-slate-700 leading-normal block",children:m.clinicAddress})]})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("div",{className:"bg-slate-100 p-2 rounded-xl h-fit",children:w.jsx(vC,{className:"w-4 h-4 text-medical-600"})}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("span",{className:"block text-[10px] text-slate-400 font-bold uppercase",children:t("booking.schedule.phone")}),w.jsx("span",{className:"text-xs font-bold text-slate-700",children:m.clinicPhone})]})]})]}),m.mapIframeUrl&&w.jsx("div",{className:"mt-6 rounded-2xl overflow-hidden h-48 border border-slate-100 shadow-inner group",children:w.jsx("iframe",{src:m.mapIframeUrl,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:t("booking.schedule.location"),className:"grayscale-[0.5] group-hover:grayscale-0 transition-all duration-500"})})]})]})})]}),w.jsxs("div",{className:"bg-medical-600 rounded-[2.5rem] mt-16 p-8 text-white shadow-2xl shadow-medical-200 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute -right-10 -top-10 w-60 h-60 bg-white/10 rounded-full blur-3xl transition-transform group-hover:scale-150 duration-700"}),w.jsx("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-medical-400/20 rounded-full blur-2xl"}),w.jsxs("div",{className:"relative flex flex-col md:flex-row items-center justify-between gap-8 text-center md:text-left rtl:md:text-right",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("h3",{className:"text-2xl font-black flex items-center gap-3 justify-center md:justify-start",children:[w.jsx(Lj,{className:"w-8 h-8 text-medical-200"})," ",t("booking.status.title")]}),w.jsx("p",{className:"text-medical-100 font-medium text-sm",children:t("booking.status.desc")})]}),w.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[w.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-8 py-5 rounded-[2rem] border border-white/20 min-w-[180px]",children:[w.jsx("span",{className:"block text-white/60 text-[10px] uppercase font-black mb-1 tracking-widest text-center",children:t("booking.status.patients_today")}),w.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[w.jsx("span",{className:"text-3xl font-black",children:b.totalBooked}),w.jsx("span",{className:"text-white/60 text-[10px] font-bold uppercase",children:t("booking.status.total")})]})]}),w.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-8 py-5 rounded-[2rem] border border-white/20 min-w-[180px]",children:[w.jsx("span",{className:"block text-white/60 text-[10px] uppercase font-black mb-1 tracking-widest text-center",children:t("booking.status.estimated_wait")}),w.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[w.jsx("span",{className:"text-3xl font-black",children:b.estimatedWait}),w.jsx("span",{className:"text-white/60 text-[10px] font-bold uppercase",children:t("booking.status.minutes")})]})]})]})]})]})]})})},NF=()=>{const{t,i18n:e}=Rl(),[n,i]=V.useState([]),[a,l]=V.useState(0),u=jn(new Date,"yyyy-MM-dd");return V.useEffect(()=>{const h=Fa(Lr(rn,"bookings"),Or("date","==",u)),d=xl(h,m=>{let y=m.docs.map(b=>({id:b.id,...b.data()}));y.sort((b,S)=>(b.queueNumber||0)-(S.queueNumber||0)),i(y);const v=y.find(b=>b.status==="calling");if(v)l(v.queueNumber);else{const b=[...y].reverse().find(S=>S.status==="completed");l(b?b.queueNumber:0)}});return()=>d()},[u]),w.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-6",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsx("div",{className:"flex justify-end mb-8",children:w.jsx(Zc,{})}),w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4 italic",children:t("live_queue.title")}),w.jsx("p",{className:"text-slate-600",children:t("live_queue.subtitle")})]}),w.jsxs("div",{className:"bg-medical-600 rounded-2xl p-10 text-white shadow-xl shadow-medical-200 mb-12 text-center relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:w.jsx(bC,{className:"w-32 h-32"})}),w.jsx("p",{className:"text-medical-100 font-medium mb-2 uppercase tracking-widest",children:t("live_queue.now_serving")}),w.jsxs("div",{className:"text-8xl font-black mb-4",children:["#",a]}),w.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"block text-2xl font-bold",children:n.filter(h=>h.status==="pending").length}),w.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:t("live_queue.waiting")})]}),w.jsx("div",{className:"h-10 w-px bg-medical-400 opacity-50"}),w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"block text-2xl font-bold",children:n.filter(h=>h.status==="completed").length}),w.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:t("live_queue.completed")})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-xl font-bold text-slate-900 px-2 mb-4",children:t("live_queue.upcoming")}),w.jsx(tv,{mode:"popLayout",children:n.filter(h=>h.status==="pending").map((h,d)=>w.jsxs(zr.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},className:`medical-card flex justify-between items-center transition-all ${d===0?"bg-medical-50 border-medical-200":""}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${d===0?"bg-medical-600 text-white":"bg-slate-100 text-slate-600"}`,children:["#",h.queueNumber]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-slate-900",children:h.name}),w.jsxs("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:[t("live_queue.scheduled_for")," ",h.estimatedTime]})]})]}),d===0&&w.jsx("div",{className:"bg-medical-100 text-medical-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:t("live_queue.up_next")})]},h.id))}),n.filter(h=>h.status==="pending").length===0&&w.jsxs("div",{className:"text-center py-10 medical-card border-dashed",children:[w.jsx(f0,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),w.jsx("p",{className:"text-slate-500",children:t("live_queue.no_pending")})]})]})]})})},IF="modulepreload",DF=function(t){return"/Doctors/"+t},oS={},OF=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=m(n.map(y=>{if(y=DF(y),y in oS)return;oS[y]=!0;const v=y.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":IF,v||(S.as="script"),S.crossOrigin="",S.href=y,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((I,L)=>{S.addEventListener("load",I),S.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return a.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},ry="https://script.google.com/macros/s/AKfycbyK_DSjFavVCsE0DH49qxke-NVR8Nq_nFP3saZD86VKGIQ1TDPxIF3WTmwz995Oa46tGw/exec",ay=(t,e=!1)=>{if(!t||!t.includes("drive.google.com"))return t;let n="";return t.includes("/file/d/")?n=t.split("/file/d/")[1].split("/")[0]:t.includes("id=")&&(n=t.split("id=")[1].split("&")[0]),n?e?`https://drive.google.com/file/d/${n}/preview`:`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t},PF=()=>{const{t,i18n:e}=Rl(),n=e.language==="ar"?rN:G0;Oc();const[i,a]=V.useState([]),[l,u]=V.useState(null),[h,d]=V.useState(""),[m,y]=V.useState(""),[v,b]=V.useState(""),[S,I]=V.useState([]),[L,M]=V.useState(!1),[z,F]=V.useState(null),[q,te]=V.useState(!1),[ie,ue]=V.useState(!1),[C,A]=V.useState({intervalMinutes:10,dailyLimit:20,dailySchedules:{Monday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Tuesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Wednesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Thursday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Friday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Saturday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Sunday:{isOpen:!0,startTime:"09:00",endTime:"17:00"}},clinicAddress:"Clinic Address Here",clinicPhone:"+20 123 456 789",mapIframeUrl:""}),N=jn(new Date,"yyyy-MM-dd");V.useEffect(()=>{(async()=>(ii(rn,"settings","clinic_settings"),await Cd(Fa(Lr(rn,"settings"),Or("id","==","clinic_settings"))),xl(ii(rn,"settings","clinic_settings"),D=>{D.exists()&&A(Q=>({...Q,...D.data()}))})))()},[]),V.useEffect(()=>{const ee=Fa(Lr(rn,"bookings"),Or("date","==",N)),D=xl(ee,Q=>{let le=Q.docs.map(ce=>({id:ce.id,...ce.data()}));le.sort((ce,ye)=>(ce.queueNumber||0)-(ye.queueNumber||0)),a(le)});return()=>D()},[N]);const P=async ee=>{l&&(h!==(l.notes||"")||m!==(l.googleDriveLink||"")||v!==(l.nextAppointment||""))&&await k(!1),u(ee),d(ee.notes||""),y(ee.googleDriveLink||""),b(ee.nextAppointment||""),B(ee.phone)},k=async(ee=!0)=>{if(l)try{const D=ii(rn,"bookings",l.id);await Zu(D,{notes:h,googleDriveLink:m,nextAppointment:v,updatedAt:et.now()}),ee&&alert("Draft saved successfully.")}catch(D){console.error("Save Draft Error:",D),ee&&alert("Save failed: "+D.message)}},B=async ee=>{try{const D=Fa(Lr(rn,"bookings"),Or("phone","==",ee),Or("status","==","completed")),le=(await Cd(D)).docs.map(ce=>({id:ce.id,...ce.data()}));le.sort((ce,ye)=>{const Ee=new Date(ce.date).getTime(),Me=new Date(ye.date).getTime();if(Ee!==Me)return Me-Ee;const Tt=ce.updatedAt?.toMillis()||0;return(ye.updatedAt?.toMillis()||0)-Tt}),I(le)}catch(D){console.error("Error fetching history:",D)}},O=async ee=>{ee.preventDefault();try{await Zu(ii(rn,"settings","clinic_settings"),C),alert("Clinic Settings updated successfully!"),ue(!1)}catch(D){try{const{setDoc:Q}=await OF(async()=>{const{setDoc:le}=await Promise.resolve().then(()=>B6);return{setDoc:le}},[]);await Q(ii(rn,"settings","clinic_settings"),C),alert("Clinic Settings created and saved!"),ue(!1)}catch{console.error("Save Settings Error:",D),alert("Failed to save settings.")}}},Ce=async ee=>{const D=ee.target.files[0];if(!(!D||!l)){if(ry.includes("YOUR_GOOGLE_SCRIPT")){alert("Please set your Google Script URL in Dashboard.jsx first!");return}te(!0);try{const Q=new FileReader;Q.readAsDataURL(D),Q.onload=async()=>{const le=Q.result.split(",")[1],ce={name:D.name,type:D.type,base64:le,phone:l.phone};console.log("Sending file to Drive bridge..."),await fetch(ry,{method:"POST",mode:"no-cors",body:JSON.stringify(ce)}),console.log("Upload sent, fetching new link via JSONP..."),window.handleDriveResponse=Ee=>{console.log("JSONP Response received:",Ee),Ee.status==="success"?(y(Ee.previewUrl),alert("File uploaded and linked successfully!")):(console.error("Link retrieval failed:",Ee),alert("File uploaded but link retrieval failed. Please try again or check your Drive.")),te(!1)};const ye=document.createElement("script");ye.src=`${ry}?phone=${encodeURIComponent(l.phone)}&callback=handleDriveResponse&t=${Date.now()}`,ye.onerror=()=>{console.error("JSONP Script load error"),te(!1),alert("Communication error with Google. Please try saving and refreshing.")},document.body.appendChild(ye),setTimeout(()=>ye.remove(),1e4)}}catch(Q){console.error("Upload Error:",Q),alert("Upload failed. Check console for details."),te(!1)}}},Ye=async(ee,D)=>{try{const Q=ii(rn,"bookings",ee);if(await Zu(Q,{status:D,updatedAt:et.now()}),D==="calling"){const le=i.find(ce=>ce.id===ee);P(le)}}catch(Q){console.error(Q)}},J=async()=>{if(l)try{const ee=ii(rn,"bookings",l.id),D={notes:h,googleDriveLink:m,nextAppointment:v,status:"completed",updatedAt:et.now()};await Zu(ee,D),l.phone&&B(l.phone);const Q=i.map(le=>le.id===l.id?{...le,...D}:le);a(Q),u(null),d(""),y(""),b(""),alert(t("dashboard.consultation_saved"))}catch(ee){console.error("Save Notes Error:",ee),alert("Failed to save final notes: "+ee.message)}},oe=()=>{const ee=window.open("","_blank"),D=e.language==="ar";ee.document.write(`
            <html>
                <head>
                    <title>${t("dashboard.print_pres")} - ${l.name}</title>
                    <style>
                        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+Arabic:wght@400;700&display=swap');
                        body { 
                            font-family: 'Inter', 'Noto Sans Arabic', sans-serif; 
                            padding: 40px; 
                            line-height: 1.6; 
                            color: #1e293b;
                            direction: ${D?"rtl":"ltr"};
                            text-align: ${D?"right":"left"};
                        }
                        .header { border-bottom: 2px solid #0ea5e9; padding-bottom: 20px; margin-bottom: 30px; }
                        .clinic-name { font-size: 24px; font-weight: bold; color: #0369a1; }
                        .patient-info { margin-bottom: 30px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; background: #f8fafc; padding: 20px; rounded: 12px; }
                        .info-item { font-size: 14px; }
                        .info-label { font-weight: bold; color: #64748b; text-transform: uppercase; font-size: 10px; display: block; }
                        .notes-section { white-space: pre-wrap; margin-top: 30px; font-size: 16px; min-height: 400px; border: 1px solid #e2e8f0; padding: 20px; border-radius: 12px; }
                        .footer { margin-top: 50px; border-top: 1px solid #e2e8f0; pt: 20px; font-size: 12px; color: #94a3b8; }
                        @media print {
                            body { padding: 0; }
                            .no-print { display: none; }
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div class="clinic-name">${C.clinicAddress.split(",")[0]||t("dashboard.title")}</div>
                        <div style="font-size: 12px; color: #64748b;">${C.clinicAddress} | ${C.clinicPhone}</div>
                    </div>
                    
                    <div class="patient-info">
                        <div class="info-item">
                            <span class="info-label">${t("labels.full_name")}</span>
                            <strong>${l.name}</strong>
                        </div>
                        <div class="info-item">
                            <span class="info-label">${t("booking.schedule.office_hours")}</span>
                            <strong>${jn(new Date,"yyyy-MM-dd HH:mm")}</strong>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Phone</span>
                            <strong>${l.phone}</strong>
                        </div>
                    </div>
                    
                    <div class="notes-section">
                        <h3 style="margin-top: 0; color: #0ea5e9;">${t("dashboard.notes_title")}</h3>
                        ${h||t("dashboard.no_notes")}
                    </div>
                    
                    <div class="footer">
                        <p>${t("dashboard.consultation_saved")}</p>
                    </div>
                    <script>
                        window.onload = () => {
                            window.print();
                            window.onafterprint = () => window.close();
                        };
                    <\/script>
                </body>
            </html>
        `),ee.document.close()},fe=i.find(ee=>ee.status==="calling"),Te=i.find(ee=>ee.status==="pending");return w.jsxs("div",{className:"flex h-screen bg-slate-50",children:[w.jsxs("div",{className:"w-80 bg-white border-r rtl:border-r-0 rtl:border-l border-slate-200 flex flex-col",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-3 rtl:flex-row-reverse",children:[w.jsx("div",{className:"bg-medical-600 p-2 rounded-lg",children:w.jsx(bC,{className:"text-white w-6 h-6"})}),w.jsx("h2",{className:"font-bold text-slate-900 text-lg",children:t("dashboard.sidebar.queue")})]}),w.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-3",children:[i.map(ee=>w.jsxs("div",{onClick:()=>P(ee),className:`p-3 rounded-xl border transition-all cursor-pointer ${l?.id===ee.id?"bg-medical-50 border-medical-200 ring-2 ring-medical-100":"bg-white border-slate-100 hover:border-medical-200"}`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-1 rtl:flex-row-reverse",children:[w.jsxs("span",{className:"text-xs font-bold text-medical-600",children:["#",ee.queueNumber]}),w.jsx("span",{className:`text-[10px] uppercase font-black px-2 py-0.5 rounded-full ${ee.status==="calling"?"bg-orange-100 text-orange-600":ee.status==="completed"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-500"}`,children:t(`live_queue.status.${ee.status}`)})]}),w.jsx("h4",{className:"font-bold text-slate-800 truncate rtl:text-right",children:ee.name}),w.jsx("p",{className:"text-xs text-slate-500 rtl:text-right",children:ee.estimatedTime})]},ee.id)),i.length===0&&w.jsx("p",{className:"text-center text-slate-400 py-10 text-sm",children:t("live_queue.empty")})]}),w.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-4",children:[w.jsx("div",{className:"flex justify-center",children:w.jsx(Zc,{})}),w.jsx("button",{onClick:()=>h0.signOut(),className:"w-full py-2 text-slate-500 hover:text-red-500 text-sm font-medium",children:t("dashboard.sidebar.logout")})]})]}),w.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden",children:[w.jsxs("div",{className:"bg-white border-b border-slate-200 p-6 flex justify-between items-center shadow-sm",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t("dashboard.title")}),w.jsx("p",{className:"text-slate-500 text-sm font-medium",children:jn(new Date,"EEEE, MMMM do",{locale:n})})]}),w.jsxs("button",{onClick:()=>ue(!0),className:"flex items-center gap-2 px-4 py-2 bg-medical-50 text-medical-700 rounded-xl hover:bg-medical-100 transition-all border border-medical-100 font-bold text-sm",children:[w.jsx(U1,{className:"w-4 h-4"}),w.jsx("span",{children:t("dashboard.settings_btn")})]})]}),w.jsxs("div",{className:"flex gap-3",children:[Te&&w.jsxs("button",{onClick:()=>Ye(Te.id,"calling"),className:"btn-primary flex items-center gap-2",children:[w.jsx(Mj,{className:"w-5 h-5"})," ",t("dashboard.call_next")," (#",Te.queueNumber,")"]}),fe&&w.jsxs("button",{onClick:()=>Ye(fe.id,"completed"),className:"btn-secondary flex items-center gap-2",children:[w.jsx(Dd,{className:"w-5 h-5"})," ",t("dashboard.mark_completed")]})]})]}),w.jsx("div",{className:"flex-grow p-8 overflow-y-auto",children:l?w.jsxs(zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto space-y-8",children:[w.jsxs("div",{className:"flex justify-between items-end bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm",children:[w.jsxs("div",{className:"space-y-1 text-left rtl:text-right",children:[w.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:l.name}),w.jsxs("div",{className:"flex items-center gap-4 text-slate-500 font-medium",children:[w.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-100 px-3 py-1 rounded-full text-xs",children:[w.jsx(By,{className:"w-3.5 h-3.5 text-medical-600"})," ",t("live_queue.title").split(" ")[0]," #",l.queueNumber]}),w.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-100 px-3 py-1 rounded-full text-xs",children:[w.jsx(_C,{className:"w-3.5 h-3.5 text-medical-600"})," ",l.phone]})]})]}),w.jsxs("div",{className:"text-right rtl:text-left bg-medical-50 border border-medical-100 p-4 rounded-2xl min-w-[150px]",children:[w.jsx("span",{className:"text-[10px] text-medical-600 uppercase font-black tracking-widest block mb-1",children:t("live_queue.scheduled_for")}),w.jsx("p",{className:"text-2xl font-black text-slate-900 leading-none",children:l.estimatedTime})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[w.jsx("div",{className:"lg:col-span-7 space-y-8",children:w.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm h-full",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("label",{htmlFor:"clinicalNotes",className:"text-lg font-bold text-slate-800 flex items-center gap-3",children:[w.jsx("div",{className:"bg-medical-100 p-2 rounded-xl",children:w.jsx(Fj,{className:"w-5 h-5 text-medical-600"})}),t("dashboard.notes_title")]}),w.jsxs("div",{className:"text-[10px] text-slate-400 font-bold uppercase animate-pulse flex items-center gap-1",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),t("dashboard.autosave")]})]}),w.jsx("textarea",{id:"clinicalNotes",name:"clinicalNotes",rows:18,className:"w-full p-6 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none resize-none bg-slate-50/50 focus:bg-white text-slate-700 font-medium text-base leading-relaxed placeholder:text-slate-300 rtl:text-right",placeholder:t("dashboard.notes_placeholder"),value:h,onChange:ee=>d(ee.target.value)})]})}),w.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[w.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm",children:[w.jsxs("label",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-3",children:[w.jsx("div",{className:"bg-orange-100 p-2 rounded-xl",children:w.jsx(L1,{className:"w-5 h-5 text-orange-600"})}),t("dashboard.records_title")]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("div",{className:"relative flex-grow group",children:[w.jsx(V1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors w-5 h-5 rtl:right-4 rtl:left-auto"}),w.jsx("input",{id:"driveLink",name:"driveLink",type:"url",className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white text-sm",placeholder:t("dashboard.drive_link_placeholder"),value:m,onChange:ee=>y(ee.target.value)})]}),w.jsxs("label",{className:`cursor-pointer flex items-center justify-center w-14 h-14 rounded-2xl border-2 border-dashed border-slate-200 hover:border-medical-500 hover:bg-medical-50 transition-all shrink-0 ${q?"opacity-50 pointer-events-none":""}`,children:[w.jsx(u5,{className:"w-6 h-6 text-slate-400 hover:text-medical-600"}),w.jsx("input",{type:"file",className:"hidden",onChange:Ce,accept:"image/*,.pdf"})]})]}),q&&w.jsxs("div",{className:"bg-medical-50 p-4 rounded-xl border border-medical-100 flex items-center gap-3",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-medical-500 animate-ping"}),w.jsx("span",{className:"text-xs text-medical-600 font-bold uppercase tracking-wider",children:"Uploading to Secure Drive..."})]}),m?w.jsxs("div",{className:"rounded-[1.5rem] overflow-hidden border border-slate-100 bg-slate-100 relative group aspect-video shadow-inner flex items-center justify-center",children:[m.includes("drive.google.com")?w.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-50",children:w.jsx("img",{src:ay(m),className:"max-h-full max-w-full object-contain mx-auto transition-transform group-hover:scale-110 duration-700",alt:"Patient Record Preview",onError:ee=>{ee.target.style.display="none",ee.target.parentElement.innerHTML=`
                                                                        <div class="p-8 text-center bg-white w-full h-full flex flex-col items-center justify-center">
                                                                            <div class="bg-red-50 w-16 h-16 rounded-3xl flex items-center justify-center mb-4">
                                                                                <svg class="w-8 h-8 text-red-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                                            </div>
                                                                            <p class="text-[10px] text-slate-400 font-black uppercase tracking-widest mb-4">PDF Document Detected</p>
                                                                            <a href="${m}" target="_blank" rel="noopener noreferrer" class="bg-slate-900 text-white py-3 px-6 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-lg active:scale-95">Open Record</a>
                                                                        </div>
                                                                    `}})}):w.jsxs("div",{className:"p-8 text-center",children:[w.jsx("p",{className:"text-xs text-slate-400 font-bold",children:"External link provided. No preview available."}),w.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"mt-2 text-medical-600 hover:underline font-bold text-xs inline-block",children:"Open Resource"})]}),w.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-slate-900/80 to-transparent p-6 opacity-0 group-hover:opacity-100 transition-opacity flex justify-between items-center",children:[w.jsx("span",{className:"text-xs text-white font-bold uppercase tracking-wider",children:"Record Preview"}),w.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase hover:bg-white/30 transition-all",children:"Original"})]})]}):w.jsxs("div",{className:"aspect-video bg-slate-50 rounded-[1.5rem] border-2 border-dashed border-slate-100 flex flex-col items-center justify-center text-slate-300",children:[w.jsx(L1,{className:"w-10 h-10 mb-2 opacity-20"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"No Records Linked"})]})]})]}),w.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm space-y-8",children:[w.jsxs("div",{children:[w.jsxs("label",{htmlFor:"nextAppt",className:"text-sm font-bold text-slate-800 mb-4 flex items-center gap-2 rtl:flex-row-reverse rtl:justify-end",children:[w.jsx(ec,{className:"w-4 h-4 text-medical-600"}),t("dashboard.next_app")]}),w.jsxs("div",{className:"relative",children:[w.jsx(ec,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 pointer-events-none rtl:right-4 rtl:left-auto"}),w.jsx("input",{id:"nextAppt",name:"nextAppt",type:"date",className:"w-full pl-12 pr-4 rtl:pr-12 rtl:pl-4 py-4 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none bg-slate-50/50 focus:bg-white font-bold text-slate-700",value:v,onChange:ee=>b(ee.target.value)})]})]}),w.jsxs("div",{className:"pt-8 border-t border-slate-50",children:[w.jsx("h4",{className:"text-sm font-bold text-slate-800 mb-4 uppercase tracking-widest rtl:text-right",children:t("dashboard.quick_actions")}),w.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[w.jsxs("button",{onClick:()=>M(!0),className:"group w-full flex items-center justify-between p-4 rounded-2xl bg-slate-50 hover:bg-medical-600 transition-all duration-300",children:[w.jsxs("div",{className:"flex items-center gap-3 rtl:flex-row-reverse",children:[w.jsx("div",{className:"bg-white p-2 rounded-lg group-hover:bg-medical-500 text-medical-600 group-hover:text-white transition-colors",children:w.jsx($j,{className:"w-5 h-5"})}),w.jsxs("div",{className:"text-left rtl:text-right",children:[w.jsx("span",{className:"block text-xs font-bold text-slate-700 group-hover:text-white",children:t("dashboard.med_history")}),w.jsxs("span",{className:"block text-[10px] text-slate-400 group-hover:text-medical-200 uppercase font-black",children:[S.length," ",t("dashboard.records_found")]})]})]}),w.jsx(k1,{className:"w-5 h-5 text-slate-300 group-hover:text-white rtl:rotate-180"})]}),w.jsxs("button",{onClick:oe,className:"group w-full flex items-center justify-between p-4 rounded-2xl bg-slate-50 hover:bg-slate-900 transition-all duration-300",children:[w.jsxs("div",{className:"flex items-center gap-3 rtl:flex-row-reverse",children:[w.jsx("div",{className:"bg-white p-2 rounded-lg group-hover:bg-slate-800 text-slate-400 group-hover:text-white transition-colors",children:w.jsx(i5,{className:"w-5 h-5"})}),w.jsxs("div",{className:"text-left rtl:text-right",children:[w.jsx("span",{className:"block text-xs font-bold text-slate-700 group-hover:text-white",children:t("dashboard.print_pres")}),w.jsx("span",{className:"block text-[10px] text-slate-400 group-hover:text-slate-500 uppercase font-black",children:t("dashboard.print_hint")})]})]}),w.jsx(k1,{className:"w-5 h-5 text-slate-300 group-hover:text-white rtl:rotate-180"})]})]})]})]})]})]}),w.jsxs("div",{className:"sticky bottom-0 bg-white/80 backdrop-blur-xl p-6 rounded-[2rem] border border-slate-100 shadow-[0_-20px_40px_-15px_rgba(0,0,0,0.05)] flex justify-between items-center z-10",children:[w.jsxs("button",{onClick:()=>k(!0),className:"px-8 py-4 bg-slate-100 text-slate-600 rounded-2xl hover:bg-slate-200 transition-all font-black text-xs uppercase tracking-widest flex items-center gap-2",children:[w.jsx(j1,{className:"w-4 h-4"})," ",t("dashboard.save_draft")]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("button",{onClick:()=>u(null),className:"text-slate-400 font-bold text-xs uppercase tracking-widest hover:text-red-500 transition-colors",children:t("dashboard.exit_session")}),w.jsxs("button",{onClick:J,className:"bg-medical-600 hover:bg-medical-700 text-white px-12 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] shadow-xl shadow-medical-200 transition-all hover:scale-105 active:scale-95 flex items-center gap-3",children:[w.jsx(Dd,{className:"w-5 h-5"})," ",t("dashboard.complete_con")]})]})]})]}):w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[w.jsx(By,{className:"w-16 h-16 mb-4 opacity-20"}),w.jsx("p",{className:"text-lg",children:t("dashboard.no_patient")})]})})]}),w.jsx(tv,{children:L&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:w.jsxs(zr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold text-slate-900 rtl:text-right",children:t("dashboard.med_history")}),w.jsx("p",{className:"text-sm text-slate-500 rtl:text-right",children:l?.name})]}),w.jsx("button",{onClick:()=>M(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:w.jsx(z1,{className:"w-6 h-6 text-slate-400"})})]}),w.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:S.length===0?w.jsx("div",{className:"text-center py-12 text-slate-400",children:t("dashboard.no_history")}):S.map(ee=>w.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 bg-slate-50/50",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3 rtl:flex-row-reverse",children:[w.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[w.jsx(ec,{className:"w-4 h-4 text-medical-600"}),w.jsx("span",{className:"font-bold text-slate-700",children:ee.date})]}),w.jsx("span",{className:"text-[10px] uppercase font-black bg-green-100 text-green-600 px-2 py-0.5 rounded-full",children:t("live_queue.status.completed")})]}),w.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-100 mb-3 text-sm text-slate-600 whitespace-pre-wrap relative rtl:text-right",children:[ee.notes||t("dashboard.no_notes"),ee.nextAppointment&&w.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-50 flex items-center gap-2 text-medical-600 font-bold text-[10px] uppercase rtl:flex-row-reverse",children:[w.jsx(ec,{className:"w-3 h-3"})," ",t("dashboard.next_app"),": ",ee.nextAppointment]})]}),ee.googleDriveLink&&w.jsxs("div",{className:"mt-3",children:[w.jsxs("div",{className:"flex gap-4 mb-2",children:[w.jsxs("a",{href:ee.googleDriveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-bold text-medical-600 hover:underline rtl:flex-row-reverse",children:[w.jsx(V1,{className:"w-3 h-3"})," ",t("dashboard.open_file")]}),w.jsxs("button",{onClick:()=>F(z===ee.id?null:ee.id),className:"text-xs font-bold text-slate-500 hover:text-medical-600 flex items-center gap-1 rtl:flex-row-reverse",children:[w.jsx(zj,{className:"w-3 h-3"})," ",z===ee.id?t("dashboard.hide_preview"):t("dashboard.show_preview")]})]}),z===ee.id&&ee.googleDriveLink.includes("drive.google.com")&&w.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden min-h-[150px] bg-white shadow-inner flex items-center justify-center",children:[w.jsx("img",{src:ay(ee.googleDriveLink),className:"max-h-[300px] w-auto object-contain",alt:"History Record",onError:D=>{D.target.style.display="none",D.target.nextSibling.style.display="block"}}),w.jsx("iframe",{src:ay(ee.googleDriveLink,!0),className:"w-full h-[300px] hidden",title:"History PDF Preview"})]})]})]},ee.id))})]})})}),w.jsx(tv,{children:ie&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:w.jsxs(zr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-medical-600 text-white",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(U1,{className:"w-5 h-5"}),w.jsx("h3",{className:"text-xl font-bold",children:t("dashboard.settings_btn")})]}),w.jsx("button",{onClick:()=>ue(!1),className:"p-2 hover:bg-medical-700 rounded-full transition-colors",children:w.jsx(z1,{className:"w-6 h-6 text-white"})})]}),w.jsxs("form",{onSubmit:O,className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[w.jsxs("div",{className:"text-left rtl:text-right",children:[w.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:t("dashboard.patients_hour")}),w.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:60/C.intervalMinutes,onChange:ee=>A({...C,intervalMinutes:60/parseInt(ee.target.value)}),children:[w.jsxs("option",{value:"2",children:["2 (",t("booking.status.minutes").split(" ")[0]," 30)"]}),w.jsxs("option",{value:"3",children:["3 (",t("booking.status.minutes").split(" ")[0]," 20)"]}),w.jsxs("option",{value:"4",children:["4 (",t("booking.status.minutes").split(" ")[0]," 15)"]}),w.jsxs("option",{value:"6",children:["6 (",t("booking.status.minutes").split(" ")[0]," 10)"]}),w.jsxs("option",{value:"12",children:["12 (",t("booking.status.minutes").split(" ")[0]," 5)"]})]})]}),w.jsxs("div",{className:"text-left rtl:text-right",children:[w.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:t("dashboard.daily_cap")}),w.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:C.dailyLimit,onChange:ee=>A({...C,dailyLimit:parseInt(ee.target.value)})})]})]}),w.jsxs("div",{className:"space-y-3 text-left rtl:text-right",children:[w.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase",children:t("dashboard.weekly_schedule")}),Object.entries(C.dailySchedules).map(([ee,D])=>w.jsxs("div",{className:`p-3 rounded-xl border transition-all flex items-center gap-4 ${D.isOpen?"bg-white border-slate-200 shadow-sm":"bg-slate-50 border-slate-100 opacity-60"}`,children:[w.jsx("button",{type:"button",onClick:()=>{const Q={...C.dailySchedules};Q[ee].isOpen=!Q[ee].isOpen,A({...C,dailySchedules:Q})},className:`w-12 h-6 rounded-full relative transition-colors ${D.isOpen?"bg-medical-500":"bg-slate-300"}`,children:w.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${D.isOpen?"right-1":"left-1"}`})}),w.jsx("span",{className:"font-bold text-slate-700 w-20 rtl:text-right",children:t(`days.${ee.toLowerCase()}`)}),D.isOpen?w.jsxs("div",{className:"flex-grow flex items-center gap-2 rtl:flex-row-reverse",children:[w.jsx("input",{type:"time",className:"flex-1 px-2 py-1 border border-slate-200 rounded text-xs outline-none",value:D.startTime,onChange:Q=>{const le={...C.dailySchedules};le[ee].startTime=Q.target.value,A({...C,dailySchedules:le})}}),w.jsx("span",{className:"text-slate-400",children:t("dashboard.to")}),w.jsx("input",{type:"time",className:"flex-1 px-2 py-1 border border-slate-200 rounded text-xs outline-none",value:D.endTime,onChange:Q=>{const le={...C.dailySchedules};le[ee].endTime=Q.target.value,A({...C,dailySchedules:le})}})]}):w.jsx("span",{className:"text-slate-400 text-xs italic",children:t("booking.schedule.closed")})]},ee))]}),w.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 text-left rtl:text-right",children:[w.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase flex items-center gap-2 rtl:flex-row-reverse rtl:justify-end",children:[w.jsx(f0,{className:"w-3 h-3"})," ",t("dashboard.clinic_info")]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:t("booking.schedule.location")}),w.jsxs("div",{className:"relative",children:[w.jsx(yC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 rtl:right-3 rtl:left-auto"}),w.jsx("input",{type:"text",placeholder:"Street Name, Building, Floor...",className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-2 border border-slate-200 rounded-lg text-sm transition-all focus:ring-2 focus:ring-medical-500 outline-none",value:C.clinicAddress,onChange:ee=>A({...C,clinicAddress:ee.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase",children:t("booking.schedule.phone")}),w.jsxs("div",{className:"relative",children:[w.jsx(vC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 rtl:right-3 rtl:left-auto"}),w.jsx("input",{type:"text",placeholder:"+20 1xx xxx xxxx",className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-2 border border-slate-200 rounded-lg text-sm transition-all focus:ring-2 focus:ring-medical-500 outline-none",value:C.clinicPhone,onChange:ee=>A({...C,clinicPhone:ee.target.value})})]})]}),w.jsxs("div",{className:"text-left rtl:text-right",children:[w.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase flex items-center justify-between rtl:flex-row-reverse",children:[w.jsx("span",{children:t("dashboard.map_link")}),w.jsx("a",{href:"https://www.google.com/maps",target:"_blank",rel:"noreferrer",className:"text-medical-600 hover:underline lowercase font-normal italic",children:t("dashboard.get_link")})]}),w.jsx("textarea",{placeholder:t("dashboard.map_placeholder"),rows:2,className:"w-full px-4 py-2 border border-slate-200 rounded-lg text-xs transition-all focus:ring-2 focus:ring-medical-500 outline-none resize-none rtl:text-right",value:C.mapIframeUrl,onChange:ee=>{let D=ee.target.value;D.includes('src="')&&(D=D.split('src="')[1].split('"')[0]),A({...C,mapIframeUrl:D})}}),w.jsx("p",{className:"text-[9px] text-slate-400 mt-1",children:t("dashboard.map_hint")})]})]}),w.jsxs("div",{className:"pt-4 border-t border-slate-100 flex gap-3 rtl:flex-row-reverse",children:[w.jsx("button",{type:"button",onClick:()=>ue(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl font-bold hover:bg-slate-200",children:t("labels.cancel")}),w.jsxs("button",{type:"submit",className:"flex-1 py-3 bg-medical-600 text-white rounded-xl font-bold hover:bg-medical-700 shadow-lg shadow-medical-200 flex items-center justify-center gap-2",children:[w.jsx(j1,{className:"w-4 h-4"})," ",t("labels.save")]})]})]})]})})})]})},MF=()=>{const{t}=Rl(),[e,n]=V.useState(""),[i,a]=V.useState(""),[l,u]=V.useState(""),[h,d]=V.useState(!1),m=Oc(),y=async v=>{v.preventDefault(),d(!0),u("");try{await TV(h0,e,i),m("/dashboard")}catch(b){u("Invalid email or password. Please try again."),console.error(b)}d(!1)};return w.jsxs("div",{className:"min-h-screen bg-medical-50 flex flex-col justify-center py-12 px-6",children:[w.jsx("div",{className:"absolute top-10 right-10 z-10",children:w.jsx(Zc,{})}),w.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx(zy,{className:"text-medical-600 w-12 h-12"})}),w.jsx("h2",{className:"text-center text-3xl font-extrabold text-slate-900",children:t("login.title")}),w.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:t("login.subtitle")})]}),w.jsx(zr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:w.jsxs("div",{className:"medical-card",children:[w.jsxs("form",{className:"space-y-6",onSubmit:y,children:[l&&w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center gap-3 text-sm",children:[w.jsx(Dj,{className:"w-5 h-5 flex-shrink-0"}),l]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"loginEmail",className:"block text-sm font-medium text-slate-700 mb-1 rtl:text-right",children:t("login.email_label")}),w.jsxs("div",{className:"relative",children:[w.jsx(Jj,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 rtl:right-3 rtl:left-auto"}),w.jsx("input",{id:"loginEmail",name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"doctor@example.com",value:e,onChange:v=>n(v.target.value)})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"loginPassword",className:"block text-sm font-medium text-slate-700 mb-1 rtl:text-right",children:t("login.pass_label")}),w.jsxs("div",{className:"relative",children:[w.jsx(Wj,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 rtl:right-3 rtl:left-auto"}),w.jsx("input",{id:"loginPassword",name:"password",type:"password",required:!0,className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"",value:i,onChange:v=>a(v.target.value)})]})]}),w.jsx("button",{type:"submit",disabled:h,className:"w-full btn-primary py-3 text-lg",children:t(h?"login.signing_in":"login.sign_in")})]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsx("p",{className:"text-xs text-slate-500",children:t("login.note")})})]})})]})},kF=({children:t,doctorOnly:e=!1})=>{const{currentUser:n,isDoctor:i}=vj();return n?e&&!i?w.jsx(WE,{to:"/"}):t:w.jsx(WE,{to:"/login"})};function VF(){return w.jsx(_j,{children:w.jsx(DP,{children:w.jsx("div",{className:"min-h-screen bg-slate-50",children:w.jsxs(oP,{children:[w.jsx(Zo,{path:"/",element:w.jsx(Gz,{})}),w.jsx(Zo,{path:"/booking",element:w.jsx(CF,{})}),w.jsx(Zo,{path:"/live-queue",element:w.jsx(NF,{})}),w.jsx(Zo,{path:"/login",element:w.jsx(MF,{})}),w.jsx(Zo,{path:"/dashboard",element:w.jsx(kF,{doctorOnly:!0,children:w.jsx(PF,{})})})]})})})})}$I.createRoot(document.getElementById("root")).render(w.jsx(V.StrictMode,{children:w.jsx(VF,{})}));

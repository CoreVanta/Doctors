(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Wp={exports:{}},Mu={};var UE;function SI(){if(UE)return Mu;UE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Mu.Fragment=t,Mu.jsx=n,Mu.jsxs=n,Mu}var jE;function AI(){return jE||(jE=1,Wp.exports=SI()),Wp.exports}var S=AI(),Jp={exports:{}},xt={};var BE;function xI(){if(BE)return xt;BE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,P={};function q(k,tt,ct){this.props=k,this.context=tt,this.refs=P,this.updater=ct||D}q.prototype.isReactComponent={},q.prototype.setState=function(k,tt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,tt,"setState")},q.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=q.prototype;function Y(k,tt,ct){this.props=k,this.context=tt,this.refs=P,this.updater=ct||D}var rt=Y.prototype=new $;rt.constructor=Y,B(rt,q.prototype),rt.isPureReactComponent=!0;var at=Array.isArray;function ot(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(k,tt,ct){var ft=ct.ref;return{$$typeof:e,type:k,key:tt,ref:ft!==void 0?ft:null,props:ct}}function L(k,tt){return I(k.type,tt,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function F(k){var tt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ct){return tt[ct]})}var N=/\/+/g;function Yt(k,tt){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):tt.toString(36)}function se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ot,ot):(k.status="pending",k.then(function(tt){k.status==="pending"&&(k.status="fulfilled",k.value=tt)},function(tt){k.status==="pending"&&(k.status="rejected",k.reason=tt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function U(k,tt,ct,ft,St){var Dt=typeof k;(Dt==="undefined"||Dt==="boolean")&&(k=null);var Bt=!1;if(k===null)Bt=!0;else switch(Dt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(k.$$typeof){case e:case t:Bt=!0;break;case y:return Bt=k._init,U(Bt(k._payload),tt,ct,ft,St)}}if(Bt)return St=St(k),Bt=ft===""?"."+Yt(k,0):ft,at(St)?(ct="",Bt!=null&&(ct=Bt.replace(N,"$&/")+"/"),U(St,tt,ct,"",function(Jr){return Jr})):St!=null&&(V(St)&&(St=L(St,ct+(St.key==null||k&&k.key===St.key?"":(""+St.key).replace(N,"$&/")+"/")+Bt)),tt.push(St)),1;Bt=0;var Ue=ft===""?".":ft+":";if(at(k))for(var le=0;le<k.length;le++)ft=k[le],Dt=Ue+Yt(ft,le),Bt+=U(ft,tt,ct,Dt,St);else if(le=R(k),typeof le=="function")for(k=le.call(k),le=0;!(ft=k.next()).done;)ft=ft.value,Dt=Ue+Yt(ft,le++),Bt+=U(ft,tt,ct,Dt,St);else if(Dt==="object"){if(typeof k.then=="function")return U(se(k),tt,ct,ft,St);throw tt=String(k),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function J(k,tt,ct){if(k==null)return k;var ft=[],St=0;return U(k,ft,"","",function(Dt){return tt.call(ct,Dt,St++)}),ft}function lt(k){if(k._status===-1){var tt=k._result;tt=tt(),tt.then(function(ct){(k._status===0||k._status===-1)&&(k._status=1,k._result=ct)},function(ct){(k._status===0||k._status===-1)&&(k._status=2,k._result=ct)}),k._status===-1&&(k._status=0,k._result=tt)}if(k._status===1)return k._result.default;throw k._result}var gt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},_t={map:J,forEach:function(k,tt,ct){J(k,function(){tt.apply(this,arguments)},ct)},count:function(k){var tt=0;return J(k,function(){tt++}),tt},toArray:function(k){return J(k,function(tt){return tt})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xt.Activity=_,xt.Children=_t,xt.Component=q,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=Y,xt.StrictMode=s,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},xt.cache=function(k){return function(){return k.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(k,tt,ct){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ft=B({},k.props),St=k.key;if(tt!=null)for(Dt in tt.key!==void 0&&(St=""+tt.key),tt)!x.call(tt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&tt.ref===void 0||(ft[Dt]=tt[Dt]);var Dt=arguments.length-2;if(Dt===1)ft.children=ct;else if(1<Dt){for(var Bt=Array(Dt),Ue=0;Ue<Dt;Ue++)Bt[Ue]=arguments[Ue+2];ft.children=Bt}return I(k.type,St,ft)},xt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},xt.createElement=function(k,tt,ct){var ft,St={},Dt=null;if(tt!=null)for(ft in tt.key!==void 0&&(Dt=""+tt.key),tt)x.call(tt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(St[ft]=tt[ft]);var Bt=arguments.length-2;if(Bt===1)St.children=ct;else if(1<Bt){for(var Ue=Array(Bt),le=0;le<Bt;le++)Ue[le]=arguments[le+2];St.children=Ue}if(k&&k.defaultProps)for(ft in Bt=k.defaultProps,Bt)St[ft]===void 0&&(St[ft]=Bt[ft]);return I(k,Dt,St)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(k){return{$$typeof:f,render:k}},xt.isValidElement=V,xt.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:lt}},xt.memo=function(k,tt){return{$$typeof:p,type:k,compare:tt===void 0?null:tt}},xt.startTransition=function(k){var tt=C.T,ct={};C.T=ct;try{var ft=k(),St=C.S;St!==null&&St(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ot,gt)}catch(Dt){gt(Dt)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),C.T=tt}},xt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xt.use=function(k){return C.H.use(k)},xt.useActionState=function(k,tt,ct){return C.H.useActionState(k,tt,ct)},xt.useCallback=function(k,tt){return C.H.useCallback(k,tt)},xt.useContext=function(k){return C.H.useContext(k)},xt.useDebugValue=function(){},xt.useDeferredValue=function(k,tt){return C.H.useDeferredValue(k,tt)},xt.useEffect=function(k,tt){return C.H.useEffect(k,tt)},xt.useEffectEvent=function(k){return C.H.useEffectEvent(k)},xt.useId=function(){return C.H.useId()},xt.useImperativeHandle=function(k,tt,ct){return C.H.useImperativeHandle(k,tt,ct)},xt.useInsertionEffect=function(k,tt){return C.H.useInsertionEffect(k,tt)},xt.useLayoutEffect=function(k,tt){return C.H.useLayoutEffect(k,tt)},xt.useMemo=function(k,tt){return C.H.useMemo(k,tt)},xt.useOptimistic=function(k,tt){return C.H.useOptimistic(k,tt)},xt.useReducer=function(k,tt,ct){return C.H.useReducer(k,tt,ct)},xt.useRef=function(k){return C.H.useRef(k)},xt.useState=function(k){return C.H.useState(k)},xt.useSyncExternalStore=function(k,tt,ct){return C.H.useSyncExternalStore(k,tt,ct)},xt.useTransition=function(){return C.H.useTransition()},xt.version="19.2.3",xt}var zE;function Ly(){return zE||(zE=1,Jp.exports=xI()),Jp.exports}var O=Ly(),Zp={exports:{}},Ou={},tg={exports:{}},eg={};var FE;function RI(){return FE||(FE=1,(function(e){function t(U,J){var lt=U.length;U.push(J);t:for(;0<lt;){var gt=lt-1>>>1,_t=U[gt];if(0<a(_t,J))U[gt]=J,U[lt]=_t,lt=gt;else break t}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var J=U[0],lt=U.pop();if(lt!==J){U[0]=lt;t:for(var gt=0,_t=U.length,k=_t>>>1;gt<k;){var tt=2*(gt+1)-1,ct=U[tt],ft=tt+1,St=U[ft];if(0>a(ct,lt))ft<_t&&0>a(St,ct)?(U[gt]=St,U[ft]=lt,gt=ft):(U[gt]=ct,U[tt]=lt,gt=tt);else if(ft<_t&&0>a(St,lt))U[gt]=St,U[ft]=lt,gt=ft;else break t}}return J}function a(U,J){var lt=U.sortIndex-J.sortIndex;return lt!==0?lt:U.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,b=3,R=!1,D=!1,B=!1,P=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function rt(U){for(var J=n(p);J!==null;){if(J.callback===null)s(p);else if(J.startTime<=U)s(p),J.sortIndex=J.expirationTime,t(m,J);else break;J=n(p)}}function at(U){if(B=!1,rt(U),!D)if(n(m)!==null)D=!0,ot||(ot=!0,F());else{var J=n(p);J!==null&&se(at,J.startTime-U)}}var ot=!1,C=-1,x=5,I=-1;function L(){return P?!0:!(e.unstable_now()-I<x)}function V(){if(P=!1,ot){var U=e.unstable_now();I=U;var J=!0;try{t:{D=!1,B&&(B=!1,$(C),C=-1),R=!0;var lt=b;try{e:{for(rt(U),_=n(m);_!==null&&!(_.expirationTime>U&&L());){var gt=_.callback;if(typeof gt=="function"){_.callback=null,b=_.priorityLevel;var _t=gt(_.expirationTime<=U);if(U=e.unstable_now(),typeof _t=="function"){_.callback=_t,rt(U),J=!0;break e}_===n(m)&&s(m),rt(U)}else s(m);_=n(m)}if(_!==null)J=!0;else{var k=n(p);k!==null&&se(at,k.startTime-U),J=!1}}break t}finally{_=null,b=lt,R=!1}J=void 0}}finally{J?F():ot=!1}}}var F;if(typeof Y=="function")F=function(){Y(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Yt=N.port2;N.port1.onmessage=V,F=function(){Yt.postMessage(null)}}else F=function(){q(V,0)};function se(U,J){C=q(function(){U(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(U){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var lt=b;b=J;try{return U()}finally{b=lt}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var lt=b;b=U;try{return J()}finally{b=lt}},e.unstable_scheduleCallback=function(U,J,lt){var gt=e.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?gt+lt:gt):lt=gt,U){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=lt+_t,U={id:y++,callback:J,priorityLevel:U,startTime:lt,expirationTime:_t,sortIndex:-1},lt>gt?(U.sortIndex=lt,t(p,U),n(m)===null&&U===n(p)&&(B?($(C),C=-1):B=!0,se(at,lt-gt))):(U.sortIndex=_t,t(m,U),D||R||(D=!0,ot||(ot=!0,F()))),U},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(U){var J=b;return function(){var lt=b;b=J;try{return U.apply(this,arguments)}finally{b=lt}}}})(eg)),eg}var qE;function CI(){return qE||(qE=1,tg.exports=RI()),tg.exports}var ng={exports:{}},an={};var HE;function II(){if(HE)return an;HE=1;var e=Ly();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.3",an}var GE;function DI(){if(GE)return ng.exports;GE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ng.exports=II(),ng.exports}var YE;function NI(){if(YE)return Ou;YE=1;var e=CI(),t=Ly(),n=DI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,w=d.child;w;){if(w===o){T=!0,o=d,u=g;break}if(w===u){T=!0,u=d,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=d;break}if(w===u){T=!0,u=g,o=d;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Yt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case q:return"Profiler";case P:return"StrictMode";case at:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case Y:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case rt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Yt(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return Yt(i(r))}catch{}}return null}var se=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},gt=[],_t=-1;function k(i){return{current:i}}function tt(i){0>_t||(i.current=gt[_t],gt[_t]=null,_t--)}function ct(i,r){_t++,gt[_t]=i.current,i.current=r}var ft=k(null),St=k(null),Dt=k(null),Bt=k(null);function Ue(i,r){switch(ct(Dt,r),ct(St,i),ct(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?oE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=oE(r),i=lE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}tt(ft),ct(ft,i)}function le(){tt(ft),tt(St),tt(Dt)}function Jr(i){i.memoizedState!==null&&ct(Bt,i);var r=ft.current,o=lE(r,i.type);r!==o&&(ct(St,i),ct(ft,o))}function Wa(i){St.current===i&&(tt(ft),tt(St)),Bt.current===i&&(tt(Bt),Cu._currentValue=lt)}var Ja,Za;function Ai(i){if(Ja===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ja=r&&r[1]||"",Za=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+i+Za}var Cl=!1;function Zr(i,r){if(!i||Cl)return"";Cl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var Q=W}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(W){Q=W}i.call(nt.prototype)}}else{try{throw Error()}catch(W){Q=W}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var M=T.split(`
`),K=w.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===K.length)for(u=M.length-1,d=K.length-1;1<=u&&0<=d&&M[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==K[d]){var Z=`
`+M[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Cl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ai(o):""}function Il(i,r){switch(i.tag){case 26:case 27:case 5:return Ai(i.type);case 16:return Ai("Lazy");case 13:return i.child!==r&&r!==null?Ai("Suspense Fallback"):Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Zr(i.type,!1);case 11:return Zr(i.type.render,!1);case 1:return Zr(i.type,!0);case 31:return Ai("Activity");default:return""}}function Dl(i){try{var r="",o=null;do r+=Il(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ae=Object.prototype.hasOwnProperty,je=e.unstable_scheduleCallback,js=e.unstable_cancelCallback,Zd=e.unstable_shouldYield,Uc=e.unstable_requestPaint,fn=e.unstable_now,ta=e.unstable_getCurrentPriorityLevel,Nl=e.unstable_ImmediatePriority,Ml=e.unstable_UserBlockingPriority,Bs=e.unstable_NormalPriority,tm=e.unstable_LowPriority,jc=e.unstable_IdlePriority,Bc=e.log,zc=e.unstable_setDisableYieldValue,si=null,Xe=null;function jn(i){if(typeof Bc=="function"&&zc(i),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(si,i)}catch{}}var Te=Math.clz32?Math.clz32:qc,Fc=Math.log,to=Math.LN2;function qc(i){return i>>>=0,i===0?32:31-(Fc(i)/to|0)|0}var xi=256,ea=262144,xe=4194304;function Ri(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ci(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=Ri(u):(T&=w,T!==0?d=Ri(T):o||(o=w&~i,o!==0&&(d=Ri(o))))):(w=u&~g,w!==0?d=Ri(w):T!==0?d=Ri(T):o||(o=u&~i,o!==0&&(d=Ri(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function ri(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function em(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var i=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),i}function Ii(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function na(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nm(i,r,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,M=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-Te(o),nt=1<<Z;w[Z]=0,M[Z]=-1;var Q=K[Z];if(Q!==null)for(K[Z]=null,Z=0;Z<Q.length;Z++){var W=Q[Z];W!==null&&(W.lane&=-536870913)}o&=~nt}u!==0&&ia(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function ia(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Te(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Ol(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Te(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Pl(i,r){var o=r&-r;return o=(o&42)!==0?1:sa(o),(o&(i.suspendedLanes|r))!==0?0:o}function sa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function os(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gc(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:NE(i.type))}function ai(i,r){var o=J.p;try{return J.p=i,r()}finally{J.p=o}}var oi=Math.random().toString(36).slice(2),Re="__reactFiber$"+oi,He="__reactProps$"+oi,Di="__reactContainer$"+oi,eo="__reactEvents$"+oi,im="__reactListeners$"+oi,Yc="__reactHandles$"+oi,Kc="__reactResources$"+oi,Ni="__reactMarker$"+oi;function no(i){delete i[Re],delete i[He],delete i[eo],delete i[im],delete i[Yc]}function Mi(i){var r=i[Re];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Di]||o[Re]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=pE(i);i!==null;){if(o=i[Re])return o;i=pE(i)}return r}i=o,o=i.parentNode}return null}function Bn(i){if(i=i[Re]||i[Di]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Rn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Oi(i){var r=i[Kc];return r||(r=i[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(i){i[Ni]=!0}var Vl=new Set,kl={};function Pi(i,r){Vi(i,r),Vi(i+"Capture",r)}function Vi(i,r){for(kl[i]=r,i=0;i<r.length;i++)Vl.add(r[i])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},jl={};function $c(i){return Ae.call(jl,i)?!0:Ae.call(Ul,i)?!1:Ll.test(i)?jl[i]=!0:(Ul[i]=!0,!1)}function io(i,r,o){if($c(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Cn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ie(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Ge(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $t(i){if(!i._valueTracker){var r=zs(i)?"checked":"value";i._valueTracker=Bl(i,r,""+i[r])}}function ra(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=zs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var aa=/[\n"\\]/g;function gn(i){return i.replace(aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function so(i,r,o,u,d,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ge(r)):i.value!==""+Ge(r)&&(i.value=""+Ge(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?zl(i,T,Ge(r)):o!=null?zl(i,T,Ge(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Ge(w):i.removeAttribute("name")}function Qc(i,r,o,u,d,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){$t(i);return}o=o!=null?""+Ge(o):"",r=r!=null?""+Ge(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),$t(i)}function zl(i,r,o){r==="number"&&ki(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fs(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ge(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xc(i,r,o){if(r!=null&&(r=""+Ge(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ge(o):""}function qs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(se(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ge(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),$t(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Wc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ql(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Fl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Fl(i,g,r[g])}function ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(i){return Hs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function li(){}var Hl=null;function zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gs=null,Li=null;function oa(i){var r=Bn(i);if(r&&(i=r.stateNode)){var o=i[He]||null;t:switch(i=r.stateNode,r.type){case"input":if(so(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[He]||null;if(!d)throw Error(s(90));so(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ra(u)}break t;case"textarea":Xc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Fs(i,!!o.multiple,r,!1)}}}var oo=!1;function Ys(i,r,o){if(oo)return i(r,o);oo=!0;try{var u=i(r);return u}finally{if(oo=!1,(Gs!==null||Li!==null)&&(Gh(),Gs&&(r=Gs,i=Li,Li=Gs=null,oa(r),i)))for(r=0;r<i.length;r++)oa(i[r])}}function ui(i,r){var o=i.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(Fn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){la=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{la=!1}var Ui=null,Gl=null,ua=null;function Yl(){if(ua)return ua;var i,r=Gl,o=r.length,u,d="value"in Ui?Ui.value:Ui.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[g-u];u++);return ua=d.slice(i,1<u?1-u:void 0)}function ca(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ls(){return!0}function ci(){return!1}function We(i){function r(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ls:ci,this.isPropagationStopped=ci,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),r}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=We(us),Ks=_({},us,{view:0,detail:0}),Kl=We(Ks),$s,lo,Bi,uo=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bi&&(Bi&&i.type==="mousemove"?($s=i.screenX-Bi.screenX,lo=i.screenY-Bi.screenY):lo=$s=0,Bi=i),$s)},movementY:function(i){return"movementY"in i?i.movementY:lo}}),$l=We(uo),ha=_({},uo,{dataTransfer:0}),Zc=We(ha),th=_({},Ks,{relatedTarget:0}),fa=We(th),Ql=_({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=We(Ql),co=_({},us,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nh=We(co),ih=_({},us,{data:0}),zi=We(ih),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ah[i])?!!r[i]:!1}function Qs(){return oh}var dn=_({},Ks,{key:function(i){if(i.key){var r=sh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lh=We(dn),uh=_({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=We(uh),h=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),v=We(h),E=_({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=We(E),H=_({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=We(H),ut=_({},us,{newState:0,oldState:0}),Ct=We(ut),Ee=[9,13,27,32],Ht=Fn&&"CompositionEvent"in window,ue=null;Fn&&"documentMode"in document&&(ue=document.documentMode);var qn=Fn&&"TextEvent"in window&&!ue,Fi=Fn&&(!Ht||ue&&8<ue&&11>=ue),hi=" ",fi=!1;function da(i,r){switch(i){case"keyup":return Ee.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function $C(i,r){switch(i){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(fi=!0,hi);case"textInput":return i=r.data,i===hi&&fi?null:i;default:return null}}function QC(i,r){if(fo)return i==="compositionend"||!Ht&&da(i,r)?(i=Yl(),ua=Gl=Ui=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Fi&&r.locale!=="ko"?null:r.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!XC[i.type]:r==="textarea"}function __(i,r,o,u){Gs?Li?Li.push(u):Li=[u]:Gs=u,r=Jh(r,"onChange"),0<r.length&&(o=new ji("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Xl=null,Wl=null;function WC(i){eE(i,0)}function ch(i){var r=Rn(i);if(ra(r))return i}function T_(i,r){if(i==="change")return r}var E_=!1;if(Fn){var sm;if(Fn){var rm="oninput"in document;if(!rm){var b_=document.createElement("div");b_.setAttribute("oninput","return;"),rm=typeof b_.oninput=="function"}sm=rm}else sm=!1;E_=sm&&(!document.documentMode||9<document.documentMode)}function w_(){Xl&&(Xl.detachEvent("onpropertychange",S_),Wl=Xl=null)}function S_(i){if(i.propertyName==="value"&&ch(Wl)){var r=[];__(r,Wl,i,zn(i)),Ys(WC,r)}}function JC(i,r,o){i==="focusin"?(w_(),Xl=r,Wl=o,Xl.attachEvent("onpropertychange",S_)):i==="focusout"&&w_()}function ZC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ch(Wl)}function t2(i,r){if(i==="click")return ch(r)}function e2(i,r){if(i==="input"||i==="change")return ch(r)}function n2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var In=typeof Object.is=="function"?Object.is:n2;function Jl(i,r){if(In(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Ae.call(r,d)||!In(i[d],r[d]))return!1}return!0}function A_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function x_(i,r){var o=A_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=A_(o)}}function R_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?R_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function C_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ki(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ki(i.document)}return r}function am(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var i2=Fn&&"documentMode"in document&&11>=document.documentMode,mo=null,om=null,Zl=null,lm=!1;function I_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lm||mo==null||mo!==ki(u)||(u=mo,"selectionStart"in u&&am(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Jl(Zl,u)||(Zl=u,u=Jh(om,"onSelect"),0<u.length&&(r=new ji("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=mo)))}function ma(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var po={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},um={},D_={};Fn&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function pa(i){if(um[i])return um[i];if(!po[i])return i;var r=po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in D_)return um[i]=r[o];return i}var N_=pa("animationend"),M_=pa("animationiteration"),O_=pa("animationstart"),s2=pa("transitionrun"),r2=pa("transitionstart"),a2=pa("transitioncancel"),P_=pa("transitionend"),V_=new Map,cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cm.push("scrollEnd");function di(i,r){V_.set(i,r),Pi(r,[i])}var hh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Hn=[],go=0,hm=0;function fh(){for(var i=go,r=hm=go=0;r<i;){var o=Hn[r];Hn[r++]=null;var u=Hn[r];Hn[r++]=null;var d=Hn[r];Hn[r++]=null;var g=Hn[r];if(Hn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&k_(o,d,g)}}function dh(i,r,o,u){Hn[go++]=i,Hn[go++]=r,Hn[go++]=o,Hn[go++]=u,hm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function fm(i,r,o,u){return dh(i,r,o,u),mh(i)}function ga(i,r){return dh(i,null,null,r),mh(i)}function k_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Te(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function mh(i){if(50<Eu)throw Eu=0,Ep=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yo={};function o2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,u){return new o2(i,r,o,u)}function dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hs(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function L_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ph(i,r,o,u,d,g){var T=0;if(u=i,typeof i=="function")dm(i)&&(T=1);else if(typeof i=="string")T=fI(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Dn(31,o,r,d),i.elementType=I,i.lanes=g,i;case B:return ya(o.children,d,g,r);case P:T=8,d|=24;break;case q:return i=Dn(12,o,r,d|2),i.elementType=q,i.lanes=g,i;case at:return i=Dn(13,o,r,d),i.elementType=at,i.lanes=g,i;case ot:return i=Dn(19,o,r,d),i.elementType=ot,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:T=10;break t;case $:T=9;break t;case rt:T=11;break t;case C:T=14;break t;case x:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Dn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function ya(i,r,o,u){return i=Dn(7,i,u,r),i.lanes=o,i}function mm(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function U_(i){var r=Dn(18,null,null,0);return r.stateNode=i,r}function pm(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var j_=new WeakMap;function Gn(i,r){if(typeof i=="object"&&i!==null){var o=j_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Dl(r)},j_.set(i,r),r)}return{value:i,source:r,stack:Dl(r)}}var vo=[],_o=0,gh=null,tu=0,Yn=[],Kn=0,Xs=null,qi=1,Hi="";function fs(i,r){vo[_o++]=tu,vo[_o++]=gh,gh=i,tu=r}function B_(i,r,o){Yn[Kn++]=qi,Yn[Kn++]=Hi,Yn[Kn++]=Xs,Xs=i;var u=qi;i=Hi;var d=32-Te(u)-1;u&=~(1<<d),o+=1;var g=32-Te(r)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,qi=1<<32-Te(r)+d|o<<d|u,Hi=g+i}else qi=1<<g|o<<d|u,Hi=i}function gm(i){i.return!==null&&(fs(i,1),B_(i,1,0))}function ym(i){for(;i===gh;)gh=vo[--_o],vo[_o]=null,tu=vo[--_o],vo[_o]=null;for(;i===Xs;)Xs=Yn[--Kn],Yn[Kn]=null,Hi=Yn[--Kn],Yn[Kn]=null,qi=Yn[--Kn],Yn[Kn]=null}function z_(i,r){Yn[Kn++]=qi,Yn[Kn++]=Hi,Yn[Kn++]=Xs,qi=r.id,Hi=r.overflow,Xs=i}var Je=null,ae=null,jt=!1,Ws=null,$n=!1,vm=Error(s(519));function Js(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eu(Gn(r,i)),vm}function F_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Re]=i,r[He]=u,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<wu.length;o++)Ot(wu[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Qc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),qs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||rE(r.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=li),r=!0):r=!1,r||Js(i,!0)}function q_(i){for(Je=i.return;Je;)switch(Je.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Je=Je.return}}function To(i){if(i!==Je)return!1;if(!jt)return q_(i),jt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||kp(i.type,i.memoizedProps)),o=!o),o&&ae&&Js(i),q_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=mE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=mE(i)}else r===27?(r=ae,fr(i.type)?(i=zp,zp=null,ae=i):ae=r):ae=Je?Xn(i.stateNode.nextSibling):null;return!0}function va(){ae=Je=null,jt=!1}function _m(){var i=Ws;return i!==null&&(En===null?En=i:En.push.apply(En,i),Ws=null),i}function eu(i){Ws===null?Ws=[i]:Ws.push(i)}var Tm=k(null),_a=null,ds=null;function Zs(i,r,o){ct(Tm,r._currentValue),r._currentValue=o}function ms(i){i._currentValue=Tm.current,tt(Tm)}function Em(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function bm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var M=0;M<r.length;M++)if(w.context===r[M]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Em(g.return,o,i),u||(T=null);break t}g=w.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Em(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Eo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=d.type;In(d.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(d===Bt.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Cu):i=[Cu])}d=d.return}i!==null&&bm(r,i,o,u),r.flags|=262144}function yh(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){_a=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ze(i){return H_(_a,i)}function vh(i,r){return _a===null&&Ta(i),H_(i,r)}function H_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ds===null){if(i===null)throw Error(s(308));ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ds=ds.next=r;return o}var l2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},u2=e.unstable_scheduleCallback,c2=e.unstable_NormalPriority,De={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wm(){return{controller:new l2,data:new Map,refCount:0}}function nu(i){i.refCount--,i.refCount===0&&u2(c2,function(){i.controller.abort()})}var iu=null,Sm=0,bo=0,wo=null;function h2(i,r){if(iu===null){var o=iu=[];Sm=0,bo=Rp(),wo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Sm++,r.then(G_,G_),r}function G_(){if(--Sm===0&&iu!==null){wo!==null&&(wo.status="fulfilled");var i=iu;iu=null,bo=0,wo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function f2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Y_=U.S;U.S=function(i,r){IT=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&h2(i,r),Y_!==null&&Y_(i,r)};var Ea=k(null);function Am(){var i=Ea.current;return i!==null?i:ie.pooledCache}function _h(i,r){r===null?ct(Ea,Ea.current):ct(Ea,r.pool)}function K_(){var i=Am();return i===null?null:{parent:De._currentValue,pool:i}}var So=Error(s(460)),xm=Error(s(474)),Th=Error(s(542)),Eh={then:function(){}};function $_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Q_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(li,li),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,W_(i),i;default:if(typeof r.status=="string")r.then(li,li);else{if(i=ie,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,W_(i),i}throw wa=r,So}}function ba(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wa=o,So):o}}var wa=null;function X_(){if(wa===null)throw Error(s(459));var i=wa;return wa=null,i}function W_(i){if(i===So||i===Th)throw Error(s(483))}var Ao=null,su=0;function bh(i){var r=su;return su+=1,Ao===null&&(Ao=[]),Q_(Ao,i,r)}function ru(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function wh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function J_(i){function r(z,j){if(i){var G=z.deletions;G===null?(z.deletions=[j],z.flags|=16):G.push(j)}}function o(z,j){if(!i)return null;for(;j!==null;)r(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function d(z,j){return z=hs(z,j),z.index=0,z.sibling=null,z}function g(z,j,G){return z.index=G,i?(G=z.alternate,G!==null?(G=G.index,G<j?(z.flags|=67108866,j):G):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function T(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function w(z,j,G,et){return j===null||j.tag!==6?(j=mm(G,z.mode,et),j.return=z,j):(j=d(j,G),j.return=z,j)}function M(z,j,G,et){var vt=G.type;return vt===B?Z(z,j,G.props.children,et,G.key):j!==null&&(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&ba(vt)===j.type)?(j=d(j,G.props),ru(j,G),j.return=z,j):(j=ph(G.type,G.key,G.props,null,z.mode,et),ru(j,G),j.return=z,j)}function K(z,j,G,et){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=pm(G,z.mode,et),j.return=z,j):(j=d(j,G.children||[]),j.return=z,j)}function Z(z,j,G,et,vt){return j===null||j.tag!==7?(j=ya(G,z.mode,et,vt),j.return=z,j):(j=d(j,G),j.return=z,j)}function nt(z,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=mm(""+j,z.mode,G),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return G=ph(j.type,j.key,j.props,null,z.mode,G),ru(G,j),G.return=z,G;case D:return j=pm(j,z.mode,G),j.return=z,j;case x:return j=ba(j),nt(z,j,G)}if(se(j)||F(j))return j=ya(j,z.mode,G,null),j.return=z,j;if(typeof j.then=="function")return nt(z,bh(j),G);if(j.$$typeof===Y)return nt(z,vh(z,j),G);wh(z,j)}return null}function Q(z,j,G,et){var vt=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return vt!==null?null:w(z,j,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===vt?M(z,j,G,et):null;case D:return G.key===vt?K(z,j,G,et):null;case x:return G=ba(G),Q(z,j,G,et)}if(se(G)||F(G))return vt!==null?null:Z(z,j,G,et,null);if(typeof G.then=="function")return Q(z,j,bh(G),et);if(G.$$typeof===Y)return Q(z,j,vh(z,G),et);wh(z,G)}return null}function W(z,j,G,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(G)||null,w(j,z,""+et,vt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case R:return z=z.get(et.key===null?G:et.key)||null,M(j,z,et,vt);case D:return z=z.get(et.key===null?G:et.key)||null,K(j,z,et,vt);case x:return et=ba(et),W(z,j,G,et,vt)}if(se(et)||F(et))return z=z.get(G)||null,Z(j,z,et,vt,null);if(typeof et.then=="function")return W(z,j,G,bh(et),vt);if(et.$$typeof===Y)return W(z,j,G,vh(j,et),vt);wh(j,et)}return null}function mt(z,j,G,et){for(var vt=null,Ft=null,pt=j,Nt=j=0,Vt=null;pt!==null&&Nt<G.length;Nt++){pt.index>Nt?(Vt=pt,pt=null):Vt=pt.sibling;var qt=Q(z,pt,G[Nt],et);if(qt===null){pt===null&&(pt=Vt);break}i&&pt&&qt.alternate===null&&r(z,pt),j=g(qt,j,Nt),Ft===null?vt=qt:Ft.sibling=qt,Ft=qt,pt=Vt}if(Nt===G.length)return o(z,pt),jt&&fs(z,Nt),vt;if(pt===null){for(;Nt<G.length;Nt++)pt=nt(z,G[Nt],et),pt!==null&&(j=g(pt,j,Nt),Ft===null?vt=pt:Ft.sibling=pt,Ft=pt);return jt&&fs(z,Nt),vt}for(pt=u(pt);Nt<G.length;Nt++)Vt=W(pt,z,Nt,G[Nt],et),Vt!==null&&(i&&Vt.alternate!==null&&pt.delete(Vt.key===null?Nt:Vt.key),j=g(Vt,j,Nt),Ft===null?vt=Vt:Ft.sibling=Vt,Ft=Vt);return i&&pt.forEach(function(yr){return r(z,yr)}),jt&&fs(z,Nt),vt}function Tt(z,j,G,et){if(G==null)throw Error(s(151));for(var vt=null,Ft=null,pt=j,Nt=j=0,Vt=null,qt=G.next();pt!==null&&!qt.done;Nt++,qt=G.next()){pt.index>Nt?(Vt=pt,pt=null):Vt=pt.sibling;var yr=Q(z,pt,qt.value,et);if(yr===null){pt===null&&(pt=Vt);break}i&&pt&&yr.alternate===null&&r(z,pt),j=g(yr,j,Nt),Ft===null?vt=yr:Ft.sibling=yr,Ft=yr,pt=Vt}if(qt.done)return o(z,pt),jt&&fs(z,Nt),vt;if(pt===null){for(;!qt.done;Nt++,qt=G.next())qt=nt(z,qt.value,et),qt!==null&&(j=g(qt,j,Nt),Ft===null?vt=qt:Ft.sibling=qt,Ft=qt);return jt&&fs(z,Nt),vt}for(pt=u(pt);!qt.done;Nt++,qt=G.next())qt=W(pt,z,Nt,qt.value,et),qt!==null&&(i&&qt.alternate!==null&&pt.delete(qt.key===null?Nt:qt.key),j=g(qt,j,Nt),Ft===null?vt=qt:Ft.sibling=qt,Ft=qt);return i&&pt.forEach(function(wI){return r(z,wI)}),jt&&fs(z,Nt),vt}function ne(z,j,G,et){if(typeof G=="object"&&G!==null&&G.type===B&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:t:{for(var vt=G.key;j!==null;){if(j.key===vt){if(vt=G.type,vt===B){if(j.tag===7){o(z,j.sibling),et=d(j,G.props.children),et.return=z,z=et;break t}}else if(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&ba(vt)===j.type){o(z,j.sibling),et=d(j,G.props),ru(et,G),et.return=z,z=et;break t}o(z,j);break}else r(z,j);j=j.sibling}G.type===B?(et=ya(G.props.children,z.mode,et,G.key),et.return=z,z=et):(et=ph(G.type,G.key,G.props,null,z.mode,et),ru(et,G),et.return=z,z=et)}return T(z);case D:t:{for(vt=G.key;j!==null;){if(j.key===vt)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o(z,j.sibling),et=d(j,G.children||[]),et.return=z,z=et;break t}else{o(z,j);break}else r(z,j);j=j.sibling}et=pm(G,z.mode,et),et.return=z,z=et}return T(z);case x:return G=ba(G),ne(z,j,G,et)}if(se(G))return mt(z,j,G,et);if(F(G)){if(vt=F(G),typeof vt!="function")throw Error(s(150));return G=vt.call(G),Tt(z,j,G,et)}if(typeof G.then=="function")return ne(z,j,bh(G),et);if(G.$$typeof===Y)return ne(z,j,vh(z,G),et);wh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o(z,j.sibling),et=d(j,G),et.return=z,z=et):(o(z,j),et=mm(G,z.mode,et),et.return=z,z=et),T(z)):o(z,j)}return function(z,j,G,et){try{su=0;var vt=ne(z,j,G,et);return Ao=null,vt}catch(pt){if(pt===So||pt===Th)throw pt;var Ft=Dn(29,pt,null,z.mode);return Ft.lanes=et,Ft.return=z,Ft}}}var Sa=J_(!0),Z_=J_(!1),tr=!1;function Rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function er(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function nr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=mh(i),k_(i,null,o),r}return dh(i,u,r,o),mh(i)}function au(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ol(i,o)}}function Im(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Dm=!1;function ou(){if(Dm){var i=wo;if(i!==null)throw i}}function lu(i,r,o,u){Dm=!1;var d=i.updateQueue;tr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var M=w,K=M.next;M.next=null,T===null?g=K:T.next=K,T=M;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=K:w.next=K,Z.lastBaseUpdate=M))}if(g!==null){var nt=d.baseState;T=0,Z=K=M=null,w=g;do{var Q=w.lane&-536870913,W=Q!==w.lane;if(W?(Pt&Q)===Q:(u&Q)===Q){Q!==0&&Q===bo&&(Dm=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var mt=i,Tt=w;Q=r;var ne=o;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){nt=mt.call(ne,nt,Q);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,Q=typeof mt=="function"?mt.call(ne,nt,Q):mt,Q==null)break t;nt=_({},nt,Q);break t;case 2:tr=!0}}Q=w.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(K=Z=W,M=nt):Z=Z.next=W,T|=Q;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;W=w,w=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(M=nt),d.baseState=M,d.firstBaseUpdate=K,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),or|=T,i.lanes=T,i.memoizedState=nt}}function t0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function e0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)t0(o[i],r)}var xo=k(null),Sh=k(0);function n0(i,r){i=ws,ct(Sh,i),ct(xo,r),ws=i|r.baseLanes}function Nm(){ct(Sh,ws),ct(xo,xo.current)}function Mm(){ws=Sh.current,tt(xo),tt(Sh)}var Nn=k(null),Qn=null;function ir(i){var r=i.alternate;ct(be,be.current&1),ct(Nn,i),Qn===null&&(r===null||xo.current!==null||r.memoizedState!==null)&&(Qn=i)}function Om(i){ct(be,be.current),ct(Nn,i),Qn===null&&(Qn=i)}function i0(i){i.tag===22?(ct(be,be.current),ct(Nn,i),Qn===null&&(Qn=i)):sr()}function sr(){ct(be,be.current),ct(Nn,Nn.current)}function Mn(i){tt(Nn),Qn===i&&(Qn=null),tt(be)}var be=k(0);function Ah(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||jp(o)||Bp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ps=0,It=null,te=null,Ne=null,xh=!1,Ro=!1,Aa=!1,Rh=0,uu=0,Co=null,d2=0;function ye(){throw Error(s(321))}function Pm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!In(i[o],r[o]))return!1;return!0}function Vm(i,r,o,u,d,g){return ps=g,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=i===null||i.memoizedState===null?B0:Xm,Aa=!1,g=o(u,d),Aa=!1,Ro&&(g=r0(r,o,u,d)),s0(i),g}function s0(i){U.H=fu;var r=te!==null&&te.next!==null;if(ps=0,Ne=te=It=null,xh=!1,uu=0,Co=null,r)throw Error(s(300));i===null||Me||(i=i.dependencies,i!==null&&yh(i)&&(Me=!0))}function r0(i,r,o,u){It=i;var d=0;do{if(Ro&&(Co=null),uu=0,Ro=!1,25<=d)throw Error(s(301));if(d+=1,Ne=te=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=z0,g=r(o,u)}while(Ro);return g}function m2(){var i=U.H,r=i.useState()[0];return r=typeof r.then=="function"?cu(r):r,i=i.useState()[0],(te!==null?te.memoizedState:null)!==i&&(It.flags|=1024),r}function km(){var i=Rh!==0;return Rh=0,i}function Lm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Um(i){if(xh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xh=!1}ps=0,Ne=te=It=null,Ro=!1,uu=Rh=0,Co=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?It.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function we(){if(te===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=te.next;var r=Ne===null?It.memoizedState:Ne.next;if(r!==null)Ne=r,te=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));te=i,i={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ne===null?It.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(i){var r=uu;return uu+=1,Co===null&&(Co=[]),i=Q_(Co,i,r),r=It,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?B0:Xm),i}function Ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cu(i);if(i.$$typeof===Y)return Ze(i)}throw Error(s(438,String(i)))}function jm(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ch(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function gs(i,r){return typeof r=="function"?r(i):r}function Dh(i){var r=we();return Bm(r,te,i)}function Bm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var w=T=null,M=null,K=r,Z=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(Pt&nt)===nt:(ps&nt)===nt){var Q=K.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===bo&&(Z=!0);else if((ps&Q)===Q){K=K.next,Q===bo&&(Z=!0);continue}else nt={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(w=M=nt,T=g):M=M.next=nt,It.lanes|=Q,or|=Q;nt=K.action,Aa&&o(g,nt),g=K.hasEagerState?K.eagerState:o(g,nt)}else Q={lane:nt,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(w=M=Q,T=g):M=M.next=Q,It.lanes|=nt,or|=nt;K=K.next}while(K!==null&&K!==r);if(M===null?T=g:M.next=w,!In(g,i.memoizedState)&&(Me=!0,Z&&(o=wo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=M,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function zm(i){var r=we(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);In(g,r.memoizedState)||(Me=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function a0(i,r,o){var u=It,d=we(),g=jt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!In((te||d).memoizedState,o);if(T&&(d.memoizedState=o,Me=!0),d=d.queue,Hm(u0.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,Io(9,{destroy:void 0},l0.bind(null,u,d,o,r),null),ie===null)throw Error(s(349));g||(ps&127)!==0||o0(u,r,o)}return o}function o0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=Ch(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function l0(i,r,o,u){r.value=o,r.getSnapshot=u,c0(r)&&h0(i)}function u0(i,r,o){return o(function(){c0(r)&&h0(i)})}function c0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!In(i,o)}catch{return!0}}function h0(i){var r=ga(i,2);r!==null&&bn(r,i,2)}function Fm(i){var r=mn();if(typeof i=="function"){var o=i;if(i=o(),Aa){jn(!0);try{o()}finally{jn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:i},r}function f0(i,r,o,u){return i.baseState=o,Bm(i,te,typeof u=="function"?u:gs)}function p2(i,r,o,u,d){if(Oh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};U.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,d0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function d0(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=U.T,T={};U.T=T;try{var w=o(d,u),M=U.S;M!==null&&M(T,w),m0(i,r,w)}catch(K){qm(i,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),U.T=g}}else try{g=o(d,u),m0(i,r,g)}catch(K){qm(i,r,K)}}function m0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){p0(i,r,u)},function(u){return qm(i,r,u)}):p0(i,r,o)}function p0(i,r,o){r.status="fulfilled",r.value=o,g0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,d0(i,o)))}function qm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,g0(r),r=r.next;while(r!==u)}i.action=null}function g0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function y0(i,r){return r}function v0(i,r){if(jt){var o=ie.formState;if(o!==null){t:{var u=It;if(jt){if(ae){e:{for(var d=ae,g=$n;d.nodeType!==8;){if(!g){d=null;break e}if(d=Xn(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ae=Xn(d.nextSibling),u=d.data==="F!";break t}}Js(u)}u=!1}u&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y0,lastRenderedState:r},o.queue=u,o=L0.bind(null,It,u),u.dispatch=o,u=Fm(!1),g=Qm.bind(null,It,!1,u.queue),u=mn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=p2.bind(null,It,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function _0(i){var r=we();return T0(r,te,i)}function T0(i,r,o){if(r=Bm(i,r,y0)[0],i=Dh(gs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=cu(r)}catch(T){throw T===So?Th:T}else u=r;r=we();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(It.flags|=2048,Io(9,{destroy:void 0},g2.bind(null,d,o),null)),[u,g,i]}function g2(i,r){i.action=r}function E0(i){var r=we(),o=te;if(o!==null)return T0(r,o,i);we(),r=r.memoizedState,o=we();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Io(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=It.updateQueue,r===null&&(r=Ch(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function b0(){return we().memoizedState}function Nh(i,r,o,u){var d=mn();It.flags|=i,d.memoizedState=Io(1|r,{destroy:void 0},o,u===void 0?null:u)}function Mh(i,r,o,u){var d=we();u=u===void 0?null:u;var g=d.memoizedState.inst;te!==null&&u!==null&&Pm(u,te.memoizedState.deps)?d.memoizedState=Io(r,g,o,u):(It.flags|=i,d.memoizedState=Io(1|r,g,o,u))}function w0(i,r){Nh(8390656,8,i,r)}function Hm(i,r){Mh(2048,8,i,r)}function y2(i){It.flags|=4;var r=It.updateQueue;if(r===null)r=Ch(),It.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function S0(i){var r=we().memoizedState;return y2({ref:r,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function A0(i,r){return Mh(4,2,i,r)}function x0(i,r){return Mh(4,4,i,r)}function R0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function C0(i,r,o){o=o!=null?o.concat([i]):null,Mh(4,4,R0.bind(null,r,i),o)}function Gm(){}function I0(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Pm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function D0(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Pm(r,u[1]))return u[0];if(u=i(),Aa){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,r],u}function Ym(i,r,o){return o===void 0||(ps&1073741824)!==0&&(Pt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=NT(),It.lanes|=i,or|=i,o)}function N0(i,r,o,u){return In(o,r)?o:xo.current!==null?(i=Ym(i,o,u),In(i,r)||(Me=!0),i):(ps&42)===0||(ps&1073741824)!==0&&(Pt&261930)===0?(Me=!0,i.memoizedState=o):(i=NT(),It.lanes|=i,or|=i,r)}function M0(i,r,o,u,d){var g=J.p;J.p=g!==0&&8>g?g:8;var T=U.T,w={};U.T=w,Qm(i,!1,r,o);try{var M=d(),K=U.S;if(K!==null&&K(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=f2(M,u);hu(i,r,Z,Vn(i))}else hu(i,r,u,Vn(i))}catch(nt){hu(i,r,{then:function(){},status:"rejected",reason:nt},Vn())}finally{J.p=g,T!==null&&w.types!==null&&(T.types=w.types),U.T=T}}function v2(){}function Km(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=O0(i).queue;M0(i,d,r,lt,o===null?v2:function(){return P0(i),o(u)})}function O0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:lt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function P0(i){var r=O0(i);r.next===null&&(r=i.alternate.memoizedState),hu(i,r.next.queue,{},Vn())}function $m(){return Ze(Cu)}function V0(){return we().memoizedState}function k0(){return we().memoizedState}function _2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();i=er(o);var u=nr(r,i,o);u!==null&&(bn(u,r,o),au(u,r,o)),r={cache:wm()},i.payload=r;return}r=r.return}}function T2(i,r,o){var u=Vn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(i)?U0(r,o):(o=fm(i,r,o,u),o!==null&&(bn(o,i,u),j0(o,r,u)))}function L0(i,r,o){var u=Vn();hu(i,r,o,u)}function hu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(i))U0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,o);if(d.hasEagerState=!0,d.eagerState=w,In(w,T))return dh(i,r,d,0),ie===null&&fh(),!1}catch{}if(o=fm(i,r,d,u),o!==null)return bn(o,i,u),j0(o,r,u),!0}return!1}function Qm(i,r,o,u){if(u={lane:2,revertLane:Rp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Oh(i)){if(r)throw Error(s(479))}else r=fm(i,o,u,2),r!==null&&bn(r,i,2)}function Oh(i){var r=i.alternate;return i===It||r!==null&&r===It}function U0(i,r){Ro=xh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function j0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ol(i,o)}}var fu={readContext:Ze,use:Ih,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};fu.useEffectEvent=ye;var B0={readContext:Ze,use:Ih,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Ze,useEffect:w0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Nh(4194308,4,R0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Nh(4194308,4,i,r)},useInsertionEffect:function(i,r){Nh(4,2,i,r)},useMemo:function(i,r){var o=mn();r=r===void 0?null:r;var u=i();if(Aa){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=mn();if(o!==void 0){var d=o(r);if(Aa){jn(!0);try{o(r)}finally{jn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=T2.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=Fm(i);var r=i.queue,o=L0.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Gm,useDeferredValue:function(i,r){var o=mn();return Ym(o,i,r)},useTransition:function(){var i=Fm(!1);return i=M0.bind(null,It,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,d=mn();if(jt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ie===null)throw Error(s(349));(Pt&127)!==0||o0(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,w0(u0.bind(null,u,g,i),[i]),u.flags|=2048,Io(9,{destroy:void 0},l0.bind(null,u,g,o,r),null),o},useId:function(){var i=mn(),r=ie.identifierPrefix;if(jt){var o=Hi,u=qi;o=(u&~(1<<32-Te(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=d2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:$m,useFormState:v0,useActionState:v0,useOptimistic:function(i){var r=mn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Qm.bind(null,It,!0,o),o.dispatch=r,[i,r]},useMemoCache:jm,useCacheRefresh:function(){return mn().memoizedState=_2.bind(null,It)},useEffectEvent:function(i){var r=mn(),o={impl:i};return r.memoizedState=o,function(){if((Gt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Xm={readContext:Ze,use:Ih,useCallback:I0,useContext:Ze,useEffect:Hm,useImperativeHandle:C0,useInsertionEffect:A0,useLayoutEffect:x0,useMemo:D0,useReducer:Dh,useRef:b0,useState:function(){return Dh(gs)},useDebugValue:Gm,useDeferredValue:function(i,r){var o=we();return N0(o,te.memoizedState,i,r)},useTransition:function(){var i=Dh(gs)[0],r=we().memoizedState;return[typeof i=="boolean"?i:cu(i),r]},useSyncExternalStore:a0,useId:V0,useHostTransitionStatus:$m,useFormState:_0,useActionState:_0,useOptimistic:function(i,r){var o=we();return f0(o,te,i,r)},useMemoCache:jm,useCacheRefresh:k0};Xm.useEffectEvent=S0;var z0={readContext:Ze,use:Ih,useCallback:I0,useContext:Ze,useEffect:Hm,useImperativeHandle:C0,useInsertionEffect:A0,useLayoutEffect:x0,useMemo:D0,useReducer:zm,useRef:b0,useState:function(){return zm(gs)},useDebugValue:Gm,useDeferredValue:function(i,r){var o=we();return te===null?Ym(o,i,r):N0(o,te.memoizedState,i,r)},useTransition:function(){var i=zm(gs)[0],r=we().memoizedState;return[typeof i=="boolean"?i:cu(i),r]},useSyncExternalStore:a0,useId:V0,useHostTransitionStatus:$m,useFormState:E0,useActionState:E0,useOptimistic:function(i,r){var o=we();return te!==null?f0(o,te,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:jm,useCacheRefresh:k0};z0.useEffectEvent=S0;function Wm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Jm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Vn(),d=er(u);d.payload=r,o!=null&&(d.callback=o),r=nr(i,d,u),r!==null&&(bn(r,i,u),au(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Vn(),d=er(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=nr(i,d,u),r!==null&&(bn(r,i,u),au(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Vn(),u=er(o);u.tag=2,r!=null&&(u.callback=r),r=nr(i,u,o),r!==null&&(bn(r,i,o),au(r,i,o))}};function F0(i,r,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!Jl(o,u)||!Jl(d,g):!0}function q0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Jm.enqueueReplaceState(r,r.state,null)}function xa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function H0(i){hh(i)}function G0(i){console.error(i)}function Y0(i){hh(i)}function Ph(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function K0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zm(i,r,o){return o=er(o),o.tag=3,o.payload={element:null},o.callback=function(){Ph(i,r)},o}function $0(i){return i=er(i),i.tag=3,i}function Q0(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){K0(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){K0(r,o,u),typeof d!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function E2(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Eo(r,o,d,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Qn===null?Yh():o.alternate===null&&ve===0&&(ve=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Eh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Sp(i,u,d)),!1;case 22:return o.flags|=65536,u===Eh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Sp(i,u,d)),!1}throw Error(s(435,o.tag))}return Sp(i,u,d),Yh(),!1}if(jt)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==vm&&(i=Error(s(422),{cause:u}),eu(Gn(i,o)))):(u!==vm&&(r=Error(s(423),{cause:u}),eu(Gn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Gn(u,o),d=Zm(i.stateNode,u,d),Im(i,d),ve!==4&&(ve=2)),!1;var g=Error(s(520),{cause:u});if(g=Gn(g,o),Tu===null?Tu=[g]:Tu.push(g),ve!==4&&(ve=2),r===null)return!0;u=Gn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Zm(o.stateNode,u,i),Im(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(lr===null||!lr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=$0(d),Q0(d,i,o,u),Im(o,d),!1}o=o.return}while(o!==null);return!1}var tp=Error(s(461)),Me=!1;function tn(i,r,o,u){r.child=i===null?Z_(r,null,o,u):Sa(r,i.child,o,u)}function X0(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return Ta(r),u=Vm(i,r,o,T,g,d),w=km(),i!==null&&!Me?(Lm(i,r,d),ys(i,r,d)):(jt&&w&&gm(r),r.flags|=1,tn(i,r,u,d),r.child)}function W0(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!dm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,J0(i,r,g,u,d)):(i=ph(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!lp(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Jl,o(T,u)&&i.ref===r.ref)return ys(i,r,d)}return r.flags|=1,i=hs(g,u),i.ref=r.ref,i.return=r,r.child=i}function J0(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(Jl(g,u)&&i.ref===r.ref)if(Me=!1,r.pendingProps=u=g,lp(i,d))(i.flags&131072)!==0&&(Me=!0);else return r.lanes=i.lanes,ys(i,r,d)}return ep(i,r,o,u,d)}function Z0(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return tT(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_h(r,g!==null?g.cachePool:null),g!==null?n0(r,g):Nm(),i0(r);else return u=r.lanes=536870912,tT(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(_h(r,g.cachePool),n0(r,g),sr(),r.memoizedState=null):(i!==null&&_h(r,null),Nm(),sr());return tn(i,r,d,o),r.child}function du(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function tT(i,r,o,u,d){var g=Am();return g=g===null?null:{parent:De._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&_h(r,null),Nm(),i0(r),i!==null&&Eo(i,r,u,!0),r.childLanes=d,null}function Vh(i,r){return r=Lh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function eT(i,r,o){return Sa(r,i.child,null,o),i=Vh(r,r.pendingProps),i.flags|=2,Mn(r),r.memoizedState=null,i}function b2(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(jt){if(u.mode==="hidden")return i=Vh(r,u),r.lanes=536870912,du(null,i);if(Om(r),(i=ae)?(i=dE(i,$n),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Xs!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},o=U_(i),o.return=r,r.child=o,Je=r,ae=null)):i=null,i===null)throw Js(r);return r.lanes=536870912,null}return Vh(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Om(r),d)if(r.flags&256)r.flags&=-257,r=eT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Me||Eo(i,r,o,!1),d=(o&i.childLanes)!==0,Me||d){if(u=ie,u!==null&&(T=Pl(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ga(i,T),bn(u,i,T),tp;Yh(),r=eT(i,r,o)}else i=g.treeContext,ae=Xn(T.nextSibling),Je=r,jt=!0,Ws=null,$n=!1,i!==null&&z_(r,i),r=Vh(r,u),r.flags|=4096;return r}return i=hs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function ep(i,r,o,u,d){return Ta(r),o=Vm(i,r,o,u,void 0,d),u=km(),i!==null&&!Me?(Lm(i,r,d),ys(i,r,d)):(jt&&u&&gm(r),r.flags|=1,tn(i,r,o,d),r.child)}function nT(i,r,o,u,d,g){return Ta(r),r.updateQueue=null,o=r0(r,u,o,d),s0(i),u=km(),i!==null&&!Me?(Lm(i,r,g),ys(i,r,g)):(jt&&u&&gm(r),r.flags|=1,tn(i,r,o,g),r.child)}function iT(i,r,o,u,d){if(Ta(r),r.stateNode===null){var g=yo,T=o.contextType;typeof T=="object"&&T!==null&&(g=Ze(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Rm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Ze(T):yo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Wm(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Jm.enqueueReplaceState(g,g.state,null),lu(r,u,g,d),ou(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,M=xa(o,w);g.props=M;var K=g.context,Z=o.contextType;T=yo,typeof Z=="object"&&Z!==null&&(T=Ze(Z));var nt=o.getDerivedStateFromProps;Z=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==T)&&q0(r,g,u,T),tr=!1;var Q=r.memoizedState;g.state=Q,lu(r,u,g,d),ou(),K=r.memoizedState,w||Q!==K||tr?(typeof nt=="function"&&(Wm(r,o,nt,u),K=r.memoizedState),(M=tr||F0(r,o,M,u,Q,K,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=T,u=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Cm(i,r),T=r.memoizedProps,Z=xa(o,T),g.props=Z,nt=r.pendingProps,Q=g.context,K=o.contextType,M=yo,typeof K=="object"&&K!==null&&(M=Ze(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==nt||Q!==M)&&q0(r,g,u,M),tr=!1,Q=r.memoizedState,g.state=Q,lu(r,u,g,d),ou();var W=r.memoizedState;T!==nt||Q!==W||tr||i!==null&&i.dependencies!==null&&yh(i.dependencies)?(typeof w=="function"&&(Wm(r,o,w,u),W=r.memoizedState),(Z=tr||F0(r,o,Z,u,Q,W,M)||i!==null&&i.dependencies!==null&&yh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=M,u=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,kh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Sa(r,i.child,null,d),r.child=Sa(r,null,o,d)):tn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ys(i,r,d),i}function sT(i,r,o,u){return va(),r.flags|=256,tn(i,r,o,u),r.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(i){return{baseLanes:i,cachePool:K_()}}function sp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function rT(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(be.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(jt){if(d?ir(r):sr(),(i=ae)?(i=dE(i,$n),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Xs!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},o=U_(i),o.return=r,r.child=o,Je=r,ae=null)):i=null,i===null)throw Js(r);return Bp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,d?(sr(),d=r.mode,w=Lh({mode:"hidden",children:w},d),u=ya(u,d,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=ip(o),u.childLanes=sp(i,T,o),r.memoizedState=np,du(null,u)):(ir(r),rp(r,w))}var M=i.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(g)r.flags&256?(ir(r),r.flags&=-257,r=ap(i,r,o)):r.memoizedState!==null?(sr(),r.child=i.child,r.flags|=128,r=null):(sr(),w=u.fallback,d=r.mode,u=Lh({mode:"visible",children:u.children},d),w=ya(w,d,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,Sa(r,i.child,null,o),u=r.child,u.memoizedState=ip(o),u.childLanes=sp(i,T,o),r.memoizedState=np,r=du(null,u));else if(ir(r),Bp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,eu({value:u,source:null,stack:null}),r=ap(i,r,o)}else if(Me||Eo(i,r,o,!1),T=(o&i.childLanes)!==0,Me||T){if(T=ie,T!==null&&(u=Pl(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,ga(i,u),bn(T,i,u),tp;jp(w)||Yh(),r=ap(i,r,o)}else jp(w)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,ae=Xn(w.nextSibling),Je=r,jt=!0,Ws=null,$n=!1,i!==null&&z_(r,i),r=rp(r,u.children),r.flags|=4096);return r}return d?(sr(),w=u.fallback,d=r.mode,M=i.child,K=M.sibling,u=hs(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?w=hs(K,w):(w=ya(w,d,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,du(null,u),u=r.child,w=i.child.memoizedState,w===null?w=ip(o):(d=w.cachePool,d!==null?(M=De._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=K_(),w={baseLanes:w.baseLanes|o,cachePool:d}),u.memoizedState=w,u.childLanes=sp(i,T,o),r.memoizedState=np,du(i.child,u)):(ir(r),o=i.child,i=o.sibling,o=hs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function rp(i,r){return r=Lh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Lh(i,r){return i=Dn(22,i,null,r),i.lanes=0,i}function ap(i,r,o){return Sa(r,i.child,null,o),i=rp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function aT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Em(i.return,r,o)}function op(i,r,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function oT(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=be.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,ct(be,T),tn(i,r,u,o),u=jt?tu:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&aT(i,o,r);else if(i.tag===19)aT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Ah(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),op(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Ah(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}op(r,!0,o,null,g,u);break;case"together":op(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ys(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),or|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Eo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function lp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&yh(i)))}function w2(i,r,o){switch(r.tag){case 3:Ue(r,r.stateNode.containerInfo),Zs(r,De,i.memoizedState.cache),va();break;case 27:case 5:Jr(r);break;case 4:Ue(r,r.stateNode.containerInfo);break;case 10:Zs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Om(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ir(r),r.flags|=128,null):(o&r.child.childLanes)!==0?rT(i,r,o):(ir(r),i=ys(i,r,o),i!==null?i.sibling:null);ir(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Eo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return oT(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ct(be,be.current),u)break;return null;case 22:return r.lanes=0,Z0(i,r,o,r.pendingProps);case 24:Zs(r,De,i.memoizedState.cache)}return ys(i,r,o)}function lT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Me=!0;else{if(!lp(i,o)&&(r.flags&128)===0)return Me=!1,w2(i,r,o);Me=(i.flags&131072)!==0}else Me=!1,jt&&(r.flags&1048576)!==0&&B_(r,tu,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=ba(r.elementType),r.type=i,typeof i=="function")dm(i)?(u=xa(i,u),r.tag=1,r=iT(null,r,i,u,o)):(r.tag=0,r=ep(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===rt){r.tag=11,r=X0(null,r,i,u,o);break t}else if(d===C){r.tag=14,r=W0(null,r,i,u,o);break t}}throw r=Yt(i)||i,Error(s(306,r,""))}}return r;case 0:return ep(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=xa(u,r.pendingProps),iT(i,r,u,d,o);case 3:t:{if(Ue(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Cm(i,r),lu(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Zs(r,De,u),u!==g.cache&&bm(r,[De],o,!0),ou(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=sT(i,r,u,o);break t}else if(u!==d){d=Gn(Error(s(424)),r),eu(d),r=sT(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ae=Xn(i.firstChild),Je=r,jt=!0,Ws=null,$n=!0,o=Z_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(va(),u===d){r=ys(i,r,o);break t}tn(i,r,u,o)}r=r.child}return r;case 26:return kh(i,r),i===null?(o=_E(r.type,null,r.pendingProps,null))?r.memoizedState=o:jt||(o=r.type,i=r.pendingProps,u=Zh(Dt.current).createElement(o),u[Re]=r,u[He]=i,en(u,o,i),Ce(u),r.stateNode=u):r.memoizedState=_E(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Jr(r),i===null&&jt&&(u=r.stateNode=gE(r.type,r.pendingProps,Dt.current),Je=r,$n=!0,d=ae,fr(r.type)?(zp=d,ae=Xn(u.firstChild)):ae=d),tn(i,r,r.pendingProps.children,o),kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&jt&&((d=u=ae)&&(u=Z2(u,r.type,r.pendingProps,$n),u!==null?(r.stateNode=u,Je=r,ae=Xn(u.firstChild),$n=!1,d=!0):d=!1),d||Js(r)),Jr(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,kp(d,g)?u=null:T!==null&&kp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=Vm(i,r,m2,null,null,o),Cu._currentValue=d),kh(i,r),tn(i,r,u,o),r.child;case 6:return i===null&&jt&&((i=o=ae)&&(o=tI(o,r.pendingProps,$n),o!==null?(r.stateNode=o,Je=r,ae=null,i=!0):i=!1),i||Js(r)),null;case 13:return rT(i,r,o);case 4:return Ue(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Sa(r,null,u,o):tn(i,r,u,o),r.child;case 11:return X0(i,r,r.type,r.pendingProps,o);case 7:return tn(i,r,r.pendingProps,o),r.child;case 8:return tn(i,r,r.pendingProps.children,o),r.child;case 12:return tn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Zs(r,r.type,u.value),tn(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Ta(r),d=Ze(d),u=u(d),r.flags|=1,tn(i,r,u,o),r.child;case 14:return W0(i,r,r.type,r.pendingProps,o);case 15:return J0(i,r,r.type,r.pendingProps,o);case 19:return oT(i,r,o);case 31:return b2(i,r,o);case 22:return Z0(i,r,o,r.pendingProps);case 24:return Ta(r),u=Ze(De),i===null?(d=Am(),d===null&&(d=ie,g=wm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Rm(r),Zs(r,De,d)):((i.lanes&o)!==0&&(Cm(i,r),lu(r,null,null,o),ou()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Zs(r,De,u)):(u=g.cache,Zs(r,De,u),u!==d.cache&&bm(r,[De],o,!0))),tn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function vs(i){i.flags|=4}function up(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(VT())i.flags|=8192;else throw wa=Eh,xm}else i.flags&=-16777217}function uT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!SE(r))if(VT())i.flags|=8192;else throw wa=Eh,xm}function Uh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Hc():536870912,i.lanes|=r,Oo|=r)}function mu(i,r){if(!jt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function S2(i,r,o){var u=r.pendingProps;switch(ym(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ms(De),le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(To(r)?vs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_m())),oe(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(vs(r),g!==null?(oe(r),uT(r,g)):(oe(r),up(r,d,null,u,o))):g?g!==i.memoizedState?(vs(r),oe(r),uT(r,g)):(oe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&vs(r),oe(r),up(r,d,i,u,o)),null;case 27:if(Wa(r),o=Dt.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=ft.current,To(r)?F_(r):(i=gE(d,u,o),r.stateNode=i,vs(r))}return oe(r),null;case 5:if(Wa(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(g=ft.current,To(r))F_(r);else{var T=Zh(Dt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[Re]=r,g[He]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(en(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&vs(r)}}return oe(r),up(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Dt.current,To(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Je,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Re]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||rE(i.nodeValue,o)),i||Js(r,!0)}else i=Zh(i).createTextNode(u),i[Re]=r,r.stateNode=i}return oe(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=To(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Re]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),i=!1}else o=_m(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=To(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Re]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),d=!1}else d=_m(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Uh(r,r.updateQueue),oe(r),null);case 4:return le(),i===null&&Np(r.stateNode.containerInfo),oe(r),null;case 10:return ms(r.type),oe(r),null;case 19:if(tt(be),u=r.memoizedState,u===null)return oe(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)mu(u,!1);else{if(ve!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ah(i),g!==null){for(r.flags|=128,mu(u,!1),i=g.updateQueue,r.updateQueue=i,Uh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)L_(o,i),o=o.sibling;return ct(be,be.current&1|2),jt&&fs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&fn()>qh&&(r.flags|=128,d=!0,mu(u,!1),r.lanes=4194304)}else{if(!d)if(i=Ah(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Uh(r,i),mu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!jt)return oe(r),null}else 2*fn()-u.renderingStartTime>qh&&o!==536870912&&(r.flags|=128,d=!0,mu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=fn(),i.sibling=null,o=be.current,ct(be,d?o&1|2:o&1),jt&&fs(r,u.treeForkCount),i):(oe(r),null);case 22:case 23:return Mn(r),Mm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&Uh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&tt(Ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ms(De),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function A2(i,r){switch(ym(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ms(De),le(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Wa(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Mn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return tt(be),null;case 4:return le(),null;case 10:return ms(r.type),null;case 22:case 23:return Mn(r),Mm(),i!==null&&tt(Ea),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ms(De),null;case 25:return null;default:return null}}function cT(i,r){switch(ym(r),r.tag){case 3:ms(De),le();break;case 26:case 27:case 5:Wa(r);break;case 4:le();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:tt(be);break;case 10:ms(r.type);break;case 22:case 23:Mn(r),Mm(),i!==null&&tt(Ea);break;case 24:ms(De)}}function pu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(w){Xt(r,r.return,w)}}function rr(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,d=r;var M=o,K=w;try{K()}catch(Z){Xt(d,M,Z)}}}u=u.next}while(u!==g)}}catch(Z){Xt(r,r.return,Z)}}function hT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{e0(r,o)}catch(u){Xt(i,i.return,u)}}}function fT(i,r,o){o.props=xa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xt(i,r,u)}}function gu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Xt(i,r,d)}}function Gi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Xt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Xt(i,r,d)}else o.current=null}function dT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Xt(i,i.return,d)}}function cp(i,r,o){try{var u=i.stateNode;K2(u,i.type,o,r),u[He]=r}catch(d){Xt(i,i.return,d)}}function mT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fr(i.type)||i.tag===4}function hp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||mT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=li));else if(u!==4&&(u===27&&fr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(fp(i,r,o),i=i.sibling;i!==null;)fp(i,r,o),i=i.sibling}function jh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&fr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(jh(i,r,o),i=i.sibling;i!==null;)jh(i,r,o),i=i.sibling}function pT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);en(r,u,o),r[Re]=i,r[He]=o}catch(g){Xt(i,i.return,g)}}var _s=!1,Oe=!1,dp=!1,gT=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function x2(i,r){if(i=i.containerInfo,Pp=of,i=C_(i),am(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,w=-1,M=-1,K=0,Z=0,nt=i,Q=null;e:for(;;){for(var W;nt!==o||d!==0&&nt.nodeType!==3||(w=T+d),nt!==g||u!==0&&nt.nodeType!==3||(M=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),(W=nt.firstChild)!==null;)Q=nt,nt=W;for(;;){if(nt===i)break e;if(Q===o&&++K===d&&(w=T),Q===g&&++Z===u&&(M=T),(W=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=W}o=w===-1||M===-1?null:{start:w,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:i,selectionRange:o},of=!1,Ye=r;Ye!==null;)if(r=Ye,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ye=i;else for(;Ye!==null;){switch(r=Ye,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var mt=xa(o.type,d);i=u.getSnapshotBeforeUpdate(mt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){Xt(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Up(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Up(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ye=i;break}Ye=r.return}}function yT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Es(i,o),u&4&&pu(5,o);break;case 1:if(Es(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Xt(o,o.return,T)}else{var d=xa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(o,o.return,T)}}u&64&&hT(o),u&512&&gu(o,o.return);break;case 3:if(Es(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{e0(i,r)}catch(T){Xt(o,o.return,T)}}break;case 27:r===null&&u&4&&pT(o);case 26:case 5:Es(i,o),r===null&&u&4&&dT(o),u&512&&gu(o,o.return);break;case 12:Es(i,o);break;case 31:Es(i,o),u&4&&TT(i,o);break;case 13:Es(i,o),u&4&&ET(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=V2.bind(null,o),eI(i,o))));break;case 22:if(u=o.memoizedState!==null||_s,!u){r=r!==null&&r.memoizedState!==null||Oe,d=_s;var g=Oe;_s=u,(Oe=r)&&!g?bs(i,o,(o.subtreeFlags&8772)!==0):Es(i,o),_s=d,Oe=g}break;case 30:break;default:Es(i,o)}}function vT(i){var r=i.alternate;r!==null&&(i.alternate=null,vT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&no(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,vn=!1;function Ts(i,r,o){for(o=o.child;o!==null;)_T(i,r,o),o=o.sibling}function _T(i,r,o){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(si,o)}catch{}switch(o.tag){case 26:Oe||Gi(o,r),Ts(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Oe||Gi(o,r);var u=ce,d=vn;fr(o.type)&&(ce=o.stateNode,vn=!1),Ts(i,r,o),Au(o.stateNode),ce=u,vn=d;break;case 5:Oe||Gi(o,r);case 6:if(u=ce,d=vn,ce=null,Ts(i,r,o),ce=u,vn=d,ce!==null)if(vn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(o.stateNode)}catch(g){Xt(o,r,g)}else try{ce.removeChild(o.stateNode)}catch(g){Xt(o,r,g)}break;case 18:ce!==null&&(vn?(i=ce,hE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),zo(i)):hE(ce,o.stateNode));break;case 4:u=ce,d=vn,ce=o.stateNode.containerInfo,vn=!0,Ts(i,r,o),ce=u,vn=d;break;case 0:case 11:case 14:case 15:rr(2,o,r),Oe||rr(4,o,r),Ts(i,r,o);break;case 1:Oe||(Gi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&fT(o,r,u)),Ts(i,r,o);break;case 21:Ts(i,r,o);break;case 22:Oe=(u=Oe)||o.memoizedState!==null,Ts(i,r,o),Oe=u;break;default:Ts(i,r,o)}}function TT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zo(i)}catch(o){Xt(r,r.return,o)}}}function ET(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zo(i)}catch(o){Xt(r,r.return,o)}}function R2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new gT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new gT),r;default:throw Error(s(435,i.tag))}}function Bh(i,r){var o=R2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=k2.bind(null,i,u);u.then(d,d)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=r,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(fr(w.type)){ce=w.stateNode,vn=!1;break t}break;case 5:ce=w.stateNode,vn=!1;break t;case 3:case 4:ce=w.stateNode.containerInfo,vn=!0;break t}w=w.return}if(ce===null)throw Error(s(160));_T(g,T,d),ce=null,vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)bT(r,i),r=r.sibling}var mi=null;function bT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),Tn(i),u&4&&(rr(3,i,i.return),pu(3,i),rr(5,i,i.return));break;case 1:_n(r,i),Tn(i),u&512&&(Oe||o===null||Gi(o,o.return)),u&64&&_s&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=mi;if(_n(r,i),Tn(i),u&512&&(Oe||o===null||Gi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ni]||g[Re]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),en(g,u,o),g[Re]=i,Ce(g),u=g;break t;case"link":var T=bE("link","href",d).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break e}}g=d.createElement(u),en(g,u,o),d.head.appendChild(g);break;case"meta":if(T=bE("meta","content",d).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break e}}g=d.createElement(u),en(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Re]=i,Ce(g),u=g}i.stateNode=u}else wE(d,i.type,i.stateNode);else i.stateNode=EE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?wE(d,i.type,i.stateNode):EE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&cp(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),Tn(i),u&512&&(Oe||o===null||Gi(o,o.return)),o!==null&&u&4&&cp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),Tn(i),u&512&&(Oe||o===null||Gi(o,o.return)),i.flags&32){d=i.stateNode;try{yn(d,"")}catch(mt){Xt(i,i.return,mt)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,cp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(dp=!0);break;case 6:if(_n(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){Xt(i,i.return,mt)}}break;case 3:if(nf=null,d=mi,mi=tf(r.containerInfo),_n(r,i),mi=d,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(mt){Xt(i,i.return,mt)}dp&&(dp=!1,wT(i));break;case 4:u=mi,mi=tf(i.stateNode.containerInfo),_n(r,i),Tn(i),mi=u;break;case 12:_n(r,i),Tn(i);break;case 31:_n(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 13:_n(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fh=fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=_s,Z=Oe;if(_s=K||d,Oe=Z||M,_n(r,i),Oe=Z,_s=K,Tn(i),u&8192)t:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||_s||Oe||Ra(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=M.stateNode;var nt=M.memoizedProps.style,Q=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(mt){Xt(M,M.return,mt)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(mt){Xt(M,M.return,mt)}}}else if(r.tag===18){if(o===null){M=r;try{var W=M.stateNode;d?fE(W,!0):fE(M.stateNode,!1)}catch(mt){Xt(M,M.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bh(i,o))));break;case 19:_n(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 30:break;case 21:break;default:_n(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(mT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=hp(i);jh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var w=hp(i);jh(i,w,T);break;case 3:case 4:var M=o.stateNode.containerInfo,K=hp(i);fp(i,K,M);break;default:throw Error(s(161))}}catch(Z){Xt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function wT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;wT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Es(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)yT(i,r.alternate,r),r=r.sibling}function Ra(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:rr(4,r,r.return),Ra(r);break;case 1:Gi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&fT(r,r.return,o),Ra(r);break;case 27:Au(r.stateNode);case 26:case 5:Gi(r,r.return),Ra(r);break;case 22:r.memoizedState===null&&Ra(r);break;case 30:Ra(r);break;default:Ra(r)}i=i.sibling}}function bs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:bs(d,g,o),pu(4,g);break;case 1:if(bs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Xt(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)t0(M[d],w)}catch(K){Xt(u,u.return,K)}}o&&T&64&&hT(g),gu(g,g.return);break;case 27:pT(g);case 26:case 5:bs(d,g,o),o&&u===null&&T&4&&dT(g),gu(g,g.return);break;case 12:bs(d,g,o);break;case 31:bs(d,g,o),o&&T&4&&TT(d,g);break;case 13:bs(d,g,o),o&&T&4&&ET(d,g);break;case 22:g.memoizedState===null&&bs(d,g,o),gu(g,g.return);break;case 30:break;default:bs(d,g,o)}r=r.sibling}}function mp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&nu(o))}function pp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&nu(i))}function pi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ST(i,r,o,u),r=r.sibling}function ST(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:pi(i,r,o,u),d&2048&&pu(9,r);break;case 1:pi(i,r,o,u);break;case 3:pi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&nu(i)));break;case 12:if(d&2048){pi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Xt(r,r.return,M)}}else pi(i,r,o,u);break;case 31:pi(i,r,o,u);break;case 13:pi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?pi(i,r,o,u):yu(i,r):g._visibility&2?pi(i,r,o,u):(g._visibility|=2,Do(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&mp(T,r);break;case 24:pi(i,r,o,u),d&2048&&pp(r.alternate,r);break;default:pi(i,r,o,u)}}function Do(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,w=o,M=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Do(g,T,w,M,d),pu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Do(g,T,w,M,d):yu(g,T):(Z._visibility|=2,Do(g,T,w,M,d)),d&&K&2048&&mp(T.alternate,T);break;case 24:Do(g,T,w,M,d),d&&K&2048&&pp(T.alternate,T);break;default:Do(g,T,w,M,d)}r=r.sibling}}function yu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:yu(o,u),d&2048&&mp(u.alternate,u);break;case 24:yu(o,u),d&2048&&pp(u.alternate,u);break;default:yu(o,u)}r=r.sibling}}var vu=8192;function No(i,r,o){if(i.subtreeFlags&vu)for(i=i.child;i!==null;)AT(i,r,o),i=i.sibling}function AT(i,r,o){switch(i.tag){case 26:No(i,r,o),i.flags&vu&&i.memoizedState!==null&&dI(o,mi,i.memoizedState,i.memoizedProps);break;case 5:No(i,r,o);break;case 3:case 4:var u=mi;mi=tf(i.stateNode.containerInfo),No(i,r,o),mi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=vu,vu=16777216,No(i,r,o),vu=u):No(i,r,o));break;default:No(i,r,o)}}function xT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function _u(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ye=u,CT(u,i)}xT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)RT(i),i=i.sibling}function RT(i){switch(i.tag){case 0:case 11:case 15:_u(i),i.flags&2048&&rr(9,i,i.return);break;case 3:_u(i);break;case 12:_u(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,zh(i)):_u(i);break;default:_u(i)}}function zh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ye=u,CT(u,i)}xT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:rr(8,r,r.return),zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,zh(r));break;default:zh(r)}i=i.sibling}}function CT(i,r){for(;Ye!==null;){var o=Ye;switch(o.tag){case 0:case 11:case 15:rr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:nu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ye=u;else t:for(o=i;Ye!==null;){u=Ye;var d=u.sibling,g=u.return;if(vT(u),u===o){Ye=null;break t}if(d!==null){d.return=g,Ye=d;break t}Ye=g}}}var C2={getCacheForType:function(i){var r=Ze(De),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Ze(De).controller.signal}},I2=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ie=null,Mt=null,Pt=0,Qt=0,On=null,ar=!1,Mo=!1,gp=!1,ws=0,ve=0,or=0,Ca=0,yp=0,Pn=0,Oo=0,Tu=null,En=null,vp=!1,Fh=0,IT=0,qh=1/0,Hh=null,lr=null,Be=0,ur=null,Po=null,Ss=0,_p=0,Tp=null,DT=null,Eu=0,Ep=null;function Vn(){return(Gt&2)!==0&&Pt!==0?Pt&-Pt:U.T!==null?Rp():Gc()}function NT(){if(Pn===0)if((Pt&536870912)===0||jt){var i=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),Pn=i}else Pn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Pn}function bn(i,r,o){(i===ie&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(Vo(i,0),cr(i,Pt,Pn,!1)),na(i,o),((Gt&2)===0||i!==ie)&&(i===ie&&((Gt&2)===0&&(Ca|=o),ve===4&&cr(i,Pt,Pn,!1)),Yi(i))}function MT(i,r,o){if((Gt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ri(i,r),d=u?M2(i,r):wp(i,r,!0),g=u;do{if(d===0){Mo&&!u&&cr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!D2(o)){d=wp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var w=i;d=Tu;var M=w.current.memoizedState.isDehydrated;if(M&&(Vo(w,T).flags|=256),T=wp(w,T,!1),T!==2){if(gp&&!M){w.errorRecoveryDisabledLanes|=g,Ca|=g,d=4;break t}g=En,En=d,g!==null&&(En===null?En=g:En.push.apply(En,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Vo(i,0),cr(i,r,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:cr(u,r,Pn,!ar);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Fh+300-fn(),10<d)){if(cr(u,r,Pn,!ar),Ci(u,0,!0)!==0)break t;Ss=r,u.timeoutHandle=uE(OT.bind(null,u,o,En,Hh,vp,r,Pn,Ca,Oo,ar,g,"Throttled",-0,0),d);break t}OT(u,o,En,Hh,vp,r,Pn,Ca,Oo,ar,g,null,-0,0)}}break}while(!0);Yi(i)}function OT(i,r,o,u,d,g,T,w,M,K,Z,nt,Q,W){if(i.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},AT(r,g,nt);var mt=(g&62914560)===g?Fh-fn():(g&4194048)===g?IT-fn():0;if(mt=mI(nt,mt),mt!==null){Ss=g,i.cancelPendingCommit=mt(zT.bind(null,i,r,g,o,u,d,T,w,M,Z,nt,null,Q,W)),cr(i,g,T,!K);return}}zT(i,r,g,o,u,d,T,w,M)}function D2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!In(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function cr(i,r,o,u){r&=~yp,r&=~Ca,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-Te(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&ia(i,o,r)}function Gh(){return(Gt&6)===0?(bu(0),!1):!0}function bp(){if(Mt!==null){if(Qt===0)var i=Mt.return;else i=Mt,ds=_a=null,Um(i),Ao=null,su=0,i=Mt;for(;i!==null;)cT(i.alternate,i),i=i.return;Mt=null}}function Vo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,X2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ss=0,bp(),ie=i,Mt=o=hs(i.current,null),Pt=r,Qt=0,On=null,ar=!1,Mo=ri(i,r),gp=!1,Oo=Pn=yp=Ca=or=ve=0,En=Tu=null,vp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-Te(u),g=1<<d;r|=i[d],u&=~g}return ws=r,fh(),o}function PT(i,r){It=null,U.H=fu,r===So||r===Th?(r=X_(),Qt=3):r===xm?(r=X_(),Qt=4):Qt=r===tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Mt===null&&(ve=1,Ph(i,Gn(r,i.current)))}function VT(){var i=Nn.current;return i===null?!0:(Pt&4194048)===Pt?Qn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?i===Qn:!1}function kT(){var i=U.H;return U.H=fu,i===null?fu:i}function LT(){var i=U.A;return U.A=C2,i}function Yh(){ve=4,ar||(Pt&4194048)!==Pt&&Nn.current!==null||(Mo=!0),(or&134217727)===0&&(Ca&134217727)===0||ie===null||cr(ie,Pt,Pn,!1)}function wp(i,r,o){var u=Gt;Gt|=2;var d=kT(),g=LT();(ie!==i||Pt!==r)&&(Hh=null,Vo(i,r)),r=!1;var T=ve;t:do try{if(Qt!==0&&Mt!==null){var w=Mt,M=On;switch(Qt){case 8:bp(),T=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var K=Qt;if(Qt=0,On=null,ko(i,w,M,K),o&&Mo){T=0;break t}break;default:K=Qt,Qt=0,On=null,ko(i,w,M,K)}}N2(),T=ve;break}catch(Z){PT(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ds=_a=null,Gt=u,U.H=d,U.A=g,Mt===null&&(ie=null,Pt=0,fh()),T}function N2(){for(;Mt!==null;)UT(Mt)}function M2(i,r){var o=Gt;Gt|=2;var u=kT(),d=LT();ie!==i||Pt!==r?(Hh=null,qh=fn()+500,Vo(i,r)):Mo=ri(i,r);t:do try{if(Qt!==0&&Mt!==null){r=Mt;var g=On;e:switch(Qt){case 1:Qt=0,On=null,ko(i,r,g,1);break;case 2:case 9:if($_(g)){Qt=0,On=null,jT(r);break}r=function(){Qt!==2&&Qt!==9||ie!==i||(Qt=7),Yi(i)},g.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:$_(g)?(Qt=0,On=null,jT(r)):(Qt=0,On=null,ko(i,r,g,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var w=Mt;if(T?SE(T):w.stateNode.complete){Qt=0,On=null;var M=w.sibling;if(M!==null)Mt=M;else{var K=w.return;K!==null?(Mt=K,Kh(K)):Mt=null}break e}}Qt=0,On=null,ko(i,r,g,5);break;case 6:Qt=0,On=null,ko(i,r,g,6);break;case 8:bp(),ve=6;break t;default:throw Error(s(462))}}O2();break}catch(Z){PT(i,Z)}while(!0);return ds=_a=null,U.H=u,U.A=d,Gt=o,Mt!==null?0:(ie=null,Pt=0,fh(),ve)}function O2(){for(;Mt!==null&&!Zd();)UT(Mt)}function UT(i){var r=lT(i.alternate,i,ws);i.memoizedProps=i.pendingProps,r===null?Kh(i):Mt=r}function jT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=nT(o,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=nT(o,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:Um(r);default:cT(o,r),r=Mt=L_(r,ws),r=lT(o,r,ws)}i.memoizedProps=i.pendingProps,r===null?Kh(i):Mt=r}function ko(i,r,o,u){ds=_a=null,Um(r),Ao=null,su=0;var d=r.return;try{if(E2(i,d,r,o,Pt)){ve=1,Ph(i,Gn(o,i.current)),Mt=null;return}}catch(g){if(d!==null)throw Mt=d,g;ve=1,Ph(i,Gn(o,i.current)),Mt=null;return}r.flags&32768?(jt||u===1?i=!0:Mo||(Pt&536870912)!==0?i=!1:(ar=i=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),BT(r,i)):Kh(r)}function Kh(i){var r=i;do{if((r.flags&32768)!==0){BT(r,ar);return}i=r.return;var o=S2(r.alternate,r,ws);if(o!==null){Mt=o;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);ve===0&&(ve=5)}function BT(i,r){do{var o=A2(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);ve=6,Mt=null}function zT(i,r,o,u,d,g,T,w,M){i.cancelPendingCommit=null;do $h();while(Be!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=hm,nm(i,o,g,T,w,M),i===ie&&(Mt=ie=null,Pt=0),Po=r,ur=i,Ss=o,_p=g,Tp=d,DT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,L2(Bs,function(){return YT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,d=J.p,J.p=2,T=Gt,Gt|=4;try{x2(i,r,o)}finally{Gt=T,J.p=d,U.T=u}}Be=1,FT(),qT(),HT()}}function FT(){if(Be===1){Be=0;var i=ur,r=Po,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var u=J.p;J.p=2;var d=Gt;Gt|=4;try{bT(r,i);var g=Vp,T=C_(i.containerInfo),w=g.focusedElem,M=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&R_(w.ownerDocument.documentElement,w)){if(M!==null&&am(w)){var K=M.start,Z=M.end;if(Z===void 0&&(Z=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(Z,w.value.length);else{var nt=w.ownerDocument||document,Q=nt&&nt.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),mt=w.textContent.length,Tt=Math.min(M.start,mt),ne=M.end===void 0?Tt:Math.min(M.end,mt);!W.extend&&Tt>ne&&(T=ne,ne=Tt,Tt=T);var z=x_(w,Tt),j=x_(w,ne);if(z&&j&&(W.rangeCount!==1||W.anchorNode!==z.node||W.anchorOffset!==z.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var G=nt.createRange();G.setStart(z.node,z.offset),W.removeAllRanges(),Tt>ne?(W.addRange(G),W.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),W.addRange(G))}}}}for(nt=[],W=w;W=W.parentNode;)W.nodeType===1&&nt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var et=nt[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}of=!!Pp,Vp=Pp=null}finally{Gt=d,J.p=u,U.T=o}}i.current=r,Be=2}}function qT(){if(Be===2){Be=0;var i=ur,r=Po,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var u=J.p;J.p=2;var d=Gt;Gt|=4;try{yT(i,r.alternate,r)}finally{Gt=d,J.p=u,U.T=o}}Be=3}}function HT(){if(Be===4||Be===3){Be=0,Uc();var i=ur,r=Po,o=Ss,u=DT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Be=5:(Be=0,Po=ur=null,GT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(lr=null),os(o),r=r.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(si,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=U.T,d=J.p,J.p=2,U.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{U.T=r,J.p=d}}(Ss&3)!==0&&$h(),Yi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Ep?Eu++:(Eu=0,Ep=i):Eu=0,bu(0)}}function GT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,nu(r)))}function $h(){return FT(),qT(),HT(),YT()}function YT(){if(Be!==5)return!1;var i=ur,r=_p;_p=0;var o=os(Ss),u=U.T,d=J.p;try{J.p=32>o?32:o,U.T=null,o=Tp,Tp=null;var g=ur,T=Ss;if(Be=0,Po=ur=null,Ss=0,(Gt&6)!==0)throw Error(s(331));var w=Gt;if(Gt|=4,RT(g.current),ST(g,g.current,T,o),Gt=w,bu(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(si,g)}catch{}return!0}finally{J.p=d,U.T=u,GT(i,r)}}function KT(i,r,o){r=Gn(o,r),r=Zm(i.stateNode,r,2),i=nr(i,r,2),i!==null&&(na(i,2),Yi(i))}function Xt(i,r,o){if(i.tag===3)KT(i,i,o);else for(;r!==null;){if(r.tag===3){KT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(lr===null||!lr.has(u))){i=Gn(o,i),o=$0(2),u=nr(r,o,2),u!==null&&(Q0(o,u,r,i),na(u,2),Yi(u));break}}r=r.return}}function Sp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new I2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(gp=!0,d.add(o),i=P2.bind(null,i,r,o),r.then(i,i))}function P2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ie===i&&(Pt&o)===o&&(ve===4||ve===3&&(Pt&62914560)===Pt&&300>fn()-Fh?(Gt&2)===0&&Vo(i,0):yp|=o,Oo===Pt&&(Oo=0)),Yi(i)}function $T(i,r){r===0&&(r=Hc()),i=ga(i,r),i!==null&&(na(i,r),Yi(i))}function V2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),$T(i,o)}function k2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),$T(i,o)}function L2(i,r){return je(i,r)}var Qh=null,Lo=null,Ap=!1,Xh=!1,xp=!1,hr=0;function Yi(i){i!==Lo&&i.next===null&&(Lo===null?Qh=Lo=i:Lo=Lo.next=i),Xh=!0,Ap||(Ap=!0,j2())}function bu(i,r){if(!xp&&Xh){xp=!0;do for(var o=!1,u=Qh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Te(42|i)+1)-1,g&=d&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,JT(u,g))}else g=Pt,g=Ci(u,u===ie?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ri(u,g)||(o=!0,JT(u,g));u=u.next}while(o);xp=!1}}function U2(){QT()}function QT(){Xh=Ap=!1;var i=0;hr!==0&&Q2()&&(i=hr);for(var r=fn(),o=null,u=Qh;u!==null;){var d=u.next,g=XT(u,r);g===0?(u.next=null,o===null?Qh=d:o.next=d,d===null&&(Lo=o)):(o=u,(i!==0||(g&3)!==0)&&(Xh=!0)),u=d}Be!==0&&Be!==5||bu(i),hr!==0&&(hr=0)}function XT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Te(g),w=1<<T,M=d[T];M===-1?((w&o)===0||(w&u)!==0)&&(d[T]=em(w,r)):M<=r&&(i.expiredLanes|=w),g&=~w}if(r=ie,o=Pt,o=Ci(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&js(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ri(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&js(u),os(o)){case 2:case 8:o=Ml;break;case 32:o=Bs;break;case 268435456:o=jc;break;default:o=Bs}return u=WT.bind(null,i),o=je(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&js(u),i.callbackPriority=2,i.callbackNode=null,2}function WT(i,r){if(Be!==0&&Be!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if($h()&&i.callbackNode!==o)return null;var u=Pt;return u=Ci(i,i===ie?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(MT(i,u,r),XT(i,fn()),i.callbackNode!=null&&i.callbackNode===o?WT.bind(null,i):null)}function JT(i,r){if($h())return null;MT(i,r,!0)}function j2(){W2(function(){(Gt&6)!==0?je(Nl,U2):QT()})}function Rp(){if(hr===0){var i=bo;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),hr=i}return hr}function ZT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ao(""+i)}function tE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function B2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=ZT((d[He]||null).action),T=u.submitter;T&&(r=(r=T[He]||null)?ZT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new ji("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hr!==0){var M=T?tE(d,T):new FormData(d);Km(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(w.preventDefault(),M=T?tE(d,T):new FormData(d),Km(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Cp=0;Cp<cm.length;Cp++){var Ip=cm[Cp],z2=Ip.toLowerCase(),F2=Ip[0].toUpperCase()+Ip.slice(1);di(z2,"on"+F2)}di(N_,"onAnimationEnd"),di(M_,"onAnimationIteration"),di(O_,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(s2,"onTransitionRun"),di(r2,"onTransitionStart"),di(a2,"onTransitionCancel"),di(P_,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function eE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],M=w.instance,K=w.currentTarget;if(w=w.listener,M!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=K;try{g(d)}catch(Z){hh(Z)}d.currentTarget=null,g=M}else for(T=0;T<u.length;T++){if(w=u[T],M=w.instance,K=w.currentTarget,w=w.listener,M!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=K;try{g(d)}catch(Z){hh(Z)}d.currentTarget=null,g=M}}}}function Ot(i,r){var o=r[eo];o===void 0&&(o=r[eo]=new Set);var u=i+"__bubble";o.has(u)||(nE(r,i,2,!1),o.add(u))}function Dp(i,r,o){var u=0;r&&(u|=4),nE(o,i,u,r)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Np(i){if(!i[Wh]){i[Wh]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(q2.has(o)||Dp(o,!1,i),Dp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Wh]||(r[Wh]=!0,Dp("selectionchange",!1,r))}}function nE(i,r,o,u){switch(NE(r)){case 2:var d=yI;break;case 8:d=vI;break;default:d=Yp}o=d.bind(null,r,o,i),d=void 0,!la||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Mp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===d)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;w!==null;){if(T=Mi(w),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=g=T;continue t}w=w.parentNode}}u=u.return}Ys(function(){var K=g,Z=zn(o),nt=[];t:{var Q=V_.get(i);if(Q!==void 0){var W=ji,mt=i;switch(i){case"keypress":if(ca(o)===0)break t;case"keydown":case"keyup":W=lh;break;case"focusin":mt="focus",W=fa;break;case"focusout":mt="blur",W=fa;break;case"beforeblur":case"afterblur":W=fa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case N_:case M_:case O_:W=eh;break;case P_:W=A;break;case"scroll":case"scrollend":W=Kl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=cs;break;case"toggle":case"beforetoggle":W=Ct}var Tt=(r&4)!==0,ne=!Tt&&(i==="scroll"||i==="scrollend"),z=Tt?Q!==null?Q+"Capture":null:Q;Tt=[];for(var j=K,G;j!==null;){var et=j;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||z===null||(et=ui(j,z),et!=null&&Tt.push(Su(j,et,G))),ne)break;j=j.return}0<Tt.length&&(Q=new W(Q,mt,null,o,Z),nt.push({event:Q,listeners:Tt}))}}if((r&7)===0){t:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==Hl&&(mt=o.relatedTarget||o.fromElement)&&(Mi(mt)||mt[Di]))break t;if((W||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(mt=o.relatedTarget||o.toElement,W=K,mt=mt?Mi(mt):null,mt!==null&&(ne=l(mt),Tt=mt.tag,mt!==ne||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(W=null,mt=K),W!==mt)){if(Tt=$l,et="onMouseLeave",z="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=cs,et="onPointerLeave",z="onPointerEnter",j="pointer"),ne=W==null?Q:Rn(W),G=mt==null?Q:Rn(mt),Q=new Tt(et,j+"leave",W,o,Z),Q.target=ne,Q.relatedTarget=G,et=null,Mi(Z)===K&&(Tt=new Tt(z,j+"enter",mt,o,Z),Tt.target=G,Tt.relatedTarget=ne,et=Tt),ne=et,W&&mt)e:{for(Tt=H2,z=W,j=mt,G=0,et=z;et;et=Tt(et))G++;et=0;for(var vt=j;vt;vt=Tt(vt))et++;for(;0<G-et;)z=Tt(z),G--;for(;0<et-G;)j=Tt(j),et--;for(;G--;){if(z===j||j!==null&&z===j.alternate){Tt=z;break e}z=Tt(z),j=Tt(j)}Tt=null}else Tt=null;W!==null&&iE(nt,Q,W,Tt,!1),mt!==null&&ne!==null&&iE(nt,ne,mt,Tt,!0)}}t:{if(Q=K?Rn(K):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Ft=T_;else if(v_(Q))if(E_)Ft=e2;else{Ft=ZC;var pt=JC}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&ro(K.elementType)&&(Ft=T_):Ft=t2;if(Ft&&(Ft=Ft(i,K))){__(nt,Ft,o,Z);break t}pt&&pt(i,Q,K),i==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&zl(Q,"number",Q.value)}switch(pt=K?Rn(K):window,i){case"focusin":(v_(pt)||pt.contentEditable==="true")&&(mo=pt,om=K,Zl=null);break;case"focusout":Zl=om=mo=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,I_(nt,o,Z);break;case"selectionchange":if(i2)break;case"keydown":case"keyup":I_(nt,o,Z)}var Nt;if(Ht)t:{switch(i){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else fo?da(i,o)&&(Vt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Vt="onCompositionStart");Vt&&(Fi&&o.locale!=="ko"&&(fo||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&fo&&(Nt=Yl()):(Ui=Z,Gl="value"in Ui?Ui.value:Ui.textContent,fo=!0)),pt=Jh(K,Vt),0<pt.length&&(Vt=new zi(Vt,i,null,o,Z),nt.push({event:Vt,listeners:pt}),Nt?Vt.data=Nt:(Nt=ho(o),Nt!==null&&(Vt.data=Nt)))),(Nt=qn?$C(i,o):QC(i,o))&&(Vt=Jh(K,"onBeforeInput"),0<Vt.length&&(pt=new zi("onBeforeInput","beforeinput",null,o,Z),nt.push({event:pt,listeners:Vt}),pt.data=Nt)),B2(nt,i,K,o,Z)}eE(nt,r)})}function Su(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Jh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ui(i,o),d!=null&&u.unshift(Su(i,d,g)),d=ui(i,r),d!=null&&u.push(Su(i,d,g))),i.tag===3)return u;i=i.return}return[]}function H2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function iE(i,r,o,u,d){for(var g=r._reactName,T=[];o!==null&&o!==u;){var w=o,M=w.alternate,K=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||K===null||(M=K,d?(K=ui(o,g),K!=null&&T.unshift(Su(o,K,M))):d||(K=ui(o,g),K!=null&&T.push(Su(o,K,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var G2=/\r\n?/g,Y2=/\u0000|\uFFFD/g;function sE(i){return(typeof i=="string"?i:""+i).replace(G2,`
`).replace(Y2,"")}function rE(i,r){return r=sE(r),sE(i)===r}function ee(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||yn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&yn(i,""+u);break;case"className":Cn(i,"class",u);break;case"tabIndex":Cn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(i,o,u);break;case"style":ql(i,u,g);break;case"data":if(r!=="object"){Cn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ee(i,r,"name",d.name,d,null),ee(i,r,"formEncType",d.formEncType,d,null),ee(i,r,"formMethod",d.formMethod,d,null),ee(i,r,"formTarget",d.formTarget,d,null)):(ee(i,r,"encType",d.encType,d,null),ee(i,r,"method",d.method,d,null),ee(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=li);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ao(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),io(i,"popover",u);break;case"xlinkActuate":Ie(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jc.get(o)||o,io(i,o,u))}}function Op(i,r,o,u,d,g){switch(o){case"style":ql(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?yn(i,u):(typeof u=="number"||typeof u=="bigint")&&yn(i,""+u);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"onClick":u!=null&&(i.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[He]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):io(i,o,u)}}}function en(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(i,r,g,T,o,null)}}d&&ee(i,r,"srcSet",o.srcSet,o,null),u&&ee(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var w=g=T=d=null,M=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":T=Z;break;case"checked":M=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:ee(i,r,u,Z,o,null)}}Qc(i,g,w,M,K,T,d,!1);return;case"select":Ot("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:ee(i,r,d,w,o,null)}r=g,o=T,i.multiple=!!u,r!=null?Fs(i,!!u,r,!1):o!=null&&Fs(i,!!u,o,!0);return;case"textarea":Ot("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ee(i,r,T,w,o,null)}qs(i,u,d,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ee(i,r,M,u,o,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(u=0;u<wu.length;u++)Ot(wu[u],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(i,r,K,u,o,null)}return;default:if(ro(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Op(i,r,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ee(i,r,w,u,o,null))}function K2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,w=null,M=null,K=null,Z=null;for(W in o){var nt=o[W];if(o.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=nt;default:u.hasOwnProperty(W)||ee(i,r,W,null,u,nt)}}for(var Q in u){var W=u[Q];if(nt=o[Q],u.hasOwnProperty(Q)&&(W!=null||nt!=null))switch(Q){case"type":g=W;break;case"name":d=W;break;case"checked":K=W;break;case"defaultChecked":Z=W;break;case"value":T=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==nt&&ee(i,r,Q,W,u,nt)}}so(i,T,w,M,K,Z,g,d);return;case"select":W=T=w=Q=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":W=M;default:u.hasOwnProperty(g)||ee(i,r,g,null,u,M)}for(d in u)if(g=u[d],M=o[d],u.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":Q=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==M&&ee(i,r,d,g,u,M)}r=w,o=T,u=W,Q!=null?Fs(i,!!o,Q,!1):!!u!=!!o&&(r!=null?Fs(i,!!o,r,!0):Fs(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ee(i,r,w,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Q=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&ee(i,r,T,d,u,g)}Xc(i,Q,W);return;case"option":for(var mt in o)Q=o[mt],o.hasOwnProperty(mt)&&Q!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:ee(i,r,mt,null,u,Q));for(M in u)Q=u[M],W=o[M],u.hasOwnProperty(M)&&Q!==W&&(Q!=null||W!=null)&&(M==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ee(i,r,M,Q,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)Q=o[Tt],o.hasOwnProperty(Tt)&&Q!=null&&!u.hasOwnProperty(Tt)&&ee(i,r,Tt,null,u,Q);for(K in u)if(Q=u[K],W=o[K],u.hasOwnProperty(K)&&Q!==W&&(Q!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:ee(i,r,K,Q,u,W)}return;default:if(ro(r)){for(var ne in o)Q=o[ne],o.hasOwnProperty(ne)&&Q!==void 0&&!u.hasOwnProperty(ne)&&Op(i,r,ne,void 0,u,Q);for(Z in u)Q=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Q===W||Q===void 0&&W===void 0||Op(i,r,Z,Q,u,W);return}}for(var z in o)Q=o[z],o.hasOwnProperty(z)&&Q!=null&&!u.hasOwnProperty(z)&&ee(i,r,z,null,u,Q);for(nt in u)Q=u[nt],W=o[nt],!u.hasOwnProperty(nt)||Q===W||Q==null&&W==null||ee(i,r,nt,Q,u,W)}function aE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,w=d.duration;if(g&&w&&aE(T)){for(T=0,w=d.responseEnd,u+=1;u<o.length;u++){var M=o[u],K=M.startTime;if(K>w)break;var Z=M.transferSize,nt=M.initiatorType;Z&&aE(nt)&&(M=M.responseEnd,T+=Z*(M<w?1:(w-K)/(M-K)))}if(--u,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Pp=null,Vp=null;function Zh(i){return i.nodeType===9?i:i.ownerDocument}function oE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function kp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lp=null;function Q2(){var i=window.event;return i&&i.type==="popstate"?i===Lp?!1:(Lp=i,!0):(Lp=null,!1)}var uE=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,W2=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(i){return cE.resolve(null).then(i).catch(J2)}:uE;function J2(i){setTimeout(function(){throw i})}function fr(i){return i==="head"}function hE(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),zo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Au(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Au(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Ni]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Au(i.ownerDocument.body);o=d}while(o);zo(r)}function fE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Up(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Up(o),no(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Z2(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Xn(i.nextSibling),i===null)break}return null}function tI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Xn(i.nextSibling),i===null))return null;return i}function dE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Xn(i.nextSibling),i===null))return null;return i}function jp(i){return i.data==="$?"||i.data==="$~"}function Bp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function eI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Xn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var zp=null;function mE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Xn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function pE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function gE(i,r,o){switch(r=Zh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Au(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);no(i)}var Wn=new Map,yE=new Set;function tf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var As=J.d;J.d={f:nI,r:iI,D:sI,C:rI,L:aI,m:oI,X:uI,S:lI,M:cI};function nI(){var i=As.f(),r=Gh();return i||r}function iI(i){var r=Bn(i);r!==null&&r.tag===5&&r.type==="form"?P0(r):As.r(i)}var Uo=typeof document>"u"?null:document;function vE(i,r,o){var u=Uo;if(u&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),yE.has(d)||(yE.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),en(r,"link",i),Ce(r),u.head.appendChild(r)))}}function sI(i){As.D(i),vE("dns-prefetch",i,null)}function rI(i,r){As.C(i,r),vE("preconnect",i,r)}function aI(i,r,o){As.L(i,r,o);var u=Uo;if(u&&i&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+gn(o.imageSizes)+'"]')):d+='[href="'+gn(i)+'"]';var g=d;switch(r){case"style":g=jo(i);break;case"script":g=Bo(i)}Wn.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Wn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(xu(g))||r==="script"&&u.querySelector(Ru(g))||(r=u.createElement("link"),en(r,"link",i),Ce(r),u.head.appendChild(r)))}}function oI(i,r){As.m(i,r);var o=Uo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(i)}if(!Wn.has(g)&&(i=_({rel:"modulepreload",href:i},r),Wn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ru(g)))return}u=o.createElement("link"),en(u,"link",i),Ce(u),o.head.appendChild(u)}}}function lI(i,r,o){As.S(i,r,o);var u=Uo;if(u&&i){var d=Oi(u).hoistableStyles,g=jo(i);r=r||"default";var T=d.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(xu(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Wn.get(g))&&Fp(i,o);var M=T=u.createElement("link");Ce(M),en(M,"link",i),M._p=new Promise(function(K,Z){M.onload=K,M.onerror=Z}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ef(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},d.set(g,T)}}}function uI(i,r){As.X(i,r);var o=Uo;if(o&&i){var u=Oi(o).hoistableScripts,d=Bo(i),g=u.get(d);g||(g=o.querySelector(Ru(d)),g||(i=_({src:i,async:!0},r),(r=Wn.get(d))&&qp(i,r),g=o.createElement("script"),Ce(g),en(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function cI(i,r){As.M(i,r);var o=Uo;if(o&&i){var u=Oi(o).hoistableScripts,d=Bo(i),g=u.get(d);g||(g=o.querySelector(Ru(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Wn.get(d))&&qp(i,r),g=o.createElement("script"),Ce(g),en(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function _E(i,r,o,u){var d=(d=Dt.current)?tf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=jo(o.href),o=Oi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=jo(o.href);var g=Oi(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(xu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Wn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(i,o),g||hI(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Bo(o),o=Oi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jo(i){return'href="'+gn(i)+'"'}function xu(i){return'link[rel="stylesheet"]['+i+"]"}function TE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function hI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),en(r,"link",o),Ce(r),i.head.appendChild(r))}function Bo(i){return'[src="'+gn(i)+'"]'}function Ru(i){return"script[async]"+i}function EE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return r.instance=u,Ce(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),en(u,"style",d),ef(u,o.precedence,i),r.instance=u;case"stylesheet":d=jo(o.href);var g=i.querySelector(xu(d));if(g)return r.state.loading|=4,r.instance=g,Ce(g),g;u=TE(o),(d=Wn.get(d))&&Fp(u,d),g=(i.ownerDocument||i).createElement("link"),Ce(g);var T=g;return T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),en(g,"link",u),r.state.loading|=4,ef(g,o.precedence,i),r.instance=g;case"script":return g=Bo(o.src),(d=i.querySelector(Ru(g)))?(r.instance=d,Ce(d),d):(u=o,(d=Wn.get(g))&&(u=_({},o),qp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ce(d),en(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ef(u,o.precedence,i));return r.instance}function ef(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Fp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function qp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var nf=null;function bE(i,r,o){if(nf===null){var u=new Map,d=nf=new Map;d.set(o,u)}else d=nf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ni]||g[Re]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function wE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function fI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function SE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function dI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=jo(u.href),g=r.querySelector(xu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ce(g);return}g=r.ownerDocument||r,u=TE(u),(d=Wn.get(d))&&Fp(u,d),g=g.createElement("link"),Ce(g);var T=g;T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),en(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=sf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Hp=0;function mI(i,r){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Hp===0&&(Hp=62500*$2());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Hp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function af(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,r.forEach(pI,i),rf=null,sf.call(i))}function pI(i,r){if(!(r.state.loading&4)){var o=rf.get(i);if(o)var u=o.get(null);else{o=new Map,rf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=sf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Cu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function gI(i,r,o,u,d,g,T,w,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function AE(i,r,o,u,d,g,T,w,M,K,Z,nt){return i=new gI(i,r,o,T,M,K,Z,nt,w),r=1,g===!0&&(r|=24),g=Dn(3,null,null,r),i.current=g,g.stateNode=i,r=wm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Rm(g),i}function xE(i){return i?(i=yo,i):yo}function RE(i,r,o,u,d,g){d=xE(d),u.context===null?u.context=d:u.pendingContext=d,u=er(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=nr(i,u,r),o!==null&&(bn(o,i,r),au(o,i,r))}function CE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Gp(i,r){CE(i,r),(i=i.alternate)&&CE(i,r)}function IE(i){if(i.tag===13||i.tag===31){var r=ga(i,67108864);r!==null&&bn(r,i,67108864),Gp(i,67108864)}}function DE(i){if(i.tag===13||i.tag===31){var r=Vn();r=sa(r);var o=ga(i,r);o!==null&&bn(o,i,r),Gp(i,r)}}var of=!0;function yI(i,r,o,u){var d=U.T;U.T=null;var g=J.p;try{J.p=2,Yp(i,r,o,u)}finally{J.p=g,U.T=d}}function vI(i,r,o,u){var d=U.T;U.T=null;var g=J.p;try{J.p=8,Yp(i,r,o,u)}finally{J.p=g,U.T=d}}function Yp(i,r,o,u){if(of){var d=Kp(u);if(d===null)Mp(i,r,u,lf,o),ME(i,u);else if(TI(d,i,r,o,u))u.stopPropagation();else if(ME(i,u),r&4&&-1<_I.indexOf(i)){for(;d!==null;){var g=Bn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ri(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var M=1<<31-Te(T);w.entanglements[1]|=M,T&=~M}Yi(g),(Gt&6)===0&&(qh=fn()+500,bu(0))}}break;case 31:case 13:w=ga(g,2),w!==null&&bn(w,g,2),Gh(),Gp(g,2)}if(g=Kp(u),g===null&&Mp(i,r,u,lf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Mp(i,r,u,null,o)}}function Kp(i){return i=zn(i),$p(i)}var lf=null;function $p(i){if(lf=null,i=Mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return lf=i,null}function NE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ta()){case Nl:return 2;case Ml:return 8;case Bs:case tm:return 32;case jc:return 268435456;default:return 32}default:return 32}}var Qp=!1,dr=null,mr=null,pr=null,Iu=new Map,Du=new Map,gr=[],_I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ME(i,r){switch(i){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Iu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(r.pointerId)}}function Nu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Bn(r),r!==null&&IE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function TI(i,r,o,u,d){switch(r){case"focusin":return dr=Nu(dr,i,r,o,u,d),!0;case"dragenter":return mr=Nu(mr,i,r,o,u,d),!0;case"mouseover":return pr=Nu(pr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Iu.set(g,Nu(Iu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Du.set(g,Nu(Du.get(g)||null,i,r,o,u,d)),!0}return!1}function OE(i){var r=Mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ai(i.priority,function(){DE(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,ai(i.priority,function(){DE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Kp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Hl=u,o.target.dispatchEvent(u),Hl=null}else return r=Bn(o),r!==null&&IE(r),i.blockedOn=o,!1;r.shift()}return!0}function PE(i,r,o){uf(i)&&o.delete(r)}function EI(){Qp=!1,dr!==null&&uf(dr)&&(dr=null),mr!==null&&uf(mr)&&(mr=null),pr!==null&&uf(pr)&&(pr=null),Iu.forEach(PE),Du.forEach(PE)}function cf(i,r){i.blockedOn===r&&(i.blockedOn=null,Qp||(Qp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,EI)))}var hf=null;function VE(i){hf!==i&&(hf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hf===i&&(hf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if($p(u||o)===null)continue;break}var g=Bn(o);g!==null&&(i.splice(r,3),r-=3,Km(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function zo(i){function r(M){return cf(M,i)}dr!==null&&cf(dr,i),mr!==null&&cf(mr,i),pr!==null&&cf(pr,i),Iu.forEach(r),Du.forEach(r);for(var o=0;o<gr.length;o++){var u=gr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<gr.length&&(o=gr[0],o.blockedOn===null);)OE(o),o.blockedOn===null&&gr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[He]||null;if(typeof g=="function")T||VE(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[He]||null)w=T.formAction;else if($p(d)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),VE(o)}}}function kE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Xp(i){this._internalRoot=i}ff.prototype.render=Xp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Vn();RE(o,u,i,r,null,null)},ff.prototype.unmount=Xp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;RE(i.current,2,null,i,null,null),Gh(),r[Di]=null}};function ff(i){this._internalRoot=i}ff.prototype.unstable_scheduleHydration=function(i){if(i){var r=Gc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<gr.length&&r!==0&&r<gr[o].priority;o++);gr.splice(o,0,i),o===0&&OE(i)}};var LE=t.version;if(LE!=="19.2.3")throw Error(s(527,LE,"19.2.3"));J.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var bI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{si=df.inject(bI),Xe=df}catch{}}return Ou.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=H0,g=G0,T=Y0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=AE(i,1,!1,null,null,o,u,null,d,g,T,kE),i[Di]=r.current,Np(i),new Xp(r)},Ou.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=H0,T=G0,w=Y0,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=AE(i,1,!0,r,o??null,u,d,M,g,T,w,kE),r.context=xE(null),o=r.current,u=Vn(),u=sa(u),d=er(u),d.callback=null,nr(o,d,u),o=u,r.current.lanes=o,na(r,o),Yi(r),i[Di]=r.current,Np(i),new ff(r)},Ou.version="19.2.3",Ou}var KE;function MI(){if(KE)return Zp.exports;KE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zp.exports=NI(),Zp.exports}var OI=MI();var $E="popstate";function PI(e={}){function t(s,a){let{pathname:l,search:c,hash:f}=s.location;return Lg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:nc(a)}return kI(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ni(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VI(){return Math.random().toString(36).substring(2,10)}function QE(e,t){return{usr:e.state,key:e.key,idx:t}}function Lg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gl(t):t,state:n,key:t&&t.key||s||VI()}}function nc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function kI(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let P=y(),q=P==null?null:P-p;p=P,m&&m({action:f,location:B.location,delta:q})}function b(P,q){f="PUSH";let $=Lg(B.location,P,q);p=y()+1;let Y=QE($,p),rt=B.createHref($);try{c.pushState(Y,"",rt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;a.location.assign(rt)}l&&m&&m({action:f,location:B.location,delta:1})}function R(P,q){f="REPLACE";let $=Lg(B.location,P,q);p=y();let Y=QE($,p),rt=B.createHref($);c.replaceState(Y,"",rt),l&&m&&m({action:f,location:B.location,delta:0})}function D(P){return LI(P)}let B={get action(){return f},get location(){return e(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener($E,_),m=P,()=>{a.removeEventListener($E,_),m=null}},createHref(P){return t(a,P)},createURL:D,encodeLocation(P){let q=D(P);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:b,replace:R,go(P){return c.go(P)}};return B}function LI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:nc(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function c1(e,t,n="/"){return UI(e,t,n,!1)}function UI(e,t,n,s){let a=typeof t=="string"?gl(t):t,l=Ns(a.pathname||"/",n);if(l==null)return null;let c=h1(e);jI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=XI(l);f=$I(c[m],p,s)}return f}function h1(e,t=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;fe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Cs([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),h1(c.children,t,b,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:YI(_,c.index),routesMeta:b})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of f1(c.path))l(c,f,!0,m)}),t}function f1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=f1(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function jI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:KI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BI=/^:[\w-]+$/,zI=3,FI=2,qI=1,HI=10,GI=-2,XE=e=>e==="*";function YI(e,t){let n=e.split("/"),s=n.length;return n.some(XE)&&(s+=GI),t&&(s+=FI),n.filter(a=>!XE(a)).reduce((a,l)=>a+(BI.test(l)?zI:l===""?qI:HI),s)}function KI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function $I(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=zf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=zf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Cs([l,_.pathname]),pathnameBase:tD(Cs([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Cs([l,_.pathnameBase]))}return c}function zf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=QI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let D=f[b]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const R=f[b];return _&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function QI(e,t=!1,n=!0){ni(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function XI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ni(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ns(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WI=e=>d1.test(e);function JI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?gl(e):e,l;if(n)if(WI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ni(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=WE(n.substring(1),"/"):l=WE(n,t)}else l=t;return{pathname:l,search:eD(s),hash:nD(a)}}function WE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ig(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Uy(e){let t=ZI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function jy(e,t,n,s=!1){let a;typeof e=="string"?a=gl(e):(a={...e},fe(!a.pathname||!a.pathname.includes("?"),ig("?","pathname","search",a)),fe(!a.pathname||!a.pathname.includes("#"),ig("#","pathname","hash",a)),fe(!a.search||!a.search.includes("#"),ig("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?t[_]:"/"}let m=JI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Cs=e=>e.join("/").replace(/\/\/+/g,"/"),tD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,iD=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function sD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function rD(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var m1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function p1(e,t){let n=e;if(typeof n!="string"||!d1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(m1)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Ns(c.pathname,t);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{ni(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var g1=["POST","PUT","PATCH","DELETE"];new Set(g1);var aD=["GET",...g1];new Set(aD);var yl=O.createContext(null);yl.displayName="DataRouter";var _d=O.createContext(null);_d.displayName="DataRouterState";var oD=O.createContext(!1),y1=O.createContext({isTransitioning:!1});y1.displayName="ViewTransition";var lD=O.createContext(new Map);lD.displayName="Fetchers";var uD=O.createContext(null);uD.displayName="Await";var Un=O.createContext(null);Un.displayName="Navigation";var yc=O.createContext(null);yc.displayName="Location";var ss=O.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var By=O.createContext(null);By.displayName="RouteError";var v1="REACT_ROUTER_ERROR",cD="REDIRECT",hD="ROUTE_ERROR_RESPONSE";function fD(e){if(e.startsWith(`${v1}:${cD}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function dD(e){if(e.startsWith(`${v1}:${hD}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new iD(t.status,t.statusText,t.data)}catch{}}function mD(e,{relative:t}={}){fe(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Un),{hash:a,pathname:l,search:c}=vc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:Cs([n,l])),s.createHref({pathname:f,search:c,hash:a})}function vl(){return O.useContext(yc)!=null}function Yr(){return fe(vl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(yc).location}var _1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(e){O.useContext(Un).static||O.useLayoutEffect(e)}function Td(){let{isDataRoute:e}=O.useContext(ss);return e?RD():pD()}function pD(){fe(vl(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(yl),{basename:t,navigator:n}=O.useContext(Un),{matches:s}=O.useContext(ss),{pathname:a}=Yr(),l=JSON.stringify(Uy(s)),c=O.useRef(!1);return T1(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(ni(c.current,_1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=jy(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Cs([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}O.createContext(null);function vc(e,{relative:t}={}){let{matches:n}=O.useContext(ss),{pathname:s}=Yr(),a=JSON.stringify(Uy(n));return O.useMemo(()=>jy(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function gD(e,t){return E1(e,t)}function E1(e,t,n,s,a){fe(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Un),{matches:c}=O.useContext(ss),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let $=_&&_.path||"";w1(p,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Yr(),R;if(t){let $=typeof t=="string"?gl(t):t;fe(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),R=$}else R=b;let D=R.pathname||"/",B=D;if(y!=="/"){let $=y.replace(/^\//,"").split("/");B="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let P=c1(e,{pathname:B});ni(_||P!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ni(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=ED(P&&P.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:Cs([y,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Cs([y,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,s,a);return t&&q?O.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},q):q}function yD(){let e=xD(),t=sD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,c)}var vD=O.createElement(yD,null),b1=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=dD(e.digest);n&&(e=n)}let t=e!==void 0?O.createElement(ss.Provider,{value:this.props.routeContext},O.createElement(By.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?O.createElement(_D,{error:e},t):t}};b1.contextType=oD;var sg=new WeakMap;function _D({children:e,error:t}){let{basename:n}=O.useContext(Un);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=fD(t.digest);if(s){let a=sg.get(t);if(a)throw a;let l=p1(s.location,n);if(m1&&!sg.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw sg.set(t,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function TD({routeContext:e,match:t,children:n}){let s=O.useContext(yl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(ss.Provider,{value:e},n)}function ED(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);fe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:R}=n,D=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rD(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,b)=>{let R,D=!1,B=null,P=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,B=_.route.errorElement||vD,f&&(m<0&&b===0?(w1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,P=null):m===b&&(D=!0,P=_.route.hydrateFallbackElement||null)));let q=t.concat(l.slice(0,b+1)),$=()=>{let Y;return R?Y=B:D?Y=P:_.route.Component?Y=O.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=y,O.createElement(TD,{match:_,routeContext:{outlet:y,matches:q,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?O.createElement(b1,{location:n.location,revalidation:n.revalidation,component:B,error:R,children:$(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:p}):$()},null)}function zy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bD(e){let t=O.useContext(yl);return fe(t,zy(e)),t}function wD(e){let t=O.useContext(_d);return fe(t,zy(e)),t}function SD(e){let t=O.useContext(ss);return fe(t,zy(e)),t}function Fy(e){let t=SD(e),n=t.matches[t.matches.length-1];return fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function AD(){return Fy("useRouteId")}function xD(){let e=O.useContext(By),t=wD("useRouteError"),n=Fy("useRouteError");return e!==void 0?e:t.errors?.[n]}function RD(){let{router:e}=bD("useNavigate"),t=Fy("useNavigate"),n=O.useRef(!1);return T1(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{ni(n.current,_1),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var JE={};function w1(e,t,n){!t&&!JE[e]&&(JE[e]=!0,ni(!1,n))}O.memo(CD);function CD({routes:e,future:t,state:n,onError:s}){return E1(e,void 0,n,s,t)}function ZE({to:e,replace:t,state:n,relative:s}){fe(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Un);ni(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(ss),{pathname:c}=Yr(),f=Td(),m=jy(e,Uy(l),c,s==="path"),p=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(p),{replace:t,state:n,relative:s})},[f,p,s,t,n]),null}function qo(e){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ID({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){fe(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=gl(n));let{pathname:p="/",search:y="",hash:_="",state:b=null,key:R="default"}=n,D=O.useMemo(()=>{let B=Ns(p,f);return B==null?null:{location:{pathname:B,search:y,hash:_,state:b,key:R},navigationType:s}},[f,p,y,_,b,R,s]);return ni(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:O.createElement(Un.Provider,{value:m},O.createElement(yc.Provider,{children:t,value:D}))}function DD({children:e,location:t}){return gD(Ug(e),t)}function Ug(e,t=[]){let n=[];return O.Children.forEach(e,(s,a)=>{if(!O.isValidElement(s))return;let l=[...t,a];if(s.type===O.Fragment){n.push.apply(n,Ug(s.props.children,l));return}fe(s.type===qo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ug(s.props.children,l)),n.push(c)}),n}var xf="get",Rf="application/x-www-form-urlencoded";function Ed(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ND(e){return Ed(e)&&e.tagName.toLowerCase()==="button"}function MD(e){return Ed(e)&&e.tagName.toLowerCase()==="form"}function OD(e){return Ed(e)&&e.tagName.toLowerCase()==="input"}function PD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VD(e,t){return e.button===0&&(!t||t==="_self")&&!PD(e)}var mf=null;function kD(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var LD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(e){return e!=null&&!LD.has(e)?(ni(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):e}function UD(e,t){let n,s,a,l,c;if(MD(e)){let f=e.getAttribute("action");s=f?Ns(f,t):null,n=e.getAttribute("method")||xf,a=rg(e.getAttribute("enctype"))||Rf,l=new FormData(e)}else if(ND(e)||OD(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(s=m?Ns(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||xf,a=rg(e.getAttribute("formenctype"))||rg(f.getAttribute("enctype"))||Rf,l=new FormData(f,e),!kD()){let{name:p,type:y,value:_}=e;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(Ed(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xf,s=null,a=Rf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jD(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Ns(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function BD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function FD(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await BD(l,n);return c.links?c.links():[]}return[]}));return YD(s.flat(1).filter(zD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tb(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function qD(e,t,{includeHydrateFallback:n}={}){return HD(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function HD(e){return[...new Set(e)]}function GD(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function YD(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(GD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function S1(){let e=O.useContext(yl);return qy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function KD(){let e=O.useContext(_d);return qy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hy=O.createContext(void 0);Hy.displayName="FrameworkContext";function A1(){let e=O.useContext(Hy);return qy(e,"You must render this element inside a <HydratedRouter> element"),e}function $D(e,t){let n=O.useContext(Hy),[s,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,b=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let B=q=>{q.forEach($=>{c($.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[e]),O.useEffect(()=>{if(s){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[s]);let R=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Pu(f,R),onBlur:Pu(m,D),onMouseEnter:Pu(p,R),onMouseLeave:Pu(y,D),onTouchStart:Pu(_,R)}]:[!1,b,{}]}function Pu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function QD({page:e,...t}){let{router:n}=S1(),s=O.useMemo(()=>c1(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?O.createElement(WD,{page:e,matches:s,...t}):null}function XD(e){let{manifest:t,routeModules:n}=A1(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return FD(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function WD({page:e,matches:t,...n}){let s=Yr(),{manifest:a,routeModules:l}=A1(),{basename:c}=S1(),{loaderData:f,matches:m}=KD(),p=O.useMemo(()=>tb(e,t,m,a,s,"data"),[e,t,m,a,s]),y=O.useMemo(()=>tb(e,t,m,a,s,"assets"),[e,t,m,a,s]),_=O.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let D=new Set,B=!1;if(t.forEach(q=>{let $=a.routes[q.route.id];!$||!$.hasLoader||(!p.some(Y=>Y.route.id===q.route.id)&&q.route.id in f&&l[q.route.id]?.shouldRevalidate||$.hasClientLoader?B=!0:D.add(q.route.id))}),D.size===0)return[];let P=jD(e,c,"data");return B&&D.size>0&&P.searchParams.set("_routes",t.filter(q=>D.has(q.route.id)).map(q=>q.route.id).join(",")),[P.pathname+P.search]},[c,f,s,a,p,t,e,l]),b=O.useMemo(()=>qD(y,a),[y,a]),R=XD(y);return O.createElement(O.Fragment,null,_.map(D=>O.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>O.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:B})=>O.createElement("link",{key:D,nonce:n.nonce,...B})))}function JD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var ZD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZD&&(window.__reactRouterVersion="7.11.0")}catch{}function tN({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=O.useRef();a.current==null&&(a.current=PI({window:s,v5Compat:!0}));let l=a.current,[c,f]=O.useState({action:l.action,location:l.location}),m=O.useCallback(p=>{n===!1?f(p):O.startTransition(()=>f(p))},[n]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.createElement(ID,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var x1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oa=O.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...R},D){let{basename:B,unstable_useTransitions:P}=O.useContext(Un),q=typeof p=="string"&&x1.test(p),$=p1(p,B);p=$.to;let Y=mD(p,{relative:a}),[rt,at,ot]=$D(s,R),C=sN(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:P});function x(L){t&&t(L),L.defaultPrevented||C(L)}let I=O.createElement("a",{...R,...ot,href:$.absoluteURL||Y,onClick:$.isExternal||l?t:x,ref:JD(D,at),target:m,"data-discover":!q&&n==="render"?"true":void 0});return rt&&!q?O.createElement(O.Fragment,null,I,O.createElement(QD,{page:Y})):I});Oa.displayName="Link";var eN=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=vc(c,{relative:p.relative}),b=Yr(),R=O.useContext(_d),{navigator:D,basename:B}=O.useContext(Un),P=R!=null&&uN(_)&&f===!0,q=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,$=b.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||($=$.toLowerCase(),Y=Y?Y.toLowerCase():null,q=q.toLowerCase()),Y&&B&&(Y=Ns(Y,B)||Y);const rt=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let at=$===q||!a&&$.startsWith(q)&&$.charAt(rt)==="/",ot=Y!=null&&(Y===q||!a&&Y.startsWith(q)&&Y.charAt(q.length)==="/"),C={isActive:at,isPending:ot,isTransitioning:P},x=at?t:void 0,I;typeof s=="function"?I=s(C):I=[s,at?"active":null,ot?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(C):l;return O.createElement(Oa,{...p,"aria-current":x,className:I,ref:y,style:L,to:c,viewTransition:f},typeof m=="function"?m(C):m)});eN.displayName="NavLink";var nN=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=xf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...R},D)=>{let{unstable_useTransitions:B}=O.useContext(Un),P=oN(),q=lN(f,{relative:p}),$=c.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&x1.test(f),rt=at=>{if(m&&m(at),at.defaultPrevented)return;at.preventDefault();let ot=at.nativeEvent.submitter,C=ot?.getAttribute("formmethod")||c,x=()=>P(ot||at.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b});B&&n!==!1?O.startTransition(()=>x()):x()};return O.createElement("form",{ref:D,method:$,action:q,onSubmit:s?m:rt,...R,"data-discover":!Y&&e==="render"?"true":void 0})});nN.displayName="Form";function iN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(e){let t=O.useContext(yl);return fe(t,iN(e)),t}function sN(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Td(),y=Yr(),_=vc(e,{relative:l});return O.useCallback(b=>{if(VD(b,t)){b.preventDefault();let R=n!==void 0?n:nc(y)===nc(_),D=()=>p(e,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?O.startTransition(()=>D()):D()}},[y,p,_,n,s,t,e,a,l,c,f,m])}var rN=0,aN=()=>`__${String(++rN)}__`;function oN(){let{router:e}=R1("useSubmit"),{basename:t}=O.useContext(Un),n=AD(),s=e.fetch,a=e.navigate;return O.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:y,body:_}=UD(l,t);if(c.navigate===!1){let b=c.fetcherKey||aN();await s(b,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function lN(e,{relative:t}={}){let{basename:n}=O.useContext(Un),s=O.useContext(ss);fe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...vc(e||".",{relative:t})},c=Yr();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Cs([n,l.pathname])),nc(l)}function uN(e,{relative:t}={}){let n=O.useContext(y1);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R1("useViewTransitionState"),a=vc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Ns(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ns(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zf(a.pathname,c)!=null||zf(a.pathname,l)!=null}const cN=()=>{};var eb={};const C1=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},hN=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},I1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(b=64)),s.push(n[y],n[_],n[b],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(C1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):hN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new fN;const b=l<<2|f>>4;if(s.push(b),p!==64){const R=f<<4&240|p>>2;if(s.push(R),_!==64){const D=p<<6&192|_;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class fN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dN=function(e){const t=C1(e);return I1.encodeByteArray(t,!0)},Ff=function(e){return dN(e).replace(/\./g,"")},D1=function(e){try{return I1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pN=()=>mN().__FIREBASE_DEFAULTS__,gN=()=>{if(typeof process>"u"||typeof eb>"u")return;const e=eb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},yN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&D1(e[1]);return t&&JSON.parse(t)},bd=()=>{try{return cN()||pN()||gN()||yN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},N1=e=>bd()?.emulatorHosts?.[e],M1=e=>{const t=N1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},O1=()=>bd()?.config,P1=e=>bd()?.[`_${e}`];class vN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Ya(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gy(e){return(await fetch(e,{credentials:"include"})).ok}function V1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Ff(JSON.stringify(n)),Ff(JSON.stringify(c)),""].join(".")}const Gu={};function _N(){const e={prod:[],emulator:[]};for(const t of Object.keys(Gu))Gu[t]?e.emulator.push(t):e.prod.push(t);return e}function TN(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let nb=!1;function Yy(e,t){if(typeof window>"u"||typeof document>"u"||!Ya(window.location.host)||Gu[e]===t||Gu[e]||nb)return;Gu[e]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=_N().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{nb=!0,c()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=TN(s),R=n("text"),D=document.getElementById(R)||document.createElement("span"),B=n("learnmore"),P=document.getElementById(B)||document.createElement("a"),q=n("preprendIcon"),$=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;f(Y),y(P,B);const rt=p();m($,q),Y.append($,D,P,rt),document.body.appendChild(Y)}l?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function bN(){const e=bd()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function AN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xN(){const e=hn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function RN(){return!bN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CN(){try{return typeof indexedDB=="object"}catch{return!1}}function IN(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const DN="FirebaseError";class rs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=DN,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?NN(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new rs(a,f,s)}}function NN(e,t){return e.replace(MN,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const MN=/\{\$([^}]+)}/g;function ON(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ba(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(ib(l)&&ib(c)){if(!Ba(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function ib(e){return e!==null&&typeof e=="object"}function Tc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Uu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function ju(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function PN(e,t){const n=new VN(e,t);return n.subscribe.bind(n)}class VN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kN(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=ag),a.error===void 0&&(a.error=ag),a.complete===void 0&&(a.complete=ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kN(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ag(){}function qe(e){return e&&e._delegate?e._delegate:e}class kr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Da="[DEFAULT]";class LN{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new vN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jN(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UN(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(e){return e===Da?void 0:e}function jN(e){return e.instantiationMode==="EAGER"}class BN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new LN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const zN={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},FN=kt.INFO,qN={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},HN=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=qN[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ky{constructor(t){this.name=t,this._logLevel=FN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const GN=(e,t)=>t.some(n=>e instanceof n);let sb,rb;function YN(){return sb||(sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KN(){return rb||(rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k1=new WeakMap,jg=new WeakMap,L1=new WeakMap,og=new WeakMap,$y=new WeakMap;function $N(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Cr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&k1.set(n,e)}).catch(()=>{}),$y.set(t,e),t}function QN(e){if(jg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});jg.set(e,t)}let Bg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||L1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function XN(e){Bg=e(Bg)}function WN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(lg(this),t,...n);return L1.set(s,t.sort?t.sort():[t]),Cr(s)}:KN().includes(e)?function(...t){return e.apply(lg(this),t),Cr(k1.get(this))}:function(...t){return Cr(e.apply(lg(this),t))}}function JN(e){return typeof e=="function"?WN(e):(e instanceof IDBTransaction&&QN(e),GN(e,YN())?new Proxy(e,Bg):e)}function Cr(e){if(e instanceof IDBRequest)return $N(e);if(og.has(e))return og.get(e);const t=JN(e);return t!==e&&(og.set(e,t),$y.set(t,e)),t}const lg=e=>$y.get(e);function ZN(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=Cr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Cr(c.result),m.oldVersion,m.newVersion,Cr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const tM=["get","getKey","getAll","getAllKeys","count"],eM=["put","add","delete","clear"],ug=new Map;function ab(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ug.get(t))return ug.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=eM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||tM.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return ug.set(t,l),l}XN(e=>({...e,get:(t,n,s)=>ab(t,n)||e.get(t,n,s),has:(t,n)=>!!ab(t,n)||e.has(t,n)}));class nM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iM(e){return e.getComponent()?.type==="VERSION"}const zg="@firebase/app",ob="0.14.6";const Ms=new Ky("@firebase/app"),sM="@firebase/app-compat",rM="@firebase/analytics-compat",aM="@firebase/analytics",oM="@firebase/app-check-compat",lM="@firebase/app-check",uM="@firebase/auth",cM="@firebase/auth-compat",hM="@firebase/database",fM="@firebase/data-connect",dM="@firebase/database-compat",mM="@firebase/functions",pM="@firebase/functions-compat",gM="@firebase/installations",yM="@firebase/installations-compat",vM="@firebase/messaging",_M="@firebase/messaging-compat",TM="@firebase/performance",EM="@firebase/performance-compat",bM="@firebase/remote-config",wM="@firebase/remote-config-compat",SM="@firebase/storage",AM="@firebase/storage-compat",xM="@firebase/firestore",RM="@firebase/ai",CM="@firebase/firestore-compat",IM="firebase",DM="12.6.0";const Fg="[DEFAULT]",NM={[zg]:"fire-core",[sM]:"fire-core-compat",[aM]:"fire-analytics",[rM]:"fire-analytics-compat",[lM]:"fire-app-check",[oM]:"fire-app-check-compat",[uM]:"fire-auth",[cM]:"fire-auth-compat",[hM]:"fire-rtdb",[fM]:"fire-data-connect",[dM]:"fire-rtdb-compat",[mM]:"fire-fn",[pM]:"fire-fn-compat",[gM]:"fire-iid",[yM]:"fire-iid-compat",[vM]:"fire-fcm",[_M]:"fire-fcm-compat",[TM]:"fire-perf",[EM]:"fire-perf-compat",[bM]:"fire-rc",[wM]:"fire-rc-compat",[SM]:"fire-gcs",[AM]:"fire-gcs-compat",[xM]:"fire-fst",[CM]:"fire-fst-compat",[RM]:"fire-vertex","fire-js":"fire-js",[IM]:"fire-js-all"};const qf=new Map,MM=new Map,qg=new Map;function lb(e,t){try{e.container.addComponent(t)}catch(n){Ms.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function za(e){const t=e.name;if(qg.has(t))return Ms.debug(`There were multiple attempts to register component ${t}.`),!1;qg.set(t,e);for(const n of qf.values())lb(n,e);for(const n of MM.values())lb(n,e);return!0}function wd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Zn(e){return e==null?!1:e.settings!==void 0}const OM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new _c("app","Firebase",OM);class PM{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const Ka=DM;function U1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Fg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Ir.create("bad-app-name",{appName:String(a)});if(n||(n=O1()),!n)throw Ir.create("no-options");const l=qf.get(a);if(l){if(Ba(n,l.options)&&Ba(s,l.config))return l;throw Ir.create("duplicate-app",{appName:a})}const c=new BN(a);for(const m of qg.values())c.addComponent(m);const f=new PM(n,s,c);return qf.set(a,f),f}function Qy(e=Fg){const t=qf.get(e);if(!t&&e===Fg&&O1())return U1();if(!t)throw Ir.create("no-app",{appName:e});return t}function Qi(e,t,n){let s=NM[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ms.warn(c.join(" "));return}za(new kr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const VM="firebase-heartbeat-database",kM=1,ic="firebase-heartbeat-store";let cg=null;function j1(){return cg||(cg=ZN(VM,kM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ir.create("idb-open",{originalErrorMessage:e.message})})),cg}async function LM(e){try{const n=(await j1()).transaction(ic),s=await n.objectStore(ic).get(B1(e));return await n.done,s}catch(t){if(t instanceof rs)Ms.warn(t.message);else{const n=Ir.create("idb-get",{originalErrorMessage:t?.message});Ms.warn(n.message)}}}async function ub(e,t){try{const s=(await j1()).transaction(ic,"readwrite");await s.objectStore(ic).put(t,B1(e)),await s.done}catch(n){if(n instanceof rs)Ms.warn(n.message);else{const s=Ir.create("idb-set",{originalErrorMessage:n?.message});Ms.warn(s.message)}}}function B1(e){return`${e.name}!${e.options.appId}`}const UM=1024,jM=30;class BM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>jM){const a=qM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cb(),{heartbeatsToSend:n,unsentEntries:s}=zM(this._heartbeatsCache.heartbeats),a=Ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ms.warn(t),""}}}function cb(){return new Date().toISOString().substring(0,10)}function zM(e,t=UM){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),hb(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),hb(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CN()?IN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ub(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ub(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function hb(e){return Ff(JSON.stringify({version:2,heartbeats:e})).length}function qM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function HM(e){za(new kr("platform-logger",t=>new nM(t),"PRIVATE")),za(new kr("heartbeat",t=>new BM(t),"PRIVATE")),Qi(zg,ob,e),Qi(zg,ob,"esm2020"),Qi("fire-js","")}HM("");var GM="firebase",YM="12.7.0";Qi(GM,YM,"app");function z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KM=z1,F1=new _c("auth","Firebase",z1());const Hf=new Ky("@firebase/auth");function $M(e,...t){Hf.logLevel<=kt.WARN&&Hf.warn(`Auth (${Ka}): ${e}`,...t)}function Cf(e,...t){Hf.logLevel<=kt.ERROR&&Hf.error(`Auth (${Ka}): ${e}`,...t)}function wi(e,...t){throw Xy(e,...t)}function Xi(e,...t){return Xy(e,...t)}function q1(e,t,n){const s={...KM(),[t]:n};return new _c("auth","Firebase",s).create(t,{appName:e.name})}function Dr(e){return q1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return F1.create(e,...t)}function Et(e,t,...n){if(!e)throw Xy(t,...n)}function xs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Cf(t),new Error(t)}function Os(e,t){e||xs(t)}function Hg(){return typeof self<"u"&&self.location?.href||""}function QM(){return fb()==="http:"||fb()==="https:"}function fb(){return typeof self<"u"&&self.location?.protocol||null}function XM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QM()||SN()||"connection"in navigator)?navigator.onLine:!0}function WM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Ec{constructor(t,n){this.shortDelay=t,this.longDelay=n,Os(n>t,"Short delay should be less than long delay!"),this.isMobile=EN()||AN()}get(){return XM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wy(e,t){Os(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class H1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tO=new Ec(3e4,6e4);function $a(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Kr(e,t,n,s,a={}){return G1(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const f=Tc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return wN()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Ya(e.emulatorConfig.host)&&(p.credentials="include"),H1.fetch()(await Y1(e,e.config.apiHost,n,f),p)})}async function G1(e,t,n){e._canInitEmulator=!1;const s={...JM,...t};try{const a=new nO(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw pf(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw pf(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw q1(e,y,p);wi(e,y)}}catch(a){if(a instanceof rs)throw a;wi(e,"network-request-failed",{message:String(a)})}}async function Sd(e,t,n,s,a={}){const l=await Kr(e,t,n,s,a);return"mfaPendingCredential"in l&&wi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function Y1(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Wy(e.config,a):`${e.config.apiScheme}://${a}`;return ZM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function eO(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),tO.get())})}}function pf(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Xi(e,t,s);return a.customData._tokenResponse=n,a}function db(e){return e!==void 0&&e.enterprise!==void 0}class iO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return eO(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sO(e,t){return Kr(e,"GET","/v2/recaptchaConfig",$a(e,t))}async function rO(e,t){return Kr(e,"POST","/v1/accounts:delete",t)}async function Gf(e,t){return Kr(e,"POST","/v1/accounts:lookup",t)}function Yu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aO(e,t=!1){const n=qe(e),s=await n.getIdToken(t),a=Jy(s);Et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Yu(hg(a.auth_time)),issuedAtTime:Yu(hg(a.iat)),expirationTime:Yu(hg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function hg(e){return Number(e)*1e3}function Jy(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=D1(n);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function mb(e){const t=Jy(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function sc(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof rs&&oO(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function oO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class lO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yf(e){const t=e.auth,n=await e.getIdToken(),s=await sc(e,Gf(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?K1(a.providerUserInfo):[],c=cO(e.providerData,l),f=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function uO(e){const t=qe(e);await Yf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cO(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function K1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function hO(e,t){const n=await G1(e,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await Y1(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return e.emulatorConfig&&Ya(e.emulatorConfig.host)&&(m.credentials="include"),H1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fO(e,t){return Kr(e,"POST","/v2/accounts:revokeToken",$a(e,t))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=mb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await hO(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new el;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Et(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return xs("not implemented")}}function vr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new lO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await sc(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aO(this,t)}reload(){return uO(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Dr(this.auth));const t=await this.getIdToken();return await sc(this,rO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:R,providerData:D,stsTokenManager:B}=n;Et(_&&B,t,"internal-error");const P=el.fromJSON(this.name,B);Et(typeof _=="string",t,"internal-error"),vr(s,t.name),vr(a,t.name),Et(typeof b=="boolean",t,"internal-error"),Et(typeof R=="boolean",t,"internal-error"),vr(l,t.name),vr(c,t.name),vr(f,t.name),vr(m,t.name),vr(p,t.name),vr(y,t.name);const q=new vi({uid:_,auth:t,email:a,emailVerified:b,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(q.providerData=D.map($=>({...$}))),m&&(q._redirectEventId=m),q}static async _fromIdTokenResponse(t,n,s=!1){const a=new el;a.updateFromServerResponse(n);const l=new vi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Yf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?K1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new el;f.updateFromIdToken(s);const m=new vi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const pb=new Map;function Rs(e){Os(e instanceof Function,"Expected a class definition");let t=pb.get(e);return t?(Os(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pb.set(e,t),t)}class $1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}$1.type="NONE";const gb=$1;function If(e,t,n){return`firebase:${e}:${t}:${n}`}class nl{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=If(this.userKey,a.apiKey,l),this.fullPersistenceKey=If("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Gf(this.auth,{idToken:t}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new nl(Rs(gb),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Rs(gb);const c=If(s,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Gf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await vi._fromGetAccountInfoResponse(t,b,y)}else _=vi._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new nl(l,t,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new nl(l,t,s))}}function yb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(J1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Q1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tA(t))return"Blackberry";if(eA(t))return"Webos";if(X1(t))return"Safari";if((t.includes("chrome/")||W1(t))&&!t.includes("edge/"))return"Chrome";if(Z1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function Q1(e=hn()){return/firefox\//i.test(e)}function X1(e=hn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function W1(e=hn()){return/crios\//i.test(e)}function J1(e=hn()){return/iemobile/i.test(e)}function Z1(e=hn()){return/android/i.test(e)}function tA(e=hn()){return/blackberry/i.test(e)}function eA(e=hn()){return/webos/i.test(e)}function Zy(e=hn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dO(e=hn()){return Zy(e)&&!!window.navigator?.standalone}function mO(){return xN()&&document.documentMode===10}function nA(e=hn()){return Zy(e)||Z1(e)||eA(e)||tA(e)||/windows phone/i.test(e)||J1(e)}function iA(e,t=[]){let n;switch(e){case"Browser":n=yb(hn());break;case"Worker":n=`${yb(hn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${s}`}class pO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function gO(e,t={}){return Kr(e,"GET","/v2/passwordPolicy",$a(e,t))}const yO=6;class vO{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class _O{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vb(this),this.idTokenSubscription=new vb(this),this.beforeStateQueue=new pO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Gf(this,{idToken:t}),s=await vi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Yf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Dr(this));const n=t?qe(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gO(this),n=new vO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _c("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await fO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Rs(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$M(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _l(e){return qe(e)}class vb{constructor(t){this.auth=t,this.observer=null,this.addObserver=PN(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TO(e){Ad=e}function sA(e){return Ad.loadJS(e)}function EO(){return Ad.recaptchaEnterpriseScript}function bO(){return Ad.gapiScript}function wO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class SO{constructor(){this.enterprise=new AO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class AO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const xO="recaptcha-enterprise",rA="NO_RECAPTCHA";class RO{constructor(t){this.type=xO,this.auth=_l(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{sO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new iO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;db(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(rA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&db(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=EO();m.length!==0&&(m+=f),sA(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function _b(e,t,n,s=!1,a=!1){const l=new RO(e);let c;if(a)c=rA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Tb(e,t,n,s,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await _b(e,t,n,n==="getOobCode");return s(e,l)}else return s(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await _b(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(l)})}function CO(e,t){const n=wd(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ba(l,t??{}))return a;wi(a,"already-initialized")}return n.initialize({options:t})}function IO(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Rs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function DO(e,t,n){const s=_l(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=aA(t),{host:c,port:f}=NO(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Ba(p,s.config.emulator)&&Ba(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ya(c)?(Gy(`${l}//${c}${m}`),Yy("Auth",!0)):MO()}function aA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function NO(e){const t=aA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Eb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Eb(c)}}}function Eb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function MO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class tv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(t){return xs("not implemented")}_linkToIdToken(t,n){return xs("not implemented")}_getReauthenticationResolver(t){return xs("not implemented")}}async function OO(e,t){return Kr(e,"POST","/v1/accounts:signUp",t)}async function PO(e,t){return Sd(e,"POST","/v1/accounts:signInWithPassword",$a(e,t))}async function VO(e,t){return Sd(e,"POST","/v1/accounts:signInWithEmailLink",$a(e,t))}async function kO(e,t){return Sd(e,"POST","/v1/accounts:signInWithEmailLink",$a(e,t))}class rc extends tv{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new rc(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new rc(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tb(t,n,"signInWithPassword",PO);case"emailLink":return VO(t,{email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tb(t,s,"signUpPassword",OO);case"emailLink":return kO(t,{idToken:n,email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function il(e,t){return Sd(e,"POST","/v1/accounts:signInWithIdp",$a(e,t))}const LO="http://localhost";class Fa extends tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Fa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return il(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,il(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,il(t,n)}buildRequest(){const t={requestUri:LO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tc(n)}return t}}function UO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jO(e){const t=Uu(ju(e)).link,n=t?Uu(ju(t)).deep_link_id:null,s=Uu(ju(e)).deep_link_id;return(s?Uu(ju(s)).link:null)||s||n||t||e}class ev{constructor(t){const n=Uu(ju(t)),s=n.apiKey??null,a=n.oobCode??null,l=UO(n.mode??null);Et(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=jO(t);try{return new ev(n)}catch{return null}}}class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(t,n){return rc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=ev.parseLink(n);return Et(s,"argument-error"),rc._fromEmailAndCode(t,s.code,s.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class bc extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Er extends bc{constructor(){super("facebook.com")}static credential(t){return Fa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";class br extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return br.credential(n,s)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";class wr extends bc{constructor(){super("github.com")}static credential(t){return Fa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";class Sr extends bc{constructor(){super("twitter.com")}static credential(t,n){return Fa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";class al{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await vi._fromIdTokenResponse(t,s,a),c=bb(s);return new al({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=bb(s);return new al({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function bb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Kf extends rs{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Kf(t,n,s,a)}}function lA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(e,l,t,s):l})}async function BO(e,t,n=!1){const s=await sc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return al._forOperation(e,"link",s)}async function zO(e,t,n=!1){const{auth:s}=e;if(Zn(s.app))return Promise.reject(Dr(s));const a="reauthenticate";try{const l=await sc(e,lA(s,a,t,e),n);Et(l.idToken,s,"internal-error");const c=Jy(l.idToken);Et(c,s,"internal-error");const{sub:f}=c;return Et(e.uid===f,s,"user-mismatch"),al._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wi(s,"user-mismatch"),l}}async function uA(e,t,n=!1){if(Zn(e.app))return Promise.reject(Dr(e));const s="signIn",a=await lA(e,s,t),l=await al._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function FO(e,t){return uA(_l(e),t)}async function qO(e){const t=_l(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function HO(e,t,n){return Zn(e.app)?Promise.reject(Dr(e)):FO(qe(e),Tl.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&qO(e),s})}function GO(e,t,n,s){return qe(e).onIdTokenChanged(t,n,s)}function YO(e,t,n){return qe(e).beforeAuthStateChanged(t,n)}function KO(e,t,n,s){return qe(e).onAuthStateChanged(t,n,s)}const $f="__sak";class cA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const $O=1e3,QO=10;class hA extends cA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);mO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,QO):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},$O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}hA.type="LOCAL";const XO=hA;class fA extends cA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fA.type="SESSION";const dA=fA;function WO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class xd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new xd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await WO(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];function nv(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class JO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=nv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Wi(){return window}function ZO(e){Wi().location.href=e}function mA(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function tP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eP(){return navigator?.serviceWorker?.controller||null}function nP(){return mA()?self:null}const pA="firebaseLocalStorageDb",iP=1,Qf="firebaseLocalStorage",gA="fbase_key";class wc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(e,t){return e.transaction([Qf],t?"readwrite":"readonly").objectStore(Qf)}function sP(){const e=indexedDB.deleteDatabase(pA);return new wc(e).toPromise()}function Yg(){const e=indexedDB.open(pA,iP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Qf,{keyPath:gA})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Qf)?t(s):(s.close(),await sP(),t(await Yg()))})})}async function wb(e,t,n){const s=Rd(e,!0).put({[gA]:t,value:n});return new wc(s).toPromise()}async function rP(e,t){const n=Rd(e,!1).get(t),s=await new wc(n).toPromise();return s===void 0?null:s.value}function Sb(e,t){const n=Rd(e,!0).delete(t);return new wc(n).toPromise()}const aP=800,oP=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>oP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(nP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tP(),!this.activeServiceWorker)return;this.sender=new JO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yg();return await wb(t,$f,"1"),await Sb(t,$f),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wb(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>rP(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Rd(a,!1).getAll();return new wc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const lP=yA;new Ec(3e4,6e4);function uP(e,t){return t?Rs(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class iv extends tv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return il(t,this._buildIdpRequest())}_linkToIdToken(t,n){return il(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return il(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cP(e){return uA(e.auth,new iv(e),e.bypassAuthState)}function hP(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),zO(n,new iv(e),e.bypassAuthState)}async function fP(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),BO(n,new iv(e),e.bypassAuthState)}class vA{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cP;case"linkViaPopup":case"linkViaRedirect":return fP;case"reauthViaPopup":case"reauthViaRedirect":return hP;default:wi(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dP=new Ec(2e3,1e4);class $o extends vA{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dP.get())};t()}}$o.currentPopupAction=null;const mP="pendingRedirect",Df=new Map;class pP extends vA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Df.get(this.auth._key());if(!t){try{const s=await gP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Df.set(this.auth._key(),t)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gP(e,t){const n=_P(t),s=vP(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function yP(e,t){Df.set(e._key(),t)}function vP(e){return Rs(e._redirectPersistence)}function _P(e){return If(mP,e.config.apiKey,e.name)}async function TP(e,t,n=!1){if(Zn(e.app))return Promise.reject(Dr(e));const s=_l(e),a=uP(s,t),c=await new pP(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const EP=600*1e3;class bP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!_A(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ab(t))}saveEventToCache(t){this.cachedEventUids.add(Ab(t)),this.lastProcessedEventTime=Date.now()}}function Ab(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function _A({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function wP(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _A(e);default:return!1}}async function SP(e,t={}){return Kr(e,"GET","/v1/projects",t)}const AP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xP=/^https?/;async function RP(e){if(e.config.emulator)return;const{authorizedDomains:t}=await SP(e);for(const n of t)try{if(CP(n))return}catch{}wi(e,"unauthorized-domain")}function CP(e){const t=Hg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!xP.test(n))return!1;if(AP.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const IP=new Ec(3e4,6e4);function xb(){const e=Wi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function DP(e){return new Promise((t,n)=>{function s(){xb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xb(),n(Xi(e,"network-request-failed"))},timeout:IP.get()})}if(Wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Wi().gapi?.load)s();else{const a=wO("iframefcb");return Wi()[a]=()=>{gapi.load?s():n(Xi(e,"network-request-failed"))},sA(`${bO()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Nf=null,t})}let Nf=null;function NP(e){return Nf=Nf||DP(e),Nf}const MP=new Ec(5e3,15e3),OP="__/auth/iframe",PP="emulator/auth/iframe",VP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LP(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Wy(t,PP):`https://${e.config.authDomain}/${OP}`,s={apiKey:t.apiKey,appName:e.name,v:Ka},a=kP.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Tc(s).slice(1)}`}async function UP(e){const t=await NP(e),n=Wi().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:LP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Xi(e,"network-request-failed"),f=Wi().setTimeout(()=>{l(c)},MP.get());function m(){Wi().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const jP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BP=500,zP=600,FP="_blank",qP="http://localhost";class Rb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HP(e,t,n,s=BP,a=zP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...jP,width:s.toString(),height:a.toString(),top:l,left:c},p=hn().toLowerCase();n&&(f=W1(p)?FP:n),Q1(p)&&(t=t||qP,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[R,D])=>`${b}${R}=${D},`,"");if(dO(p)&&f!=="_self")return GP(t||"",f),new Rb(null);const _=window.open(t||"",f,y);Et(_,e,"popup-blocked");try{_.focus()}catch{}return new Rb(_)}function GP(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const YP="__/auth/handler",KP="emulator/auth/handler",$P=encodeURIComponent("fac");async function Cb(e,t,n,s,a,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ka,eventId:a};if(t instanceof oA){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",ON(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof bc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${$P}=${encodeURIComponent(m)}`:"";return`${QP(e)}?${Tc(f).slice(1)}${p}`}function QP({config:e}){return e.emulator?Wy(e,KP):`https://${e.authDomain}/${YP}`}const fg="webStorageSupport";class XP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dA,this._completeRedirectFn=TP,this._overrideRedirectResult=yP}async _openPopup(t,n,s,a){Os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Cb(t,n,s,Hg(),a);return HP(t,l,nv())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await Cb(t,n,s,Hg(),a);return ZO(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await UP(t),s=new bP(t);return n.register("authEvent",a=>(Et(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(fg,{type:fg},a=>{const l=a?.[0]?.[fg];l!==void 0&&n(!!l),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return nA()||X1()||Zy()}}const WP=XP;var Ib="@firebase/auth",Db="1.12.0";class JP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZP(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tV(e){za(new kr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iA(e)},p=new _O(s,a,l,m);return IO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),za(new kr("auth-internal",t=>{const n=_l(t.getProvider("auth").getImmediate());return(s=>new JP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(Ib,Db,ZP(e)),Qi(Ib,Db,"esm2020")}const eV=300,nV=P1("authIdTokenMaxAge")||eV;let Nb=null;const iV=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>nV)return;const a=n?.token;Nb!==a&&(Nb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function sV(e=Qy()){const t=wd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=CO(e,{popupRedirectResolver:WP,persistence:[lP,XO,dA]}),s=P1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=iV(l.toString());YO(n,c,()=>c(n.currentUser)),GO(n,f=>c(f))}}const a=N1("auth");return a&&DO(n,`http://${a}`),n}function rV(){return document.getElementsByTagName("head")?.[0]??document}TO({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=Xi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",rV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tV("Browser");var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,TA;(function(){var e;function t(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(L,V,F){for(var N=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)N[Yt-2]=arguments[Yt];return x.prototype[V].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,x,I){I||(I=0);const L=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)L[V]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(V=0;V<16;++V)L[V]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],V=C.g[2];let F=C.g[3],N;N=x+(F^I&(V^F))+L[0]+3614090360&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(V^x&(I^V))+L[1]+3905402710&4294967295,F=x+(N<<12&4294967295|N>>>20),N=V+(I^F&(x^I))+L[2]+606105819&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(x^V&(F^x))+L[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=x+(F^I&(V^F))+L[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(V^x&(I^V))+L[5]+1200080426&4294967295,F=x+(N<<12&4294967295|N>>>20),N=V+(I^F&(x^I))+L[6]+2821735955&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(x^V&(F^x))+L[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=x+(F^I&(V^F))+L[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(V^x&(I^V))+L[9]+2336552879&4294967295,F=x+(N<<12&4294967295|N>>>20),N=V+(I^F&(x^I))+L[10]+4294925233&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(x^V&(F^x))+L[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=x+(F^I&(V^F))+L[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(V^x&(I^V))+L[13]+4254626195&4294967295,F=x+(N<<12&4294967295|N>>>20),N=V+(I^F&(x^I))+L[14]+2792965006&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(x^V&(F^x))+L[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=x+(V^F&(I^V))+L[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(x^I))+L[6]+3225465664&4294967295,F=x+(N<<9&4294967295|N>>>23),N=V+(x^I&(F^x))+L[11]+643717713&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(V^F))+L[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=x+(V^F&(I^V))+L[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(x^I))+L[10]+38016083&4294967295,F=x+(N<<9&4294967295|N>>>23),N=V+(x^I&(F^x))+L[15]+3634488961&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(V^F))+L[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=x+(V^F&(I^V))+L[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(x^I))+L[14]+3275163606&4294967295,F=x+(N<<9&4294967295|N>>>23),N=V+(x^I&(F^x))+L[3]+4107603335&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(V^F))+L[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=x+(V^F&(I^V))+L[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(x^I))+L[2]+4243563512&4294967295,F=x+(N<<9&4294967295|N>>>23),N=V+(x^I&(F^x))+L[7]+1735328473&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(V^F))+L[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=x+(I^V^F)+L[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^V)+L[8]+2272392833&4294967295,F=x+(N<<11&4294967295|N>>>21),N=V+(F^x^I)+L[11]+1839030562&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^x)+L[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=x+(I^V^F)+L[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^V)+L[4]+1272893353&4294967295,F=x+(N<<11&4294967295|N>>>21),N=V+(F^x^I)+L[7]+4139469664&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^x)+L[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=x+(I^V^F)+L[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^V)+L[0]+3936430074&4294967295,F=x+(N<<11&4294967295|N>>>21),N=V+(F^x^I)+L[3]+3572445317&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^x)+L[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=x+(I^V^F)+L[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^V)+L[12]+3873151461&4294967295,F=x+(N<<11&4294967295|N>>>21),N=V+(F^x^I)+L[15]+530742520&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^x)+L[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=x+(V^(I|~F))+L[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~V))+L[7]+1126891415&4294967295,F=x+(N<<10&4294967295|N>>>22),N=V+(x^(F|~I))+L[14]+2878612391&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~x))+L[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=x+(V^(I|~F))+L[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~V))+L[3]+2399980690&4294967295,F=x+(N<<10&4294967295|N>>>22),N=V+(x^(F|~I))+L[10]+4293915773&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~x))+L[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=x+(V^(I|~F))+L[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~V))+L[15]+4264355552&4294967295,F=x+(N<<10&4294967295|N>>>22),N=V+(x^(F|~I))+L[6]+2734768916&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~x))+L[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=x+(V^(I|~F))+L[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~V))+L[11]+3174756917&4294967295,F=x+(N<<10&4294967295|N>>>22),N=V+(x^(F|~I))+L[2]+718787259&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~x))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+F&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,L=this.C;let V=this.h,F=0;for(;F<x;){if(V==0)for(;F<=I;)a(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<x;)if(L[V++]=C.charCodeAt(F++),V==this.blockSize){a(this,L),V=0;break}}else for(;F<x;)if(L[V++]=C[F++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)C[x++]=this.g[I]>>>L&255;return C};function l(C,x){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function c(C,x){this.h=x;const I=[];let L=!0;for(let V=C.length-1;V>=0;V--){const F=C[V]|0;L&&F==x||(I[V]=F,L=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(x){return new c([x|0],x<0?-1:0)}):new c([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return P(p(-C));const x=[];let I=1;for(let L=0;C>=I;L++)x[L]=C/I|0,I*=4294967296;return new c(x,0)}function y(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return P(y(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(x,8));let L=_;for(let F=0;F<C.length;F+=8){var V=Math.min(8,C.length-F);const N=parseInt(C.substring(F,F+V),x);V<8?(V=p(Math.pow(x,V)),L=L.j(V).add(p(N))):(L=L.j(I),L=L.add(p(N)))}return L}var _=m(0),b=m(1),R=m(16777216);e=c.prototype,e.m=function(){if(B(this))return-P(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);C+=(L>=0?L:4294967296+L)*x,x*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(B(this))return"-"+P(this).toString(C);const x=p(Math.pow(C,6));var I=this;let L="";for(;;){const V=rt(I,x).g;I=q(I,V.j(x));let F=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,D(I))return F+L;for(;F.length<6;)F="0"+F;L=F+L}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function B(C){return C.h==-1}e.l=function(C){return C=q(this,C),B(C)?-1:D(C)?0:1};function P(C){const x=C.g.length,I=[];for(let L=0;L<x;L++)I[L]=~C.g[L];return new c(I,~C.h).add(b)}e.abs=function(){return B(this)?P(this):this},e.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let L=0;for(let V=0;V<=x;V++){let F=L+(this.i(V)&65535)+(C.i(V)&65535),N=(F>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);L=N>>>16,F&=65535,N&=65535,I[V]=N<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function q(C,x){return C.add(P(x))}e.j=function(C){if(D(this)||D(C))return _;if(B(this))return B(C)?P(this).j(P(C)):P(P(this).j(C));if(B(C))return P(this.j(P(C)));if(this.l(R)<0&&C.l(R)<0)return p(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var L=0;L<2*x;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<C.g.length;V++){const F=this.i(L)>>>16,N=this.i(L)&65535,Yt=C.i(V)>>>16,se=C.i(V)&65535;I[2*L+2*V]+=N*se,$(I,2*L+2*V),I[2*L+2*V+1]+=F*se,$(I,2*L+2*V+1),I[2*L+2*V+1]+=N*Yt,$(I,2*L+2*V+1),I[2*L+2*V+2]+=F*Yt,$(I,2*L+2*V+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new c(I,0)};function $(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function Y(C,x){this.g=C,this.h=x}function rt(C,x){if(D(x))throw Error("division by zero");if(D(C))return new Y(_,_);if(B(C))return x=rt(P(C),x),new Y(P(x.g),P(x.h));if(B(x))return x=rt(C,P(x)),new Y(P(x.g),x.h);if(C.g.length>30){if(B(C)||B(x))throw Error("slowDivide_ only works with positive integers.");for(var I=b,L=x;L.l(C)<=0;)I=at(I),L=at(L);var V=ot(I,1),F=ot(L,1);for(L=ot(L,2),I=ot(I,2);!D(L);){var N=F.add(L);N.l(C)<=0&&(V=V.add(I),F=N),L=ot(L,1),I=ot(I,1)}return x=q(C,V.j(x)),new Y(V,x)}for(V=_;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),F=p(I),N=F.j(x);B(N)||N.l(C)>0;)I-=L,F=p(I),N=F.j(x);D(F)&&(F=b),V=V.add(F),C=q(C,N)}return new Y(V,C)}e.B=function(C){return rt(this,C).h},e.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)&C.i(L);return new c(I,this.h&C.h)},e.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)|C.i(L);return new c(I,this.h|C.h)},e.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)^C.i(L);return new c(I,this.h^C.h)};function at(C){const x=C.g.length+1,I=[];for(let L=0;L<x;L++)I[L]=C.i(L)<<1|C.i(L-1)>>>31;return new c(I,C.h)}function ot(C,x){const I=x>>5;x%=32;const L=C.g.length-I,V=[];for(let F=0;F<L;F++)V[F]=x>0?C.i(F+I)>>>x|C.i(F+I+1)<<32-x:C.i(F+I);return new c(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,TA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Nr=c}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EA,Bu,bA,Mf,Kg,wA,SA,AA;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in E))break t;E=E[H]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=m,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,H,X){for(var ut=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ut[Ct-2]=arguments[Ct];return v.prototype[H].apply(A,ut)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function D(h,v){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const X=H.length||0;h.length=E+X;for(let ut=0;ut<X;ut++)h[E+ut]=H[ut]}else h.push(H)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(h){c.setTimeout(()=>{throw h},0)}function q(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,E){const A=Y.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Y=new B(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ot=!1,C=new $,x=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(I)}};function I(){for(var h;h=q();){try{h.h.call(h.g)}catch(E){P(E)}var v=Y;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ot=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Yt(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Yt,V),Yt.prototype.init=function(h,v){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),U=0;function J(h,v,E,A,H){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=H,this.key=++U,this.da=this.fa=!1}function lt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function gt(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function _t(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function k(h){const v={};for(const E in h)v[E]=h[E];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,v){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)h[E]=A[E];for(let X=0;X<tt.length;X++)E=tt[X],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,A,H){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ut=Dt(h,v,A,H);return ut>-1?(v=h[ut],E||(v.fa=!1)):(v=new J(v,this.src,X,!!A,H),v.fa=E,h.push(v)),v};function St(h,v){const E=v.type;if(E in h.g){var A=h.g[E],H=Array.prototype.indexOf.call(A,v,void 0),X;(X=H>=0)&&Array.prototype.splice.call(A,H,1),X&&(lt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Dt(h,v,E,A){for(let H=0;H<h.length;++H){const X=h[H];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==A)return H}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Ue={};function le(h,v,E,A,H){if(Array.isArray(v)){for(let X=0;X<v.length;X++)le(h,v[X],E,A,H);return null}return E=Dl(E),h&&h[se]?h.J(v,E,f(A)?!!A.capture:!1,H):Jr(h,v,E,!1,A,H)}function Jr(h,v,E,A,H,X){if(!v)throw Error("Invalid event type");const ut=f(H)?!!H.capture:!!H;let Ct=Zr(h);if(Ct||(h[Bt]=Ct=new ft(h)),E=Ct.add(v,E,A,ut,X),E.proxy)return E;if(A=Wa(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)F||(H=ut),H===void 0&&(H=!1),h.addEventListener(v.toString(),A,H);else if(h.attachEvent)h.attachEvent(Ai(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wa(){function h(E){return v.call(h.src,h.listener,E)}const v=Cl;return h}function Ja(h,v,E,A,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ja(h,v[X],E,A,H);else A=f(A)?!!A.capture:!!A,E=Dl(E),h&&h[se]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],E=Dt(v,E,A,H),E>-1&&(lt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Zr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Dt(v,E,A,H)),(E=h>-1?v[h]:null)&&Za(E))}function Za(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[se])St(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(Ai(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Zr(v))?(St(E,h),E.h==0&&(E.src=null,v[Bt]=null)):lt(h)}}}function Ai(h){return h in Ue?Ue[h]:Ue[h]="on"+h}function Cl(h,v){if(h.da)h=!0;else{v=new Yt(v,this);const E=h.listener,A=h.ha||h.src;h.fa&&Za(h),h=E.call(A,v)}return h}function Zr(h){return h=h[Bt],h instanceof ft?h:null}var Il="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dl(h){return typeof h=="function"?h:(h[Il]||(h[Il]=function(v){return h.handleEvent(v)}),h[Il])}function Ae(){L.call(this),this.i=new ft(this),this.M=this,this.G=null}_(Ae,L),Ae.prototype[se]=!0,Ae.prototype.removeEventListener=function(h,v,E,A){Ja(this,h,v,E,A)};function je(h,v){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var H=v;v=new V(A,h),ct(v,H)}H=!0;let X,ut;if(E)for(ut=E.length-1;ut>=0;ut--)X=v.g=E[ut],H=js(X,A,!0,v)&&H;if(X=v.g=h,H=js(X,A,!0,v)&&H,H=js(X,A,!1,v)&&H,E)for(ut=0;ut<E.length;ut++)X=v.g=E[ut],H=js(X,A,!1,v)&&H}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let A=0;A<E.length;A++)lt(E[A]);delete h.g[v],h.h--}}this.G=null},Ae.prototype.J=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},Ae.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function js(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let X=0;X<v.length;++X){const ut=v[X];if(ut&&!ut.da&&ut.capture==E){const Ct=ut.listener,Ee=ut.ha||ut.src;ut.fa&&St(h.i,ut),H=Ct.call(Ee,A)!==!1&&H}}return H&&!A.defaultPrevented}function Zd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Uc(h){h.g=Zd(()=>{h.g=null,h.i&&(h.i=!1,Uc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class fn extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(h){L.call(this),this.h=h,this.g={}}_(ta,L);var Nl=[];function Ml(h){gt(h.g,function(v,E){this.g.hasOwnProperty(E)&&Za(v)},h),h.g={}}ta.prototype.N=function(){ta.Z.N.call(this),Ml(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=c.JSON.stringify,tm=c.JSON.parse,jc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bc(){}function zc(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){V.call(this,"d")}_(Xe,V);function jn(){V.call(this,"c")}_(jn,V);var Te={},Fc=null;function to(){return Fc=Fc||new Ae}Te.Ia="serverreachability";function qc(h){V.call(this,Te.Ia,h)}_(qc,V);function xi(h){const v=to();je(v,new qc(v))}Te.STAT_EVENT="statevent";function ea(h,v){V.call(this,Te.STAT_EVENT,h),this.stat=v}_(ea,V);function xe(h){const v=to();je(v,new ea(v,h))}Te.Ja="timingevent";function Ri(h,v){V.call(this,Te.Ja,h),this.size=v}_(Ri,V);function Ci(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function em(h,v,E,A,H,X){h.info(function(){if(h.g)if(X){var ut="",Ct=X.split("&");for(let Ht=0;Ht<Ct.length;Ht++){var Ee=Ct[Ht].split("=");if(Ee.length>1){const ue=Ee[0];Ee=Ee[1];const qn=ue.split("_");ut=qn.length>=2&&qn[1]=="type"?ut+(ue+"="+Ee+"&"):ut+(ue+"=redacted&")}}}else ut=null;else ut=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+E+`
`+ut})}function Hc(h,v,E,A,H,X,ut){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+E+`
`+X+" "+ut})}function Ii(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+nm(h,E)+(A?" "+A:"")})}function na(h,v){h.info(function(){return"TIMEOUT: "+v})}ri.prototype.info=function(){};function nm(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ut=1;ut<A.length;ut++)A[ut]=""}}}}return Bs(X)}catch{return v}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function sa(){}_(sa,Bc),sa.prototype.g=function(){return new XMLHttpRequest},Pl=new sa;function os(h){return encodeURIComponent(String(h))}function Gc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ai(h,v,E,A){this.j=h,this.i=v,this.l=E,this.S=A||1,this.V=new ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Re={},He={};function Di(h,v,E){h.M=1,h.A=ra(Ie(v)),h.u=E,h.R=!0,eo(h,null)}function eo(h,v){h.F=Date.now(),Ni(h),h.B=Ie(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),ro(E.i,"t",A),h.C=0,E=h.j.L,h.h=new oi,h.g=ah(h.j,E?v:null,!h.u),h.P>0&&(h.O=new fn(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Nl[0]=H.toString()),H=Nl);for(let X=0;X<H.length;X++){const ut=le(E,H[X],A||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),xi(),em(h.i,h.v,h.B,h.l,h.S,h.u)}ai.prototype.ba=function(h){h=h.target;const v=this.O;v&&ci(h)==3?v.j():this.Y(h)},ai.prototype.Y=function(h){try{if(h==this.g)t:{const Ct=ci(this.g),Ee=this.g.ya(),Ht=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Ct!=4||Ee==7||(Ee==8||Ht<=0?xi(3):xi(2)),Mi(this);var v=this.g.ca();this.X=v;var E=im(this);if(this.o=v==200,Hc(this.i,this.v,this.B,this.l,this.S,Ct,v),this.o){if(this.U&&!this.L){e:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var X=A;break e}}X=null}if(h=X)Ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,xe(12),Rn(this),Bn(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<E.length;)if(ue=Kc(this,E),ue==He){Ct==4&&(this.m=4,xe(14),h=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Re){this.m=4,xe(15),Ii(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ii(this.i,this.l,ue,null),Oi(this,ue);if(Yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||E.length!=0||this.h.h||(this.m=1,xe(16),h=!1),this.o=this.o&&h,!h)Ii(this.i,this.l,E,"[Invalid Chunked Response]"),Rn(this),Bn(this);else if(E.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ql(ut),ut.P=!0,xe(11))}}else Ii(this.i,this.l,E,null),Oi(this,E);Ct==4&&Rn(this),this.o&&!this.K&&(Ct==4?nh(this.j,this):(this.o=!1,Ni(this)))}else us(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Rn(this),Bn(this)}}}catch{}};function im(h){if(!Yc(h))return h.g.la();const v=We(h.g);if(v==="")return"";let E="";const A=v.length,H=ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Rn(h),Bn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<A;X++)h.h.h=!0,E+=h.h.i.decode(v[X],{stream:!(H&&X==A-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Kc(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?He:(E=Number(v.substring(E,A)),isNaN(E)?Re:(A+=1,A+E>v.length?He:(v=v.slice(A,A+E),h.C=A+E,v)))}ai.prototype.cancel=function(){this.K=!0,Rn(this)};function Ni(h){h.T=Date.now()+h.H,no(h,h.H)}function no(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ci(p(h.aa,h),v)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(na(this.i,this.B),this.M!=2&&(xi(),xe(17)),Rn(this),this.m=2,Bn(this)):no(this,this.T-h)};function Bn(h){h.j.I==0||h.K||nh(h.j,h)}function Rn(h){Mi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Ml(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Oi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Vi(E.h,h))){if(!h.L&&Vi(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)co(E),$s(E);else break t;fa(E),xe(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ci(p(E.Va,E),6e3));Pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else zi(E,11)}else if((h.L||E.g==h)&&co(E),!N(v))for(H=E.Ba.g.parse(v),v=0;v<H.length;v++){let Ht=H[v];const ue=Ht[0];if(!(ue<=E.K))if(E.K=ue,Ht=Ht[1],E.I==2)if(Ht[0]=="c"){E.M=Ht[1],E.ba=Ht[2];const qn=Ht[3];qn!=null&&(E.ka=qn,E.j.info("VER="+E.ka));const Fi=Ht[4];Fi!=null&&(E.za=Fi,E.j.info("SVER="+E.za));const hi=Ht[5];hi!=null&&typeof hi=="number"&&hi>0&&(A=1.5*hi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const fi=h.g;if(fi){const da=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var X=A.h;X.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ll(X,X.h),X.h=null))}if(A.G){const ho=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(A.wa=ho,$t(A.J,A.G,ho))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ut=h;if(A.na=rh(A,A.L?A.ba:null,A.W),ut.L){Ul(A.h,ut);var Ct=ut,Ee=A.O;Ee&&(Ct.H=Ee),Ct.D&&(Mi(Ct),Ni(Ct)),A.g=ut}else th(A);E.i.length>0&&Bi(E)}else Ht[0]!="stop"&&Ht[0]!="close"||zi(E,7);else E.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?zi(E,7):Kl(E):Ht[0]!="noop"&&E.l&&E.l.qa(Ht),E.A=0)}}xi(4)}catch{}}var Ce=class{constructor(h,v){this.g=h,this.map=v}};function Vl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pi(h){return h.h?1:h.g?h.g.size:0}function Vi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ll(h,v){h.g?h.g.add(v):h.h=v}function Ul(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var $c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let H,X=null;A>=0?(H=h[E].substring(0,A),X=h[E].substring(A+1)):H=h[E],v(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Cn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Cn?(this.l=h.l,Ge(this,h.j),this.o=h.o,this.g=h.g,zs(this,h.u),this.h=h.h,Bl(this,Jc(h.i)),this.m=h.m):h&&(v=String(h).match($c))?(this.l=!1,Ge(this,v[1]||"",!0),this.o=ki(v[2]||""),this.g=ki(v[3]||"",!0),zs(this,v[4]),this.h=ki(v[5]||"",!0),Bl(this,v[6]||"",!0),this.m=ki(v[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Cn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(aa(v,so,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(aa(v,so,!0),"@"),h.push(os(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(aa(E,E.charAt(0)=="/"?zl:Qc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",aa(E,Xc)),h.join("")},Cn.prototype.resolve=function(h){const v=Ie(this);let E=!!h.j;E?Ge(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var A=h.h;if(E)zs(v,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=v.h.lastIndexOf("/");H!=-1&&(A=v.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ut=0;ut<H.length;){const Ct=H[ut++];Ct=="."?A&&ut==H.length&&X.push(""):Ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ut==H.length&&X.push("")):(X.push(Ct),A=!0)}A=X.join("/")}else A=H}return E?v.h=A:E=h.i.toString()!=="",E?Bl(v,Jc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Ie(h){return new Cn(h)}function Ge(h,v,E){h.j=E?ki(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function zs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Bl(h,v,E){v instanceof qs?(h.i=v,ao(h.i,h.l)):(E||(v=aa(v,Fs)),h.i=new qs(v,h.l))}function $t(h,v,E){h.i.set(v,E)}function ra(h){return $t(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ki(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function aa(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,gn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var so=/[#\/\?@]/g,Qc=/[#\?:]/g,zl=/[#\?]/g,Fs=/[#\?@]/g,Xc=/#/g;function qs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&io(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=qs.prototype,e.add=function(h,v){yn(this),this.i=null,h=Hs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Wc(h,v){yn(h),v=Hs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fl(h,v){return yn(h),v=Hs(h,v),h.g.has(v)}e.forEach=function(h,v){yn(this),this.g.forEach(function(E,A){E.forEach(function(H){h.call(v,H,A,this)},this)},this)};function ql(h,v){yn(h);let E=[];if(typeof v=="string")Fl(h,v)&&(E=E.concat(h.g.get(Hs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return yn(this),this.i=null,h=Hs(this,h),Fl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=ql(this,h),h.length>0?String(h[0]):v):v};function ro(h,v,E){Wc(h,v),E.length>0&&(h.i=null,h.g.set(Hs(h,v),R(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const H=os(E);E=ql(this,E);for(let X=0;X<E.length;X++){let ut=H;E[X]!==""&&(ut+="="+os(E[X])),h.push(ut)}}return this.i=h.join("&")};function Jc(h){const v=new qs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Hs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ao(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(Wc(this,A),ro(this,H,E))},h)),h.j=v}function li(h,v){const E=new ri;if(c.Image){const A=new Image;A.onload=y(zn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=y(zn,E,"TestLoadImage: error",!1,v,A),A.onabort=y(zn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(zn,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Hl(h,v){const E=new ri,A=new AbortController,H=setTimeout(()=>{A.abort(),zn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?zn(E,"TestPingServer: ok",!0,v):zn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),zn(E,"TestPingServer: error",!1,v)})}function zn(h,v,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function Gs(){this.g=new jc}function Li(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Li,Bc),Li.prototype.g=function(){return new oa(this.i,this.h)};function oa(h,v){Ae.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(oa,Ae),e=oa.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ui(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ys(this):ui(this),this.readyState==3&&oo(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Ys(this))},e.Na=function(h){this.g&&(this.response=h,Ys(this))},e.ga=function(){this.g&&Ys(this)};function Ys(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ui(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Fn(h){let v="";return gt(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function la(h,v,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Fn(E),typeof h=="string"?E!=null&&os(E):$t(h,v,E))}function Zt(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Zt,Ae);var Ui=/^https?$/i,Gl=["POST","PUT"];e=Zt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){ua(this,X);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Gl,v,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of E)this.g.setRequestHeader(X,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ua(this,X)}};function ua(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Yl(h),ls(h)}function Yl(h){h.A||(h.A=!0,je(h,"complete"),je(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,je(this,"complete"),je(this,"abort"),ls(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Zt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},e.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof l<"u"){if(h.v&&ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(je(h,"readystatechange"),ci(h)==4){h.h=!1;try{const X=h.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var A;if(A=X===0){let ut=String(h.D).match($c)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),A=!Ui.test(ut?ut.toLowerCase():"")}E=A}if(E)je(h,"complete"),je(h,"success");else{h.o=6;try{var H=ci(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Yl(h)}}finally{ls(h)}}}}function ls(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||je(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),tm(v)}};function We(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function us(h){const v={};h=(h.g&&ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var E=Gc(h[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[H]||[];v[H]=X,X.push(E)}_t(v,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ks(h){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,h),this.Za=ji("retryDelaySeedMs",1e4,h),this.Ta=ji("forwardChannelMaxRetries",2,h),this.va=ji("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(h&&h.concurrentRequestLimit),this.Ba=new Gs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ks.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,A){xe(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=rh(this,null,this.W),Bi(this)};function Kl(h){if(lo(h),h.I==3){var v=h.V++,E=Ie(h.J);if($t(E,"SID",h.M),$t(E,"RID",v),$t(E,"TYPE","terminate"),ha(h,E),v=new ai(h,h.j,v),v.M=2,v.A=ra(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=ah(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ni(v)}sh(h)}function $s(h){h.g&&(Ql(h),h.g.cancel(),h.g=null)}function lo(h){$s(h),h.v&&(c.clearTimeout(h.v),h.v=null),co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Bi(h){if(!kl(h.h)&&!h.m){h.m=!0;var v=h.Ea;at||x(),ot||(at(),ot=!0),C.add(v,h),h.D=0}}function uo(h,v){return Pi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ci(p(h.Ea,h,v),ih(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new ai(this,this.j,h);let X=this.o;if(this.U&&(X?(X=k(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Zc(this,H,v),E=Ie(this.J),$t(E,"RID",h),$t(E,"CVER",22),this.G&&$t(E,"X-HTTP-Session-Id",this.G),ha(this,E),X&&(this.R?v="headers="+os(Fn(X))+"&"+v:this.u&&la(E,this.u,X)),Ll(this.h,H),this.Ra&&$t(E,"TYPE","init"),this.S?($t(E,"$req",v),$t(E,"SID","null"),H.U=!0,Di(H,E,null)):Di(H,E,v),this.I=2}}else this.I==3&&(h?$l(this,h):this.i.length==0||kl(this.h)||$l(this))};function $l(h,v){var E;v?E=v.l:E=h.V++;const A=Ie(h.J);$t(A,"SID",h.M),$t(A,"RID",E),$t(A,"AID",h.K),ha(h,A),h.u&&h.o&&la(A,h.u,h.o),E=new ai(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Zc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ll(h.h,E),Di(E,A,v)}function ha(h,v){h.H&&gt(h.H,function(E,A){$t(v,A,E)}),h.l&&gt({},function(E,A){$t(v,A,E)})}function Zc(h,v,E){E=Math.min(h.i.length,E);const A=h.l?p(h.l.Ka,h.l,h):null;t:{var H=h.i;let Ct=-1;for(;;){const Ee=["count="+E];Ct==-1?E>0?(Ct=H[0].g,Ee.push("ofs="+Ct)):Ct=0:Ee.push("ofs="+Ct);let Ht=!0;for(let ue=0;ue<E;ue++){var X=H[ue].g;const qn=H[ue].map;if(X-=Ct,X<0)Ct=Math.max(0,H[ue].g-100),Ht=!1;else try{X="req"+X+"_"||"";try{var ut=qn instanceof Map?qn:Object.entries(qn);for(const[Fi,hi]of ut){let fi=hi;f(hi)&&(fi=Bs(hi)),Ee.push(X+Fi+"="+encodeURIComponent(fi))}}catch(Fi){throw Ee.push(X+"type="+encodeURIComponent("_badmap")),Fi}}catch{A&&A(qn)}}if(Ht){ut=Ee.join("&");break t}}ut=void 0}return h=h.i.splice(0,E),v.G=h,ut}function th(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;at||x(),ot||(at(),ot=!0),C.add(v,h),h.A=0}}function fa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ci(p(h.Da,h),ih(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ci(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),$s(this),eh(this))};function Ql(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function eh(h){h.g=new ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ie(h.na);$t(v,"RID","rpc"),$t(v,"SID",h.M),$t(v,"AID",h.K),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&$t(v,"TO",h.ia),$t(v,"TYPE","xmlhttp"),ha(h,v),h.u&&h.o&&la(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ra(Ie(v)),E.u=null,E.R=!0,eo(E,h)}e.Va=function(){this.C!=null&&(this.C=null,$s(this),fa(this),xe(19))};function co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function nh(h,v){var E=null;if(h.g==v){co(h),Ql(h),h.g=null;var A=2}else if(Vi(h.h,v))E=v.G,Ul(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;A=to(),je(A,new Ri(A,E)),Bi(h)}else th(h);else if(H=v.m,H==3||H==0&&v.X>0||!(A==1&&uo(h,v)||A==2&&fa(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),H){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function ih(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function zi(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),A=h.Ua;const H=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(A,"https"),ra(A),H?li(A.toString(),E):Hl(A.toString(),E)}else xe(2);h.I=0,h.l&&h.l.pa(v),sh(h),lo(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function sh(h){if(h.I=0,h.ja=[],h.l){const v=jl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function rh(h,v,E){var A=E instanceof Cn?Ie(E):new Cn(E);if(A.g!="")v&&(A.g=v+"."+A.g),zs(A,A.u);else{var H=c.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const X=new Cn(null);A&&Ge(X,A),v&&(X.g=v),H&&zs(X,H),E&&(X.h=E),A=X}return E=h.G,v=h.wa,E&&v&&$t(A,E,v),$t(A,"VER",h.ka),ha(h,A),A}function ah(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Zt(new Li({ab:E})):new Zt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}e=oh.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Qs(){}Qs.prototype.g=function(h,v){return new dn(h,v)};function dn(h,v){Ae.call(this),this.g=new Ks(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new cs(this)}_(dn,Ae),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Kl(this.g)},dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Bs(h),h=E);v.i.push(new Ce(v.Ya++,h)),v.I==3&&Bi(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,dn.Z.N.call(this)};function lh(h){Xe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(lh,Xe);function uh(){jn.call(this),this.status=1}_(uh,jn);function cs(h){this.g=h}_(cs,oh),cs.prototype.ra=function(){je(this.g,"a")},cs.prototype.qa=function(h){je(this.g,new lh(h))},cs.prototype.pa=function(h){je(this.g,new uh)},cs.prototype.oa=function(){je(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,AA=function(){return new Qs},SA=function(){return to()},wA=Te,Kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Mf=ia,Ol.COMPLETE="complete",bA=Ol,zc.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Bu=zc,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,EA=Zt}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const Ob="@firebase/firestore",Pb="4.9.3";let ln=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let El="12.7.0";const qa=new Ky("@firebase/firestore");function Ho(){return qa.logLevel}function dt(e,...t){if(qa.logLevel<=kt.DEBUG){const n=t.map(sv);qa.debug(`Firestore (${El}): ${e}`,...n)}}function Ps(e,...t){if(qa.logLevel<=kt.ERROR){const n=t.map(sv);qa.error(`Firestore (${El}): ${e}`,...n)}}function Ha(e,...t){if(qa.logLevel<=kt.WARN){const n=t.map(sv);qa.warn(`Firestore (${El}): ${e}`,...n)}}function sv(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function bt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,xA(e,s,n)}function xA(e,t,n){let s=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ps(s),new Error(s)}function Kt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||xA(t,a,s)}function Rt(e,t){return e}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends rs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class RA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class aV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oV{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Is,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Is)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new RA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class lV{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uV{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new lV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class Cd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=hV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Lt(e,t){return e<t?-1:e>t?1:0}function $g(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return dg(a)===dg(l)?Lt(a,l):dg(a)?1:-1}return Lt(e.length,t.length)}const fV=55296,dV=57343;function dg(e){const t=e.charCodeAt(0);return t>=fV&&t<=dV}function ol(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const kb="__name__";class Ki{constructor(t,n,s){n===void 0?n=0:n>t.length&&bt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&bt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ki?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Ki.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Lt(t.length,n.length)}static compareSegments(t,n){const s=Ki.isNumericId(t),a=Ki.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ki.extractNumericId(t).compare(Ki.extractNumericId(n)):$g(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nr.fromString(t.substring(4,t.length-2))}}class re extends Ki{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new re(n)}static emptyPath(){return new re([])}}const mV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ki{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return mV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kb}static keyField(){return new $e([kb])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ht(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ht(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ht(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(re.fromString(t))}static fromName(t){return new yt(re.fromString(t).popFirst(5))}static empty(){return new yt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new re(t.slice()))}}function IA(e,t,n){if(!n)throw new ht(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function DA(e,t,n,s){if(t===!0&&s===!0)throw new ht(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Lb(e){if(!yt.isDocumentKey(e))throw new ht(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ub(e){if(yt.isDocumentKey(e))throw new ht(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function NA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Id(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":bt(12329,{type:typeof e})}function xn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ht(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(e);throw new ht(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Le(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sc(e,t){if(!NA(e))throw new ht(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ht(it.INVALID_ARGUMENT,n);return!0}const jb=-62135596800,Bb=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Bb);return new Jt(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<jb)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bb}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sc(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-jb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Le("string",Jt._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Jt(0,0))}static max(){return new At(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ac=-1;function pV(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=At.fromTimestamp(s===1e9?new Jt(n+1,0):new Jt(n,s));return new Lr(a,yt.empty(),t)}function gV(e){return new Lr(e.readTime,e.key,ac)}class Lr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(At.min(),yt.empty(),ac)}static max(){return new Lr(At.max(),yt.empty(),ac)}}function yV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:Lt(e.largestBatchId,t.largestBatchId))}const vV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _V{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function bl(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==vV)throw e;dt("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,s)=>{n(t)}))}static reject(t){return new st(((n,s)=>{s(t)}))}static waitFor(t){return new st(((n,s)=>{let a=0,l=0,c=!1;t.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=st.resolve(!1);for(const s of t)n=n.next((a=>a?st.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new st(((s,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new st(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function TV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(e){return e.name==="IndexedDbTransactionError"}class Dd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Dd.ce=-1;const rv=-1;function Nd(e){return e==null}function Xf(e){return e===0&&1/e==-1/0}function EV(e){return typeof e=="number"&&Number.isInteger(e)&&!Xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const MA="";function bV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=zb(t)),t=wV(e.get(n),t);return zb(t)}function wV(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case MA:n+="";break;default:n+=l}}return n}function zb(e){return e+MA+""}function Fb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $r(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function OA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pe{constructor(t,n){this.comparator=t,this.root=n||rn.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yf(this.root,t,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yf(this.root,t,this.comparator,!0)}}class yf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new rn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new qb(this.data.getIterator())}getIteratorFrom(t){return new qb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class qb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new Fe($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ol(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PA("Invalid base64 string: "+l):l}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const SV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=SV.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Se(e.seconds),nanos:Se(e.nanos)}}function Se(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function jr(e){return typeof e=="string"?Qe.fromBase64String(e):Qe.fromUint8Array(e)}const VA="server_timestamp",kA="__type__",LA="__previous_value__",UA="__local_write_time__";function av(e){return(e?.mapValue?.fields||{})[kA]?.stringValue===VA}function Md(e){const t=e.mapValue.fields[LA];return av(t)?Md(t):t}function oc(e){const t=Ur(e.mapValue.fields[UA].timestampValue);return new Jt(t.seconds,t.nanos)}class AV{constructor(t,n,s,a,l,c,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Wf="(default)";class ll{constructor(t,n){this.projectId=t,this.database=n||Wf}static empty(){return new ll("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(t){return t instanceof ll&&t.projectId===this.projectId&&t.database===this.database}}const jA="__type__",xV="__max__",vf={mapValue:{}},BA="__vector__",Jf="value";function Br(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?av(e)?4:CV(e)?9007199254740991:RV(e)?10:11:bt(28295,{value:e})}function ns(e,t){if(e===t)return!0;const n=Br(e);if(n!==Br(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oc(e).isEqual(oc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ur(a.timestampValue),f=Ur(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return jr(a.bytesValue).isEqual(jr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Se(a.geoPointValue.latitude)===Se(l.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Se(a.integerValue)===Se(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Se(a.doubleValue),f=Se(l.doubleValue);return c===f?Xf(c)===Xf(f):isNaN(c)&&isNaN(f)}return!1})(e,t);case 9:return ol(e.arrayValue.values||[],t.arrayValue.values||[],ns);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Fb(c)!==Fb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ns(c[m],f[m])))return!1;return!0})(e,t);default:return bt(52216,{left:e})}}function lc(e,t){return(e.values||[]).find((n=>ns(n,t)))!==void 0}function ul(e,t){if(e===t)return 0;const n=Br(e),s=Br(t);if(n!==s)return Lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const f=Se(l.integerValue||l.doubleValue),m=Se(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(e,t);case 3:return Hb(e.timestampValue,t.timestampValue);case 4:return Hb(oc(e),oc(t));case 5:return $g(e.stringValue,t.stringValue);case 6:return(function(l,c){const f=jr(l),m=jr(c);return f.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Lt(f[p],m[p]);if(y!==0)return y}return Lt(f.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const f=Lt(Se(l.latitude),Se(c.latitude));return f!==0?f:Lt(Se(l.longitude),Se(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Gb(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[Jf]?.arrayValue,y=m[Jf]?.arrayValue,_=Lt(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Gb(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===vf.mapValue&&c===vf.mapValue)return 0;if(l===vf.mapValue)return 1;if(c===vf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=$g(m[_],y[_]);if(b!==0)return b;const R=ul(f[m[_]],p[y[_]]);if(R!==0)return R}return Lt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw bt(23264,{he:n})}}function Hb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lt(e,t);const n=Ur(e),s=Ur(t),a=Lt(n.seconds,s.seconds);return a!==0?a:Lt(n.nanos,s.nanos)}function Gb(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=ul(n[a],s[a]);if(l)return l}return Lt(n.length,s.length)}function cl(e){return Qg(e)}function Qg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return jr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Qg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Qg(n.fields[c])}`;return a+"}"})(e.mapValue):bt(61005,{value:e})}function Of(e){switch(Br(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Md(e);return t?16+Of(t):16;case 5:return 2*e.stringValue.length;case 6:return jr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Of(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return $r(s.fields,((l,c)=>{a+=l.length+Of(c)})),a})(e.mapValue);default:throw bt(13486,{value:e})}}function Yb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Xg(e){return!!e&&"integerValue"in e}function ov(e){return!!e&&"arrayValue"in e}function Kb(e){return!!e&&"nullValue"in e}function $b(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pf(e){return!!e&&"mapValue"in e}function RV(e){return(e?.mapValue?.fields||{})[jA]?.stringValue===BA}function Ku(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return $r(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ku(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ku(e.arrayValue.values[n]);return t}return{...e}}function CV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xV}class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Pf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ku(n)}setAll(t){let n=$e.emptyPath(),s={},a=[];t.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Ku(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ns(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){$r(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Sn(Ku(this.value))}}function zA(e){const t=[];return $r(e.fields,((n,s)=>{const a=new $e([n]);if(Pf(s)){const l=zA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Ln(t)}class un{constructor(t,n,s,a,l,c,f){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new un(t,0,At.min(),At.min(),At.min(),Sn.empty(),0)}static newFoundDocument(t,n,s,a){return new un(t,1,n,At.min(),s,a,0)}static newNoDocument(t,n){return new un(t,2,n,At.min(),At.min(),Sn.empty(),0)}static newUnknownDocument(t,n){return new un(t,3,n,At.min(),At.min(),Sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zf{constructor(t,n){this.position=t,this.inclusive=n}}function Qb(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=ul(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ns(e.position[n],t.position[n]))return!1;return!0}class td{constructor(t,n="asc"){this.field=t,this.dir=n}}function IV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class FA{}class ke extends FA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new NV(t,n,s):n==="array-contains"?new PV(t,s):n==="in"?new VV(t,s):n==="not-in"?new kV(t,s):n==="array-contains-any"?new LV(t,s):new ke(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new MV(t,s):new OV(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends FA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Si(t,n)}matches(t){return qA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qA(e){return e.op==="and"}function HA(e){return DV(e)&&qA(e)}function DV(e){for(const t of e.filters)if(t instanceof Si)return!1;return!0}function Wg(e){if(e instanceof ke)return e.field.canonicalString()+e.op.toString()+cl(e.value);if(HA(e))return e.filters.map((t=>Wg(t))).join(",");{const t=e.filters.map((n=>Wg(n))).join(",");return`${e.op}(${t})`}}function GA(e,t){return e instanceof ke?(function(s,a){return a instanceof ke&&s.op===a.op&&s.field.isEqual(a.field)&&ns(s.value,a.value)})(e,t):e instanceof Si?(function(s,a){return a instanceof Si&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&GA(c,a.filters[f])),!0):!1})(e,t):void bt(19439)}function YA(e){return e instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`})(e):e instanceof Si?(function(n){return n.op.toString()+" {"+n.getFilters().map(YA).join(" ,")+"}"})(e):"Filter"}class NV extends ke{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class MV extends ke{constructor(t,n){super(t,"in",n),this.keys=KA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class OV extends ke{constructor(t,n){super(t,"not-in",n),this.keys=KA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function KA(e,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class PV extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ov(n)&&lc(n.arrayValue,this.value)}}class VV extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class kV extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}}class LV extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>lc(this.value.arrayValue,s)))}}class UV{constructor(t,n=null,s=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Wb(e,t=null,n=[],s=[],a=null,l=null,c=null){return new UV(e,t,n,s,a,l,c)}function lv(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Wg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Nd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>cl(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>cl(s))).join(",")),t.Te=n}return t.Te}function uv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!GA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xb(e.startAt,t.startAt)&&Xb(e.endAt,t.endAt)}function Jg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Ac{constructor(t,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jV(e,t,n,s,a,l,c,f){return new Ac(e,t,n,s,a,l,c,f)}function Od(e){return new Ac(e)}function Jb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $A(e){return e.collectionGroup!==null}function $u(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Fe($e.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new td(l,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new td($e.keyField(),s))}return t.Ie}function Ji(e){const t=Rt(e);return t.Ee||(t.Ee=BV(t,$u(e))),t.Ee}function BV(e,t){if(e.limitType==="F")return Wb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new td(a.field,l)}));const n=e.endAt?new Zf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Zf(e.startAt.position,e.startAt.inclusive):null;return Wb(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Zg(e,t){const n=e.filters.concat([t]);return new Ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ty(e,t,n){return new Ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pd(e,t){return uv(Ji(e),Ji(t))&&e.limitType===t.limitType}function QA(e){return`${lv(Ji(e))}|lt:${e.limitType}`}function Go(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>YA(a))).join(", ")}]`),Nd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>cl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>cl(a))).join(",")),`Target(${s})`})(Ji(e))}; limitType=${e.limitType})`}function Vd(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of $u(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=Qb(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,$u(s),a)||s.endAt&&!(function(c,f,m){const p=Qb(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,$u(s),a))})(e,t)}function zV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function XA(e){return(t,n)=>{let s=!1;for(const a of $u(e)){const l=FV(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function FV(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?ul(m,p):bt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return bt(19790,{direction:e.dir})}}class Qa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return OA(this.inner)}size(){return this.innerSize}}const qV=new pe(yt.comparator);function Vs(){return qV}const WA=new pe(yt.comparator);function zu(...e){let t=WA;for(const n of e)t=t.insert(n.key,n);return t}function JA(e){let t=WA;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Pa(){return Qu()}function ZA(){return Qu()}function Qu(){return new Qa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const HV=new pe(yt.comparator),GV=new Fe(yt.comparator);function Ut(...e){let t=GV;for(const n of e)t=t.add(n);return t}const YV=new Fe(Lt);function KV(){return YV}function cv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(t)?"-0":t}}function tx(e){return{integerValue:""+e}}function $V(e,t){return EV(t)?tx(t):cv(e,t)}class kd{constructor(){this._=void 0}}function QV(e,t,n){return e instanceof ed?(function(a,l){const c={fields:{[kA]:{stringValue:VA},[UA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&av(l)&&(l=Md(l)),l&&(c.fields[LA]=l),{mapValue:c}})(n,t):e instanceof uc?nx(e,t):e instanceof cc?ix(e,t):(function(a,l){const c=ex(a,l),f=Zb(c)+Zb(a.Ae);return Xg(c)&&Xg(a.Ae)?tx(f):cv(a.serializer,f)})(e,t)}function XV(e,t,n){return e instanceof uc?nx(e,t):e instanceof cc?ix(e,t):n}function ex(e,t){return e instanceof nd?(function(s){return Xg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class ed extends kd{}class uc extends kd{constructor(t){super(),this.elements=t}}function nx(e,t){const n=sx(t);for(const s of e.elements)n.some((a=>ns(a,s)))||n.push(s);return{arrayValue:{values:n}}}class cc extends kd{constructor(t){super(),this.elements=t}}function ix(e,t){let n=sx(t);for(const s of e.elements)n=n.filter((a=>!ns(a,s)));return{arrayValue:{values:n}}}class nd extends kd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Zb(e){return Se(e.integerValue||e.doubleValue)}function sx(e){return ov(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function WV(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof uc&&a instanceof uc||s instanceof cc&&a instanceof cc?ol(s.elements,a.elements,ns):s instanceof nd&&a instanceof nd?ns(s.Ae,a.Ae):s instanceof ed&&a instanceof ed})(e.transform,t.transform)}class JV{constructor(t,n){this.version=t,this.transformResults=n}}class Ti{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ld{}function rx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ox(e.key,Ti.none()):new xc(e.key,e.data,Ti.none());{const n=e.data,s=Sn.empty();let a=new Fe($e.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Qr(e.key,s,new Ln(a.toArray()),Ti.none())}}function ZV(e,t,n){e instanceof xc?(function(a,l,c){const f=a.value.clone(),m=ew(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(e,t,n):e instanceof Qr?(function(a,l,c){if(!Vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=ew(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(ax(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Xu(e,t,n,s){return e instanceof xc?(function(l,c,f,m){if(!Vf(l.precondition,c))return f;const p=l.value.clone(),y=nw(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Qr?(function(l,c,f,m){if(!Vf(l.precondition,c))return f;const p=nw(l.fieldTransforms,m,c),y=c.data;return y.setAll(ax(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,f){return Vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(e,t,n)}function tk(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=ex(s.transform,a||null);l!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,l))}return n||null}function tw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ol(s,a,((l,c)=>WV(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xc extends Ld{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qr extends Ld{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ax(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function ew(e,t,n){const s=new Map;Kt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);s.set(l.field,XV(c,f,n[a]))}return s}function nw(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,QV(l,c,t))}return s}class ox extends Ld{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ek extends Ld{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nk{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&ZV(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Xu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Xu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=ZA();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=rx(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&ol(this.mutations,t.mutations,((n,s)=>tw(n,s)))&&ol(this.baseMutations,t.baseMutations,((n,s)=>tw(n,s)))}}class hv{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return HV})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new hv(t,n,s,a)}}class ik{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sk{constructor(t,n){this.count=t,this.unchangedNames=n}}var Pe,zt;function rk(e){switch(e){case it.OK:return bt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return bt(15467,{code:e})}}function lx(e){if(e===void 0)return Ps("GRPC error has no .code"),it.UNKNOWN;switch(e){case Pe.OK:return it.OK;case Pe.CANCELLED:return it.CANCELLED;case Pe.UNKNOWN:return it.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return it.INTERNAL;case Pe.UNAVAILABLE:return it.UNAVAILABLE;case Pe.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Pe.NOT_FOUND:return it.NOT_FOUND;case Pe.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Pe.ABORTED:return it.ABORTED;case Pe.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Pe.DATA_LOSS:return it.DATA_LOSS;default:return bt(39323,{code:e})}}(zt=Pe||(Pe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function ak(){return new TextEncoder}const ok=new Nr([4294967295,4294967295],0);function iw(e){const t=ak().encode(e),n=new TA;return n.update(t),new Uint8Array(n.digest())}function sw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Nr([n,s],0),new Nr([a,l],0)]}class fv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(s<0)throw new Fu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Nr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Nr.fromNumber(s)));return a.compare(ok)===1&&(a=new Nr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=iw(t),[s,a]=sw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new fv(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(t){if(this.ge===0)return;const n=iw(t),[s,a]=sw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ud{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,Rc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ud(At.min(),a,new pe(Lt),Vs(),Ut())}}class Rc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Rc(s,n,Ut(),Ut(),Ut())}}class kf{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class ux{constructor(t,n){this.targetId=t,this.Ce=n}}class cx{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class rw{constructor(){this.ve=0,this.Fe=aw(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:bt(38017,{changeType:l})}})),new Rc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=aw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Vs(),this.Je=_f(),this.He=_f(),this.Ye=new pe(Lt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Jg(l))if(s===0){const c=new yt(l.path);this.et(n,c,un.newNoDocument(c,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(t),m=f?this.ct(f,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=jr(s).toUint8Array()}catch(m){if(m instanceof PA)return Ha("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new fv(c,a,l)}catch(m){return Ha(m instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Jg(f.target)){const m=new yt(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,un.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Ut();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Ud(t,n,this.Ye,this.je,s);return this.je=Vs(),this.Je=_f(),this.He=_f(),this.Ye=new pe(Lt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new rw,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Fe(Lt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Fe(Lt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rw),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function _f(){return new pe(yt.comparator)}function aw(){return new pe(yt.comparator)}const uk={asc:"ASCENDING",desc:"DESCENDING"},ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hk={and:"AND",or:"OR"};class fk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ey(e,t){return e.useProto3Json||Nd(t)?t:{value:t}}function id(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dk(e,t){return id(e,t.toTimestamp())}function Zi(e){return Kt(!!e,49232),At.fromTimestamp((function(n){const s=Ur(n);return new Jt(s.seconds,s.nanos)})(e))}function dv(e,t){return ny(e,t).canonicalString()}function ny(e,t){const n=(function(a){return new re(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function fx(e){const t=re.fromString(e);return Kt(yx(t),10190,{key:t.toString()}),t}function iy(e,t){return dv(e.databaseId,t.path)}function mg(e,t){const n=fx(t);if(n.get(1)!==e.databaseId.projectId)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(mx(n))}function dx(e,t){return dv(e.databaseId,t)}function mk(e){const t=fx(e);return t.length===4?re.emptyPath():mx(t)}function sy(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mx(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ow(e,t,n){return{name:iy(e,t),fields:n.value.mapValue.fields}}function pk(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:bt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),Qe.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qe.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?it.UNKNOWN:lx(p.code);return new ht(y,p.message||"")})(c);n=new cx(s,a,l,f||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=mg(e,s.document.name),l=Zi(s.document.updateTime),c=s.document.createTime?Zi(s.document.createTime):At.min(),f=new Sn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new kf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=mg(e,s.document),l=s.readTime?Zi(s.readTime):At.min(),c=un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new kf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=mg(e,s.document),l=s.removedTargetIds||[];n=new kf([],l,a,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new sk(a,l),f=s.targetId;n=new ux(f,c)}}return n}function gk(e,t){let n;if(t instanceof xc)n={update:ow(e,t.key,t.value)};else if(t instanceof ox)n={delete:iy(e,t.key)};else if(t instanceof Qr)n={update:ow(e,t.key,t.data),updateMask:Ak(t.fieldMask)};else{if(!(t instanceof ek))return bt(16599,{Vt:t.type});n={verify:iy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof ed)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw bt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:dk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:bt(27497)})(e,t.precondition)),n}function yk(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Zi(a.updateTime):Zi(l);return c.isEqual(At.min())&&(c=Zi(l)),new JV(c,a.transformResults||[])})(n,t)))):[]}function vk(e,t){return{documents:[dx(e,t.path)]}}function _k(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dx(e,a);const l=(function(p){if(p.length!==0)return gx(Si.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:Yo(b.field),direction:bk(b.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ey(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function Tk(e){let t=mk(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Kt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const b=px(_);return b instanceof Si&&HA(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(D){return new td(Ko(D.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,Nd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,R=_.values||[];return new Zf(R,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,R=_.values||[];return new Zf(R,b)})(n.endAt)),jV(t,a,c,l,f,"F",m,p)}function Ek(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function px(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ko(n.unaryFilter.field);return ke.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ko(n.unaryFilter.field);return ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(n.unaryFilter.field);return ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(n.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ke.create(Ko(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Si.create(n.compositeFilter.filters.map((s=>px(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(n.compositeFilter.op))})(e):bt(30097,{filter:e})}function bk(e){return uk[e]}function wk(e){return ck[e]}function Sk(e){return hk[e]}function Yo(e){return{fieldPath:e.canonicalString()}}function Ko(e){return $e.fromServerFormat(e.fieldPath)}function gx(e){return e instanceof ke?(function(n){if(n.op==="=="){if($b(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(Kb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($b(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(Kb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:wk(n.op),value:n.value}}})(e):e instanceof Si?(function(n){const s=n.getFilters().map((a=>gx(a)));return s.length===1?s[0]:{compositeFilter:{op:Sk(n.op),filters:s}}})(e):bt(54877,{filter:e})}function Ak(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function yx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class xr{constructor(t,n,s,a,l=At.min(),c=At.min(),f=Qe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class xk{constructor(t){this.yt=t}}function Rk(e){const t=Tk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ty(t,t.limit,"L"):t}class Ck{constructor(){this.Cn=new Ik}addToCollectionParentIndex(t,n){return this.Cn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(Lr.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(Lr.min())}updateCollectionGroup(t,n,s){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class Ik{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(re.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(re.comparator)).toArray()}}const lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vx=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(vx,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class hl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}const uw="LruGarbageCollector",Dk=1048576;function cw([e,t],[n,s]){const a=Lt(e,n);return a===0?Lt(t,s):a}class Nk{constructor(t){this.Ir=t,this.buffer=new Fe(cw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mk{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(uw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?dt(uw,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Vr(3e5)}))}}class Ok{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(Dd.ce);const s=new Nk(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(lw)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lw):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),Ho()<=kt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function Pk(e,t){return new Ok(e,t)}class Vk{constructor(){this.changes=new Qa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?st.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class kk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Lk{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Xu(s.mutation,a,Ln.empty(),Jt.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const a=Pa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=zu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Pa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(t,n,s,a){let l=Vs();const c=Qu(),f=(function(){return Qu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Qr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Xu(y.mutation,p,y.mutation.getFieldMask(),Jt.now())):c.set(p.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new kk(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(t,n){const s=Qu();let a=new pe(((c,f)=>c-f)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Ln.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||Ut()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=ZA();y.forEach((b=>{if(!l.has(b)){const R=rx(n.get(b),s.get(b));R!==null&&_.set(b,R),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return st.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$A(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):st.resolve(Pa());let f=ac,m=l;return c.next((p=>st.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Ut()))).next((y=>({batchId:f,changes:JA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let a=zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(t,l).next((f=>st.forEach(f,(m=>{const p=(function(_,b){return new Ac(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let f=zu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Xu(y.mutation,p,Ln.empty(),Jt.now()),Vd(n,p)&&(f=f.insert(m,p))})),f}))}}class Uk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return st.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Rk(a.bundledQuery),readTime:Zi(a.readTime)}})(n)),st.resolve()}}class jk{constructor(){this.overlays=new pe(yt.comparator),this.qr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Pa();return st.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),st.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),st.resolve()}getOverlaysForCollection(t,n,s){const a=Pa(),l=n.length+1,c=new yt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return st.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new pe(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Pa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return st.resolve(f)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ik(n,s));let l=this.qr.get(n);l===void 0&&(l=Ut(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class Bk{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}class mv{constructor(){this.Qr=new Fe(Ke.$r),this.Ur=new Fe(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ke(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ke(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new re([])),s=new Ke(n,t),a=new Ke(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new re([])),s=new Ke(n,t),a=new Ke(n,t+1);let l=Ut();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ke(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ke{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||Lt(t.Yr,n.Yr)}static Kr(t,n){return Lt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class zk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fe(Ke.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nk(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Ke(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,n){return st.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return st.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?rv:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ke(n,0),a=new Ke(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),st.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(Lt);return n.forEach((a=>{const l=new Ke(a,0),c=new Ke(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),st.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new Ke(new yt(l),0);let f=new Fe(Lt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),st.resolve(this.ti(f))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return st.forEach(n.mutations,(a=>{const l=new Ke(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ke(n,0),a=this.Zr.firstAfterOrEqual(s);return st.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Fk{constructor(t){this.ri=t,this.docs=(function(){return new pe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return st.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(t,n){let s=Vs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),st.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Vs();const c=n.path,f=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||yV(gV(y),s)<=0||(a.has(y.key)||Vd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return st.resolve(l)}getAllFromCollectionGroup(t,n,s,a){bt(9500)}ii(t,n){return st.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new qk(this)}getSize(t){return st.resolve(this.size)}}class qk extends Vk{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),st.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class Hk{constructor(t){this.persistence=t,this.si=new Qa((n=>lv(n)),uv),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new mv,this.targetCount=0,this.ai=hl.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),st.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new hl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.Pr(n),st.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),st.waitFor(l).next((()=>a))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return st.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),st.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),st.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return st.resolve(s)}containsKey(t,n){return st.resolve(this._i.containsKey(n))}}class _x{constructor(t,n){this.ui={},this.overlays={},this.ci=new Dd(0),this.li=!1,this.li=!0,this.hi=new Bk,this.referenceDelegate=t(this),this.Pi=new Hk(this),this.indexManager=new Ck,this.remoteDocumentCache=(function(a){return new Fk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new xk(n),this.Ii=new Uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new jk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new zk(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){dt("MemoryPersistence","Starting transaction:",t);const a=new Gk(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return st.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class Gk extends _V{constructor(t){super(),this.currentSequenceNumber=t}}class pv{constructor(t){this.persistence=t,this.Ri=new mv,this.Vi=null}static mi(t){return new pv(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),st.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(s=>{const a=yt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return st.or([()=>st.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class sd{constructor(t,n){this.persistence=t,this.pi=new Qa((s=>bV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Pk(this,n)}static mi(t,n){return new sd(t,n)}Ei(){}di(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return st.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?st.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((f=>{f||(s++,l.removeEntry(c,At.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Of(t.data.value)),n}br(t,n,s){return st.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return st.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class gv{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new gv(t,n.fromCache,s,a)}}class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Kk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RN()?8:TV(hn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Yk;return this.Ss(t,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(t,n,c,f.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(Ho()<=kt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Ho()<=kt.DEBUG&&dt("QueryEngine","Query:",Go(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ho()<=kt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ji(n))):st.resolve())}ys(t,n){if(Jb(n))return st.resolve(null);let s=Ji(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ty(n,null,"F"),s=Ji(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ut(...l);return this.ps.getDocuments(t,c).next((f=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(t,ty(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,s,a){return Jb(n)||a.isEqual(At.min())?st.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?st.resolve(null):(Ho()<=kt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.vs(t,c,n,pV(a,ac)).next((f=>f)))}))}Ds(t,n){let s=new Fe(XA(t));return n.forEach(((a,l)=>{Vd(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return Ho()<=kt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ps.getDocumentsMatchingQuery(t,n,Lr.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const yv="LocalStore",$k=3e8;class Qk{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new pe(Lt),this.xs=new Qa((l=>lv(l)),uv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function Xk(e,t,n,s){return new Qk(e,t,n,s)}async function Tx(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=Ut();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function Wk(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,b=_.keys();let R=st.resolve();return b.forEach((D=>{R=R.next((()=>y.getEntry(m,D))).next((B=>{const P=p.docVersions.get(D);Kt(P!==null,48541),B.version.compareTo(P)<0&&(_.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Ut();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Ex(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function Jk(e,t){const n=Rt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];t.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?R=R.withResumeToken(Qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(_,R),(function(B,P,q){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=$k?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(b,R,y)&&f.push(n.Pi.updateTargetData(l,R))}));let m=Vs(),p=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Zk(l,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(At.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return st.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function Zk(e,t,n){let s=Ut(),a=Ut();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Vs();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(At.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):dt(yv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function t4(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=rv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function e4(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,st.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new xr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function ry(e,t,n){const s=Rt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!wl(c))throw c;dt(yv,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function hw(e,t,n){const s=Rt(e);let a=At.min(),l=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Rt(m),b=_.xs.get(y);return b!==void 0?st.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,y)})(s,c,Ji(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:At.min(),n?l:Ut()))).next((f=>(n4(s,zV(t),f),{documents:f,Qs:l})))))}function n4(e,t,n){let s=e.Os.get(t)||At.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class fw{constructor(){this.activeTargetIds=KV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class i4{constructor(){this.Mo=new fw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new fw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class s4{Oo(t){}shutdown(){}}const dw="ConnectivityMonitor";class mw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(dw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(dw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tf=null;function ay(){return Tf===null?Tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tf++,"0x"+Tf.toString(16)}const pg="RestConnection",r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Wf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=ay(),f=this.zo(t,n.toUriEncodedString());dt(pg,`Sending RPC '${t}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Ya(p);return this.Jo(t,f,m,s,y).then((_=>(dt(pg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Ha(pg,`RPC '${t}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=r4[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class o4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class l4 extends a4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=ay();return new Promise(((f,m)=>{const p=new EA;p.setWithCredentials(!0),p.listenOnce(bA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const _=p.getResponseJson();dt(on,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),f(_);break;case Mf.TIMEOUT:dt(on,`RPC '${t}' ${c} timed out`),m(new ht(it.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const b=p.getStatus();if(dt(on,`RPC '${t}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R?.error;if(D&&D.status&&D.message){const B=(function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf($)>=0?$:it.UNKNOWN})(D.status);m(new ht(B,D.message))}else m(new ht(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ht(it.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{dt(on,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);dt(on,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=ay(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=AA(),f=SA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");dt(on,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,R=!1;const D=new o4({Yo:P=>{R?dt(on,`Not sending because RPC '${t}' stream ${a} is closed:`,P):(b||(dt(on,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),dt(on,`RPC '${t}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),B=(P,q,$)=>{P.listen(q,(Y=>{try{$(Y)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return B(_,Bu.EventType.OPEN,(()=>{R||(dt(on,`RPC '${t}' stream ${a} transport opened.`),D.o_())})),B(_,Bu.EventType.CLOSE,(()=>{R||(R=!0,dt(on,`RPC '${t}' stream ${a} transport closed`),D.a_(),this.E_(_))})),B(_,Bu.EventType.ERROR,(P=>{R||(R=!0,Ha(on,`RPC '${t}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),D.a_(new ht(it.UNAVAILABLE,"The operation could not be completed")))})),B(_,Bu.EventType.MESSAGE,(P=>{if(!R){const q=P.data[0];Kt(!!q,16349);const $=q,Y=$?.error||$[0]?.error;if(Y){dt(on,`RPC '${t}' stream ${a} received error:`,Y);const rt=Y.status;let at=(function(x){const I=Pe[x];if(I!==void 0)return lx(I)})(rt),ot=Y.message;at===void 0&&(at=it.INTERNAL,ot="Unknown error status: "+rt+" with message "+Y.message),R=!0,D.a_(new ht(at,ot)),_.close()}else dt(on,`RPC '${t}' stream ${a} received:`,q),D.u_(q)}})),B(f,wA.STAT_EVENT,(P=>{P.stat===Kg.PROXY?dt(on,`RPC '${t}' stream ${a} detected buffering proxy`):P.stat===Kg.NOPROXY&&dt(on,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function gg(){return typeof document<"u"?document:null}function jd(e){return new fk(e,!0)}class bx{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pw="PersistentStream";class wx{constructor(t,n,s,a,l,c,f,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bx(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ht(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(pw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(dt(pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u4 extends wx{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=pk(this.serializer,t),s=(function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Zi(c.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=sy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Jg(m)?{documents:vk(l,m)}:{query:_k(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=hx(l,c.resumeToken);const p=ey(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(At.min())>0){f.readTime=id(l,c.snapshotVersion.toTimestamp());const p=ey(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const s=Ek(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=sy(this.serializer),n.removeTarget=t,this.q_(n)}}class c4 extends wx{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=yk(t.writeResults,t.commitTime),s=Zi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=sy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>gk(this.serializer,s)))};this.q_(n)}}class h4{}class f4 extends h4{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,ny(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(it.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(t,ny(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class d4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class m4{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Xa(this)&&(dt(Ga,"Restarting streams for network reachability change."),await(async function(m){const p=Rt(m);p.Ea.add(4),await Cc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Bd(p)})(this))}))})),this.Ra=new d4(s,a)}}async function Bd(e){if(Xa(e))for(const t of e.da)await t(!0)}async function Cc(e){for(const t of e.da)await t(!1)}function Sx(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ev(n)?Tv(n):Sl(n).O_()&&_v(n,t))}function vv(e,t){const n=Rt(e),s=Sl(n);n.Ia.delete(t),s.O_()&&Ax(n,t),n.Ia.size===0&&(s.O_()?s.L_():Xa(n)&&n.Ra.set("Unknown"))}function _v(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sl(e).Y_(t)}function Ax(e,t){e.Va.Ue(t),Sl(e).Z_(t)}function Tv(e){e.Va=new lk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Sl(e).start(),e.Ra.ua()}function Ev(e){return Xa(e)&&!Sl(e).x_()&&e.Ia.size>0}function Xa(e){return Rt(e).Ea.size===0}function xx(e){e.Va=void 0}async function p4(e){e.Ra.set("Online")}async function g4(e){e.Ia.forEach(((t,n)=>{_v(e,t)}))}async function y4(e,t){xx(e),Ev(e)?(e.Ra.ha(t),Tv(e)):e.Ra.set("Unknown")}async function v4(e,t,n){if(e.Ra.set("Online"),t instanceof cx&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(e,t)}catch(s){dt(Ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await rd(e,s)}else if(t instanceof kf?e.Va.Ze(t):t instanceof ux?e.Va.st(t):e.Va.tt(t),!n.isEqual(At.min()))try{const s=await Ex(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Qe.EMPTY_BYTE_STRING,y.snapshotVersion)),Ax(l,m);const _=new xr(y.target,m,p,y.sequenceNumber);_v(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(e,n)}catch(s){dt(Ga,"Failed to raise snapshot:",s),await rd(e,s)}}async function rd(e,t,n){if(!wl(t))throw t;e.Ea.add(1),await Cc(e),e.Ra.set("Offline"),n||(n=()=>Ex(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(Ga,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Bd(e)}))}function Rx(e,t){return t().catch((n=>rd(e,n,t)))}async function zd(e){const t=Rt(e),n=zr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:rv;for(;_4(t);)try{const a=await t4(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,T4(t,a)}catch(a){await rd(t,a)}Cx(t)&&Ix(t)}function _4(e){return Xa(e)&&e.Ta.length<10}function T4(e,t){e.Ta.push(t);const n=zr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Cx(e){return Xa(e)&&!zr(e).x_()&&e.Ta.length>0}function Ix(e){zr(e).start()}async function E4(e){zr(e).ra()}async function b4(e){const t=zr(e);for(const n of e.Ta)t.ea(n.mutations)}async function w4(e,t,n){const s=e.Ta.shift(),a=hv.from(s,t,n);await Rx(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await zd(e)}async function S4(e,t){t&&zr(e).X_&&await(async function(s,a){if((function(c){return rk(c)&&c!==it.ABORTED})(a.code)){const l=s.Ta.shift();zr(s).B_(),await Rx(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await zd(s)}})(e,t),Cx(e)&&Ix(e)}async function gw(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),dt(Ga,"RemoteStore received new credentials");const s=Xa(n);n.Ea.add(3),await Cc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Bd(n)}async function A4(e,t){const n=Rt(e);t?(n.Ea.delete(2),await Bd(n)):t||(n.Ea.add(2),await Cc(n),n.Ra.set("Unknown"))}function Sl(e){return e.ma||(e.ma=(function(n,s,a){const l=Rt(n);return l.sa(),new u4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:p4.bind(null,e),t_:g4.bind(null,e),r_:y4.bind(null,e),H_:v4.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Ev(e)?Tv(e):e.Ra.set("Unknown")):(await e.ma.stop(),xx(e))}))),e.ma}function zr(e){return e.fa||(e.fa=(function(n,s,a){const l=Rt(n);return l.sa(),new c4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:E4.bind(null,e),r_:S4.bind(null,e),ta:b4.bind(null,e),na:w4.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await zd(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(Ga,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class bv{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,f=new bv(t,n,c,a,l);return f.start(s),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(e,t){if(Ps("AsyncQueue",`${t}: ${e}`),wl(e))return new ht(it.UNAVAILABLE,`${t}: ${e}`);throw e}class sl{static emptySet(t){return new sl(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=zu(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof sl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new sl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class yw{constructor(){this.ga=new pe(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class fl{constructor(t,n,s,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new fl(t,n,sl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class x4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class R4{constructor(){this.queries=vw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Rt(n),l=a.queries;a.queries=vw(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ht(it.ABORTED,"Firestore shutting down"))}}function vw(){return new Qa((e=>QA(e)),Pd)}async function Sv(e,t){const n=Rt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new x4,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=wv(c,`Initialization of query '${Go(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&xv(n)}async function Av(e,t){const n=Rt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function C4(e,t){const n=Rt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&xv(n)}function I4(e,t,n){const s=Rt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function xv(e){e.Ca.forEach((t=>{t.next()}))}var oy,_w;(_w=oy||(oy={})).Ma="default",_w.Cache="cache";class Rv{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new fl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=fl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==oy.Cache}}class Dx{constructor(t){this.key=t}}class Nx{constructor(t){this.key=t}}class D4{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=XA(t),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new yw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const b=a.get(y),R=Vd(this.query,_)?_:null,D=!!b&&this.mutatedKeys.has(b.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let P=!1;b&&R?b.data.isEqual(R.data)?D!==B&&(s.track({type:3,doc:R}),P=!0):this.su(b,R)||(s.track({type:2,doc:R}),P=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(f=!0)):!b&&R?(s.track({type:0,doc:R}),P=!0):b&&!R&&(s.track({type:1,doc:b}),P=!0,(m||p)&&(f=!0)),P&&(R?(c=c.add(R),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(R,D){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:P})}};return B(R)-B(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new fl(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Nx(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Dx(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cv="SyncEngine";class N4{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class M4{constructor(t){this.key=t,this.hu=!1}}class O4{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qa((f=>QA(f)),Pd),this.Iu=new Map,this.Eu=new Set,this.du=new pe(yt.comparator),this.Au=new Map,this.Ru=new mv,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P4(e,t,n=!0){const s=Lx(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Mx(s,t,n,!0),a}async function V4(e,t){const n=Lx(e);await Mx(n,t,!0,!1)}async function Mx(e,t,n,s){const a=await e4(e.localStore,Ji(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await k4(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&Sx(e.remoteStore,a),f}async function k4(e,t,n,s,a){e.pu=(_,b,R)=>(async function(B,P,q,$){let Y=P.view.ru(q);Y.Cs&&(Y=await hw(B.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,Y))));const rt=$&&$.targetChanges.get(P.targetId),at=$&&$.targetMismatches.get(P.targetId)!=null,ot=P.view.applyChanges(Y,B.isPrimaryClient,rt,at);return Ew(B,P.targetId,ot.au),ot.snapshot})(e,_,b,R);const l=await hw(e.localStore,t,!0),c=new D4(t,l.Qs),f=c.ru(l.documents),m=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Ew(e,n,p.au);const y=new N4(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function L4(e,t,n){const s=Rt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Pd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ry(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&vv(s.remoteStore,a.targetId),ly(s,a.targetId)})).catch(bl)):(ly(s,a.targetId),await ry(s.localStore,a.targetId,!0))}async function U4(e,t){const n=Rt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vv(n.remoteStore,s.targetId))}async function j4(e,t,n){const s=Y4(e);try{const a=await(function(c,f){const m=Rt(c),p=Jt.now(),y=f.reduce(((R,D)=>R.add(D.key)),Ut());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let D=Vs(),B=Ut();return m.Ns.getEntries(R,y).next((P=>{D=P,D.forEach(((q,$)=>{$.isValidDocument()||(B=B.add(q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,D))).next((P=>{_=P;const q=[];for(const $ of f){const Y=tk($,_.get($.key).overlayedDocument);Y!=null&&q.push(new Qr($.key,Y,zA(Y.value.mapValue),Ti.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,q,f)})).next((P=>{b=P;const q=P.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(R,P.batchId,q)}))})).then((()=>({batchId:b.batchId,changes:JA(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new pe(Lt)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Ic(s,a.changes),await zd(s.remoteStore)}catch(a){const l=wv(a,"Failed to persist write");n.reject(l)}}async function Ox(e,t){const n=Rt(e);try{const s=await Jk(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Kt(c.hu,14607):a.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Ic(n,s,t)}catch(s){await bl(s)}}function Tw(e,t,n){const s=Rt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Rt(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(f)&&(p=!0)})),p&&xv(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function B4(e,t,n){const s=Rt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new pe(yt.comparator);c=c.insert(l,un.newNoDocument(l,At.min()));const f=Ut().add(l),m=new Ud(At.min(),new Map,new pe(Lt),c,f);await Ox(s,m),s.du=s.du.remove(l),s.Au.delete(t),Iv(s)}else await ry(s.localStore,t,!1).then((()=>ly(s,t,n))).catch(bl)}async function z4(e,t){const n=Rt(e),s=t.batch.batchId;try{const a=await Wk(n.localStore,t);Vx(n,s,null),Px(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ic(n,a)}catch(a){await bl(a)}}async function F4(e,t,n){const s=Rt(e);try{const a=await(function(c,f){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Kt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);Vx(s,t,n),Px(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ic(s,a)}catch(a){await bl(a)}}function Px(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Vx(e,t,n){const s=Rt(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function ly(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||kx(e,s)}))}function kx(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(vv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Iv(e))}function Ew(e,t,n){for(const s of n)s instanceof Dx?(e.Ru.addReference(s.key,t),q4(e,s)):s instanceof Nx?(dt(Cv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||kx(e,s.key)):bt(19791,{wu:s})}function q4(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(dt(Cv,"New document in limbo: "+n),e.Eu.add(s),Iv(e))}function Iv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(re.fromString(t)),s=e.fu.next();e.Au.set(s,new M4(n)),e.du=e.du.insert(n,s),Sx(e.remoteStore,new xr(Ji(Od(n.path)),s,"TargetPurposeLimboResolution",Dd.ce))}}async function Ic(e,t,n){const s=Rt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=gv.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(p,(b=>st.forEach(b.Es,(R=>y.persistence.referenceDelegate.addReference(_,b.targetId,R))).next((()=>st.forEach(b.ds,(R=>y.persistence.referenceDelegate.removeReference(_,b.targetId,R)))))))))}catch(_){if(!wl(_))throw _;dt(yv,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const R=y.Ms.get(b),D=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(b,B)}}})(s.localStore,l))}async function H4(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){dt(Cv,"User change. New user:",t.toKey());const s=await Tx(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ht(it.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ic(n,s.Ls)}}function G4(e,t){const n=Rt(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let a=Ut();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Lx(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=G4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B4.bind(null,t),t.Pu.H_=C4.bind(null,t.eventManager),t.Pu.yu=I4.bind(null,t.eventManager),t}function Y4(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=z4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,t),t}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Xk(this.persistence,new Kk,t.initialUser,this.serializer)}Cu(t){return new _x(pv.mi,this.serializer)}Du(t){return new i4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class K4 extends ad{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof sd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Mk(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new _x((s=>sd.mi(s,n)),this.serializer)}}class uy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=H4.bind(null,this.syncEngine),await A4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new R4})()}createDatastore(t){const n=jd(t.databaseInfo.databaseId),s=(function(l){return new l4(l)})(t.databaseInfo);return(function(l,c,f,m){return new f4(l,c,f,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,f){return new m4(s,a,l,c,f)})(this.localStore,this.datastore,t.asyncQueue,(n=>Tw(this.syncEngine,n,0)),(function(){return mw.v()?new mw:new s4})())}createSyncEngine(t,n){return(function(a,l,c,f,m,p,y){const _=new O4(a,l,c,f,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);dt(Ga,"RemoteStore shutting down."),s.Ea.add(5),await Cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}uy.provider={build:()=>new uy};class Dv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Fr="FirestoreClient";class $4{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=Cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{dt(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(dt(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=wv(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function yg(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Fr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Tx(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function bw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Q4(e);dt(Fr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>gw(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>gw(t.remoteStore,a))),e._onlineComponents=t}async function Q4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Fr,"Using user provided OfflineComponentProvider");try{await yg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===it.FAILED_PRECONDITION||a.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await yg(e,new ad)}}else dt(Fr,"Using default OfflineComponentProvider"),await yg(e,new K4(void 0));return e._offlineComponents}async function Ux(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Fr,"Using user provided OnlineComponentProvider"),await bw(e,e._uninitializedComponentsProvider._online)):(dt(Fr,"Using default OnlineComponentProvider"),await bw(e,new uy))),e._onlineComponents}function X4(e){return Ux(e).then((t=>t.syncEngine))}async function od(e){const t=await Ux(e),n=t.eventManager;return n.onListen=P4.bind(null,t.syncEngine),n.onUnlisten=L4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=V4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=U4.bind(null,t.syncEngine),n}function W4(e,t,n={}){const s=new Is;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Dv({next:b=>{y.Nu(),c.enqueueAndForget((()=>Av(l,_)));const R=b.docs.has(f);!R&&b.fromCache?p.reject(new ht(it.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&m&&m.source==="server"?p.reject(new ht(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new Rv(Od(f.path),y,{includeMetadataChanges:!0,qa:!0});return Sv(l,_)})(await od(e),e.asyncQueue,t,n,s))),s.promise}function J4(e,t,n={}){const s=new Is;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Dv({next:b=>{y.Nu(),c.enqueueAndForget((()=>Av(l,_))),b.fromCache&&m.source==="server"?p.reject(new ht(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new Rv(f,y,{includeMetadataChanges:!0,qa:!0});return Sv(l,_)})(await od(e),e.asyncQueue,t,n,s))),s.promise}function jx(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const ww=new Map;const Bx="firestore.googleapis.com",Sw=!0;class Aw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bx,this.ssl=Sw}else this.host=t.host,this.ssl=t.ssl??Sw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dk)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fd{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CA;switch(s.type){case"firstParty":return new uV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ww.get(n);s&&(dt("ComponentProvider","Removing Datastore"),ww.delete(n),s.terminate())})(this),Promise.resolve()}}function zx(e,t,n,s={}){e=xn(e,Fd);const a=Ya(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},f=`${t}:${n}`;a&&(Gy(`https://${f}`),Yy("Firestore",!0)),l.host!==Bx&&l.host!==f&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ba(m,c)&&(e._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=ln.MOCK_USER;else{p=V1(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ht(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(_)}e._authCredentials=new aV(new RA(p,y))}}class Xr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Xr(this.firestore,t,this._query)}}class me{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Sc(n,me._jsonSchema))return new me(t,s||null,new yt(re.fromString(n.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:Le("string",me._jsonSchemaVersion),referencePath:Le("string")};class Ds extends Xr{constructor(t,n,s){super(t,n,Od(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new yt(t))}withConverter(t){return new Ds(this.firestore,t,this._path)}}function Mr(e,t,...n){if(e=qe(e),IA("collection","path",t),e instanceof Fd){const s=re.fromString(t,...n);return Ub(s),new Ds(e,null,s)}{if(!(e instanceof me||e instanceof Ds))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return Ub(s),new Ds(e.firestore,null,s)}}function $i(e,t,...n){if(e=qe(e),arguments.length===1&&(t=Cd.newId()),IA("doc","path",t),e instanceof Fd){const s=re.fromString(t,...n);return Lb(s),new me(e,null,new yt(s))}{if(!(e instanceof me||e instanceof Ds))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return Lb(s),new me(e.firestore,e instanceof Ds?e.converter:null,new yt(s))}}const xw="AsyncQueue";class Rw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bx(this,"async_queue_retry"),this._c=()=>{const s=gg();s&&dt(xw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wl(t))throw t;dt(xw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",Cw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=bv.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&bt(47125,{Pc:Cw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Cw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Iw(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class ks extends Fd{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new Rw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rw(t),this._firestoreClient=void 0,await t}}}function Fx(e,t){const n=typeof e=="object"?e:Qy(),s=typeof e=="string"?e:Wf,a=wd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=M1("firestore");l&&zx(a,...l)}return a}function Dc(e){if(e._terminated)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Z4(e),e._firestoreClient}function Z4(e){const t=e._freezeSettings(),n=(function(a,l,c,f){return new AV(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,jx(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new $4(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Qe.fromBase64String(t))}catch(n){throw new ht(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new kn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sc(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Le("string",kn._jsonSchemaVersion),bytes:Le("string")};class Nc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qd{constructor(t){this._methodName=t}}class Ei{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(t){if(Sc(t,Ei._jsonSchema))return new Ei(t.latitude,t.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Le("string",Ei._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class bi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sc(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new bi(t.vectorValues);throw new ht(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Le("string",bi._jsonSchemaVersion),vectorValues:Le("object")};const tL=/^__.*__$/;class eL{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms):new xc(t,this.data,n,this.fieldTransforms)}}class qx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:e})}}class Nv{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ld(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Hx(this.Ac)&&tL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class nL{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||jd(t)}Cc(t,n,s,a=!1){return new Nv({Ac:t,methodName:n,Dc:s,path:$e.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(e){const t=e._freezeSettings(),n=jd(e._databaseId);return new nL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gx(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);Mv("Data must be an object, but it was:",c,s);const f=Yx(s,c);let m,p;if(l.merge)m=new Ln(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=cy(t,_,n);if(!c.contains(b))throw new ht(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$x(y,b)||y.push(b)}m=new Ln(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new eL(new Sn(f),m,p)}class Gd extends qd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gd}}function iL(e,t,n,s){const a=e.Cc(1,t,n);Mv("Data must be an object, but it was:",a,s);const l=[],c=Sn.empty();$r(s,((m,p)=>{const y=Ov(t,m,n);p=qe(p);const _=a.yc(y);if(p instanceof Gd)l.push(y);else{const b=Mc(p,_);b!=null&&(l.push(y),c.set(y,b))}}));const f=new Ln(l);return new qx(c,f,a.fieldTransforms)}function sL(e,t,n,s,a,l){const c=e.Cc(1,t,n),f=[cy(t,s,n)],m=[a];if(l.length%2!=0)throw new ht(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(cy(t,l[b])),m.push(l[b+1]);const p=[],y=Sn.empty();for(let b=f.length-1;b>=0;--b)if(!$x(p,f[b])){const R=f[b];let D=m[b];D=qe(D);const B=c.yc(R);if(D instanceof Gd)p.push(R);else{const P=Mc(D,B);P!=null&&(p.push(R),y.set(R,P))}}const _=new Ln(p);return new qx(y,_,c.fieldTransforms)}function rL(e,t,n,s=!1){return Mc(n,e.Cc(s?4:3,t))}function Mc(e,t){if(Kx(e=qe(e)))return Mv("Unsupported field value:",t,e),Yx(e,t);if(e instanceof qd)return(function(s,a){if(!Hx(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Mc(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=qe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $V(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Jt.fromDate(s);return{timestampValue:id(a.serializer,l)}}if(s instanceof Jt){const l=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:id(a.serializer,l)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:hx(a.serializer,s._byteString)};if(s instanceof me){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof bi)return(function(c,f){return{mapValue:{fields:{[jA]:{stringValue:BA},[Jf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return cv(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Id(s)}`)})(e,t)}function Yx(e,t){const n={};return OA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(e,((s,a)=>{const l=Mc(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Kx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Jt||e instanceof Ei||e instanceof kn||e instanceof me||e instanceof qd||e instanceof bi)}function Mv(e,t,n){if(!Kx(n)||!NA(n)){const s=Id(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function cy(e,t,n){if((t=qe(t))instanceof Nc)return t._internalPath;if(typeof t=="string")return Ov(e,t);throw ld("Field path arguments must be of type string or ",e,!1,void 0,n)}const aL=new RegExp("[~\\*/\\[\\]]");function Ov(e,t,n){if(t.search(aL)>=0)throw ld(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Nc(...t.split("."))._internalPath}catch{throw ld(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ld(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ht(it.INVALID_ARGUMENT,f+e+m)}function $x(e,t){return e.some((n=>n.isEqual(t)))}class Qx{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Pv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oL extends Qx{data(){return super.data()}}function Pv(e,t){return typeof t=="string"?Ov(e,t):t instanceof Nc?t._internalPath:t._delegate._internalPath}function Xx(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ht(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{}class Wx extends Vv{}function La(e,t,...n){let s=[];t instanceof Vv&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Yd)).length,f=l.filter((m=>m instanceof Oc)).length;if(c>1||c>0&&f>0)throw new ht(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class Oc extends Wx{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Oc(t,n,s)}_apply(t){const n=this._parse(t);return Jx(t._query,n),new Xr(t.firestore,t.converter,Zg(t._query,n))}_parse(t){const n=Hd(t.firestore);return(function(l,c,f,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Nw(_,y);const D=[];for(const B of _)D.push(Dw(m,l,B));b={arrayValue:{values:D}}}else b=Dw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Nw(_,y),b=rL(f,c,_,y==="in"||y==="not-in");return ke.create(p,y,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Rr(e,t,n){const s=t,a=Pv("where",e);return Oc._create(a,s,n)}class Yd extends Vv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Yd(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)Jx(c,m),c=Zg(c,m)})(t._query,n),new Xr(t.firestore,t.converter,Zg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Dw(e,t,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new ht(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$A(t)&&n.indexOf("/")!==-1)throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(re.fromString(n));if(!yt.isDocumentKey(s))throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yb(e,new yt(s))}if(n instanceof me)return Yb(e,n._key);throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function Nw(e,t){if(!Array.isArray(e)||e.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Jx(e,t){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Zx{convertValue(t,n="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return $r(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Jf].arrayValue?.values?.map((s=>Se(s.doubleValue)));return new bi(n)}convertGeoPoint(t){return new Ei(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Md(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(oc(t));default:return null}}convertTimestamp(t){const n=Ur(t);return new Jt(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);Kt(yx(s),9688,{name:t});const a=new ll(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return a.isEqual(n)||Ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function tR(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class Qo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Or extends Qx{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Pv("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Or._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:Le("string",Or._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Wu extends Or{data(t={}){return super.data(t)}}class Pr{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Qo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Wu(this._firestore,this._userDataWriter,s.key,s,new Qo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Wu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Qo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Wu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Qo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:lL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:e})}}function eR(e){e=xn(e,me);const t=xn(e.firestore,ks);return W4(Dc(t),e._key).then((n=>iR(t,e,n)))}Pr._jsonSchemaVersion="firestore/querySnapshot/1.0",Pr._jsonSchema={type:Le("string",Pr._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class kv extends Zx{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}function ud(e){e=xn(e,Xr);const t=xn(e.firestore,ks),n=Dc(t),s=new kv(t);return Xx(e._query),J4(n,e._query).then((a=>new Pr(t,s,e,a)))}function uL(e,t,n){e=xn(e,me);const s=xn(e.firestore,ks),a=tR(e.converter,t,n);return Kd(s,[Gx(Hd(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Ti.none())])}function qu(e,t,n,...s){e=xn(e,me);const a=xn(e.firestore,ks),l=Hd(a);let c;return c=typeof(t=qe(t))=="string"||t instanceof Nc?sL(l,"updateDoc",e._key,t,n,s):iL(l,"updateDoc",e._key,t),Kd(a,[c.toMutation(e._key,Ti.exists(!0))])}function nR(e,t){const n=xn(e.firestore,ks),s=$i(e),a=tR(e.converter,t);return Kd(n,[Gx(Hd(e.firestore),"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,Ti.exists(!1))]).then((()=>s))}function dl(e,...t){e=qe(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Iw(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Iw(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,f;if(e instanceof me)c=xn(e.firestore,ks),f=Od(e._key.path),l={next:m=>{t[s]&&t[s](iR(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=xn(e,Xr);c=xn(m.firestore,ks),f=m._query;const p=new kv(c);l={next:y=>{t[s]&&t[s](new Pr(c,p,m,y))},error:t[s+1],complete:t[s+2]},Xx(e._query)}return(function(p,y,_,b){const R=new Dv(b),D=new Rv(y,R,_);return p.asyncQueue.enqueueAndForget((async()=>Sv(await od(p),D))),()=>{R.Nu(),p.asyncQueue.enqueueAndForget((async()=>Av(await od(p),D)))}})(Dc(c),f,a,l)}function Kd(e,t){return(function(s,a){const l=new Is;return s.asyncQueue.enqueueAndForget((async()=>j4(await X4(s),a,l))),l.promise})(Dc(e),t)}function iR(e,t,n){const s=n.docs.get(t._key),a=new kv(e);return new Or(e,a,t._key,s,new Qo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){El=a})(Ka),za(new kr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new ks(new oV(s.getProvider("auth-internal")),new cV(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ht(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Qi(Ob,Pb,t),Qi(Ob,Pb,"esm2020")})();const cL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Zx,Bytes:kn,CollectionReference:Ds,DocumentReference:me,DocumentSnapshot:Or,FieldPath:Nc,FieldValue:qd,Firestore:ks,FirestoreError:ht,GeoPoint:Ei,Query:Xr,QueryCompositeFilterConstraint:Yd,QueryConstraint:Wx,QueryDocumentSnapshot:Wu,QueryFieldFilterConstraint:Oc,QuerySnapshot:Pr,SnapshotMetadata:Qo,Timestamp:Jt,VectorValue:bi,_AutoId:Cd,_ByteString:Qe,_DatabaseId:ll,_DocumentKey:yt,_EmptyAuthCredentialsProvider:CA,_FieldPath:$e,_cast:xn,_logWarn:Ha,_validateIsNotUsedTogether:DA,addDoc:nR,collection:Mr,connectFirestoreEmulator:zx,doc:$i,ensureFirestoreConfigured:Dc,executeWrite:Kd,getDoc:eR,getDocs:ud,getFirestore:Fx,onSnapshot:dl,query:La,setDoc:uL,updateDoc:qu,where:Rr},Symbol.toStringTag,{value:"Module"}));const sR="firebasestorage.googleapis.com",hL="storageBucket",fL=120*1e3,dL=600*1e3;class as extends rs{constructor(t,n,s=0){super(vg(t),`Firebase Storage: ${n} (${vg(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return vg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var is;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(is||(is={}));function vg(e){return"storage/"+e}function mL(){const e="An unknown error occurred, please check the error payload for server response.";return new as(is.UNKNOWN,e)}function pL(){return new as(is.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gL(){return new as(is.CANCELED,"User canceled the upload/download.")}function yL(e){return new as(is.INVALID_URL,"Invalid URL '"+e+"'.")}function vL(e){return new as(is.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Mw(e){return new as(is.INVALID_ARGUMENT,e)}function rR(){return new as(is.APP_DELETED,"The Firebase app was deleted.")}function _L(e){return new as(is.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class _i{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=_i.makeFromUrl(t,n)}catch{return new _i(t,"")}if(s.path==="")return s;throw vL(t)}static makeFromUrl(t,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(rt){rt.path_=decodeURIComponent(rt.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${a}/o${b}`,"i"),D={bucket:1,path:3},B=n===sR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",q=new RegExp(`^https?://${B}/${a}/${P}`,"i"),Y=[{regex:f,indices:m,postModify:l},{regex:R,indices:D,postModify:p},{regex:q,indices:{bucket:1,path:2},postModify:p}];for(let rt=0;rt<Y.length;rt++){const at=Y[rt],ot=at.regex.exec(t);if(ot){const C=ot[at.indices.bucket];let x=ot[at.indices.path];x||(x=""),s=new _i(C,x),at.postModify(s);break}}if(s==null)throw yL(t);return s}}class TL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function EL(e,t,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...P){p||(p=!0,t.apply(null,P))}function _(P){a=setTimeout(()=>{a=null,e(R,m())},P)}function b(){l&&clearTimeout(l)}function R(P,...q){if(p){b();return}if(P){b(),y.call(null,P,...q);return}if(m()||c){b(),y.call(null,P,...q);return}s<64&&(s*=2);let Y;f===1?(f=2,Y=0):Y=(s+Math.random())*1e3,_(Y)}let D=!1;function B(P){D||(D=!0,b(),!p&&(a!==null?(P||(f=2),clearTimeout(a),_(0)):P||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,B(!0)},n),B}function bL(e){e(!1)}function wL(e){return e!==void 0}function Ow(e,t,n,s){if(s<t)throw Mw(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw Mw(`Invalid value for '${e}'. Expected ${n} or less.`)}function SL(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const a=t(s)+"="+t(e[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var cd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(cd||(cd={}));function AL(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}class xL{constructor(t,n,s,a,l,c,f,m,p,y,_,b=!0,R=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,B)=>{this.resolve_=D,this.reject_=B,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new Ef(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===cd.NO_ERROR,m=l.getStatus();if(!f||AL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===cd.ABORT;s(!1,new Ef(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Ef(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());wL(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=mL();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?rR():gL();c(m)}else{const m=pL();c(m)}};this.canceled_?n(!1,new Ef(!1,null,!0)):this.backoffId_=EL(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&bL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ef{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function RL(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function CL(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function IL(e,t){t&&(e["X-Firebase-GMPID"]=t)}function DL(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function NL(e,t,n,s,a,l,c=!0,f=!1){const m=SL(e.urlParams),p=e.url+m,y=Object.assign({},e.headers);return IL(y,t),RL(y,n),CL(y,l),DL(y,s),new xL(p,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,f)}function ML(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function OL(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class hd{constructor(t,n){this._service=t,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new hd(t,n)}get root(){const t=new _i(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OL(this._location.path)}get storage(){return this._service}get parent(){const t=ML(this._location.path);if(t===null)return null;const n=new _i(this._location.bucket,t);return new hd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw _L(t)}}function Pw(e,t){const n=t?.[hL];return n==null?null:_i.makeFromBucketSpec(n,e)}function PL(e,t,n,s={}){e.host=`${t}:${n}`;const a=Ya(t);a&&(Gy(`https://${e.host}/b`),Yy("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(e._overrideAuthToken=typeof l=="string"?l:V1(l,e.app.options.projectId))}class VL{constructor(t,n,s,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=sR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fL,this._maxUploadRetryTime=dL,this._requests=new Set,a!=null?this._bucket=_i.makeFromBucketSpec(a,this._host):this._bucket=Pw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,t):this._bucket=Pw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ow("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ow("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new hd(this,t)}_makeRequest(t,n,s,a,l=!0){if(this._deleted)return new TL(rR());{const c=NL(t,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,a).getPromise()}}const Vw="@firebase/storage",kw="0.14.0";const aR="storage";function kL(e=Qy(),t){e=qe(e);const s=wd(e,aR).getImmediate({identifier:t}),a=M1("storage");return a&&LL(s,...a),s}function LL(e,t,n,s={}){PL(e,t,n,s)}function UL(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new VL(n,s,a,t,Ka)}function jL(){za(new kr(aR,UL,"PUBLIC").setMultipleInstances(!0)),Qi(Vw,kw,""),Qi(Vw,kw,"esm2020")}jL();const BL={apiKey:"AIzaSyCGRAz4hNy9737rRC2XhGjihrroVFrBnyE",authDomain:"doctors-89de9.firebaseapp.com",projectId:"doctors-89de9",storageBucket:"doctors-89de9.firebasestorage.app",messagingSenderId:"843277629462",appId:"1:843277629462:web:c6ef4918f469d13dff5d37",measurementId:"G-RVBRHCX77H"},Lv=U1(BL),Uv=sV(Lv),sn=Fx(Lv);kL(Lv);const oR=O.createContext();function zL(){return O.useContext(oR)}function FL({children:e}){const[t,n]=O.useState(null),[s,a]=O.useState(null),[l,c]=O.useState(!0);O.useEffect(()=>KO(Uv,async p=>{if(n(p),p){const y=$i(sn,"users",p.uid),_=await eR(y);_.exists()&&a(_.data())}else a(null);c(!1)}),[]);const f={currentUser:t,userData:s,isDoctor:s?.role==="doctor"};return S.jsx(oR.Provider,{value:f,children:!l&&e})}const qL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Lw=e=>{const t=HL(e);return t.charAt(0).toUpperCase()+t.slice(1)},lR=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),GL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var YL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KL=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>O.createElement("svg",{ref:m,...YL,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:lR("lucide",a),...!l&&!GL(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>O.createElement(p,y)),...Array.isArray(l)?l:[l]]));const ge=(e,t)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(KL,{ref:l,iconNode:t,className:lR(`lucide-${qL(Lw(e))}`,`lucide-${e}`,s),...a}));return n.displayName=Lw(e),n};const $L=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hy=ge("activity",$L);const QL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],XL=ge("arrow-right",QL);const WL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fy=ge("calendar",WL);const JL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZL=ge("circle-alert",JL);const t3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uR=ge("circle-check",t3);const e3=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n3=ge("circle-play",e3);const i3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Uw=ge("clipboard",i3);const s3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dy=ge("clock",s3);const r3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jw=ge("external-link",r3);const a3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o3=ge("eye",a3);const l3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bw=ge("file-text",l3);const u3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],c3=ge("history",u3);const h3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f3=ge("info",h3);const d3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],m3=ge("lock",d3);const p3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],g3=ge("mail",p3);const y3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],v3=ge("phone",y3);const _3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],T3=ge("save",_3);const E3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],b3=ge("settings",E3);const w3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],S3=ge("shield-check",w3);const A3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],x3=ge("upload",A3);const R3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zw=ge("user",R3);const C3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cR=ge("users",C3);const I3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fw=ge("x",I3),jv=O.createContext({});function Bv(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const zv=typeof window<"u",hR=zv?O.useLayoutEffect:O.useEffect,$d=O.createContext(null);function Fv(e,t){e.indexOf(t)===-1&&e.push(t)}function qv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ls=(e,t,n)=>n>t?t:n<e?e:n;let Hv=()=>{};const Us={},fR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dR(e){return typeof e=="object"&&e!==null}const mR=e=>/^0[^.\s]+$/u.test(e);function Gv(e){let t;return()=>(t===void 0&&(t=e()),t)}const ei=e=>e,D3=(e,t)=>n=>t(e(n)),Pc=(...e)=>e.reduce(D3),hc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Yv{constructor(){this.subscriptions=[]}add(t){return Fv(this.subscriptions,t),()=>qv(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ts=e=>e*1e3,ti=e=>e/1e3;function pR(e,t){return t?e*(1e3/t):0}const gR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,N3=1e-7,M3=12;function O3(e,t,n,s,a){let l,c,f=0;do c=t+(n-t)/2,l=gR(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>N3&&++f<M3);return c}function Vc(e,t,n,s){if(e===t&&n===s)return ei;const a=l=>O3(l,0,1,e,n);return l=>l===0||l===1?l:gR(a(l),t,s)}const yR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vR=e=>t=>1-e(1-t),_R=Vc(.33,1.53,.69,.99),Kv=vR(_R),TR=yR(Kv),ER=e=>(e*=2)<1?.5*Kv(e):.5*(2-Math.pow(2,-10*(e-1))),$v=e=>1-Math.sin(Math.acos(e)),bR=vR($v),wR=yR($v),P3=Vc(.42,0,1,1),V3=Vc(0,0,.58,1),SR=Vc(.42,0,.58,1),k3=e=>Array.isArray(e)&&typeof e[0]!="number",AR=e=>Array.isArray(e)&&typeof e[0]=="number",L3={linear:ei,easeIn:P3,easeInOut:SR,easeOut:V3,circIn:$v,circInOut:wR,circOut:bR,backIn:Kv,backInOut:TR,backOut:_R,anticipate:ER},U3=e=>typeof e=="string",qw=e=>{if(AR(e)){Hv(e.length===4);const[t,n,s,a]=e;return Vc(t,n,s,a)}else if(U3(e))return L3[e];return e},bf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function j3(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(f)}const p={schedule:(y,_=!1,b=!1)=>{const D=b&&a?n:s;return _&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const B3=40;function xR(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=bf.reduce((Y,rt)=>(Y[rt]=j3(l),Y),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:R,postRender:D}=c,B=()=>{const Y=Us.useManualTiming?a.timestamp:performance.now();n=!1,Us.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,B3),1)),a.timestamp=Y,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),R.process(a),D.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(B))},P=()=>{n=!0,s=!0,a.isProcessing||e(B)};return{schedule:bf.reduce((Y,rt)=>{const at=c[rt];return Y[rt]=(ot,C=!1,x=!1)=>(n||P(),at.schedule(ot,C,x)),Y},{}),cancel:Y=>{for(let rt=0;rt<bf.length;rt++)c[bf[rt]].cancel(Y)},state:a,steps:c}}const{schedule:he,cancel:qr,state:nn,steps:_g}=xR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let Lf;function z3(){Lf=void 0}const An={now:()=>(Lf===void 0&&An.set(nn.isProcessing||Us.useManualTiming?nn.timestamp:performance.now()),Lf),set:e=>{Lf=e,queueMicrotask(z3)}},RR=e=>t=>typeof t=="string"&&t.startsWith(e),CR=RR("--"),F3=RR("var(--"),Qv=e=>F3(e)?q3.test(e.split("/*")[0].trim()):!1,q3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Al={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fc={...Al,transform:e=>Ls(0,1,e)},wf={...Al,default:1},Ju=e=>Math.round(e*1e5)/1e5,Xv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H3(e){return e==null}const G3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wv=(e,t)=>n=>!!(typeof n=="string"&&G3.test(n)&&n.startsWith(e)||t&&!H3(n)&&Object.prototype.hasOwnProperty.call(n,t)),IR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Xv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},Y3=e=>Ls(0,255,e),Tg={...Al,transform:e=>Math.round(Y3(e))},Va={test:Wv("rgb","red"),parse:IR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Tg.transform(e)+", "+Tg.transform(t)+", "+Tg.transform(n)+", "+Ju(fc.transform(s))+")"};function K3(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const my={test:Wv("#"),parse:K3,transform:Va.transform},kc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Tr=kc("deg"),es=kc("%"),wt=kc("px"),$3=kc("vh"),Q3=kc("vw"),Hw={...es,parse:e=>es.parse(e)/100,transform:e=>es.transform(e*100)},Xo={test:Wv("hsl","hue"),parse:IR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+es.transform(Ju(t))+", "+es.transform(Ju(n))+", "+Ju(fc.transform(s))+")"},Ve={test:e=>Va.test(e)||my.test(e)||Xo.test(e),parse:e=>Va.test(e)?Va.parse(e):Xo.test(e)?Xo.parse(e):my.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Va.transform(e):Xo.transform(e),getAnimatableNone:e=>{const t=Ve.parse(e);return t.alpha=0,Ve.transform(t)}},X3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W3(e){return isNaN(e)&&typeof e=="string"&&(e.match(Xv)?.length||0)+(e.match(X3)?.length||0)>0}const DR="number",NR="color",J3="var",Z3="var(",Gw="${}",t6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(t6,m=>(Ve.test(m)?(s.color.push(l),a.push(NR),n.push(Ve.parse(m))):m.startsWith(Z3)?(s.var.push(l),a.push(J3),n.push(m)):(s.number.push(l),a.push(DR),n.push(parseFloat(m))),++l,Gw)).split(Gw);return{values:n,split:f,indexes:s,types:a}}function MR(e){return dc(e).values}function OR(e){const{split:t,types:n}=dc(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===DR?l+=Ju(a[c]):f===NR?l+=Ve.transform(a[c]):l+=a[c]}return l}}const e6=e=>typeof e=="number"?0:Ve.test(e)?Ve.getAnimatableNone(e):e;function n6(e){const t=MR(e);return OR(e)(t.map(e6))}const Hr={test:W3,parse:MR,createTransformer:OR,getAnimatableNone:n6};function Eg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function i6({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=Eg(m,f,e+1/3),l=Eg(m,f,e),c=Eg(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function fd(e,t){return n=>n>0?t:e}const de=(e,t,n)=>e+(t-e)*n,bg=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},s6=[my,Va,Xo],r6=e=>s6.find(t=>t.test(e));function Yw(e){const t=r6(e);if(!t)return!1;let n=t.parse(e);return t===Xo&&(n=i6(n)),n}const Kw=(e,t)=>{const n=Yw(e),s=Yw(t);if(!n||!s)return fd(e,t);const a={...n};return l=>(a.red=bg(n.red,s.red,l),a.green=bg(n.green,s.green,l),a.blue=bg(n.blue,s.blue,l),a.alpha=de(n.alpha,s.alpha,l),Va.transform(a))},py=new Set(["none","hidden"]);function a6(e,t){return py.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function o6(e,t){return n=>de(e,t,n)}function Jv(e){return typeof e=="number"?o6:typeof e=="string"?Qv(e)?fd:Ve.test(e)?Kw:c6:Array.isArray(e)?PR:typeof e=="object"?Ve.test(e)?Kw:l6:fd}function PR(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Jv(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function l6(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Jv(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function u6(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],f=e.values[c]??0;n[a]=f,s[l]++}return n}const c6=(e,t)=>{const n=Hr.createTransformer(t),s=dc(e),a=dc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?py.has(e)&&!a.values.length||py.has(t)&&!s.values.length?a6(e,t):Pc(PR(u6(s,a),a.values),n):fd(e,t)};function VR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?de(e,t,n):Jv(e)(e,t)}const h6=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>he.update(t,n),stop:()=>qr(t),now:()=>nn.isProcessing?nn.timestamp:An.now()}},kR=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},dd=2e4;function Zv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<dd;)t+=n,s=e.next(t);return t>=dd?1/0:t}function f6(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Zv(s),dd);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:ti(a)}}const d6=5;function LR(e,t,n){const s=Math.max(t-d6,0);return pR(n-e(s),t-s)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wg=.001;function m6({duration:e=_e.duration,bounce:t=_e.bounce,velocity:n=_e.velocity,mass:s=_e.mass}){let a,l,c=1-t;c=Ls(_e.minDamping,_e.maxDamping,c),e=Ls(_e.minDuration,_e.maxDuration,ti(e)),c<1?(a=p=>{const y=p*c,_=y*e,b=y-n,R=gy(p,c),D=Math.exp(-_);return wg-b/R*D},l=p=>{const _=p*c*e,b=_*n+n,R=Math.pow(c,2)*Math.pow(p,2)*e,D=Math.exp(-_),B=gy(Math.pow(p,2),c);return(-a(p)+wg>0?-1:1)*((b-R)*D)/B}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-wg+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=g6(a,l,f);if(e=ts(e),isNaN(m))return{stiffness:_e.stiffness,damping:_e.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const p6=12;function g6(e,t,n){let s=n;for(let a=1;a<p6;a++)s=s-e(s)/t(s);return s}function gy(e,t){return e*Math.sqrt(1-t*t)}const y6=["duration","bounce"],v6=["stiffness","damping","mass"];function $w(e,t){return t.some(n=>e[n]!==void 0)}function _6(e){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...e};if(!$w(e,v6)&&$w(e,y6))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ls(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:_e.mass,stiffness:a,damping:l}}else{const n=m6(e);t={...t,...n,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function md(e=_e.visualDuration,t=_e.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:R}=_6({...n,velocity:-ti(n.velocity||0)}),D=b||0,B=p/(2*Math.sqrt(m*y)),P=c-l,q=ti(Math.sqrt(m/y)),$=Math.abs(P)<5;s||(s=$?_e.restSpeed.granular:_e.restSpeed.default),a||(a=$?_e.restDelta.granular:_e.restDelta.default);let Y;if(B<1){const at=gy(q,B);Y=ot=>{const C=Math.exp(-B*q*ot);return c-C*((D+B*q*P)/at*Math.sin(at*ot)+P*Math.cos(at*ot))}}else if(B===1)Y=at=>c-Math.exp(-q*at)*(P+(D+q*P)*at);else{const at=q*Math.sqrt(B*B-1);Y=ot=>{const C=Math.exp(-B*q*ot),x=Math.min(at*ot,300);return c-C*((D+B*q*P)*Math.sinh(x)+at*P*Math.cosh(x))/at}}const rt={calculatedDuration:R&&_||null,next:at=>{const ot=Y(at);if(R)f.done=at>=_;else{let C=at===0?D:0;B<1&&(C=at===0?ts(D):LR(Y,at,ot));const x=Math.abs(C)<=s,I=Math.abs(c-ot)<=a;f.done=x&&I}return f.value=f.done?c:ot,f},toString:()=>{const at=Math.min(Zv(rt),dd),ot=kR(C=>rt.next(at*C).value,at,30);return at+"ms "+ot},toTransition:()=>{}};return rt}md.applyToOptions=e=>{const t=f6(e,100,md);return e.ease=t.ease,e.duration=ts(t.duration),e.type="keyframes",e};function yy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},R=x=>f!==void 0&&x<f||m!==void 0&&x>m,D=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let B=n*t;const P=_+B,q=c===void 0?P:c(P);q!==P&&(B=q-_);const $=x=>-B*Math.exp(-x/s),Y=x=>q+$(x),rt=x=>{const I=$(x),L=Y(x);b.done=Math.abs(I)<=p,b.value=b.done?q:L};let at,ot;const C=x=>{R(b.value)&&(at=x,ot=md({keyframes:[b.value,D(b.value)],velocity:LR(Y,x,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return C(0),{calculatedDuration:null,next:x=>{let I=!1;return!ot&&at===void 0&&(I=!0,rt(x),C(x)),at!==void 0&&x>=at?ot.next(x-at):(!I&&rt(x),b)}}}function T6(e,t,n){const s=[],a=n||Us.mix||VR,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||ei:t;f=Pc(m,f)}s.push(f)}return s}function E6(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Hv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=T6(t,s,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=hc(e[_],e[_+1],y);return f[_](b)};return n?y=>p(Ls(e[0],e[l-1],y)):p}function b6(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=hc(0,t,s);e.push(de(n,1,a))}}function w6(e){const t=[0];return b6(t,e.length-1),t}function S6(e,t){return e.map(n=>n*t)}function A6(e,t){return e.map(()=>t||SR).splice(0,e.length-1)}function Zu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=k3(s)?s.map(qw):qw(s),l={done:!1,value:t[0]},c=S6(n&&n.length===t.length?n:w6(t),e),f=E6(c,t,{ease:Array.isArray(a)?a:A6(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const x6=e=>e!==null;function t_(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(x6),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const R6={decay:yy,inertia:yy,tween:Zu,keyframes:Zu,spring:md};function UR(e){typeof e.type=="string"&&(e.type=R6[e.type])}class e_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const C6=e=>e/100;class n_ extends e_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;UR(t);const{type:n=Zu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||Zu;m!==Zu&&typeof f[0]!="number"&&(this.mixKeyframes=Pc(C6,VR(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Zv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:R,type:D,onUpdate:B,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const q=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?q<0:q>a;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,rt=s;if(_){const x=Math.min(this.currentTime,a)/f;let I=Math.floor(x),L=x%1;!L&&x>=1&&(L=1),L===1&&I--,I=Math.min(I,_+1),I%2&&(b==="reverse"?(L=1-L,R&&(L-=R/f)):b==="mirror"&&(rt=c)),Y=Ls(0,1,L)*f}const at=$?{done:!1,value:y[0]}:rt.next(Y);l&&(at.value=l(at.value));let{done:ot}=at;!$&&m!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return C&&D!==yy&&(at.value=t_(y,this.options,P,this.speed)),B&&B(at.value),C&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return ti(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ti(t)}get time(){return ti(this.currentTime)}set time(t){t=ts(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(An.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=h6,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function I6(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ka=e=>e*180/Math.PI,vy=e=>{const t=ka(Math.atan2(e[1],e[0]));return _y(t)},D6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vy,rotateZ:vy,skewX:e=>ka(Math.atan(e[1])),skewY:e=>ka(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_y=e=>(e=e%360,e<0&&(e+=360),e),Qw=vy,Xw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ww=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),N6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xw,scaleY:Ww,scale:e=>(Xw(e)+Ww(e))/2,rotateX:e=>_y(ka(Math.atan2(e[6],e[5]))),rotateY:e=>_y(ka(Math.atan2(-e[2],e[0]))),rotateZ:Qw,rotate:Qw,skewX:e=>ka(Math.atan(e[4])),skewY:e=>ka(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ty(e){return e.includes("scale")?1:0}function Ey(e,t){if(!e||e==="none")return Ty(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=N6,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=D6,a=f}if(!a)return Ty(t);const l=s[t],c=a[1].split(",").map(O6);return typeof l=="function"?l(c):c[l]}const M6=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ey(n,t)};function O6(e){return parseFloat(e.trim())}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rl=new Set(xl),Jw=e=>e===Al||e===wt,P6=new Set(["x","y","z"]),V6=xl.filter(e=>!P6.has(e));function k6(e){const t=[];return V6.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ua={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ey(t,"x"),y:(e,{transform:t})=>Ey(t,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const ja=new Set;let by=!1,wy=!1,Sy=!1;function jR(){if(wy){const e=Array.from(ja).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=k6(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}wy=!1,by=!1,ja.forEach(e=>e.complete(Sy)),ja.clear()}function BR(){ja.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wy=!0)})}function L6(){Sy=!0,BR(),jR(),Sy=!1}class i_{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),by||(by=!0,he.read(BR),he.resolveKeyframes(jR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}I6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const U6=e=>e.startsWith("--");function j6(e,t,n){U6(t)?e.style.setProperty(t,n):e.style[t]=n}const B6=Gv(()=>window.ScrollTimeline!==void 0),z6={};function F6(e,t){const n=Gv(e);return()=>z6[t]??n()}const zR=F6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hu([0,.65,.55,1]),circOut:Hu([.55,0,1,.45]),backIn:Hu([.31,.01,.66,-.59]),backOut:Hu([.33,1.53,.69,.99])};function FR(e,t){if(e)return typeof e=="function"?zR()?kR(e,t):"ease-out":AR(e)?Hu(e):Array.isArray(e)?e.map(n=>FR(n,t)||Zw.easeOut):Zw[e]}function q6(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=FR(f,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(y,b)}function qR(e){return typeof e=="function"&&"applyToOptions"in e}function H6({type:e,...t}){return qR(e)&&zR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class G6 extends e_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Hv(typeof t.type!="string");const p=H6(t);this.animation=q6(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=t_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):j6(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ti(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ti(t)}get time(){return ti(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ts(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&B6()?(this.animation.timeline=t,ei):n(this)}}const HR={anticipate:ER,backInOut:TR,circInOut:wR};function Y6(e){return e in HR}function K6(e){typeof e.ease=="string"&&Y6(e.ease)&&(e.ease=HR[e.ease])}const tS=10;class $6 extends G6{constructor(t){K6(t),UR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new n_({...c,autoplay:!1}),m=ts(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-tS).value,f.sample(m).value,tS),f.stop()}}const eS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hr.test(e)||e==="0")&&!e.startsWith("url("));function Q6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function X6(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=eS(a,t),f=eS(l,t);return!c||!f?!1:Q6(e)||(n==="spring"||qR(n))&&s}function Ay(e){e.duration=0,e.type="keyframes"}const W6=new Set(["opacity","clipPath","filter","transform"]),J6=Gv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z6(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return J6()&&n&&W6.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const tU=40;class eU extends e_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const b={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},R=y?.KeyframeResolver||i_;this.keyframeResolver=new R(f,(D,B,P)=>this.onKeyframesResolved(D,B,b,!P),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=An.now(),X6(t,l,c,f)||((Us.instantAnimations||!m)&&y?.(t_(t,s,n)),t[0]=t[t.length-1],Ay(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>tU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!p&&Z6(b)?new $6({...b,element:b.motionValue.owner.current}):new n_(b);R.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),L6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iU(e){const t=nU.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function GR(e,t,n=1){const[s,a]=iU(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return fR(c)?parseFloat(c):c}return Qv(a)?GR(a,t,n+1):a}function s_(e,t){return e?.[t]??e?.default??e}const YR=new Set(["width","height","top","left","right","bottom",...xl]),sU={test:e=>e==="auto",parse:e=>e},KR=e=>t=>t.test(e),$R=[Al,wt,es,Tr,Q3,$3,sU],nS=e=>$R.find(KR(e));function rU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mR(e):!0}const aU=new Set(["brightness","contrast","saturate","opacity"]);function oU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Xv)||[];if(!s)return e;const a=n.replace(s,"");let l=aU.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const lU=/\b([a-z-]*)\(.*?\)/gu,xy={...Hr,getAnimatableNone:e=>{const t=e.match(lU);return t?t.map(oU).join(" "):e}},iS={...Al,transform:Math.round},uU={rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:Tr,skewX:Tr,skewY:Tr,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:fc,originX:Hw,originY:Hw,originZ:wt},r_={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...uU,zIndex:iS,fillOpacity:fc,strokeOpacity:fc,numOctaves:iS},cU={...r_,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:xy,WebkitFilter:xy},QR=e=>cU[e];function XR(e,t){let n=QR(e);return n!==xy&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hU=new Set(["auto","none","0"]);function fU(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!hU.has(l)&&dc(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=XR(n,a)}class dU extends i_{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Qv(p))){const y=GR(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!YR.has(s)||t.length!==2)return;const[a,l]=t,c=nS(a),f=nS(l);if(c!==f)if(Jw(c)&&Jw(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||rU(t[a]))&&s.push(a);s.length&&fU(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ua[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function mU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const WR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function JR(e){return dR(e)&&"offsetHeight"in e}const sS=30,pU=e=>!isNaN(parseFloat(e));class gU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=An.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Yv);const s=this.events[t].add(n);return t==="change"?()=>{s(),he.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sS);return pR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ml(e,t){return new gU(e,t)}const{schedule:a_}=xR(queueMicrotask,!1),yi={x:!1,y:!1};function ZR(){return yi.x||yi.y}function yU(e){return e==="x"||e==="y"?yi[e]?null:(yi[e]=!0,()=>{yi[e]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function tC(e,t){const n=mU(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function rS(e){return!(e.pointerType==="touch"||ZR())}function vU(e,t,n={}){const[s,a,l]=tC(e,n),c=f=>{if(!rS(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{rS(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const eC=(e,t)=>t?e===t?!0:eC(e,t.parentElement):!1,o_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_U=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TU(e){return _U.has(e.tagName)||e.tabIndex!==-1}const Uf=new WeakSet;function aS(e){return t=>{t.key==="Enter"&&e(t)}}function Sg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const EU=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=aS(()=>{if(Uf.has(n))return;Sg(n,"down");const a=aS(()=>{Sg(n,"up")}),l=()=>Sg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function oS(e){return o_(e)&&!ZR()}function bU(e,t,n={}){const[s,a,l]=tC(e,n),c=f=>{const m=f.currentTarget;if(!oS(f))return;Uf.add(m);const p=t(m,f),y=(R,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),Uf.has(m)&&Uf.delete(m),oS(R)&&typeof p=="function"&&p(R,{success:D})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||eC(m,R.target))},b=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),JR(f)&&(f.addEventListener("focus",p=>EU(p,a)),!TU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function nC(e){return dR(e)&&"ownerSVGElement"in e}function wU(e){return nC(e)&&e.tagName==="svg"}const cn=e=>!!(e&&e.getVelocity),SU=[...$R,Ve,Hr],AU=e=>SU.find(KR(e)),l_=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function lS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xU(...e){return t=>{let n=!1;const s=e.map(a=>{const l=lS(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():lS(e[a],null)}}}}function RU(...e){return O.useCallback(xU(...e),e)}class CU extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=JR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function IU({children:e,isPresent:t,anchorX:n,root:s}){const a=O.useId(),l=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=O.useContext(l_),m=RU(l,e?.ref);return O.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:b,right:R}=c.current;if(t||!l.current||!p||!y)return;const D=n==="left"?`left: ${b}`:`right: ${R}`;l.current.dataset.motionPopId=a;const B=document.createElement("style");f&&(B.nonce=f);const P=s??document.head;return P.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${_}px !important;
          }
        `),()=>{P.contains(B)&&P.removeChild(B)}},[t]),S.jsx(CU,{isPresent:t,childRef:l,sizeRef:c,children:O.cloneElement(e,{ref:m})})}const DU=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=Bv(NU),y=O.useId();let _=!0,b=O.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:R=>{p.set(R,!0);for(const D of p.values())if(!D)return;s&&s()},register:R=>(p.set(R,!1),()=>p.delete(R))}),[n,p,s]);return l&&_&&(b={...b}),O.useMemo(()=>{p.forEach((R,D)=>p.set(D,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(e=S.jsx(IU,{isPresent:n,anchorX:f,root:m,children:e})),S.jsx($d.Provider,{value:b,children:e})};function NU(){return new Map}function iC(e=!0){const t=O.useContext($d);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=O.useId();O.useEffect(()=>{if(e)return a(l)},[e]);const c=O.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Sf=e=>e.key||"";function uS(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const Ry=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,y]=iC(c),_=O.useMemo(()=>uS(e),[e]),b=c&&!p?[]:_.map(Sf),R=O.useRef(!0),D=O.useRef(_),B=Bv(()=>new Map),[P,q]=O.useState(_),[$,Y]=O.useState(_);hR(()=>{R.current=!1,D.current=_;for(let ot=0;ot<$.length;ot++){const C=Sf($[ot]);b.includes(C)?B.delete(C):B.get(C)!==!0&&B.set(C,!1)}},[$,b.length,b.join("-")]);const rt=[];if(_!==P){let ot=[..._];for(let C=0;C<$.length;C++){const x=$[C],I=Sf(x);b.includes(I)||(ot.splice(C,0,x),rt.push(x))}return l==="wait"&&rt.length&&(ot=rt),Y(uS(ot)),q(_),null}const{forceRender:at}=O.useContext(jv);return S.jsx(S.Fragment,{children:$.map(ot=>{const C=Sf(ot),x=c&&!p?!1:_===$||b.includes(C),I=()=>{if(B.has(C))B.set(C,!0);else return;let L=!0;B.forEach(V=>{V||(L=!1)}),L&&(at?.(),Y(D.current),c&&y?.(),s&&s())};return S.jsx(DU,{isPresent:x,initial:!R.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:x?void 0:I,anchorX:f,children:ot},C)})})},sC=O.createContext({strict:!1}),cS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pl={};for(const e in cS)pl[e]={isEnabled:t=>cS[e].some(n=>!!t[n])};function MU(e){for(const t in e)pl[t]={...pl[t],...e[t]}}const OU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||OU.has(e)}let rC=e=>!pd(e);function PU(e){typeof e=="function"&&(rC=t=>t.startsWith("on")?!pd(t):e(t))}try{PU(require("@emotion/is-prop-valid").default)}catch{}function VU(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(rC(a)||n===!0&&pd(a)||!t&&!pd(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Qd=O.createContext({});function Xd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mc(e){return typeof e=="string"||Array.isArray(e)}const u_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c_=["initial",...u_];function Wd(e){return Xd(e.animate)||c_.some(t=>mc(e[t]))}function aC(e){return!!(Wd(e)||e.variants)}function kU(e,t){if(Wd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||mc(n)?n:void 0,animate:mc(s)?s:void 0}}return e.inherit!==!1?t:{}}function LU(e){const{initial:t,animate:n}=kU(e,O.useContext(Qd));return O.useMemo(()=>({initial:t,animate:n}),[hS(t),hS(n)])}function hS(e){return Array.isArray(e)?e.join(" "):e}function fS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(wt.test(e))e=parseFloat(e);else return e;const n=fS(e,t.target.x),s=fS(e,t.target.y);return`${n}% ${s}%`}},UU={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Hr.parse(e);if(a.length>5)return s;const l=Hr.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=de(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Cy={borderRadius:{...Vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vu,borderTopRightRadius:Vu,borderBottomLeftRadius:Vu,borderBottomRightRadius:Vu,boxShadow:UU};function oC(e,{layout:t,layoutId:n}){return Rl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Cy[e]||e==="opacity")}const jU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BU=xl.length;function zU(e,t,n){let s="",a=!0;for(let l=0;l<BU;l++){const c=xl[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=WR(f,r_[c]);if(!m){a=!1;const y=jU[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function h_(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(Rl.has(m)){c=!0;continue}else if(CR(m)){a[m]=p;continue}else{const y=WR(p,r_[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=zU(t,e.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const f_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lC(e,t,n){for(const s in t)!cn(t[s])&&!oC(s,n)&&(e[s]=t[s])}function FU({transformTemplate:e},t){return O.useMemo(()=>{const n=f_();return h_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function qU(e,t){const n=e.style||{},s={};return lC(s,n,e),Object.assign(s,FU(e,t)),s}function HU(e,t){const n={},s=qU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const GU={offset:"stroke-dashoffset",array:"stroke-dasharray"},YU={offset:"strokeDashoffset",array:"strokeDasharray"};function KU(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?GU:YU;e[l.offset]=wt.transform(-s);const c=wt.transform(t),f=wt.transform(n);e[l.array]=`${c} ${f}`}function uC(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(h_(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b}=e;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&KU(_,a,l,c,!1)}const cC=()=>({...f_(),attrs:{}}),hC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $U(e,t,n,s){const a=O.useMemo(()=>{const l=cC();return uC(l,t,hC(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};lC(l,e.style,e),a.style={...l,...a.style}}return a}const QU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d_(e){return typeof e!="string"||e.includes("-")?!1:!!(QU.indexOf(e)>-1||/[A-Z]/u.test(e))}function XU(e,t,n,{latestValues:s},a,l=!1){const f=(d_(e)?$U:HU)(t,s,a,e),m=VU(t,typeof e=="string",l),p=e!==O.Fragment?{...m,...f,ref:n}:{},{children:y}=t,_=O.useMemo(()=>cn(y)?y.get():y,[y]);return O.createElement(e,{...p,children:_})}function dS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function m_(e,t,n,s){if(typeof t=="function"){const[a,l]=dS(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=dS(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function jf(e){return cn(e)?e.get():e}function WU({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:JU(n,s,a,e),renderState:t()}}function JU(e,t,n,s){const a={},l=s(e,{});for(const b in l)a[b]=jf(l[b]);let{initial:c,animate:f}=e;const m=Wd(e),p=aC(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Xd(_)){const b=Array.isArray(_)?_:[_];for(let R=0;R<b.length;R++){const D=m_(e,b[R]);if(D){const{transitionEnd:B,transition:P,...q}=D;for(const $ in q){let Y=q[$];if(Array.isArray(Y)){const rt=y?Y.length-1:0;Y=Y[rt]}Y!==null&&(a[$]=Y)}for(const $ in B)a[$]=B[$]}}}return a}const fC=e=>(t,n)=>{const s=O.useContext(Qd),a=O.useContext($d),l=()=>WU(e,t,s,a);return n?l():Bv(l)};function p_(e,t,n){const{style:s}=e,a={};for(const l in s)(cn(s[l])||t.style&&cn(t.style[l])||oC(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const ZU=fC({scrapeMotionValuesFromProps:p_,createRenderState:f_});function dC(e,t,n){const s=p_(e,t,n);for(const a in e)if(cn(e[a])||cn(t[a])){const l=xl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const t5=fC({scrapeMotionValuesFromProps:dC,createRenderState:cC}),e5=Symbol.for("motionComponentSymbol");function Wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function n5(e,t,n){return O.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Wo(n)&&(n.current=s))},[t])}const g_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i5="framerAppearId",mC="data-"+g_(i5),pC=O.createContext({});function s5(e,t,n,s,a){const{visualElement:l}=O.useContext(Qd),c=O.useContext(sC),f=O.useContext($d),m=O.useContext(l_).reducedMotion,p=O.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=O.useContext(pC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&r5(p.current,n,a,_);const b=O.useRef(!1);O.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const R=n[mC],D=O.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return hR(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),D.current=!1),y.enteringChildren=void 0)}),y}function r5(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:gC(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Wo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function gC(e){if(e)return e.options.allowProjection!==!1?e.projection:gC(e.parent)}function Ag(e,{forwardMotionProps:t=!1}={},n,s){n&&MU(n);const a=d_(e)?t5:ZU;function l(f,m){let p;const y={...O.useContext(l_),...f,layoutId:a5(f)},{isStatic:_}=y,b=LU(f),R=a(f,_);if(!_&&zv){o5();const D=l5(y);p=D.MeasureLayout,b.visualElement=s5(e,R,y,s,D.ProjectionNode)}return S.jsxs(Qd.Provider,{value:b,children:[p&&b.visualElement?S.jsx(p,{visualElement:b.visualElement,...y}):null,XU(e,f,n5(R,b.visualElement,m),R,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=O.forwardRef(l);return c[e5]=e,c}function a5({layoutId:e}){const t=O.useContext(jv).id;return t&&e!==void 0?t+"-"+e:e}function o5(e,t){O.useContext(sC).strict}function l5(e){const{drag:t,layout:n}=pl;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function u5(e,t){if(typeof Proxy>"u")return Ag;const n=new Map,s=(l,c)=>Ag(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Ag(c,void 0,e,t)),n.get(c))})}function yC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function c5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function h5(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function xg(e){return e===void 0||e===1}function Iy({scale:e,scaleX:t,scaleY:n}){return!xg(e)||!xg(t)||!xg(n)}function Na(e){return Iy(e)||vC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vC(e){return mS(e.x)||mS(e.y)}function mS(e){return e&&e!=="0%"}function gd(e,t,n){const s=e-n,a=t*s;return n+a}function pS(e,t,n,s,a){return a!==void 0&&(e=gd(e,a,s)),gd(e,n,s)+t}function Dy(e,t=0,n=1,s,a){e.min=pS(e.min,t,n,s,a),e.max=pS(e.max,t,n,s,a)}function _C(e,{x:t,y:n}){Dy(e.x,t.translate,t.scale,t.originPoint),Dy(e.y,n.translate,n.scale,n.originPoint)}const gS=.999999999999,yS=1.0000000000001;function f5(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,_C(e,c)),s&&Na(l.latestValues)&&Zo(e,l.latestValues))}t.x<yS&&t.x>gS&&(t.x=1),t.y<yS&&t.y>gS&&(t.y=1)}function Jo(e,t){e.min=e.min+t,e.max=e.max+t}function vS(e,t,n,s,a=.5){const l=de(e.min,e.max,a);Dy(e,t,n,l,s)}function Zo(e,t){vS(e.x,t.x,t.scaleX,t.scale,t.originX),vS(e.y,t.y,t.scaleY,t.scale,t.originY)}function TC(e,t){return yC(h5(e.getBoundingClientRect(),t))}function d5(e,t,n){const s=TC(e,n),{scroll:a}=t;return a&&(Jo(s.x,a.offset.x),Jo(s.y,a.offset.y)),s}const _S=()=>({translate:0,scale:1,origin:0,originPoint:0}),tl=()=>({x:_S(),y:_S()}),TS=()=>({min:0,max:0}),ze=()=>({x:TS(),y:TS()}),Ny={current:null},EC={current:!1};function m5(){if(EC.current=!0,!!zv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ny.current=e.matches;e.addEventListener("change",t),t()}else Ny.current=!1}const p5=new WeakMap;function g5(e,t,n){for(const s in t){const a=t[s],l=n[s];if(cn(a))e.addValue(s,a);else if(cn(l))e.addValue(s,ml(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,ml(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const ES=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y5{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=An.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,he.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Wd(n),this.isVariantNode=aC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const R=_[b];m[b]!==void 0&&cn(R)&&R.set(m[b])}}mount(t){this.current=t,p5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),EC.current||m5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ny.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Rl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&he.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pl){const n=pl[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ES.length;s++){const a=ES[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=g5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ml(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(fR(s)||mR(s))?s=parseFloat(s):!AU(s)&&Hr.test(n)&&(s=XR(t,n)),this.setBaseTarget(t,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=m_(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!cn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Yv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){a_.render(this.render)}}class bC extends y5{constructor(){super(...arguments),this.KeyframeResolver=dU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wC(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function v5(e){return window.getComputedStyle(e)}class _5 extends bC{constructor(){super(...arguments),this.type="html",this.renderInstance=wC}readValueFromInstance(t,n){if(Rl.has(n))return this.projection?.isProjecting?Ty(n):M6(t,n);{const s=v5(t),a=(CR(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return TC(t,n)}build(t,n,s){h_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return p_(t,n,s)}}const SC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T5(e,t,n,s){wC(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(SC.has(a)?a:g_(a),t.attrs[a])}class E5 extends bC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Rl.has(n)){const s=QR(n);return s&&s.default||0}return n=SC.has(n)?n:g_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return dC(t,n,s)}build(t,n,s){uC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){T5(t,n,s,a)}mount(t){this.isSVGTag=hC(t.tagName),super.mount(t)}}const b5=(e,t)=>d_(e)?new E5(t):new _5(t,{allowProjection:e!==O.Fragment});function rl(e,t,n){const s=e.getProps();return m_(s,t,n!==void 0?n:s.custom,e)}const My=e=>Array.isArray(e);function w5(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ml(n))}function S5(e){return My(e)?e[e.length-1]||0:e}function A5(e,t){const n=rl(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=S5(l[c]);w5(e,c,f)}}function x5(e){return!!(cn(e)&&e.add)}function Oy(e,t){const n=e.getValue("willChange");if(x5(n))return n.add(t);if(!n&&Us.WillChange){const s=new Us.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function AC(e){return e.props[mC]}const R5=e=>e!==null;function C5(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(R5),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const I5={type:"spring",stiffness:500,damping:25,restSpeed:10},D5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),N5={type:"keyframes",duration:.8},M5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O5=(e,{keyframes:t})=>t.length>2?N5:Rl.has(e)?e.startsWith("scale")?D5(t[1]):I5:M5;function P5({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const y_=(e,t,n,s={},a,l)=>c=>{const f=s_(s,e)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-ts(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};P5(f)||Object.assign(y,O5(e,y)),y.duration&&(y.duration=ts(y.duration)),y.repeatDelay&&(y.repeatDelay=ts(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ay(y),y.delay===0&&(_=!0)),(Us.instantAnimations||Us.skipAnimations)&&(_=!0,Ay(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const b=C5(y.keyframes,f);if(b!==void 0){he.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new n_(y):new eU(y)};function V5({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function xC(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;s&&(l=s);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),b=f[y];if(b===void 0||p&&V5(p,y))continue;const R={delay:n,...s_(l||{},y)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===D&&!R.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const q=AC(e);if(q){const $=window.MotionHandoffAnimation(q,y,he);$!==null&&(R.startTime=$,B=!0)}}Oy(e,y),_.start(y_(y,_,b,e.shouldReduceMotion&&YR.has(y)?{type:!1}:R,e,B));const P=_.animation;P&&m.push(P)}return c&&Promise.all(m).then(()=>{he.update(()=>{c&&A5(e,c)})}),m}function RC(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function Py(e,t,n={}){const s=rl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(xC(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return k5(e,t,m,p,y,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function k5(e,t,n=0,s=0,a=0,l=1,c){const f=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),f.push(Py(m,t,{...c,delay:n+(typeof s=="function"?0:s)+RC(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function L5(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Py(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Py(e,t,n);else{const a=typeof t=="function"?rl(e,t,n.custom):t;s=Promise.all(xC(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function CC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const U5=c_.length;function IC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?IC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<U5;n++){const s=c_[n],a=e.props[s];(mc(a)||a===!1)&&(t[s]=a)}return t}const j5=[...u_].reverse(),B5=u_.length;function z5(e){return t=>Promise.all(t.map(({animation:n,options:s})=>L5(e,n,s)))}function F5(e){let t=z5(e),n=bS(),s=!0;const a=m=>(p,y)=>{const _=rl(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:R,...D}=_;p={...p,...D,...R}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=IC(e.parent)||{},_=[],b=new Set;let R={},D=1/0;for(let P=0;P<B5;P++){const q=j5[P],$=n[q],Y=p[q]!==void 0?p[q]:y[q],rt=mc(Y),at=q===m?$.isActive:null;at===!1&&(D=P);let ot=Y===y[q]&&Y!==p[q]&&rt;if(ot&&s&&e.manuallyAnimateOnMount&&(ot=!1),$.protectedKeys={...R},!$.isActive&&at===null||!Y&&!$.prevProp||Xd(Y)||typeof Y=="boolean")continue;const C=q5($.prevProp,Y);let x=C||q===m&&$.isActive&&!ot&&rt||P>D&&rt,I=!1;const L=Array.isArray(Y)?Y:[Y];let V=L.reduce(a(q),{});at===!1&&(V={});const{prevResolvedValues:F={}}=$,N={...F,...V},Yt=J=>{x=!0,b.has(J)&&(I=!0,b.delete(J)),$.needsAnimating[J]=!0;const lt=e.getValue(J);lt&&(lt.liveStyle=!1)};for(const J in N){const lt=V[J],gt=F[J];if(R.hasOwnProperty(J))continue;let _t=!1;My(lt)&&My(gt)?_t=!CC(lt,gt):_t=lt!==gt,_t?lt!=null?Yt(J):b.add(J):lt!==void 0&&b.has(J)?Yt(J):$.protectedKeys[J]=!0}$.prevProp=Y,$.prevResolvedValues=V,$.isActive&&(R={...R,...V}),s&&e.blockInitialAnimation&&(x=!1);const se=ot&&C;x&&(!se||I)&&_.push(...L.map(J=>{const lt={type:q};if(typeof J=="string"&&s&&!se&&e.manuallyAnimateOnMount&&e.parent){const{parent:gt}=e,_t=rl(gt,J);if(gt.enteringChildren&&_t){const{delayChildren:k}=_t.transition||{};lt.delay=RC(gt.enteringChildren,e,k)}}return{animation:J,options:lt}}))}if(b.size){const P={};if(typeof p.initial!="boolean"){const q=rl(e,Array.isArray(p.initial)?p.initial[0]:p.initial);q&&q.transition&&(P.transition=q.transition)}b.forEach(q=>{const $=e.getBaseTarget(q),Y=e.getValue(q);Y&&(Y.liveStyle=!0),P[q]=$??null}),_.push({animation:P})}let B=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(B=!1),s=!1,B?t(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=bS()}}}function q5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!CC(t,e):!1}function Ia(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bS(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class Wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class H5 extends Wr{constructor(t){super(t),t.animationState||(t.animationState=F5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Xd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let G5=0;class Y5 extends Wr{constructor(){super(...arguments),this.id=G5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const K5={animation:{Feature:H5},exit:{Feature:Y5}};function pc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Lc(e){return{point:{x:e.pageX,y:e.pageY}}}const $5=e=>t=>o_(t)&&e(t,Lc(t));function tc(e,t,n,s){return pc(e,t,$5(n),s)}const DC=1e-4,Q5=1-DC,X5=1+DC,NC=.01,W5=0-NC,J5=0+NC;function pn(e){return e.max-e.min}function Z5(e,t,n){return Math.abs(e-t)<=n}function wS(e,t,n,s=.5){e.origin=s,e.originPoint=de(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=de(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Q5&&e.scale<=X5||isNaN(e.scale))&&(e.scale=1),(e.translate>=W5&&e.translate<=J5||isNaN(e.translate))&&(e.translate=0)}function ec(e,t,n,s){wS(e.x,t.x,n.x,s?s.originX:void 0),wS(e.y,t.y,n.y,s?s.originY:void 0)}function SS(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function tj(e,t,n){SS(e.x,t.x,n.x),SS(e.y,t.y,n.y)}function AS(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function yd(e,t,n){AS(e.x,t.x,n.x),AS(e.y,t.y,n.y)}function Jn(e){return[e("x"),e("y")]}const MC=({current:e})=>e?e.ownerDocument.defaultView:null,xS=(e,t)=>Math.abs(e-t);function ej(e,t){const n=xS(e.x,t.x),s=xS(e.y,t.y);return Math.sqrt(n**2+s**2)}class OC{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Cg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,D=ej(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!D)return;const{point:B}=b,{timestamp:P}=nn;this.history.push({...B,timestamp:P});const{onStart:q,onMove:$}=this.handlers;R||(q&&q(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,b)},this.handlePointerMove=(b,R)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Rg(R,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(b,R)=>{this.end();const{onEnd:D,onSessionEnd:B,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Cg(b.type==="pointercancel"?this.lastMoveEventInfo:Rg(R,this.transformPagePoint),this.history);this.startEvent&&D&&D(b,q),B&&B(b,q)},!o_(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Lc(t),m=Rg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=nn;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,Cg(m,this.history)),this.removeListeners=Pc(tc(this.contextWindow,"pointermove",this.handlePointerMove),tc(this.contextWindow,"pointerup",this.handlePointerUp),tc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function Rg(e,t){return t?{point:t(e.point)}:e}function RS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cg({point:e},t){return{point:e,delta:RS(e,PC(t)),offset:RS(e,nj(t)),velocity:ij(t,.1)}}function nj(e){return e[0]}function PC(e){return e[e.length-1]}function ij(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=PC(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>ts(t)));)n--;if(!s)return{x:0,y:0};const l=ti(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function sj(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?de(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?de(n,e,s.max):Math.min(e,n)),e}function CS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function rj(e,{top:t,left:n,bottom:s,right:a}){return{x:CS(e.x,n,a),y:CS(e.y,t,s)}}function IS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function aj(e,t){return{x:IS(e.x,t.x),y:IS(e.y,t.y)}}function oj(e,t){let n=.5;const s=pn(e),a=pn(t);return a>s?n=hc(t.min,t.max-s,e.min):s>a&&(n=hc(e.min,e.max-a,t.min)),Ls(0,1,n)}function lj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vy=.35;function uj(e=Vy){return e===!1?e=0:e===!0&&(e=Vy),{x:DS(e,"left","right"),y:DS(e,"top","bottom")}}function DS(e,t,n){return{min:NS(e,t),max:NS(e,n)}}function NS(e,t){return typeof e=="number"?e:e[t]||0}const cj=new WeakMap;class hj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lc(_).point)},c=(_,b)=>{const{drag:R,dragPropagation:D,onDragStart:B}=this.getProps();if(R&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yU(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(q=>{let $=this.getAxisMotionValue(q).get()||0;if(es.test($)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const rt=Y.layout.layoutBox[q];rt&&($=pn(rt)*(parseFloat($)/100))}}this.originPoint[q]=$}),B&&he.postRender(()=>B(_,b)),Oy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:R,dragDirectionLock:D,onDirectionLock:B,onDrag:P}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:q}=b;if(D&&this.currentDirection===null){this.currentDirection=fj(q),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",b.point,q),this.updateAxis("y",b.point,q),this.visualElement.render(),P&&P(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Jn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new OC(t,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:MC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&he.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Af(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=sj(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Wo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=rj(s.layoutBox,t):this.constraints=!1,this.elastic=uj(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=lj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=d5(s,a.root,this.visualElement.getTransformPagePoint());let c=aj(a.layout.layoutBox,l);if(n){const f=n(c5(c));this.hasMutatedConstraints=!!f,f&&(c=yC(f))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Jn(y=>{if(!Af(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,R=a?40:1e7,D={type:"inertia",velocity:s?t[y]:0,bounceStiffness:b,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Oy(this.visualElement,t),s.start(y_(t,s,0,n,this.visualElement,!1))}stopAnimation(){Jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Jn(n=>{const{drag:s}=this.getProps();if(!Af(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-de(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Wo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Jn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=oj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Jn(c=>{if(!Af(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(de(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;cj.set(this.visualElement,this);const t=this.visualElement.current,n=tc(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Wo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),he.read(s);const c=pc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Jn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Vy,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Af(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function fj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dj extends Wr{constructor(t){super(t),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new hj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const MS=e=>(t,n)=>{e&&he.postRender(()=>e(t,n))};class mj extends Wr{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(t){this.session=new OC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:MS(t),onStart:MS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&he.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=tc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ig=!1;class pj extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Ig&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Ig=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||he.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),a_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Ig=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VC(e){const[t,n]=iC(),s=O.useContext(jv);return S.jsx(pj,{...e,layoutGroup:s,switchLayoutGroup:O.useContext(pC),isPresent:t,safeToRemove:n})}function gj(e,t,n){const s=cn(e)?e:ml(e);return s.start(y_("",s,t,n)),s.animation}const yj=(e,t)=>e.depth-t.depth;class vj{constructor(){this.children=[],this.isDirty=!1}add(t){Fv(this.children,t),this.isDirty=!0}remove(t){qv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yj),this.isDirty=!1,this.children.forEach(t)}}function _j(e,t){const n=An.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(qr(s),e(l-t))};return he.setup(s,!0),()=>qr(s)}const kC=["TopLeft","TopRight","BottomLeft","BottomRight"],Tj=kC.length,OS=e=>typeof e=="string"?parseFloat(e):e,PS=e=>typeof e=="number"||wt.test(e);function Ej(e,t,n,s,a,l){a?(e.opacity=de(0,n.opacity??1,bj(s)),e.opacityExit=de(t.opacity??1,0,wj(s))):l&&(e.opacity=de(t.opacity??1,n.opacity??1,s));for(let c=0;c<Tj;c++){const f=`border${kC[c]}Radius`;let m=VS(t,f),p=VS(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||PS(m)===PS(p)?(e[f]=Math.max(de(OS(m),OS(p),s),0),(es.test(p)||es.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=de(t.rotate||0,n.rotate||0,s))}function VS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bj=LC(0,.5,bR),wj=LC(.5,.95,ei);function LC(e,t,n){return s=>s<e?0:s>t?1:n(hc(e,t,s))}function kS(e,t){e.min=t.min,e.max=t.max}function gi(e,t){kS(e.x,t.x),kS(e.y,t.y)}function LS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function US(e,t,n,s,a){return e-=t,e=gd(e,1/n,s),a!==void 0&&(e=gd(e,1/a,s)),e}function Sj(e,t=0,n=1,s=.5,a,l=e,c=e){if(es.test(t)&&(t=parseFloat(t),t=de(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=de(l.min,l.max,s);e===l&&(f-=t),e.min=US(e.min,t,n,f,a),e.max=US(e.max,t,n,f,a)}function jS(e,t,[n,s,a],l,c){Sj(e,t[n],t[s],t[a],t.scale,l,c)}const Aj=["x","scaleX","originX"],xj=["y","scaleY","originY"];function BS(e,t,n,s){jS(e.x,t,Aj,n?n.x:void 0,s?s.x:void 0),jS(e.y,t,xj,n?n.y:void 0,s?s.y:void 0)}function zS(e){return e.translate===0&&e.scale===1}function UC(e){return zS(e.x)&&zS(e.y)}function FS(e,t){return e.min===t.min&&e.max===t.max}function Rj(e,t){return FS(e.x,t.x)&&FS(e.y,t.y)}function qS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jC(e,t){return qS(e.x,t.x)&&qS(e.y,t.y)}function HS(e){return pn(e.x)/pn(e.y)}function GS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Cj{constructor(){this.members=[]}add(t){Fv(this.members,t),t.scheduleRender()}remove(t){if(qv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ij(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:R,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),R&&(s+=`skewX(${R}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Dg=["","X","Y","Z"],Dj=1e3;let Nj=0;function Ng(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function BC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=AC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",he,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&BC(s)}function zC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=t?.()){this.id=Nj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Pj),this.nodes.forEach(Uj),this.nodes.forEach(jj),this.nodes.forEach(Vj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new vj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Yv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=nC(c)&&!wU(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;he.read(()=>{_=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=_j(b,250),Bf.hasAnimatedSinceResize&&(Bf.hasAnimatedSinceResize=!1,this.nodes.forEach($S)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||Hj,{onLayoutAnimationStart:B,onLayoutAnimationComplete:P}=p.getProps(),q=!this.targetLayout||!jC(this.targetLayout,R),$=!_&&b;if(this.options.layoutRoot||this.resumeFrom||$||_&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...s_(D,"layout"),onPlay:B,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,$)}else _||$S(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(KS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Lj),this.nodes.forEach(Mj),this.nodes.forEach(Oj)):this.nodes.forEach(KS),this.clearAllSnapshots();const f=An.now();nn.delta=Ls(0,1e3/60,f-nn.timestamp),nn.timestamp=f,nn.isProcessing=!0,_g.update.process(nn),_g.preRender.process(nn),_g.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kj),this.sharedNodes.forEach(zj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!UC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Na(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),Gj(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ze();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Yj))){const{scroll:p}=this.root;p&&(Jo(f.x,p.offset.x),Jo(f.y,p.offset.y))}return f}removeElementScroll(c){const f=ze();if(gi(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&gi(f,c),Jo(f.x,y.offset.x),Jo(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=ze();gi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Zo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&Zo(m,y.latestValues)}return Na(this.latestValues)&&Zo(m,this.latestValues),m}removeTransform(c){const f=ze();gi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Na(p.latestValues))continue;Iy(p.latestValues)&&p.updateSnapshot();const y=ze(),_=p.measurePageBox();gi(y,_),BS(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&BS(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=nn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),_C(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Iy(this.parent.latestValues)||vC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),yd(this.relativeTargetOrigin,f,m),gi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;gi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;f5(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ze());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LS(this.prevProjectionDelta.x,this.projectionDelta.x),LS(this.prevProjectionDelta.y,this.projectionDelta.y)),ec(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!GS(this.projectionDelta.x,this.prevProjectionDelta.x)||!GS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tl(),this.projectionDelta=tl(),this.projectionDeltaWithTransform=tl()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=ze(),R=m?m.source:void 0,D=this.layout?this.layout.source:void 0,B=R!==D,P=this.getStack(),q=!P||P.members.length<=1,$=!!(B&&!q&&this.options.crossfade===!0&&!this.path.some(qj));this.animationProgress=0;let Y;this.mixTargetDelta=rt=>{const at=rt/1e3;QS(_.x,c.x,at),QS(_.y,c.y,at),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fj(this.relativeTarget,this.relativeTargetOrigin,b,at),Y&&Rj(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ze()),gi(Y,this.relativeTarget)),B&&(this.animationValues=y,Ej(y,p,this.latestValues,at,$,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ml(0)),this.currentAnimation=gj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&FC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ze();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}gi(f,m),Zo(f,y),ec(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Cj),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Ng("z",c,p,this.animationValues);for(let y=0;y<Dg.length;y++)Ng(`rotate${Dg[y]}`,c,p,this.animationValues),Ng(`skew${Dg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=jf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=jf(f?.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=Ij(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:b,y:R}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Cy){if(y[D]===void 0)continue;const{correct:B,applyTo:P,isCSSVariable:q}=Cy[D],$=_==="none"?y[D]:B(y[D],p);if(P){const Y=P.length;for(let rt=0;rt<Y;rt++)c[P[rt]]=$}else q?this.options.visualElement.renderState.vars[D]=$:c[D]=$}this.options.layoutId&&(c.pointerEvents=p===this?jf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(YS),this.root.sharedNodes.clear()}}}function Mj(e){e.updateLayout()}function Oj(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Jn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=pn(_);_.min=n[y].min,_.max=_.min+b}):FC(a,t.layoutBox,n)&&Jn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=pn(n[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=tl();ec(c,n,t.layoutBox);const f=tl();l?ec(f,e.applyTransform(s,!0),t.measuredBox):ec(f,n,t.layoutBox);const m=!UC(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const R=ze();yd(R,t.layoutBox,_.layoutBox);const D=ze();yd(D,n,b.layoutBox),jC(R,D)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Pj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Vj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kj(e){e.clearSnapshot()}function YS(e){e.clearMeasurements()}function KS(e){e.isLayoutDirty=!1}function Lj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $S(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Uj(e){e.resolveTargetDelta()}function jj(e){e.calcProjection()}function Bj(e){e.resetSkewAndRotation()}function zj(e){e.removeLeadSnapshot()}function QS(e,t,n){e.translate=de(t.translate,0,n),e.scale=de(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function XS(e,t,n,s){e.min=de(t.min,n.min,s),e.max=de(t.max,n.max,s)}function Fj(e,t,n,s){XS(e.x,t.x,n.x,s),XS(e.y,t.y,n.y,s)}function qj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Hj={duration:.45,ease:[.4,0,.1,1]},WS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),JS=WS("applewebkit/")&&!WS("chrome/")?Math.round:ei;function ZS(e){e.min=JS(e.min),e.max=JS(e.max)}function Gj(e){ZS(e.x),ZS(e.y)}function FC(e,t,n){return e==="position"||e==="preserve-aspect"&&!Z5(HS(t),HS(n),.2)}function Yj(e){return e!==e.root&&e.scroll?.wasRoot}const Kj=zC({attachResizeListener:(e,t)=>pc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mg={current:void 0},qC=zC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mg.current){const e=new Kj({});e.mount(window),e.setOptions({layoutScroll:!0}),Mg.current=e}return Mg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$j={pan:{Feature:mj},drag:{Feature:dj,ProjectionNode:qC,MeasureLayout:VC}};function t1(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&he.postRender(()=>l(t,Lc(t)))}class Qj extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=vU(t,(n,s)=>(t1(this.node,s,"Start"),a=>t1(this.node,a,"End"))))}unmount(){}}class Xj extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e1(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&he.postRender(()=>l(t,Lc(t)))}class Wj extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=bU(t,(n,s)=>(e1(this.node,s,"Start"),(a,{success:l})=>e1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ky=new WeakMap,Og=new WeakMap,Jj=e=>{const t=ky.get(e.target);t&&t(e)},Zj=e=>{e.forEach(Jj)};function t9({root:e,...t}){const n=e||document;Og.has(n)||Og.set(n,{});const s=Og.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Zj,{root:e,...t})),s[a]}function e9(e,t,n){const s=t9(t);return ky.set(e,n),s.observe(e),()=>{ky.delete(e),s.unobserve(e)}}const n9={some:0,all:1};class i9 extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:n9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return e9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(s9(t,n))&&this.startObserver()}unmount(){}}function s9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const r9={inView:{Feature:i9},tap:{Feature:Wj},focus:{Feature:Xj},hover:{Feature:Qj}},a9={layout:{ProjectionNode:qC,MeasureLayout:VC}},o9={...K5,...r9,...$j,...a9},Vr=u5(o9,b5),l9=()=>{const e=[{name:"General Consultation",price:"$50",description:"Comprehensive health check and prescription."},{name:"Follow-up Visit",price:"$30",description:"Review of previous conditions and treatment progress."},{name:"Special Procedures",price:"From $100",description:"Minor surgical procedures and specialized tests."},{name:"Prescription Renewal",price:"$20",description:"Quick renewal of ongoing medications."}];return S.jsxs("div",{className:"flex flex-col min-h-screen",children:[S.jsxs("nav",{className:"bg-white border-b border-slate-100 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(hy,{className:"text-medical-600 w-8 h-8"}),S.jsx("span",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"MedicoQueue"})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx(Oa,{to:"/live-queue",className:"text-slate-600 hover:text-medical-600 font-medium",children:"Live Queue"}),S.jsx(Oa,{to:"/booking",className:"btn-primary",children:"Book Now"})]})]}),S.jsxs("main",{className:"flex-grow",children:[S.jsx("section",{className:"bg-gradient-to-b from-medical-50 to-white py-20 px-6 text-center",children:S.jsxs(Vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[S.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight",children:["Modern Healthcare ",S.jsx("br",{}),S.jsx("span",{className:"text-medical-600",children:"Simplified"})]}),S.jsx("p",{className:"text-xl text-slate-600 mb-10 max-w-2xl mx-auto",children:"Skip the waiting room. Book your appointment online, track your queue status in real-time, and get notified when it's your turn."}),S.jsxs("div",{className:"flex justify-center gap-4",children:[S.jsxs(Oa,{to:"/booking",className:"btn-primary text-lg px-8 py-3 flex items-center gap-2",children:["Start Booking ",S.jsx(XL,{className:"w-5 h-5"})]}),S.jsx(Oa,{to:"/live-queue",className:"btn-secondary text-lg px-8 py-3",children:"View Live Queue"})]})]})}),S.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Our Services"}),S.jsx("p",{className:"text-slate-600",children:"Transparent pricing for all your medical needs."})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((t,n)=>S.jsxs(Vr.div,{whileHover:{y:-5},className:"medical-card flex flex-col justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:t.name}),S.jsx("p",{className:"text-slate-600 text-sm mb-4",children:t.description})]}),S.jsxs("div",{className:"mt-4",children:[S.jsx("span",{className:"text-2xl font-bold text-medical-600",children:t.price}),S.jsx("button",{className:"w-full mt-4 py-2 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-slate-700 font-medium",children:"Details"})]})]},n))})]})]}),S.jsx("footer",{className:"bg-slate-900 text-white py-12 px-6",children:S.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[S.jsxs("div",{className:"flex items-center gap-2 text-white",children:[S.jsx(hy,{className:"text-medical-400 w-8 h-8"}),S.jsx("span",{className:"text-xl font-bold",children:"MedicoQueue"})]}),S.jsx("div",{className:"text-slate-400 text-sm",children:" 2025 MedicoQueue. All rights reserved. Professional Medical Management System."}),S.jsx("div",{className:"flex gap-6",children:S.jsx(Oa,{to:"/login",className:"text-slate-400 hover:text-white transition-colors",children:"Doctor Portal"})})]})})]})},HC=6048e5,u9=864e5,c9=6e4,n1=Symbol.for("constructDateFrom");function Gr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&n1 in e?e[n1](t):e instanceof Date?new e.constructor(t):new Date(t)}function ii(e,t){return Gr(t||e,e)}let h9={};function Jd(){return h9}function gc(e,t){const n=Jd(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ii(e,t?.in),l=a.getDay(),c=(l<s?7:0)+l-s;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function vd(e,t){return gc(e,{...t,weekStartsOn:1})}function GC(e,t){const n=ii(e,t?.in),s=n.getFullYear(),a=Gr(n,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const l=vd(a),c=Gr(n,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const f=vd(c);return n.getTime()>=l.getTime()?s+1:n.getTime()>=f.getTime()?s:s-1}function i1(e){const t=ii(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function f9(e,...t){const n=Gr.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function s1(e,t){const n=ii(e,t?.in);return n.setHours(0,0,0,0),n}function d9(e,t,n){const[s,a]=f9(n?.in,e,t),l=s1(s),c=s1(a),f=+l-i1(l),m=+c-i1(c);return Math.round((f-m)/u9)}function m9(e,t){const n=GC(e,t),s=Gr(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),vd(s)}function p9(e,t,n){const s=ii(e,n?.in);return s.setTime(s.getTime()+t*c9),s}function g9(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function y9(e){return!(!g9(e)&&typeof e!="number"||isNaN(+ii(e)))}function v9(e,t){const n=ii(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const _9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T9=(e,t,n)=>{let s;const a=_9[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Pg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const E9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S9={date:Pg({formats:E9,defaultWidth:"full"}),time:Pg({formats:b9,defaultWidth:"full"}),dateTime:Pg({formats:w9,defaultWidth:"full"})},A9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x9=(e,t,n,s)=>A9[e];function ku(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=n?.width?String(n.width):c;a=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=n?.width?String(n.width):e.defaultWidth;a=e.values[f]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const R9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O9=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},P9={ordinalNumber:O9,era:ku({values:R9,defaultWidth:"wide"}),quarter:ku({values:C9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ku({values:I9,defaultWidth:"wide"}),day:ku({values:D9,defaultWidth:"wide"}),dayPeriod:ku({values:N9,defaultWidth:"wide",formattingValues:M9,defaultFormattingWidth:"wide"})};function Lu(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],f=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(f)?k9(f,_=>_.test(c)):V9(f,_=>_.test(c));let p;p=e.valueCallback?e.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const y=t.slice(c.length);return{value:p,rest:y}}}function V9(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function k9(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function L9(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const f=t.slice(a.length);return{value:c,rest:f}}}const U9=/^(\d+)(th|st|nd|rd)?/i,j9=/\d+/i,B9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},z9={any:[/^b/i,/^(a|c)/i]},F9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q9={any:[/1/i,/2/i,/3/i,/4/i]},H9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},G9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X9={ordinalNumber:L9({matchPattern:U9,parsePattern:j9,valueCallback:e=>parseInt(e,10)}),era:Lu({matchPatterns:B9,defaultMatchWidth:"wide",parsePatterns:z9,defaultParseWidth:"any"}),quarter:Lu({matchPatterns:F9,defaultMatchWidth:"wide",parsePatterns:q9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lu({matchPatterns:H9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),day:Lu({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:K9,defaultParseWidth:"any"}),dayPeriod:Lu({matchPatterns:$9,defaultMatchWidth:"any",parsePatterns:Q9,defaultParseWidth:"any"})},W9={code:"en-US",formatDistance:T9,formatLong:S9,formatRelative:x9,localize:P9,match:X9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J9(e,t){const n=ii(e,t?.in);return d9(n,v9(n))+1}function Z9(e,t){const n=ii(e,t?.in),s=+vd(n)-+m9(n);return Math.round(s/HC)+1}function YC(e,t){const n=ii(e,t?.in),s=n.getFullYear(),a=Jd(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Gr(t?.in||e,0);c.setFullYear(s+1,0,l),c.setHours(0,0,0,0);const f=gc(c,t),m=Gr(t?.in||e,0);m.setFullYear(s,0,l),m.setHours(0,0,0,0);const p=gc(m,t);return+n>=+f?s+1:+n>=+p?s:s-1}function tB(e,t){const n=Jd(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=YC(e,t),l=Gr(t?.in||e,0);return l.setFullYear(a,0,s),l.setHours(0,0,0,0),gc(l,t)}function eB(e,t){const n=ii(e,t?.in),s=+gc(n,t)-+tB(n,t);return Math.round(s/HC)+1}function Wt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const _r={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Wt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Wt(n+1,2)},d(e,t){return Wt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Wt(e.getHours()%12||12,t.length)},H(e,t){return Wt(e.getHours(),t.length)},m(e,t){return Wt(e.getMinutes(),t.length)},s(e,t){return Wt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return Wt(a,t.length)}},Fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r1={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return _r.y(e,t)},Y:function(e,t,n,s){const a=YC(e,s),l=a>0?a:1-a;if(t==="YY"){const c=l%100;return Wt(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Wt(l,t.length)},R:function(e,t){const n=GC(e);return Wt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Wt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Wt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Wt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return _r.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Wt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=eB(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Wt(a,t.length)},I:function(e,t,n){const s=Z9(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Wt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_r.d(e,t)},D:function(e,t,n){const s=J9(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Wt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Wt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Wt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Wt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=Fo.noon:s===0?a=Fo.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=Fo.evening:s>=12?a=Fo.afternoon:s>=4?a=Fo.morning:a=Fo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return _r.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_r.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Wt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Wt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_r.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_r.s(e,t)},S:function(e,t){return _r.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return o1(s);case"XXXX":case"XX":return Ma(s);default:return Ma(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return o1(s);case"xxxx":case"xx":return Ma(s);default:return Ma(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+a1(s,":");default:return"GMT"+Ma(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+a1(s,":");default:return"GMT"+Ma(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return Wt(s,t.length)},T:function(e,t,n){return Wt(+e,t.length)}};function a1(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),l=s%60;return l===0?n+String(a):n+String(a)+t+Wt(l,2)}function o1(e,t){return e%60===0?(e>0?"-":"+")+Wt(Math.abs(e)/60,2):Ma(e,t)}function Ma(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Wt(Math.trunc(s/60),2),l=Wt(s%60,2);return n+a+t+l}const l1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},KC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},nB=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return l1(e,t);let l;switch(s){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",l1(s,t)).replace("{{time}}",KC(a,t))},iB={p:KC,P:nB},sB=/^D+$/,rB=/^Y+$/,aB=["D","DD","YY","YYYY"];function oB(e){return sB.test(e)}function lB(e){return rB.test(e)}function uB(e,t,n){const s=cB(e,t,n);if(console.warn(s),aB.includes(e))throw new RangeError(s)}function cB(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dB=/^'([^]*?)'?$/,mB=/''/g,pB=/[a-zA-Z]/;function Ar(e,t,n){const s=Jd(),a=s.locale??W9,l=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,f=ii(e,n?.in);if(!y9(f))throw new RangeError("Invalid time value");let m=t.match(fB).map(y=>{const _=y[0];if(_==="p"||_==="P"){const b=iB[_];return b(y,a.formatLong)}return y}).join("").match(hB).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:gB(y)};if(r1[_])return{isToken:!0,value:y};if(_.match(pB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const _=y.value;(lB(_)||oB(_))&&uB(_,t,String(e));const b=r1[_[0]];return b(f,_,a.localize,p)}).join("")}function gB(e){const t=e.match(dB);return t?t[1].replace(mB,"'"):e}const yB=()=>{const e=Td(),[t,n]=O.useState({name:"",phone:"",date:Ar(new Date,"yyyy-MM-dd")}),[s,a]=O.useState(!1),[l,c]=O.useState(null),[f,m]=O.useState({startTime:"09:00",endTime:"17:00",intervalMinutes:10,dailyLimit:20,holidays:["Friday","Saturday"]}),[p,y]=O.useState({totalBooked:0,estimatedWait:0});O.useEffect(()=>{(async()=>(doc(sn,"settings","clinic_settings"),await ud(La(Mr(sn,"settings"),Rr("id","==","clinic_settings"))),dl(doc(sn,"settings","clinic_settings"),B=>{B.exists()&&m(B.data())})))();const R=La(Mr(sn,"bookings"),Rr("date","==",t.date)),D=dl(R,B=>{y({totalBooked:B.size,estimatedWait:B.size*(f.intervalMinutes||15)})});return()=>D()},[t.date,f.intervalMinutes]);const _=async b=>{b.preventDefault(),console.log("Submit button clicked. Form data:",t),a(!0);let R=!1;setTimeout(()=>{R||(console.warn("Firestore submission is taking too long (15s timeout reached)"),a(!1),alert("The connection to the database is slow. Please refresh the page and try again."))},15e3);try{const D=Ar(new Date(t.date),"EEEE");if(f.holidays.includes(D)){alert(`Sorry, the clinic is closed on ${D}s.`),a(!1);return}if(p.totalBooked>=f.dailyLimit){alert("Sorry, we have reached the maximum number of bookings for this day."),a(!1);return}console.log("Current stats for queue calculation:",p);const B=(p.totalBooked||0)+1;let P=new Date(`${t.date}T${f.startTime}`);const q=new Date;t.date===Ar(q,"yyyy-MM-dd")&&q>P&&(P=q);const $=Ar(p9(P,p.totalBooked*f.intervalMinutes),"HH:mm"),Y={name:String(t.name),phone:String(t.phone),date:String(t.date),queueNumber:Number(B),status:"pending",createdAt:new Date().toISOString(),estimatedTime:String($)};console.log("Attempting to write to collection 'bookings' with data:",Y);const rt=await nR(Mr(sn,"bookings"),Y);R=!0,console.log("Success! Firestore Document ID:",rt.id),c({id:rt.id,...Y})}catch(D){R=!0,console.error("FIRESTORE ERROR DETECTED:",D),console.error("Error Code:",D.code),console.error("Error Message:",D.message),alert("Database Error: "+D.message)}finally{a(!1),console.log("handleSubmit execution completed.")}};return l?S.jsx("div",{className:"min-h-screen bg-medical-50 flex items-center justify-center px-6",children:S.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"medical-card max-w-md w-full text-center py-10",children:[S.jsx("div",{className:"bg-green-100 text-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:S.jsx(uR,{className:"w-10 h-10"})}),S.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Confirmed!"}),S.jsx("p",{className:"text-slate-600 mb-8",children:"Your appointment has been scheduled successfully."}),S.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-8 text-left space-y-4",children:[S.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[S.jsx("span",{className:"text-slate-500",children:"Queue Number"}),S.jsxs("span",{className:"font-bold text-medical-600 text-xl",children:["#",l.queueNumber]})]}),S.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[S.jsx("span",{className:"text-slate-500",children:"Scheduled Time"}),S.jsx("span",{className:"font-semibold",children:l.estimatedTime})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-500",children:"Date"}),S.jsx("span",{className:"font-semibold",children:l.date})]})]}),S.jsxs("p",{className:"text-sm text-slate-500 mb-8 italic",children:["A confirmation message has been sent to ",l.phone," via WhatsApp."]}),S.jsx("button",{onClick:()=>e("/"),className:"w-full btn-primary",children:"Back to Home"})]})}):S.jsx("div",{className:"min-h-screen py-12 px-6",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Book an Appointment"}),S.jsx("p",{className:"text-slate-600",children:"Quick and easy booking in less than a minute."})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[S.jsxs("div",{className:"medical-card bg-medical-600 text-white border-none",children:[S.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Live Availability"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(zw,{className:"w-5 h-5 opacity-80"}),S.jsxs("span",{children:[p.totalBooked," Patients Today"]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(dy,{className:"w-5 h-5 opacity-80"}),S.jsxs("span",{children:[p.estimatedWait," min Estimated Wait"]})]})]})]}),S.jsxs("div",{className:"medical-card",children:[S.jsxs("h4",{className:"font-bold text-slate-900 mb-3 flex items-center gap-2",children:[S.jsx(S3,{className:"w-5 h-5 text-medical-600"})," Clinic Info"]}),S.jsxs("div",{className:"text-sm text-slate-600 space-y-2",children:[S.jsxs("p",{className:"flex justify-between",children:[S.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Hours"}),S.jsxs("span",{children:[f.startTime," - ",f.endTime]})]}),S.jsxs("p",{className:"flex justify-between border-t border-slate-50 pt-2",children:[S.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Holidays"}),S.jsx("span",{className:"text-red-400",children:f.holidays.join(", ")})]}),S.jsxs("p",{className:"flex justify-between border-t border-slate-50 pt-2",children:[S.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Daily Limit"}),S.jsxs("span",{children:["Max ",f.dailyLimit," patients"]})]})]})]})]}),S.jsx("div",{className:"lg:col-span-2",children:S.jsx("div",{className:"medical-card",children:S.jsxs("form",{onSubmit:_,className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),S.jsxs("div",{className:"relative",children:[S.jsx(zw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"fullName",name:"name",type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"Enter your full name",value:t.name,onChange:b=>n({...t,name:b.target.value})})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"whatsappNumber",className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp Number"}),S.jsxs("div",{className:"relative",children:[S.jsx(v3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"whatsappNumber",name:"phone",type:"tel",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"+1 (123) 456-7890",value:t.phone,onChange:b=>n({...t,phone:b.target.value})})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"appointmentDate",className:"block text-sm font-medium text-slate-700 mb-2",children:"Preferred Date"}),S.jsxs("div",{className:"relative",children:[S.jsx(fy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"appointmentDate",name:"date",type:"date",required:!0,min:Ar(new Date,"yyyy-MM-dd"),className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",value:t.date,onChange:b=>n({...t,date:b.target.value})})]})]}),S.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary py-4 text-lg flex justify-center items-center gap-2",children:s?"Processing...":"Confirm Booking"})]})})})]})]})})},vB=()=>{const[e,t]=O.useState([]),[n,s]=O.useState(0),a=Ar(new Date,"yyyy-MM-dd");return O.useEffect(()=>{const l=La(Mr(sn,"bookings"),Rr("date","==",a)),c=dl(l,f=>{let m=f.docs.map(y=>({id:y.id,...y.data()}));m.sort((y,_)=>(y.queueNumber||0)-(_.queueNumber||0)),t(m);const p=m.find(y=>y.status==="calling");if(p)s(p.queueNumber);else{const y=[...m].reverse().find(_=>_.status==="completed");s(y?y.queueNumber:0)}});return()=>c()},[a]),S.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-6",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4 italic",children:"Live Queue Updates"}),S.jsx("p",{className:"text-slate-600",children:"Track the current clinic status in real-time."})]}),S.jsxs("div",{className:"bg-medical-600 rounded-2xl p-10 text-white shadow-xl shadow-medical-200 mb-12 text-center relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:S.jsx(cR,{className:"w-32 h-32"})}),S.jsx("p",{className:"text-medical-100 font-medium mb-2 uppercase tracking-widest",children:"Now Serving"}),S.jsxs("div",{className:"text-8xl font-black mb-4",children:["#",n]}),S.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"block text-2xl font-bold",children:e.filter(l=>l.status==="pending").length}),S.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:"Waiting"})]}),S.jsx("div",{className:"h-10 w-px bg-medical-400 opacity-50"}),S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"block text-2xl font-bold",children:e.filter(l=>l.status==="completed").length}),S.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:"Completed"})]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 px-2 mb-4",children:"Upcoming Patients"}),S.jsx(Ry,{mode:"popLayout",children:e.filter(l=>l.status==="pending").map((l,c)=>S.jsxs(Vr.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},className:`medical-card flex justify-between items-center transition-all ${c===0?"bg-medical-50 border-medical-200":""}`,children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${c===0?"bg-medical-600 text-white":"bg-slate-100 text-slate-600"}`,children:["#",l.queueNumber]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-slate-900",children:l.name}),S.jsxs("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:["Scheduled for ",l.estimatedTime]})]})]}),c===0&&S.jsx("div",{className:"bg-medical-100 text-medical-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:"UP NEXT"})]},l.id))}),e.filter(l=>l.status==="pending").length===0&&S.jsxs("div",{className:"text-center py-10 medical-card border-dashed",children:[S.jsx(f3,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),S.jsx("p",{className:"text-slate-500",children:"No pending appointments for today."})]})]})]})})},_B="modulepreload",TB=function(e){return"/Doctors/"+e},u1={},EB=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");a=p(n.map(y=>{if(y=TB(y),y in u1)return;u1[y]=!0;const _=y.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const R=document.createElement("link");if(R.rel=_?"stylesheet":_B,_||(R.as="script"),R.crossOrigin="",R.href=y,m&&R.setAttribute("nonce",m),document.head.appendChild(R),_)return new Promise((D,B)=>{R.addEventListener("load",D),R.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return a.then(f=>{for(const m of f||[])m.status==="rejected"&&l(m.reason);return t().catch(l)})},Vg="https://script.google.com/macros/s/AKfycbyK_DSjFavVCsE0DH49qxke-NVR8Nq_nFP3saZD86VKGIQ1TDPxIF3WTmwz995Oa46tGw/exec",kg=(e,t=!1)=>{if(!e||!e.includes("drive.google.com"))return e;let n="";return e.includes("/file/d/")?n=e.split("/file/d/")[1].split("/")[0]:e.includes("id=")&&(n=e.split("id=")[1].split("&")[0]),n?t?`https://drive.google.com/file/d/${n}/preview`:`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:e},bB=()=>{const[e,t]=O.useState([]),[n,s]=O.useState(null),[a,l]=O.useState(""),[c,f]=O.useState(""),[m,p]=O.useState(""),[y,_]=O.useState([]),[b,R]=O.useState(!1),[D,B]=O.useState(null),[P,q]=O.useState(!1),[$,Y]=O.useState(!1),[rt,at]=O.useState({startTime:"09:00",endTime:"17:00",intervalMinutes:10,dailyLimit:20,holidays:["Friday","Saturday"]}),ot=Ar(new Date,"yyyy-MM-dd");O.useEffect(()=>{(async()=>($i(sn,"settings","clinic_settings"),await ud(La(Mr(sn,"settings"),Rr("id","==","clinic_settings"))),dl($i(sn,"settings","clinic_settings"),J=>{J.exists()&&at(J.data())})))()},[]),O.useEffect(()=>{const U=La(Mr(sn,"bookings"),Rr("date","==",ot)),J=dl(U,lt=>{let gt=lt.docs.map(_t=>({id:_t.id,..._t.data()}));gt.sort((_t,k)=>(_t.queueNumber||0)-(k.queueNumber||0)),t(gt)});return()=>J()},[ot]);const C=async U=>{n&&a!==(n.notes||"")&&await x(!1),s(U),l(U.notes||""),f(U.googleDriveLink||""),p(U.nextAppointment||""),I(U.phone)},x=async(U=!0)=>{if(n)try{const J=$i(sn,"bookings",n.id);await qu(J,{notes:a,googleDriveLink:c,nextAppointment:m,updatedAt:Jt.now()}),U&&alert("Draft saved successfully.")}catch(J){console.error("Save Draft Error:",J),U&&alert("Save failed: "+J.message)}},I=async U=>{try{const J=La(Mr(sn,"bookings"),Rr("phone","==",U),Rr("status","==","completed")),gt=(await ud(J)).docs.map(_t=>({id:_t.id,..._t.data()}));gt.sort((_t,k)=>{const tt=new Date(_t.date).getTime(),ct=new Date(k.date).getTime();if(tt!==ct)return ct-tt;const ft=_t.updatedAt?.toMillis()||0;return(k.updatedAt?.toMillis()||0)-ft}),_(gt)}catch(J){console.error("Error fetching history:",J)}},L=async U=>{U.preventDefault();try{await qu($i(sn,"settings","clinic_settings"),rt),alert("Clinic Settings updated successfully!"),Y(!1)}catch(J){try{const{setDoc:lt}=await EB(async()=>{const{setDoc:gt}=await Promise.resolve().then(()=>cL);return{setDoc:gt}},[]);await lt($i(sn,"settings","clinic_settings"),rt),alert("Clinic Settings created and saved!"),Y(!1)}catch{console.error("Save Settings Error:",J),alert("Failed to save settings.")}}},V=async U=>{const J=U.target.files[0];if(!(!J||!n)){if(Vg.includes("YOUR_GOOGLE_SCRIPT")){alert("Please set your Google Script URL in Dashboard.jsx first!");return}q(!0);try{const lt=new FileReader;lt.readAsDataURL(J),lt.onload=async()=>{const gt=lt.result.split(",")[1],_t={name:J.name,type:J.type,base64:gt,phone:n.phone};console.log("Sending file to Drive bridge..."),await fetch(Vg,{method:"POST",mode:"no-cors",body:JSON.stringify(_t)}),console.log("Upload sent, fetching new link via JSONP..."),window.handleDriveResponse=tt=>{console.log("JSONP Response received:",tt),tt.status==="success"?(f(tt.previewUrl),alert("File uploaded and linked successfully!")):(console.error("Link retrieval failed:",tt),alert("File uploaded but link retrieval failed. Please try again or check your Drive.")),q(!1)};const k=document.createElement("script");k.src=`${Vg}?phone=${encodeURIComponent(n.phone)}&callback=handleDriveResponse&t=${Date.now()}`,k.onerror=()=>{console.error("JSONP Script load error"),q(!1),alert("Communication error with Google. Please try saving and refreshing.")},document.body.appendChild(k),setTimeout(()=>k.remove(),1e4)}}catch(lt){console.error("Upload Error:",lt),alert("Upload failed. Check console for details."),q(!1)}}},F=async(U,J)=>{try{const lt=$i(sn,"bookings",U);if(await qu(lt,{status:J,updatedAt:Jt.now()}),J==="calling"){const gt=e.find(_t=>_t.id===U);C(gt)}}catch(lt){console.error(lt)}},N=async()=>{if(n)try{const U=$i(sn,"bookings",n.id),J={notes:a,googleDriveLink:c,nextAppointment:m,status:"completed",updatedAt:Jt.now()};await qu(U,J),n.phone&&I(n.phone);const lt=e.map(gt=>gt.id===n.id?{...gt,...J}:gt);t(lt),s(null),l(""),f(""),p(""),alert("Consultation completed and records saved permanentely.")}catch(U){console.error("Save Notes Error:",U),alert("Failed to save final notes: "+U.message)}},Yt=e.find(U=>U.status==="calling"),se=e.find(U=>U.status==="pending");return S.jsxs("div",{className:"flex h-screen bg-slate-50",children:[S.jsxs("div",{className:"w-80 bg-white border-r border-slate-200 flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-3",children:[S.jsx("div",{className:"bg-medical-600 p-2 rounded-lg",children:S.jsx(cR,{className:"text-white w-6 h-6"})}),S.jsx("h2",{className:"font-bold text-slate-900 text-lg",children:"Daily Queue"})]}),S.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-3",children:[e.map(U=>S.jsxs("div",{onClick:()=>C(U),className:`p-3 rounded-xl border transition-all cursor-pointer ${n?.id===U.id?"bg-medical-50 border-medical-200 ring-2 ring-medical-100":"bg-white border-slate-100 hover:border-medical-200"}`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-1",children:[S.jsxs("span",{className:"text-xs font-bold text-medical-600",children:["#",U.queueNumber]}),S.jsx("span",{className:`text-[10px] uppercase font-black px-2 py-0.5 rounded-full ${U.status==="calling"?"bg-orange-100 text-orange-600":U.status==="completed"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-500"}`,children:U.status})]}),S.jsx("h4",{className:"font-bold text-slate-800 truncate",children:U.name}),S.jsx("p",{className:"text-xs text-slate-500",children:U.estimatedTime})]},U.id)),e.length===0&&S.jsx("p",{className:"text-center text-slate-400 py-10 text-sm",children:"No bookings for today."})]}),S.jsx("div",{className:"p-4 border-t border-slate-100",children:S.jsx("button",{onClick:()=>Uv.signOut(),className:"w-full py-2 text-slate-500 hover:text-red-500 text-sm font-medium",children:"Logout"})})]}),S.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden",children:[S.jsxs("div",{className:"bg-white border-b border-slate-200 p-6 flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Patient Consultation"}),S.jsx("p",{className:"text-slate-500 text-sm",children:Ar(new Date,"EEEE, MMMM do")})]}),S.jsxs("div",{className:"flex gap-3",children:[se&&S.jsxs("button",{onClick:()=>F(se.id,"calling"),className:"btn-primary flex items-center gap-2",children:[S.jsx(n3,{className:"w-5 h-5"})," Call Next Patient (#",se.queueNumber,")"]}),Yt&&S.jsxs("button",{onClick:()=>F(Yt.id,"completed"),className:"btn-secondary flex items-center gap-2",children:[S.jsx(uR,{className:"w-5 h-5"})," Mark Completed"]})]})]}),S.jsx("div",{className:"flex-grow p-8 overflow-y-auto",children:n?S.jsxs(Vr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto space-y-8",children:[S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:n.name}),S.jsxs("p",{className:"text-slate-500 flex items-center gap-2 mt-1",children:[S.jsx(Uw,{className:"w-4 h-4"})," Queue #",n.queueNumber,"  ",n.phone]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-widest",children:"Booking Time"}),S.jsx("p",{className:"text-lg font-bold text-slate-700",children:n.estimatedTime})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsx("div",{className:"space-y-6",children:S.jsxs("div",{children:[S.jsx("label",{htmlFor:"clinicalNotes",className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Clinical Notes"}),S.jsx("textarea",{id:"clinicalNotes",name:"clinicalNotes",rows:10,className:"w-full p-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none resize-none bg-white",placeholder:"Enter examination details, diagnosis, and treatment plan...",value:a,onChange:U=>l(U.target.value)})]})}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Patient Records (Drive / Upload)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"relative flex-grow",children:[S.jsx(jw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"driveLink",name:"driveLink",type:"url",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none",placeholder:"Drive Link or Auto-upload",value:c,onChange:U=>f(U.target.value)})]}),S.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-4 rounded-xl border-2 border-dashed border-medical-200 hover:bg-medical-50 transition-all ${P?"opacity-50 pointer-events-none":""}`,children:[S.jsx(x3,{className:"w-5 h-5 text-medical-600"}),S.jsx("input",{type:"file",className:"hidden",onChange:V,accept:"image/*,.pdf"})]})]}),P&&S.jsx("p",{className:"text-[10px] text-medical-600 mt-1 animate-pulse font-bold",children:"Uploading to Drive..."}),c&&S.jsxs("div",{className:"mt-4 border border-slate-200 rounded-xl overflow-hidden min-h-[200px] bg-slate-100 relative group flex items-center justify-center",children:[c.includes("drive.google.com")?S.jsx("div",{className:"w-full",children:S.jsx("img",{src:kg(c),className:"max-h-[400px] w-auto object-contain mx-auto",alt:"Patient Record Preview",onError:U=>{U.target.style.display="none",U.target.parentElement.innerHTML=`
                                                                    <div class="p-12 text-center">
                                                                        <div class="bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm">
                                                                            <svg class="w-6 h-6 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                                        </div>
                                                                        <p class="text-xs text-slate-500 font-bold mb-4">PDF Document Detected</p>
                                                                        <a href="${c}" target="_blank" rel="noopener noreferrer" class="btn-primary py-2 px-6 text-xs inline-block">Open PDF in New Tab</a>
                                                                    </div>
                                                                `}})}):S.jsx("p",{className:"text-xs text-slate-400",children:"Preview not available for this link type"}),S.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-slate-900/60 p-2 opacity-0 group-hover:opacity-100 transition-opacity flex justify-between items-center",children:[S.jsx("span",{className:"text-[10px] text-white font-medium",children:"Record Preview"}),S.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-medical-200 font-bold hover:underline",children:"Open Original"})]})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"nextAppt",className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Next Appointment"}),S.jsxs("div",{className:"relative",children:[S.jsx(fy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"nextAppt",name:"nextAppt",type:"date",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none",value:m,onChange:U=>p(U.target.value)})]})]}),S.jsxs("div",{className:"bg-medical-50 rounded-xl p-6 border border-medical-100",children:[S.jsxs("h4",{className:"font-bold text-medical-800 mb-2 flex items-center gap-2",children:[S.jsx(Bw,{className:"w-5 h-5"})," Quick Actions"]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("button",{onClick:()=>R(!0),className:"w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-white transition-colors text-slate-600 border border-transparent hover:border-medical-200 flex items-center gap-2",children:[S.jsx(c3,{className:"w-4 h-4"})," View Medical History (",y.length,")"]}),S.jsxs("button",{className:"w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-white transition-colors text-slate-600 border border-transparent hover:border-medical-200 flex items-center gap-2",children:[S.jsx(Bw,{className:"w-4 h-4"})," Print Prescription"]})]})]})]})]}),S.jsxs("div",{className:"pt-6 border-t border-slate-200 flex justify-between items-center gap-3",children:[S.jsx("button",{onClick:()=>x(!0),className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-all font-bold text-sm",children:"Save Draft"}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>s(null),className:"px-6 py-2 text-slate-500 font-medium",children:"Cancel"}),S.jsx("button",{onClick:N,className:"btn-primary px-8",children:"Save & Complete Consultation"})]})]})]}):S.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[S.jsx(Uw,{className:"w-16 h-16 mb-4 opacity-20"}),S.jsx("p",{className:"text-lg",children:"Select a patient from the queue to start consultation"})]})})]}),S.jsx(Ry,{children:b&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:S.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl",children:[S.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Medical History"}),S.jsx("p",{className:"text-sm text-slate-500",children:n?.name})]}),S.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:S.jsx(Fw,{className:"w-6 h-6 text-slate-400"})})]}),S.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:y.length===0?S.jsx("div",{className:"text-center py-12 text-slate-400",children:"No previous records found for this patient."}):y.map(U=>S.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 bg-slate-50/50",children:[S.jsxs("div",{className:"flex justify-between items-start mb-3",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(fy,{className:"w-4 h-4 text-medical-600"}),S.jsx("span",{className:"font-bold text-slate-700",children:U.date})]}),S.jsx("span",{className:"text-[10px] uppercase font-black bg-green-100 text-green-600 px-2 py-0.5 rounded-full",children:"Completed"})]}),S.jsx("div",{className:"bg-white p-3 rounded-lg border border-slate-100 mb-3 text-sm text-slate-600 whitespace-pre-wrap",children:U.notes||"No clinical notes provided."}),U.googleDriveLink&&S.jsxs("div",{className:"mt-3",children:[S.jsxs("div",{className:"flex gap-4 mb-2",children:[S.jsxs("a",{href:U.googleDriveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-bold text-medical-600 hover:underline",children:[S.jsx(jw,{className:"w-3 h-3"})," Open full file"]}),S.jsxs("button",{onClick:()=>B(D===U.id?null:U.id),className:"text-xs font-bold text-slate-500 hover:text-medical-600 flex items-center gap-1",children:[S.jsx(o3,{className:"w-3 h-3"})," ",D===U.id?"Hide Preview":"Show Preview"]})]}),D===U.id&&U.googleDriveLink.includes("drive.google.com")&&S.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden min-h-[150px] bg-white shadow-inner flex items-center justify-center",children:[S.jsx("img",{src:kg(U.googleDriveLink),className:"max-h-[300px] w-auto object-contain",alt:"History Record",onError:J=>{J.target.style.display="none",J.target.nextSibling.style.display="block"}}),S.jsx("iframe",{src:kg(U.googleDriveLink,!0),className:"w-full h-[300px] hidden",title:"History PDF Preview"})]})]})]},U.id))})]})})}),S.jsx(Ry,{children:$&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:S.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden",children:[S.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-medical-600 text-white",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(b3,{className:"w-5 h-5"}),S.jsx("h3",{className:"text-xl font-bold",children:"Clinic Settings"})]}),S.jsx("button",{onClick:()=>Y(!1),className:"p-2 hover:bg-medical-700 rounded-full transition-colors",children:S.jsx(Fw,{className:"w-6 h-6 text-white"})})]}),S.jsxs("form",{onSubmit:L,className:"p-6 space-y-4",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Work Starts"}),S.jsxs("div",{className:"relative",children:[S.jsx(dy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),S.jsx("input",{type:"time",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:rt.startTime,onChange:U=>at({...rt,startTime:U.target.value})})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Work Ends"}),S.jsxs("div",{className:"relative",children:[S.jsx(dy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),S.jsx("input",{type:"time",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:rt.endTime,onChange:U=>at({...rt,endTime:U.target.value})})]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Patients / Hour"}),S.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:60/rt.intervalMinutes,onChange:U=>at({...rt,intervalMinutes:60/parseInt(U.target.value)}),children:[S.jsx("option",{value:"2",children:"2 (Every 30m)"}),S.jsx("option",{value:"3",children:"3 (Every 20m)"}),S.jsx("option",{value:"4",children:"4 (Every 15m)"}),S.jsx("option",{value:"6",children:"6 (Every 10m)"}),S.jsx("option",{value:"12",children:"12 (Every 5m)"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Daily Capacity"}),S.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:rt.dailyLimit,onChange:U=>at({...rt,dailyLimit:parseInt(U.target.value)})})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Weekly Holidays"}),S.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(U=>S.jsx("button",{type:"button",onClick:()=>{const J=rt.holidays.includes(U)?rt.holidays.filter(lt=>lt!==U):[...rt.holidays,U];at({...rt,holidays:J})},className:`px-2 py-1.5 text-[10px] font-bold rounded-lg border transition-all ${rt.holidays.includes(U)?"bg-red-50 border-red-200 text-red-600":"bg-slate-50 border-slate-200 text-slate-600 hover:border-medical-200"}`,children:U.substring(0,3)},U))})]}),S.jsxs("div",{className:"pt-4 border-t border-slate-100 flex gap-3",children:[S.jsx("button",{type:"button",onClick:()=>Y(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl font-bold hover:bg-slate-200",children:"Cancel"}),S.jsxs("button",{type:"submit",className:"flex-1 py-3 bg-medical-600 text-white rounded-xl font-bold hover:bg-medical-700 shadow-lg shadow-medical-200 flex items-center justify-center gap-2",children:[S.jsx(T3,{className:"w-4 h-4"})," Save Settings"]})]})]})]})})})]})},wB=()=>{const[e,t]=O.useState(""),[n,s]=O.useState(""),[a,l]=O.useState(""),[c,f]=O.useState(!1),m=Td(),p=async y=>{y.preventDefault(),f(!0),l("");try{await HO(Uv,e,n),m("/dashboard")}catch(_){l("Invalid email or password. Please try again."),console.error(_)}f(!1)};return S.jsxs("div",{className:"min-h-screen bg-medical-50 flex flex-col justify-center py-12 px-6",children:[S.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[S.jsx("div",{className:"flex justify-center mb-6",children:S.jsx(hy,{className:"text-medical-600 w-12 h-12"})}),S.jsx("h2",{className:"text-center text-3xl font-extrabold text-slate-900",children:"Doctor Portal"}),S.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Sign in to manage your clinic and patients."})]}),S.jsx(Vr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:S.jsxs("div",{className:"medical-card",children:[S.jsxs("form",{className:"space-y-6",onSubmit:p,children:[a&&S.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center gap-3 text-sm",children:[S.jsx(ZL,{className:"w-5 h-5 flex-shrink-0"}),a]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"loginEmail",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),S.jsxs("div",{className:"relative",children:[S.jsx(g3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"loginEmail",name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"doctor@example.com",value:e,onChange:y=>t(y.target.value)})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"loginPassword",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),S.jsxs("div",{className:"relative",children:[S.jsx(m3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"loginPassword",name:"password",type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"",value:n,onChange:y=>s(y.target.value)})]})]}),S.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary py-3 text-lg",children:c?"Signing in...":"Sign In"})]}),S.jsx("div",{className:"mt-6 text-center",children:S.jsx("p",{className:"text-xs text-slate-500",children:"Note: This portal is for authorized medical staff only."})})]})})]})},SB=({children:e,doctorOnly:t=!1})=>{const{currentUser:n,isDoctor:s}=zL();return n?t&&!s?S.jsx(ZE,{to:"/"}):e:S.jsx(ZE,{to:"/login"})};function AB(){return S.jsx(FL,{children:S.jsx(tN,{basename:"/Doctors",children:S.jsx("div",{className:"min-h-screen bg-slate-50",children:S.jsxs(DD,{children:[S.jsx(qo,{path:"/",element:S.jsx(l9,{})}),S.jsx(qo,{path:"/booking",element:S.jsx(yB,{})}),S.jsx(qo,{path:"/live-queue",element:S.jsx(vB,{})}),S.jsx(qo,{path:"/login",element:S.jsx(wB,{})}),S.jsx(qo,{path:"/dashboard",element:S.jsx(SB,{doctorOnly:!0,children:S.jsx(bB,{})})})]})})})})}OI.createRoot(document.getElementById("root")).render(S.jsx(O.StrictMode,{children:S.jsx(AB,{})}));

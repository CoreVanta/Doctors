(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Jp={exports:{}},Mu={};var LE;function SI(){if(LE)return Mu;LE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Mu.Fragment=e,Mu.jsx=n,Mu.jsxs=n,Mu}var UE;function AI(){return UE||(UE=1,Jp.exports=SI()),Jp.exports}var S=AI(),Zp={exports:{}},xe={};var jE;function xI(){if(jE)return xe;jE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,P={};function q(k,ee,ce){this.props=k,this.context=ee,this.refs=P,this.updater=ce||D}q.prototype.isReactComponent={},q.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},q.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=q.prototype;function G(k,ee,ce){this.props=k,this.context=ee,this.refs=P,this.updater=ce||D}var re=G.prototype=new $;re.constructor=G,B(re,q.prototype),re.isPureReactComponent=!0;var ae=Array.isArray;function le(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(k,ee,ce){var fe=ce.ref;return{$$typeof:t,type:k,key:ee,ref:fe!==void 0?fe:null,props:ce}}function L(k,ee){return I(k.type,ee,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function F(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return ee[ce]})}var N=/\/+/g;function Ye(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):ee.toString(36)}function st(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(le,le):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function j(k,ee,ce,fe,Se){var De=typeof k;(De==="undefined"||De==="boolean")&&(k=null);var Be=!1;if(k===null)Be=!0;else switch(De){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(k.$$typeof){case t:case e:Be=!0;break;case y:return Be=k._init,j(Be(k._payload),ee,ce,fe,Se)}}if(Be)return Se=Se(k),Be=fe===""?"."+Ye(k,0):fe,ae(Se)?(ce="",Be!=null&&(ce=Be.replace(N,"$&/")+"/"),j(Se,ee,ce,"",function(Jr){return Jr})):Se!=null&&(V(Se)&&(Se=L(Se,ce+(Se.key==null||k&&k.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+Be)),ee.push(Se)),1;Be=0;var Ut=fe===""?".":fe+":";if(ae(k))for(var lt=0;lt<k.length;lt++)fe=k[lt],De=Ut+Ye(fe,lt),Be+=j(fe,ee,ce,De,Se);else if(lt=R(k),typeof lt=="function")for(k=lt.call(k),lt=0;!(fe=k.next()).done;)fe=fe.value,De=Ut+Ye(fe,lt++),Be+=j(fe,ee,ce,De,Se);else if(De==="object"){if(typeof k.then=="function")return j(st(k),ee,ce,fe,Se);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Be}function J(k,ee,ce){if(k==null)return k;var fe=[],Se=0;return j(k,fe,"","",function(De){return ee.call(ce,De,Se++)}),fe}function oe(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},_e={map:J,forEach:function(k,ee,ce){J(k,function(){ee.apply(this,arguments)},ce)},count:function(k){var ee=0;return J(k,function(){ee++}),ee},toArray:function(k){return J(k,function(ee){return ee})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xe.Activity=_,xe.Children=_e,xe.Component=q,xe.Fragment=n,xe.Profiler=a,xe.PureComponent=G,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(k,ee,ce){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var fe=B({},k.props),Se=k.key;if(ee!=null)for(De in ee.key!==void 0&&(Se=""+ee.key),ee)!x.call(ee,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ee.ref===void 0||(fe[De]=ee[De]);var De=arguments.length-2;if(De===1)fe.children=ce;else if(1<De){for(var Be=Array(De),Ut=0;Ut<De;Ut++)Be[Ut]=arguments[Ut+2];fe.children=Be}return I(k.type,Se,fe)},xe.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},xe.createElement=function(k,ee,ce){var fe,Se={},De=null;if(ee!=null)for(fe in ee.key!==void 0&&(De=""+ee.key),ee)x.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=ee[fe]);var Be=arguments.length-2;if(Be===1)Se.children=ce;else if(1<Be){for(var Ut=Array(Be),lt=0;lt<Be;lt++)Ut[lt]=arguments[lt+2];Se.children=Ut}if(k&&k.defaultProps)for(fe in Be=k.defaultProps,Be)Se[fe]===void 0&&(Se[fe]=Be[fe]);return I(k,De,Se)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:f,render:k}},xe.isValidElement=V,xe.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:oe}},xe.memo=function(k,ee){return{$$typeof:p,type:k,compare:ee===void 0?null:ee}},xe.startTransition=function(k){var ee=C.T,ce={};C.T=ce;try{var fe=k(),Se=C.S;Se!==null&&Se(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(le,pe)}catch(De){pe(De)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),C.T=ee}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(k){return C.H.use(k)},xe.useActionState=function(k,ee,ce){return C.H.useActionState(k,ee,ce)},xe.useCallback=function(k,ee){return C.H.useCallback(k,ee)},xe.useContext=function(k){return C.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,ee){return C.H.useDeferredValue(k,ee)},xe.useEffect=function(k,ee){return C.H.useEffect(k,ee)},xe.useEffectEvent=function(k){return C.H.useEffectEvent(k)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(k,ee,ce){return C.H.useImperativeHandle(k,ee,ce)},xe.useInsertionEffect=function(k,ee){return C.H.useInsertionEffect(k,ee)},xe.useLayoutEffect=function(k,ee){return C.H.useLayoutEffect(k,ee)},xe.useMemo=function(k,ee){return C.H.useMemo(k,ee)},xe.useOptimistic=function(k,ee){return C.H.useOptimistic(k,ee)},xe.useReducer=function(k,ee,ce){return C.H.useReducer(k,ee,ce)},xe.useRef=function(k){return C.H.useRef(k)},xe.useState=function(k){return C.H.useState(k)},xe.useSyncExternalStore=function(k,ee,ce){return C.H.useSyncExternalStore(k,ee,ce)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.3",xe}var BE;function ky(){return BE||(BE=1,Zp.exports=xI()),Zp.exports}var O=ky(),eg={exports:{}},Ou={},tg={exports:{}},ng={};var zE;function RI(){return zE||(zE=1,(function(t){function e(j,J){var oe=j.length;j.push(J);e:for(;0<oe;){var pe=oe-1>>>1,_e=j[pe];if(0<a(_e,J))j[pe]=J,j[oe]=_e,oe=pe;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var J=j[0],oe=j.pop();if(oe!==J){j[0]=oe;e:for(var pe=0,_e=j.length,k=_e>>>1;pe<k;){var ee=2*(pe+1)-1,ce=j[ee],fe=ee+1,Se=j[fe];if(0>a(ce,oe))fe<_e&&0>a(Se,ce)?(j[pe]=Se,j[fe]=oe,pe=fe):(j[pe]=ce,j[ee]=oe,pe=ee);else if(fe<_e&&0>a(Se,oe))j[pe]=Se,j[fe]=oe,pe=fe;else break e}}return J}function a(j,J){var oe=j.sortIndex-J.sortIndex;return oe!==0?oe:j.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,b=3,R=!1,D=!1,B=!1,P=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function re(j){for(var J=n(p);J!==null;){if(J.callback===null)s(p);else if(J.startTime<=j)s(p),J.sortIndex=J.expirationTime,e(m,J);else break;J=n(p)}}function ae(j){if(B=!1,re(j),!D)if(n(m)!==null)D=!0,le||(le=!0,F());else{var J=n(p);J!==null&&st(ae,J.startTime-j)}}var le=!1,C=-1,x=5,I=-1;function L(){return P?!0:!(t.unstable_now()-I<x)}function V(){if(P=!1,le){var j=t.unstable_now();I=j;var J=!0;try{e:{D=!1,B&&(B=!1,$(C),C=-1),R=!0;var oe=b;try{t:{for(re(j),_=n(m);_!==null&&!(_.expirationTime>j&&L());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,b=_.priorityLevel;var _e=pe(_.expirationTime<=j);if(j=t.unstable_now(),typeof _e=="function"){_.callback=_e,re(j),J=!0;break t}_===n(m)&&s(m),re(j)}else s(m);_=n(m)}if(_!==null)J=!0;else{var k=n(p);k!==null&&st(ae,k.startTime-j),J=!1}}break e}finally{_=null,b=oe,R=!1}J=void 0}}finally{J?F():le=!1}}}var F;if(typeof G=="function")F=function(){G(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ye=N.port2;N.port1.onmessage=V,F=function(){Ye.postMessage(null)}}else F=function(){q(V,0)};function st(j,J){C=q(function(){j(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(j){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var oe=b;b=J;try{return j()}finally{b=oe}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(j,J){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var oe=b;b=j;try{return J()}finally{b=oe}},t.unstable_scheduleCallback=function(j,J,oe){var pe=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?pe+oe:pe):oe=pe,j){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=oe+_e,j={id:y++,callback:J,priorityLevel:j,startTime:oe,expirationTime:_e,sortIndex:-1},oe>pe?(j.sortIndex=oe,e(p,j),n(m)===null&&j===n(p)&&(B?($(C),C=-1):B=!0,st(ae,oe-pe))):(j.sortIndex=_e,e(m,j),D||R||(D=!0,le||(le=!0,F()))),j},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(j){var J=b;return function(){var oe=b;b=J;try{return j.apply(this,arguments)}finally{b=oe}}}})(ng)),ng}var FE;function CI(){return FE||(FE=1,tg.exports=RI()),tg.exports}var ig={exports:{}},an={};var qE;function II(){if(qE)return an;qE=1;var t=ky();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.3",an}var HE;function DI(){if(HE)return ig.exports;HE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=II(),ig.exports}var GE;function NI(){if(GE)return Ou;GE=1;var t=CI(),e=ky(),n=DI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,w=d.child;w;){if(w===o){T=!0,o=d,u=g;break}if(w===u){T=!0,u=d,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=d;break}if(w===u){T=!0,u=g,o=d;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),G=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case q:return"Profiler";case P:return"StrictMode";case ae:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case G:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case re:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Ye(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return Ye(i(r))}catch{}}return null}var st=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},pe=[],_e=-1;function k(i){return{current:i}}function ee(i){0>_e||(i.current=pe[_e],pe[_e]=null,_e--)}function ce(i,r){_e++,pe[_e]=i.current,i.current=r}var fe=k(null),Se=k(null),De=k(null),Be=k(null);function Ut(i,r){switch(ce(De,r),ce(Se,i),ce(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?aE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=aE(r),i=oE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(fe),ce(fe,i)}function lt(){ee(fe),ee(Se),ee(De)}function Jr(i){i.memoizedState!==null&&ce(Be,i);var r=fe.current,o=oE(r,i.type);r!==o&&(ce(Se,i),ce(fe,o))}function Wa(i){Se.current===i&&(ee(fe),ee(Se)),Be.current===i&&(ee(Be),Cu._currentValue=oe)}var Ja,Za;function Ri(i){if(Ja===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ja=r&&r[1]||"",Za=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+i+Za}var Cl=!1;function Zr(i,r){if(!i||Cl)return"";Cl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var Q=W}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(W){Q=W}i.call(ne.prototype)}}else{try{throw Error()}catch(W){Q=W}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var M=T.split(`
`),K=w.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===K.length)for(u=M.length-1,d=K.length-1;1<=u&&0<=d&&M[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==K[d]){var Z=`
`+M[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Cl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ri(o):""}function Il(i,r){switch(i.tag){case 26:case 27:case 5:return Ri(i.type);case 16:return Ri("Lazy");case 13:return i.child!==r&&r!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return Zr(i.type,!1);case 11:return Zr(i.type.render,!1);case 1:return Zr(i.type,!0);case 31:return Ri("Activity");default:return""}}function Dl(i){try{var r="",o=null;do r+=Il(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var At=Object.prototype.hasOwnProperty,jt=t.unstable_scheduleCallback,Bs=t.unstable_cancelCallback,em=t.unstable_shouldYield,Uc=t.unstable_requestPaint,fn=t.unstable_now,ea=t.unstable_getCurrentPriorityLevel,Nl=t.unstable_ImmediatePriority,Ml=t.unstable_UserBlockingPriority,zs=t.unstable_NormalPriority,tm=t.unstable_LowPriority,jc=t.unstable_IdlePriority,Bc=t.log,zc=t.unstable_setDisableYieldValue,ai=null,Xt=null;function Bn(i){if(typeof Bc=="function"&&zc(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ai,i)}catch{}}var Tt=Math.clz32?Math.clz32:qc,Fc=Math.log,eo=Math.LN2;function qc(i){return i>>>=0,i===0?32:31-(Fc(i)/eo|0)|0}var Ci=256,ta=262144,xt=4194304;function Ii(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=Ii(u):(T&=w,T!==0?d=Ii(T):o||(o=w&~i,o!==0&&(d=Ii(o))))):(w=u&~g,w!==0?d=Ii(w):T!==0?d=Ii(T):o||(o=u&~i,o!==0&&(d=Ii(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function oi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function nm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var i=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),i}function Ni(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function na(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function im(i,r,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,M=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-Tt(o),ne=1<<Z;w[Z]=0,M[Z]=-1;var Q=K[Z];if(Q!==null)for(K[Z]=null,Z=0;Z<Q.length;Z++){var W=Q[Z];W!==null&&(W.lane&=-536870913)}o&=~ne}u!==0&&ia(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function ia(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Tt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Ol(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Tt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Pl(i,r){var o=r&-r;return o=(o&42)!==0?1:sa(o),(o&(i.suspendedLanes|r))!==0?0:o}function sa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ls(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gc(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:DE(i.type))}function li(i,r){var o=J.p;try{return J.p=i,r()}finally{J.p=o}}var ui=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ui,Ht="__reactProps$"+ui,Mi="__reactContainer$"+ui,to="__reactEvents$"+ui,sm="__reactListeners$"+ui,Yc="__reactHandles$"+ui,Kc="__reactResources$"+ui,Oi="__reactMarker$"+ui;function no(i){delete i[Rt],delete i[Ht],delete i[to],delete i[sm],delete i[Yc]}function Pi(i){var r=i[Rt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Mi]||o[Rt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=mE(i);i!==null;){if(o=i[Rt])return o;i=mE(i)}return r}i=o,o=i.parentNode}return null}function zn(i){if(i=i[Rt]||i[Mi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Rn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[Kc];return r||(r=i[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[Oi]=!0}var Vl=new Set,kl={};function ki(i,r){Li(i,r),Li(i+"Capture",r)}function Li(i,r){for(kl[i]=r,i=0;i<r.length;i++)Vl.add(r[i])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},jl={};function $c(i){return At.call(jl,i)?!0:At.call(Ul,i)?!1:Ll.test(i)?jl[i]=!0:(Ul[i]=!0,!1)}function io(i,r,o){if($c(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Cn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function It(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $e(i){if(!i._valueTracker){var r=Fs(i)?"checked":"value";i._valueTracker=Bl(i,r,""+i[r])}}function ra(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Fs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var aa=/[\n"\\]/g;function gn(i){return i.replace(aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function so(i,r,o,u,d,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Gt(r)):i.value!==""+Gt(r)&&(i.value=""+Gt(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?zl(i,T,Gt(r)):o!=null?zl(i,T,Gt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Gt(w):i.removeAttribute("name")}function Qc(i,r,o,u,d,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){$e(i);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),$e(i)}function zl(i,r,o){r==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function qs(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xc(i,r,o){if(r!=null&&(r=""+Gt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Gt(o):""}function Hs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(st(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Gt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),$e(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Wc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ql(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Fl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Fl(i,g,r[g])}function ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(i){return Gs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ci(){}var Hl=null;function Fn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,ji=null;function oa(i){var r=zn(i);if(r&&(i=r.stateNode)){var o=i[Ht]||null;e:switch(i=r.stateNode,r.type){case"input":if(so(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Ht]||null;if(!d)throw Error(s(90));so(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ra(u)}break e;case"textarea":Xc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&qs(i,!!o.multiple,r,!1)}}}var oo=!1;function Ks(i,r,o){if(oo)return i(r,o);oo=!0;try{var u=i(r);return u}finally{if(oo=!1,(Ys!==null||ji!==null)&&(Gh(),Ys&&(r=Ys,i=ji,ji=Ys=null,oa(r),i)))for(r=0;r<i.length;r++)oa(i[r])}}function hi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(qn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){la=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{la=!1}var Bi=null,Gl=null,ua=null;function Yl(){if(ua)return ua;var i,r=Gl,o=r.length,u,d="value"in Bi?Bi.value:Bi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[g-u];u++);return ua=d.slice(i,1<u?1-u:void 0)}function ca(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function us(){return!0}function fi(){return!1}function Wt(i){function r(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?us:fi,this.isPropagationStopped=fi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),r}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Wt(cs),$s=_({},cs,{view:0,detail:0}),Kl=Wt($s),Qs,lo,Fi,uo=_({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(Qs=i.screenX-Fi.screenX,lo=i.screenY-Fi.screenY):lo=Qs=0,Fi=i),Qs)},movementY:function(i){return"movementY"in i?i.movementY:lo}}),$l=Wt(uo),ha=_({},uo,{dataTransfer:0}),Zc=Wt(ha),eh=_({},$s,{relatedTarget:0}),fa=Wt(eh),Ql=_({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),th=Wt(Ql),co=_({},cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nh=Wt(co),ih=_({},cs,{data:0}),qi=Wt(ih),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ah[i])?!!r[i]:!1}function Xs(){return oh}var dn=_({},$s,{key:function(i){if(i.key){var r=sh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lh=Wt(dn),uh=_({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=Wt(uh),h=_({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),v=Wt(h),E=_({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Wt(E),H=_({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Wt(H),ue=_({},cs,{newState:0,oldState:0}),Ce=Wt(ue),Et=[9,13,27,32],He=qn&&"CompositionEvent"in window,ut=null;qn&&"documentMode"in document&&(ut=document.documentMode);var Hn=qn&&"TextEvent"in window&&!ut,Hi=qn&&(!He||ut&&8<ut&&11>=ut),di=" ",mi=!1;function da(i,r){switch(i){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function $C(i,r){switch(i){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(mi=!0,di);case"textInput":return i=r.data,i===di&&mi?null:i;default:return null}}function QC(i,r){if(fo)return i==="compositionend"||!He&&da(i,r)?(i=Yl(),ua=Gl=Bi=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!XC[i.type]:r==="textarea"}function v_(i,r,o,u){Ys?ji?ji.push(u):ji=[u]:Ys=u,r=Jh(r,"onChange"),0<r.length&&(o=new zi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Xl=null,Wl=null;function WC(i){eE(i,0)}function ch(i){var r=Rn(i);if(ra(r))return i}function __(i,r){if(i==="change")return r}var T_=!1;if(qn){var rm;if(qn){var am="oninput"in document;if(!am){var E_=document.createElement("div");E_.setAttribute("oninput","return;"),am=typeof E_.oninput=="function"}rm=am}else rm=!1;T_=rm&&(!document.documentMode||9<document.documentMode)}function b_(){Xl&&(Xl.detachEvent("onpropertychange",w_),Wl=Xl=null)}function w_(i){if(i.propertyName==="value"&&ch(Wl)){var r=[];v_(r,Wl,i,Fn(i)),Ks(WC,r)}}function JC(i,r,o){i==="focusin"?(b_(),Xl=r,Wl=o,Xl.attachEvent("onpropertychange",w_)):i==="focusout"&&b_()}function ZC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ch(Wl)}function e2(i,r){if(i==="click")return ch(r)}function t2(i,r){if(i==="input"||i==="change")return ch(r)}function n2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var In=typeof Object.is=="function"?Object.is:n2;function Jl(i,r){if(In(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!At.call(r,d)||!In(i[d],r[d]))return!1}return!0}function S_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function A_(i,r){var o=S_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=S_(o)}}function x_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?x_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function R_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ui(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ui(i.document)}return r}function om(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var i2=qn&&"documentMode"in document&&11>=document.documentMode,mo=null,lm=null,Zl=null,um=!1;function C_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;um||mo==null||mo!==Ui(u)||(u=mo,"selectionStart"in u&&om(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Jl(Zl,u)||(Zl=u,u=Jh(lm,"onSelect"),0<u.length&&(r=new zi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=mo)))}function ma(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var po={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},cm={},I_={};qn&&(I_=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function pa(i){if(cm[i])return cm[i];if(!po[i])return i;var r=po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in I_)return cm[i]=r[o];return i}var D_=pa("animationend"),N_=pa("animationiteration"),M_=pa("animationstart"),s2=pa("transitionrun"),r2=pa("transitionstart"),a2=pa("transitioncancel"),O_=pa("transitionend"),P_=new Map,hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hm.push("scrollEnd");function pi(i,r){P_.set(i,r),ki(r,[i])}var hh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Gn=[],go=0,fm=0;function fh(){for(var i=go,r=fm=go=0;r<i;){var o=Gn[r];Gn[r++]=null;var u=Gn[r];Gn[r++]=null;var d=Gn[r];Gn[r++]=null;var g=Gn[r];if(Gn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&V_(o,d,g)}}function dh(i,r,o,u){Gn[go++]=i,Gn[go++]=r,Gn[go++]=o,Gn[go++]=u,fm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function dm(i,r,o,u){return dh(i,r,o,u),mh(i)}function ga(i,r){return dh(i,null,null,r),mh(i)}function V_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Tt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function mh(i){if(50<Eu)throw Eu=0,bp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yo={};function o2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,u){return new o2(i,r,o,u)}function mm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function k_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ph(i,r,o,u,d,g){var T=0;if(u=i,typeof i=="function")mm(i)&&(T=1);else if(typeof i=="string")T=fI(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Dn(31,o,r,d),i.elementType=I,i.lanes=g,i;case B:return ya(o.children,d,g,r);case P:T=8,d|=24;break;case q:return i=Dn(12,o,r,d|2),i.elementType=q,i.lanes=g,i;case ae:return i=Dn(13,o,r,d),i.elementType=ae,i.lanes=g,i;case le:return i=Dn(19,o,r,d),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:T=10;break e;case $:T=9;break e;case re:T=11;break e;case C:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Dn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function ya(i,r,o,u){return i=Dn(7,i,u,r),i.lanes=o,i}function pm(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function L_(i){var r=Dn(18,null,null,0);return r.stateNode=i,r}function gm(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var U_=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var o=U_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Dl(r)},U_.set(i,r),r)}return{value:i,source:r,stack:Dl(r)}}var vo=[],_o=0,gh=null,eu=0,Kn=[],$n=0,Ws=null,Gi=1,Yi="";function ds(i,r){vo[_o++]=eu,vo[_o++]=gh,gh=i,eu=r}function j_(i,r,o){Kn[$n++]=Gi,Kn[$n++]=Yi,Kn[$n++]=Ws,Ws=i;var u=Gi;i=Yi;var d=32-Tt(u)-1;u&=~(1<<d),o+=1;var g=32-Tt(r)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Gi=1<<32-Tt(r)+d|o<<d|u,Yi=g+i}else Gi=1<<g|o<<d|u,Yi=i}function ym(i){i.return!==null&&(ds(i,1),j_(i,1,0))}function vm(i){for(;i===gh;)gh=vo[--_o],vo[_o]=null,eu=vo[--_o],vo[_o]=null;for(;i===Ws;)Ws=Kn[--$n],Kn[$n]=null,Yi=Kn[--$n],Kn[$n]=null,Gi=Kn[--$n],Kn[$n]=null}function B_(i,r){Kn[$n++]=Gi,Kn[$n++]=Yi,Kn[$n++]=Ws,Gi=r.id,Yi=r.overflow,Ws=i}var Jt=null,at=null,je=!1,Js=null,Qn=!1,_m=Error(s(519));function Zs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tu(Yn(r,i)),_m}function z_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Rt]=i,r[Ht]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<wu.length;o++)Oe(wu[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Qc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Hs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||sE(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=ci),r=!0):r=!1,r||Zs(i,!0)}function F_(i){for(Jt=i.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Jt=Jt.return}}function To(i){if(i!==Jt)return!1;if(!je)return F_(i),je=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Lp(i.type,i.memoizedProps)),o=!o),o&&at&&Zs(i),F_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=dE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=dE(i)}else r===27?(r=at,dr(i.type)?(i=Fp,Fp=null,at=i):at=r):at=Jt?Wn(i.stateNode.nextSibling):null;return!0}function va(){at=Jt=null,je=!1}function Tm(){var i=Js;return i!==null&&(En===null?En=i:En.push.apply(En,i),Js=null),i}function tu(i){Js===null?Js=[i]:Js.push(i)}var Em=k(null),_a=null,ms=null;function er(i,r,o){ce(Em,r._currentValue),r._currentValue=o}function ps(i){i._currentValue=Em.current,ee(Em)}function bm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function wm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=d;for(var M=0;M<r.length;M++)if(w.context===r[M]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),bm(g.return,o,i),u||(T=null);break e}g=w.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),bm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Eo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=d.type;In(d.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(d===Be.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Cu):i=[Cu])}d=d.return}i!==null&&wm(r,i,o,u),r.flags|=262144}function yh(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){_a=i,ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return q_(_a,i)}function vh(i,r){return _a===null&&Ta(i),q_(i,r)}function q_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ms===null){if(i===null)throw Error(s(308));ms=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ms=ms.next=r;return o}var l2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},u2=t.unstable_scheduleCallback,c2=t.unstable_NormalPriority,Dt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new l2,data:new Map,refCount:0}}function nu(i){i.refCount--,i.refCount===0&&u2(c2,function(){i.controller.abort()})}var iu=null,Am=0,bo=0,wo=null;function h2(i,r){if(iu===null){var o=iu=[];Am=0,bo=Cp(),wo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Am++,r.then(H_,H_),r}function H_(){if(--Am===0&&iu!==null){wo!==null&&(wo.status="fulfilled");var i=iu;iu=null,bo=0,wo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function f2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var G_=j.S;j.S=function(i,r){CT=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&h2(i,r),G_!==null&&G_(i,r)};var Ea=k(null);function xm(){var i=Ea.current;return i!==null?i:it.pooledCache}function _h(i,r){r===null?ce(Ea,Ea.current):ce(Ea,r.pool)}function Y_(){var i=xm();return i===null?null:{parent:Dt._currentValue,pool:i}}var So=Error(s(460)),Rm=Error(s(474)),Th=Error(s(542)),Eh={then:function(){}};function K_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ci,ci),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,X_(i),i;default:if(typeof r.status=="string")r.then(ci,ci);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,X_(i),i}throw wa=r,So}}function ba(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wa=o,So):o}}var wa=null;function Q_(){if(wa===null)throw Error(s(459));var i=wa;return wa=null,i}function X_(i){if(i===So||i===Th)throw Error(s(483))}var Ao=null,su=0;function bh(i){var r=su;return su+=1,Ao===null&&(Ao=[]),$_(Ao,i,r)}function ru(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function wh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function W_(i){function r(z,U){if(i){var Y=z.deletions;Y===null?(z.deletions=[U],z.flags|=16):Y.push(U)}}function o(z,U){if(!i)return null;for(;U!==null;)r(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function d(z,U){return z=fs(z,U),z.index=0,z.sibling=null,z}function g(z,U,Y){return z.index=Y,i?(Y=z.alternate,Y!==null?(Y=Y.index,Y<U?(z.flags|=67108866,U):Y):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function T(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function w(z,U,Y,te){return U===null||U.tag!==6?(U=pm(Y,z.mode,te),U.return=z,U):(U=d(U,Y),U.return=z,U)}function M(z,U,Y,te){var ve=Y.type;return ve===B?Z(z,U,Y.props.children,te,Y.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&ba(ve)===U.type)?(U=d(U,Y.props),ru(U,Y),U.return=z,U):(U=ph(Y.type,Y.key,Y.props,null,z.mode,te),ru(U,Y),U.return=z,U)}function K(z,U,Y,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=gm(Y,z.mode,te),U.return=z,U):(U=d(U,Y.children||[]),U.return=z,U)}function Z(z,U,Y,te,ve){return U===null||U.tag!==7?(U=ya(Y,z.mode,te,ve),U.return=z,U):(U=d(U,Y),U.return=z,U)}function ne(z,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=pm(""+U,z.mode,Y),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return Y=ph(U.type,U.key,U.props,null,z.mode,Y),ru(Y,U),Y.return=z,Y;case D:return U=gm(U,z.mode,Y),U.return=z,U;case x:return U=ba(U),ne(z,U,Y)}if(st(U)||F(U))return U=ya(U,z.mode,Y,null),U.return=z,U;if(typeof U.then=="function")return ne(z,bh(U),Y);if(U.$$typeof===G)return ne(z,vh(z,U),Y);wh(z,U)}return null}function Q(z,U,Y,te){var ve=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:w(z,U,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return Y.key===ve?M(z,U,Y,te):null;case D:return Y.key===ve?K(z,U,Y,te):null;case x:return Y=ba(Y),Q(z,U,Y,te)}if(st(Y)||F(Y))return ve!==null?null:Z(z,U,Y,te,null);if(typeof Y.then=="function")return Q(z,U,bh(Y),te);if(Y.$$typeof===G)return Q(z,U,vh(z,Y),te);wh(z,Y)}return null}function W(z,U,Y,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(Y)||null,w(U,z,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return z=z.get(te.key===null?Y:te.key)||null,M(U,z,te,ve);case D:return z=z.get(te.key===null?Y:te.key)||null,K(U,z,te,ve);case x:return te=ba(te),W(z,U,Y,te,ve)}if(st(te)||F(te))return z=z.get(Y)||null,Z(U,z,te,ve,null);if(typeof te.then=="function")return W(z,U,Y,bh(te),ve);if(te.$$typeof===G)return W(z,U,Y,vh(U,te),ve);wh(U,te)}return null}function me(z,U,Y,te){for(var ve=null,Fe=null,ge=U,Ne=U=0,Ve=null;ge!==null&&Ne<Y.length;Ne++){ge.index>Ne?(Ve=ge,ge=null):Ve=ge.sibling;var qe=Q(z,ge,Y[Ne],te);if(qe===null){ge===null&&(ge=Ve);break}i&&ge&&qe.alternate===null&&r(z,ge),U=g(qe,U,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe,ge=Ve}if(Ne===Y.length)return o(z,ge),je&&ds(z,Ne),ve;if(ge===null){for(;Ne<Y.length;Ne++)ge=ne(z,Y[Ne],te),ge!==null&&(U=g(ge,U,Ne),Fe===null?ve=ge:Fe.sibling=ge,Fe=ge);return je&&ds(z,Ne),ve}for(ge=u(ge);Ne<Y.length;Ne++)Ve=W(ge,z,Ne,Y[Ne],te),Ve!==null&&(i&&Ve.alternate!==null&&ge.delete(Ve.key===null?Ne:Ve.key),U=g(Ve,U,Ne),Fe===null?ve=Ve:Fe.sibling=Ve,Fe=Ve);return i&&ge.forEach(function(vr){return r(z,vr)}),je&&ds(z,Ne),ve}function Te(z,U,Y,te){if(Y==null)throw Error(s(151));for(var ve=null,Fe=null,ge=U,Ne=U=0,Ve=null,qe=Y.next();ge!==null&&!qe.done;Ne++,qe=Y.next()){ge.index>Ne?(Ve=ge,ge=null):Ve=ge.sibling;var vr=Q(z,ge,qe.value,te);if(vr===null){ge===null&&(ge=Ve);break}i&&ge&&vr.alternate===null&&r(z,ge),U=g(vr,U,Ne),Fe===null?ve=vr:Fe.sibling=vr,Fe=vr,ge=Ve}if(qe.done)return o(z,ge),je&&ds(z,Ne),ve;if(ge===null){for(;!qe.done;Ne++,qe=Y.next())qe=ne(z,qe.value,te),qe!==null&&(U=g(qe,U,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe);return je&&ds(z,Ne),ve}for(ge=u(ge);!qe.done;Ne++,qe=Y.next())qe=W(ge,z,Ne,qe.value,te),qe!==null&&(i&&qe.alternate!==null&&ge.delete(qe.key===null?Ne:qe.key),U=g(qe,U,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe);return i&&ge.forEach(function(wI){return r(z,wI)}),je&&ds(z,Ne),ve}function nt(z,U,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===B&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:e:{for(var ve=Y.key;U!==null;){if(U.key===ve){if(ve=Y.type,ve===B){if(U.tag===7){o(z,U.sibling),te=d(U,Y.props.children),te.return=z,z=te;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&ba(ve)===U.type){o(z,U.sibling),te=d(U,Y.props),ru(te,Y),te.return=z,z=te;break e}o(z,U);break}else r(z,U);U=U.sibling}Y.type===B?(te=ya(Y.props.children,z.mode,te,Y.key),te.return=z,z=te):(te=ph(Y.type,Y.key,Y.props,null,z.mode,te),ru(te,Y),te.return=z,z=te)}return T(z);case D:e:{for(ve=Y.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o(z,U.sibling),te=d(U,Y.children||[]),te.return=z,z=te;break e}else{o(z,U);break}else r(z,U);U=U.sibling}te=gm(Y,z.mode,te),te.return=z,z=te}return T(z);case x:return Y=ba(Y),nt(z,U,Y,te)}if(st(Y))return me(z,U,Y,te);if(F(Y)){if(ve=F(Y),typeof ve!="function")throw Error(s(150));return Y=ve.call(Y),Te(z,U,Y,te)}if(typeof Y.then=="function")return nt(z,U,bh(Y),te);if(Y.$$typeof===G)return nt(z,U,vh(z,Y),te);wh(z,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o(z,U.sibling),te=d(U,Y),te.return=z,z=te):(o(z,U),te=pm(Y,z.mode,te),te.return=z,z=te),T(z)):o(z,U)}return function(z,U,Y,te){try{su=0;var ve=nt(z,U,Y,te);return Ao=null,ve}catch(ge){if(ge===So||ge===Th)throw ge;var Fe=Dn(29,ge,null,z.mode);return Fe.lanes=te,Fe.return=z,Fe}}}var Sa=W_(!0),J_=W_(!1),tr=!1;function Cm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function nr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ir(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ge&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=mh(i),V_(i,null,o),r}return dh(i,u,r,o),mh(i)}function au(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ol(i,o)}}function Dm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Nm=!1;function ou(){if(Nm){var i=wo;if(i!==null)throw i}}function lu(i,r,o,u){Nm=!1;var d=i.updateQueue;tr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var M=w,K=M.next;M.next=null,T===null?g=K:T.next=K,T=M;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=K:w.next=K,Z.lastBaseUpdate=M))}if(g!==null){var ne=d.baseState;T=0,Z=K=M=null,w=g;do{var Q=w.lane&-536870913,W=Q!==w.lane;if(W?(Pe&Q)===Q:(u&Q)===Q){Q!==0&&Q===bo&&(Nm=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=i,Te=w;Q=r;var nt=o;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){ne=me.call(nt,ne,Q);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,Q=typeof me=="function"?me.call(nt,ne,Q):me,Q==null)break e;ne=_({},ne,Q);break e;case 2:tr=!0}}Q=w.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(K=Z=W,M=ne):Z=Z.next=W,T|=Q;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;W=w,w=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(M=ne),d.baseState=M,d.firstBaseUpdate=K,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),lr|=T,i.lanes=T,i.memoizedState=ne}}function Z_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function e0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Z_(o[i],r)}var xo=k(null),Sh=k(0);function t0(i,r){i=Ss,ce(Sh,i),ce(xo,r),Ss=i|r.baseLanes}function Mm(){ce(Sh,Ss),ce(xo,xo.current)}function Om(){Ss=Sh.current,ee(xo),ee(Sh)}var Nn=k(null),Xn=null;function sr(i){var r=i.alternate;ce(bt,bt.current&1),ce(Nn,i),Xn===null&&(r===null||xo.current!==null||r.memoizedState!==null)&&(Xn=i)}function Pm(i){ce(bt,bt.current),ce(Nn,i),Xn===null&&(Xn=i)}function n0(i){i.tag===22?(ce(bt,bt.current),ce(Nn,i),Xn===null&&(Xn=i)):rr()}function rr(){ce(bt,bt.current),ce(Nn,Nn.current)}function Mn(i){ee(Nn),Xn===i&&(Xn=null),ee(bt)}var bt=k(0);function Ah(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Bp(o)||zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gs=0,Ie=null,et=null,Nt=null,xh=!1,Ro=!1,Aa=!1,Rh=0,uu=0,Co=null,d2=0;function yt(){throw Error(s(321))}function Vm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!In(i[o],r[o]))return!1;return!0}function km(i,r,o,u,d,g){return gs=g,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,j.H=i===null||i.memoizedState===null?j0:Wm,Aa=!1,g=o(u,d),Aa=!1,Ro&&(g=s0(r,o,u,d)),i0(i),g}function i0(i){j.H=fu;var r=et!==null&&et.next!==null;if(gs=0,Nt=et=Ie=null,xh=!1,uu=0,Co=null,r)throw Error(s(300));i===null||Mt||(i=i.dependencies,i!==null&&yh(i)&&(Mt=!0))}function s0(i,r,o,u){Ie=i;var d=0;do{if(Ro&&(Co=null),uu=0,Ro=!1,25<=d)throw Error(s(301));if(d+=1,Nt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}j.H=B0,g=r(o,u)}while(Ro);return g}function m2(){var i=j.H,r=i.useState()[0];return r=typeof r.then=="function"?cu(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ie.flags|=1024),r}function Lm(){var i=Rh!==0;return Rh=0,i}function Um(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function jm(i){if(xh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xh=!1}gs=0,Nt=et=Ie=null,Ro=!1,uu=Rh=0,Co=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ie.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function wt(){if(et===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Nt===null?Ie.memoizedState:Nt.next;if(r!==null)Nt=r,et=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Nt===null?Ie.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(i){var r=uu;return uu+=1,Co===null&&(Co=[]),i=$_(Co,i,r),r=Ie,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,j.H=r===null||r.memoizedState===null?j0:Wm),i}function Ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cu(i);if(i.$$typeof===G)return Zt(i)}throw Error(s(438,String(i)))}function Bm(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ch(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function ys(i,r){return typeof r=="function"?r(i):r}function Dh(i){var r=wt();return zm(r,et,i)}function zm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var w=T=null,M=null,K=r,Z=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Pe&ne)===ne:(gs&ne)===ne){var Q=K.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===bo&&(Z=!0);else if((gs&Q)===Q){K=K.next,Q===bo&&(Z=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(w=M=ne,T=g):M=M.next=ne,Ie.lanes|=Q,lr|=Q;ne=K.action,Aa&&o(g,ne),g=K.hasEagerState?K.eagerState:o(g,ne)}else Q={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(w=M=Q,T=g):M=M.next=Q,Ie.lanes|=ne,lr|=ne;K=K.next}while(K!==null&&K!==r);if(M===null?T=g:M.next=w,!In(g,i.memoizedState)&&(Mt=!0,Z&&(o=wo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=M,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Fm(i){var r=wt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);In(g,r.memoizedState)||(Mt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function r0(i,r,o){var u=Ie,d=wt(),g=je;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!In((et||d).memoizedState,o);if(T&&(d.memoizedState=o,Mt=!0),d=d.queue,Gm(l0.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,Io(9,{destroy:void 0},o0.bind(null,u,d,o,r),null),it===null)throw Error(s(349));g||(gs&127)!==0||a0(u,r,o)}return o}function a0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=Ch(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function o0(i,r,o,u){r.value=o,r.getSnapshot=u,u0(r)&&c0(i)}function l0(i,r,o){return o(function(){u0(r)&&c0(i)})}function u0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!In(i,o)}catch{return!0}}function c0(i){var r=ga(i,2);r!==null&&bn(r,i,2)}function qm(i){var r=mn();if(typeof i=="function"){var o=i;if(i=o(),Aa){Bn(!0);try{o()}finally{Bn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},r}function h0(i,r,o,u){return i.baseState=o,zm(i,et,typeof u=="function"?u:ys)}function p2(i,r,o,u,d){if(Oh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};j.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,f0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function f0(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=j.T,T={};j.T=T;try{var w=o(d,u),M=j.S;M!==null&&M(T,w),d0(i,r,w)}catch(K){Hm(i,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),j.T=g}}else try{g=o(d,u),d0(i,r,g)}catch(K){Hm(i,r,K)}}function d0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){m0(i,r,u)},function(u){return Hm(i,r,u)}):m0(i,r,o)}function m0(i,r,o){r.status="fulfilled",r.value=o,p0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,f0(i,o)))}function Hm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,p0(r),r=r.next;while(r!==u)}i.action=null}function p0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function g0(i,r){return r}function y0(i,r){if(je){var o=it.formState;if(o!==null){e:{var u=Ie;if(je){if(at){t:{for(var d=at,g=Qn;d.nodeType!==8;){if(!g){d=null;break t}if(d=Wn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){at=Wn(d.nextSibling),u=d.data==="F!";break e}}Zs(u)}u=!1}u&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g0,lastRenderedState:r},o.queue=u,o=k0.bind(null,Ie,u),u.dispatch=o,u=qm(!1),g=Xm.bind(null,Ie,!1,u.queue),u=mn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=p2.bind(null,Ie,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function v0(i){var r=wt();return _0(r,et,i)}function _0(i,r,o){if(r=zm(i,r,g0)[0],i=Dh(ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=cu(r)}catch(T){throw T===So?Th:T}else u=r;r=wt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,Io(9,{destroy:void 0},g2.bind(null,d,o),null)),[u,g,i]}function g2(i,r){i.action=r}function T0(i){var r=wt(),o=et;if(o!==null)return _0(r,o,i);wt(),r=r.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Io(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Ch(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function E0(){return wt().memoizedState}function Nh(i,r,o,u){var d=mn();Ie.flags|=i,d.memoizedState=Io(1|r,{destroy:void 0},o,u===void 0?null:u)}function Mh(i,r,o,u){var d=wt();u=u===void 0?null:u;var g=d.memoizedState.inst;et!==null&&u!==null&&Vm(u,et.memoizedState.deps)?d.memoizedState=Io(r,g,o,u):(Ie.flags|=i,d.memoizedState=Io(1|r,g,o,u))}function b0(i,r){Nh(8390656,8,i,r)}function Gm(i,r){Mh(2048,8,i,r)}function y2(i){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Ch(),Ie.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function w0(i){var r=wt().memoizedState;return y2({ref:r,nextImpl:i}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function S0(i,r){return Mh(4,2,i,r)}function A0(i,r){return Mh(4,4,i,r)}function x0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function R0(i,r,o){o=o!=null?o.concat([i]):null,Mh(4,4,x0.bind(null,r,i),o)}function Ym(){}function C0(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Vm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function I0(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Vm(r,u[1]))return u[0];if(u=i(),Aa){Bn(!0);try{i()}finally{Bn(!1)}}return o.memoizedState=[u,r],u}function Km(i,r,o){return o===void 0||(gs&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=DT(),Ie.lanes|=i,lr|=i,o)}function D0(i,r,o,u){return In(o,r)?o:xo.current!==null?(i=Km(i,o,u),In(i,r)||(Mt=!0),i):(gs&42)===0||(gs&1073741824)!==0&&(Pe&261930)===0?(Mt=!0,i.memoizedState=o):(i=DT(),Ie.lanes|=i,lr|=i,r)}function N0(i,r,o,u,d){var g=J.p;J.p=g!==0&&8>g?g:8;var T=j.T,w={};j.T=w,Xm(i,!1,r,o);try{var M=d(),K=j.S;if(K!==null&&K(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=f2(M,u);hu(i,r,Z,Vn(i))}else hu(i,r,u,Vn(i))}catch(ne){hu(i,r,{then:function(){},status:"rejected",reason:ne},Vn())}finally{J.p=g,T!==null&&w.types!==null&&(T.types=w.types),j.T=T}}function v2(){}function $m(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=M0(i).queue;N0(i,d,r,oe,o===null?v2:function(){return O0(i),o(u)})}function M0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:oe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function O0(i){var r=M0(i);r.next===null&&(r=i.alternate.memoizedState),hu(i,r.next.queue,{},Vn())}function Qm(){return Zt(Cu)}function P0(){return wt().memoizedState}function V0(){return wt().memoizedState}function _2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();i=nr(o);var u=ir(r,i,o);u!==null&&(bn(u,r,o),au(u,r,o)),r={cache:Sm()},i.payload=r;return}r=r.return}}function T2(i,r,o){var u=Vn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(i)?L0(r,o):(o=dm(i,r,o,u),o!==null&&(bn(o,i,u),U0(o,r,u)))}function k0(i,r,o){var u=Vn();hu(i,r,o,u)}function hu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(i))L0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,o);if(d.hasEagerState=!0,d.eagerState=w,In(w,T))return dh(i,r,d,0),it===null&&fh(),!1}catch{}if(o=dm(i,r,d,u),o!==null)return bn(o,i,u),U0(o,r,u),!0}return!1}function Xm(i,r,o,u){if(u={lane:2,revertLane:Cp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Oh(i)){if(r)throw Error(s(479))}else r=dm(i,o,u,2),r!==null&&bn(r,i,2)}function Oh(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function L0(i,r){Ro=xh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function U0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ol(i,o)}}var fu={readContext:Zt,use:Ih,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};fu.useEffectEvent=yt;var j0={readContext:Zt,use:Ih,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Zt,useEffect:b0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Nh(4194308,4,x0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Nh(4194308,4,i,r)},useInsertionEffect:function(i,r){Nh(4,2,i,r)},useMemo:function(i,r){var o=mn();r=r===void 0?null:r;var u=i();if(Aa){Bn(!0);try{i()}finally{Bn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=mn();if(o!==void 0){var d=o(r);if(Aa){Bn(!0);try{o(r)}finally{Bn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=T2.bind(null,Ie,i),[u.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=qm(i);var r=i.queue,o=k0.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Ym,useDeferredValue:function(i,r){var o=mn();return Km(o,i,r)},useTransition:function(){var i=qm(!1);return i=N0.bind(null,Ie,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ie,d=mn();if(je){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(Pe&127)!==0||a0(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,b0(l0.bind(null,u,g,i),[i]),u.flags|=2048,Io(9,{destroy:void 0},o0.bind(null,u,g,o,r),null),o},useId:function(){var i=mn(),r=it.identifierPrefix;if(je){var o=Yi,u=Gi;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=d2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Qm,useFormState:y0,useActionState:y0,useOptimistic:function(i){var r=mn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Xm.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:Bm,useCacheRefresh:function(){return mn().memoizedState=_2.bind(null,Ie)},useEffectEvent:function(i){var r=mn(),o={impl:i};return r.memoizedState=o,function(){if((Ge&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Wm={readContext:Zt,use:Ih,useCallback:C0,useContext:Zt,useEffect:Gm,useImperativeHandle:R0,useInsertionEffect:S0,useLayoutEffect:A0,useMemo:I0,useReducer:Dh,useRef:E0,useState:function(){return Dh(ys)},useDebugValue:Ym,useDeferredValue:function(i,r){var o=wt();return D0(o,et.memoizedState,i,r)},useTransition:function(){var i=Dh(ys)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:cu(i),r]},useSyncExternalStore:r0,useId:P0,useHostTransitionStatus:Qm,useFormState:v0,useActionState:v0,useOptimistic:function(i,r){var o=wt();return h0(o,et,i,r)},useMemoCache:Bm,useCacheRefresh:V0};Wm.useEffectEvent=w0;var B0={readContext:Zt,use:Ih,useCallback:C0,useContext:Zt,useEffect:Gm,useImperativeHandle:R0,useInsertionEffect:S0,useLayoutEffect:A0,useMemo:I0,useReducer:Fm,useRef:E0,useState:function(){return Fm(ys)},useDebugValue:Ym,useDeferredValue:function(i,r){var o=wt();return et===null?Km(o,i,r):D0(o,et.memoizedState,i,r)},useTransition:function(){var i=Fm(ys)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:cu(i),r]},useSyncExternalStore:r0,useId:P0,useHostTransitionStatus:Qm,useFormState:T0,useActionState:T0,useOptimistic:function(i,r){var o=wt();return et!==null?h0(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Bm,useCacheRefresh:V0};B0.useEffectEvent=w0;function Jm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Zm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Vn(),d=nr(u);d.payload=r,o!=null&&(d.callback=o),r=ir(i,d,u),r!==null&&(bn(r,i,u),au(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Vn(),d=nr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=ir(i,d,u),r!==null&&(bn(r,i,u),au(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Vn(),u=nr(o);u.tag=2,r!=null&&(u.callback=r),r=ir(i,u,o),r!==null&&(bn(r,i,o),au(r,i,o))}};function z0(i,r,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!Jl(o,u)||!Jl(d,g):!0}function F0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Zm.enqueueReplaceState(r,r.state,null)}function xa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function q0(i){hh(i)}function H0(i){console.error(i)}function G0(i){hh(i)}function Ph(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Y0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ep(i,r,o){return o=nr(o),o.tag=3,o.payload={element:null},o.callback=function(){Ph(i,r)},o}function K0(i){return i=nr(i),i.tag=3,i}function $0(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){Y0(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Y0(r,o,u),typeof d!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function E2(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Eo(r,o,d,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Xn===null?Yh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Eh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Ap(i,u,d)),!1;case 22:return o.flags|=65536,u===Eh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Ap(i,u,d)),!1}throw Error(s(435,o.tag))}return Ap(i,u,d),Yh(),!1}if(je)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==_m&&(i=Error(s(422),{cause:u}),tu(Yn(i,o)))):(u!==_m&&(r=Error(s(423),{cause:u}),tu(Yn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Yn(u,o),d=ep(i.stateNode,u,d),Dm(i,d),vt!==4&&(vt=2)),!1;var g=Error(s(520),{cause:u});if(g=Yn(g,o),Tu===null?Tu=[g]:Tu.push(g),vt!==4&&(vt=2),r===null)return!0;u=Yn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=ep(o.stateNode,u,i),Dm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ur===null||!ur.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=K0(d),$0(d,i,o,u),Dm(o,d),!1}o=o.return}while(o!==null);return!1}var tp=Error(s(461)),Mt=!1;function en(i,r,o,u){r.child=i===null?J_(r,null,o,u):Sa(r,i.child,o,u)}function Q0(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return Ta(r),u=km(i,r,o,T,g,d),w=Lm(),i!==null&&!Mt?(Um(i,r,d),vs(i,r,d)):(je&&w&&ym(r),r.flags|=1,en(i,r,u,d),r.child)}function X0(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!mm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,W0(i,r,g,u,d)):(i=ph(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!up(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Jl,o(T,u)&&i.ref===r.ref)return vs(i,r,d)}return r.flags|=1,i=fs(g,u),i.ref=r.ref,i.return=r,r.child=i}function W0(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(Jl(g,u)&&i.ref===r.ref)if(Mt=!1,r.pendingProps=u=g,up(i,d))(i.flags&131072)!==0&&(Mt=!0);else return r.lanes=i.lanes,vs(i,r,d)}return np(i,r,o,u,d)}function J0(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return Z0(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_h(r,g!==null?g.cachePool:null),g!==null?t0(r,g):Mm(),n0(r);else return u=r.lanes=536870912,Z0(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(_h(r,g.cachePool),t0(r,g),rr(),r.memoizedState=null):(i!==null&&_h(r,null),Mm(),rr());return en(i,r,d,o),r.child}function du(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Z0(i,r,o,u,d){var g=xm();return g=g===null?null:{parent:Dt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&_h(r,null),Mm(),n0(r),i!==null&&Eo(i,r,u,!0),r.childLanes=d,null}function Vh(i,r){return r=Lh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function eT(i,r,o){return Sa(r,i.child,null,o),i=Vh(r,r.pendingProps),i.flags|=2,Mn(r),r.memoizedState=null,i}function b2(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(je){if(u.mode==="hidden")return i=Vh(r,u),r.lanes=536870912,du(null,i);if(Pm(r),(i=at)?(i=fE(i,Qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ws!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=L_(i),o.return=r,r.child=o,Jt=r,at=null)):i=null,i===null)throw Zs(r);return r.lanes=536870912,null}return Vh(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Pm(r),d)if(r.flags&256)r.flags&=-257,r=eT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Mt||Eo(i,r,o,!1),d=(o&i.childLanes)!==0,Mt||d){if(u=it,u!==null&&(T=Pl(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ga(i,T),bn(u,i,T),tp;Yh(),r=eT(i,r,o)}else i=g.treeContext,at=Wn(T.nextSibling),Jt=r,je=!0,Js=null,Qn=!1,i!==null&&B_(r,i),r=Vh(r,u),r.flags|=4096;return r}return i=fs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function np(i,r,o,u,d){return Ta(r),o=km(i,r,o,u,void 0,d),u=Lm(),i!==null&&!Mt?(Um(i,r,d),vs(i,r,d)):(je&&u&&ym(r),r.flags|=1,en(i,r,o,d),r.child)}function tT(i,r,o,u,d,g){return Ta(r),r.updateQueue=null,o=s0(r,u,o,d),i0(i),u=Lm(),i!==null&&!Mt?(Um(i,r,g),vs(i,r,g)):(je&&u&&ym(r),r.flags|=1,en(i,r,o,g),r.child)}function nT(i,r,o,u,d){if(Ta(r),r.stateNode===null){var g=yo,T=o.contextType;typeof T=="object"&&T!==null&&(g=Zt(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Zm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Cm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Zt(T):yo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Jm(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Zm.enqueueReplaceState(g,g.state,null),lu(r,u,g,d),ou(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,M=xa(o,w);g.props=M;var K=g.context,Z=o.contextType;T=yo,typeof Z=="object"&&Z!==null&&(T=Zt(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==T)&&F0(r,g,u,T),tr=!1;var Q=r.memoizedState;g.state=Q,lu(r,u,g,d),ou(),K=r.memoizedState,w||Q!==K||tr?(typeof ne=="function"&&(Jm(r,o,ne,u),K=r.memoizedState),(M=tr||z0(r,o,M,u,Q,K,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=T,u=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Im(i,r),T=r.memoizedProps,Z=xa(o,T),g.props=Z,ne=r.pendingProps,Q=g.context,K=o.contextType,M=yo,typeof K=="object"&&K!==null&&(M=Zt(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ne||Q!==M)&&F0(r,g,u,M),tr=!1,Q=r.memoizedState,g.state=Q,lu(r,u,g,d),ou();var W=r.memoizedState;T!==ne||Q!==W||tr||i!==null&&i.dependencies!==null&&yh(i.dependencies)?(typeof w=="function"&&(Jm(r,o,w,u),W=r.memoizedState),(Z=tr||z0(r,o,Z,u,Q,W,M)||i!==null&&i.dependencies!==null&&yh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=M,u=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,kh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Sa(r,i.child,null,d),r.child=Sa(r,null,o,d)):en(i,r,o,d),r.memoizedState=g.state,i=r.child):i=vs(i,r,d),i}function iT(i,r,o,u){return va(),r.flags|=256,en(i,r,o,u),r.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(i){return{baseLanes:i,cachePool:Y_()}}function rp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function sT(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(bt.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(je){if(d?sr(r):rr(),(i=at)?(i=fE(i,Qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ws!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=L_(i),o.return=r,r.child=o,Jt=r,at=null)):i=null,i===null)throw Zs(r);return zp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,d?(rr(),d=r.mode,w=Lh({mode:"hidden",children:w},d),u=ya(u,d,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=sp(o),u.childLanes=rp(i,T,o),r.memoizedState=ip,du(null,u)):(sr(r),ap(r,w))}var M=i.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(g)r.flags&256?(sr(r),r.flags&=-257,r=op(i,r,o)):r.memoizedState!==null?(rr(),r.child=i.child,r.flags|=128,r=null):(rr(),w=u.fallback,d=r.mode,u=Lh({mode:"visible",children:u.children},d),w=ya(w,d,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,Sa(r,i.child,null,o),u=r.child,u.memoizedState=sp(o),u.childLanes=rp(i,T,o),r.memoizedState=ip,r=du(null,u));else if(sr(r),zp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,tu({value:u,source:null,stack:null}),r=op(i,r,o)}else if(Mt||Eo(i,r,o,!1),T=(o&i.childLanes)!==0,Mt||T){if(T=it,T!==null&&(u=Pl(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,ga(i,u),bn(T,i,u),tp;Bp(w)||Yh(),r=op(i,r,o)}else Bp(w)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,at=Wn(w.nextSibling),Jt=r,je=!0,Js=null,Qn=!1,i!==null&&B_(r,i),r=ap(r,u.children),r.flags|=4096);return r}return d?(rr(),w=u.fallback,d=r.mode,M=i.child,K=M.sibling,u=fs(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?w=fs(K,w):(w=ya(w,d,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,du(null,u),u=r.child,w=i.child.memoizedState,w===null?w=sp(o):(d=w.cachePool,d!==null?(M=Dt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Y_(),w={baseLanes:w.baseLanes|o,cachePool:d}),u.memoizedState=w,u.childLanes=rp(i,T,o),r.memoizedState=ip,du(i.child,u)):(sr(r),o=i.child,i=o.sibling,o=fs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function ap(i,r){return r=Lh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Lh(i,r){return i=Dn(22,i,null,r),i.lanes=0,i}function op(i,r,o){return Sa(r,i.child,null,o),i=ap(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function rT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),bm(i.return,r,o)}function lp(i,r,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function aT(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=bt.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,ce(bt,T),en(i,r,u,o),u=je?eu:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&rT(i,o,r);else if(i.tag===19)rT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Ah(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),lp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Ah(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}lp(r,!0,o,null,g,u);break;case"together":lp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function vs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),lr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Eo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=fs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=fs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function up(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&yh(i)))}function w2(i,r,o){switch(r.tag){case 3:Ut(r,r.stateNode.containerInfo),er(r,Dt,i.memoizedState.cache),va();break;case 27:case 5:Jr(r);break;case 4:Ut(r,r.stateNode.containerInfo);break;case 10:er(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Pm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(sr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?sT(i,r,o):(sr(r),i=vs(i,r,o),i!==null?i.sibling:null);sr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Eo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return aT(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(bt,bt.current),u)break;return null;case 22:return r.lanes=0,J0(i,r,o,r.pendingProps);case 24:er(r,Dt,i.memoizedState.cache)}return vs(i,r,o)}function oT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Mt=!0;else{if(!up(i,o)&&(r.flags&128)===0)return Mt=!1,w2(i,r,o);Mt=(i.flags&131072)!==0}else Mt=!1,je&&(r.flags&1048576)!==0&&j_(r,eu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=ba(r.elementType),r.type=i,typeof i=="function")mm(i)?(u=xa(i,u),r.tag=1,r=nT(null,r,i,u,o)):(r.tag=0,r=np(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===re){r.tag=11,r=Q0(null,r,i,u,o);break e}else if(d===C){r.tag=14,r=X0(null,r,i,u,o);break e}}throw r=Ye(i)||i,Error(s(306,r,""))}}return r;case 0:return np(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=xa(u,r.pendingProps),nT(i,r,u,d,o);case 3:e:{if(Ut(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Im(i,r),lu(r,u,null,o);var T=r.memoizedState;if(u=T.cache,er(r,Dt,u),u!==g.cache&&wm(r,[Dt],o,!0),ou(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=iT(i,r,u,o);break e}else if(u!==d){d=Yn(Error(s(424)),r),tu(d),r=iT(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,at=Wn(i.firstChild),Jt=r,je=!0,Js=null,Qn=!0,o=J_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(va(),u===d){r=vs(i,r,o);break e}en(i,r,u,o)}r=r.child}return r;case 26:return kh(i,r),i===null?(o=vE(r.type,null,r.pendingProps,null))?r.memoizedState=o:je||(o=r.type,i=r.pendingProps,u=Zh(De.current).createElement(o),u[Rt]=r,u[Ht]=i,tn(u,o,i),Ct(u),r.stateNode=u):r.memoizedState=vE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Jr(r),i===null&&je&&(u=r.stateNode=pE(r.type,r.pendingProps,De.current),Jt=r,Qn=!0,d=at,dr(r.type)?(Fp=d,at=Wn(u.firstChild)):at=d),en(i,r,r.pendingProps.children,o),kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&je&&((d=u=at)&&(u=Z2(u,r.type,r.pendingProps,Qn),u!==null?(r.stateNode=u,Jt=r,at=Wn(u.firstChild),Qn=!1,d=!0):d=!1),d||Zs(r)),Jr(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Lp(d,g)?u=null:T!==null&&Lp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=km(i,r,m2,null,null,o),Cu._currentValue=d),kh(i,r),en(i,r,u,o),r.child;case 6:return i===null&&je&&((i=o=at)&&(o=eI(o,r.pendingProps,Qn),o!==null?(r.stateNode=o,Jt=r,at=null,i=!0):i=!1),i||Zs(r)),null;case 13:return sT(i,r,o);case 4:return Ut(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Sa(r,null,u,o):en(i,r,u,o),r.child;case 11:return Q0(i,r,r.type,r.pendingProps,o);case 7:return en(i,r,r.pendingProps,o),r.child;case 8:return en(i,r,r.pendingProps.children,o),r.child;case 12:return en(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,er(r,r.type,u.value),en(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Ta(r),d=Zt(d),u=u(d),r.flags|=1,en(i,r,u,o),r.child;case 14:return X0(i,r,r.type,r.pendingProps,o);case 15:return W0(i,r,r.type,r.pendingProps,o);case 19:return aT(i,r,o);case 31:return b2(i,r,o);case 22:return J0(i,r,o,r.pendingProps);case 24:return Ta(r),u=Zt(Dt),i===null?(d=xm(),d===null&&(d=it,g=Sm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Cm(r),er(r,Dt,d)):((i.lanes&o)!==0&&(Im(i,r),lu(r,null,null,o),ou()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),er(r,Dt,u)):(u=g.cache,er(r,Dt,u),u!==d.cache&&wm(r,[Dt],o,!0))),en(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function _s(i){i.flags|=4}function cp(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(PT())i.flags|=8192;else throw wa=Eh,Rm}else i.flags&=-16777217}function lT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!wE(r))if(PT())i.flags|=8192;else throw wa=Eh,Rm}function Uh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Hc():536870912,i.lanes|=r,Oo|=r)}function mu(i,r){if(!je)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function S2(i,r,o){var u=r.pendingProps;switch(vm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ps(Dt),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(To(r)?_s(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tm())),ot(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(_s(r),g!==null?(ot(r),lT(r,g)):(ot(r),cp(r,d,null,u,o))):g?g!==i.memoizedState?(_s(r),ot(r),lT(r,g)):(ot(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&_s(r),ot(r),cp(r,d,i,u,o)),null;case 27:if(Wa(r),o=De.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=fe.current,To(r)?z_(r):(i=pE(d,u,o),r.stateNode=i,_s(r))}return ot(r),null;case 5:if(Wa(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(g=fe.current,To(r))z_(r);else{var T=Zh(De.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[Rt]=r,g[Ht]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(tn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_s(r)}}return ot(r),cp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=De.current,To(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Jt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Rt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||sE(i.nodeValue,o)),i||Zs(r,!0)}else i=Zh(i).createTextNode(u),i[Rt]=r,r.stateNode=i}return ot(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=To(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Rt]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),i=!1}else o=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=To(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Rt]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),d=!1}else d=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Uh(r,r.updateQueue),ot(r),null);case 4:return lt(),i===null&&Mp(r.stateNode.containerInfo),ot(r),null;case 10:return ps(r.type),ot(r),null;case 19:if(ee(bt),u=r.memoizedState,u===null)return ot(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)mu(u,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ah(i),g!==null){for(r.flags|=128,mu(u,!1),i=g.updateQueue,r.updateQueue=i,Uh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)k_(o,i),o=o.sibling;return ce(bt,bt.current&1|2),je&&ds(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&fn()>qh&&(r.flags|=128,d=!0,mu(u,!1),r.lanes=4194304)}else{if(!d)if(i=Ah(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Uh(r,i),mu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!je)return ot(r),null}else 2*fn()-u.renderingStartTime>qh&&o!==536870912&&(r.flags|=128,d=!0,mu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=fn(),i.sibling=null,o=bt.current,ce(bt,d?o&1|2:o&1),je&&ds(r,u.treeForkCount),i):(ot(r),null);case 22:case 23:return Mn(r),Om(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&Uh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ee(Ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ps(Dt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function A2(i,r){switch(vm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ps(Dt),lt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Wa(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Mn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(bt),null;case 4:return lt(),null;case 10:return ps(r.type),null;case 22:case 23:return Mn(r),Om(),i!==null&&ee(Ea),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ps(Dt),null;case 25:return null;default:return null}}function uT(i,r){switch(vm(r),r.tag){case 3:ps(Dt),lt();break;case 26:case 27:case 5:Wa(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:ee(bt);break;case 10:ps(r.type);break;case 22:case 23:Mn(r),Om(),i!==null&&ee(Ea);break;case 24:ps(Dt)}}function pu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(w){Xe(r,r.return,w)}}function ar(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,d=r;var M=o,K=w;try{K()}catch(Z){Xe(d,M,Z)}}}u=u.next}while(u!==g)}}catch(Z){Xe(r,r.return,Z)}}function cT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{e0(r,o)}catch(u){Xe(i,i.return,u)}}}function hT(i,r,o){o.props=xa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(i,r,u)}}function gu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Xe(i,r,d)}}function Ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Xe(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Xe(i,r,d)}else o.current=null}function fT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Xe(i,i.return,d)}}function hp(i,r,o){try{var u=i.stateNode;K2(u,i.type,o,r),u[Ht]=r}catch(d){Xe(i,i.return,d)}}function dT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&dr(i.type)||i.tag===4}function fp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&dr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ci));else if(u!==4&&(u===27&&dr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(dp(i,r,o),i=i.sibling;i!==null;)dp(i,r,o),i=i.sibling}function jh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&dr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(jh(i,r,o),i=i.sibling;i!==null;)jh(i,r,o),i=i.sibling}function mT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);tn(r,u,o),r[Rt]=i,r[Ht]=o}catch(g){Xe(i,i.return,g)}}var Ts=!1,Ot=!1,mp=!1,pT=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function x2(i,r){if(i=i.containerInfo,Vp=of,i=R_(i),om(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,w=-1,M=-1,K=0,Z=0,ne=i,Q=null;t:for(;;){for(var W;ne!==o||d!==0&&ne.nodeType!==3||(w=T+d),ne!==g||u!==0&&ne.nodeType!==3||(M=T+u),ne.nodeType===3&&(T+=ne.nodeValue.length),(W=ne.firstChild)!==null;)Q=ne,ne=W;for(;;){if(ne===i)break t;if(Q===o&&++K===d&&(w=T),Q===g&&++Z===u&&(M=T),(W=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=W}o=w===-1||M===-1?null:{start:w,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(kp={focusedElem:i,selectionRange:o},of=!1,Yt=r;Yt!==null;)if(r=Yt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Yt=i;else for(;Yt!==null;){switch(r=Yt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=xa(o.type,d);i=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Xe(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Yt=i;break}Yt=r.return}}function gT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bs(i,o),u&4&&pu(5,o);break;case 1:if(bs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Xe(o,o.return,T)}else{var d=xa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Xe(o,o.return,T)}}u&64&&cT(o),u&512&&gu(o,o.return);break;case 3:if(bs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{e0(i,r)}catch(T){Xe(o,o.return,T)}}break;case 27:r===null&&u&4&&mT(o);case 26:case 5:bs(i,o),r===null&&u&4&&fT(o),u&512&&gu(o,o.return);break;case 12:bs(i,o);break;case 31:bs(i,o),u&4&&_T(i,o);break;case 13:bs(i,o),u&4&&TT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=V2.bind(null,o),tI(i,o))));break;case 22:if(u=o.memoizedState!==null||Ts,!u){r=r!==null&&r.memoizedState!==null||Ot,d=Ts;var g=Ot;Ts=u,(Ot=r)&&!g?ws(i,o,(o.subtreeFlags&8772)!==0):bs(i,o),Ts=d,Ot=g}break;case 30:break;default:bs(i,o)}}function yT(i){var r=i.alternate;r!==null&&(i.alternate=null,yT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&no(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,vn=!1;function Es(i,r,o){for(o=o.child;o!==null;)vT(i,r,o),o=o.sibling}function vT(i,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 26:Ot||Ki(o,r),Es(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||Ki(o,r);var u=ct,d=vn;dr(o.type)&&(ct=o.stateNode,vn=!1),Es(i,r,o),Au(o.stateNode),ct=u,vn=d;break;case 5:Ot||Ki(o,r);case 6:if(u=ct,d=vn,ct=null,Es(i,r,o),ct=u,vn=d,ct!==null)if(vn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(g){Xe(o,r,g)}else try{ct.removeChild(o.stateNode)}catch(g){Xe(o,r,g)}break;case 18:ct!==null&&(vn?(i=ct,cE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),zo(i)):cE(ct,o.stateNode));break;case 4:u=ct,d=vn,ct=o.stateNode.containerInfo,vn=!0,Es(i,r,o),ct=u,vn=d;break;case 0:case 11:case 14:case 15:ar(2,o,r),Ot||ar(4,o,r),Es(i,r,o);break;case 1:Ot||(Ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&hT(o,r,u)),Es(i,r,o);break;case 21:Es(i,r,o);break;case 22:Ot=(u=Ot)||o.memoizedState!==null,Es(i,r,o),Ot=u;break;default:Es(i,r,o)}}function _T(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zo(i)}catch(o){Xe(r,r.return,o)}}}function TT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zo(i)}catch(o){Xe(r,r.return,o)}}function R2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new pT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new pT),r;default:throw Error(s(435,i.tag))}}function Bh(i,r){var o=R2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=k2.bind(null,i,u);u.then(d,d)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(dr(w.type)){ct=w.stateNode,vn=!1;break e}break;case 5:ct=w.stateNode,vn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,vn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));vT(g,T,d),ct=null,vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ET(r,i),r=r.sibling}var gi=null;function ET(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),Tn(i),u&4&&(ar(3,i,i.return),pu(3,i),ar(5,i,i.return));break;case 1:_n(r,i),Tn(i),u&512&&(Ot||o===null||Ki(o,o.return)),u&64&&Ts&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=gi;if(_n(r,i),Tn(i),u&512&&(Ot||o===null||Ki(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Oi]||g[Rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),tn(g,u,o),g[Rt]=i,Ct(g),u=g;break e;case"link":var T=EE("link","href",d).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break t}}g=d.createElement(u),tn(g,u,o),d.head.appendChild(g);break;case"meta":if(T=EE("meta","content",d).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break t}}g=d.createElement(u),tn(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Rt]=i,Ct(g),u=g}i.stateNode=u}else bE(d,i.type,i.stateNode);else i.stateNode=TE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?bE(d,i.type,i.stateNode):TE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&hp(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),Tn(i),u&512&&(Ot||o===null||Ki(o,o.return)),o!==null&&u&4&&hp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),Tn(i),u&512&&(Ot||o===null||Ki(o,o.return)),i.flags&32){d=i.stateNode;try{yn(d,"")}catch(me){Xe(i,i.return,me)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,hp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(mp=!0);break;case 6:if(_n(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){Xe(i,i.return,me)}}break;case 3:if(nf=null,d=gi,gi=ef(r.containerInfo),_n(r,i),gi=d,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(me){Xe(i,i.return,me)}mp&&(mp=!1,bT(i));break;case 4:u=gi,gi=ef(i.stateNode.containerInfo),_n(r,i),Tn(i),gi=u;break;case 12:_n(r,i),Tn(i);break;case 31:_n(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 13:_n(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fh=fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=Ts,Z=Ot;if(Ts=K||d,Ot=Z||M,_n(r,i),Ot=Z,Ts=K,Tn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||Ts||Ot||Ra(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=M.stateNode;var ne=M.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(me){Xe(M,M.return,me)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(me){Xe(M,M.return,me)}}}else if(r.tag===18){if(o===null){M=r;try{var W=M.stateNode;d?hE(W,!0):hE(M.stateNode,!1)}catch(me){Xe(M,M.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bh(i,o))));break;case 19:_n(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 30:break;case 21:break;default:_n(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(dT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=fp(i);jh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var w=fp(i);jh(i,w,T);break;case 3:case 4:var M=o.stateNode.containerInfo,K=fp(i);dp(i,K,M);break;default:throw Error(s(161))}}catch(Z){Xe(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function bT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;bT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function bs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)gT(i,r.alternate,r),r=r.sibling}function Ra(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ar(4,r,r.return),Ra(r);break;case 1:Ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&hT(r,r.return,o),Ra(r);break;case 27:Au(r.stateNode);case 26:case 5:Ki(r,r.return),Ra(r);break;case 22:r.memoizedState===null&&Ra(r);break;case 30:Ra(r);break;default:Ra(r)}i=i.sibling}}function ws(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:ws(d,g,o),pu(4,g);break;case 1:if(ws(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Xe(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Z_(M[d],w)}catch(K){Xe(u,u.return,K)}}o&&T&64&&cT(g),gu(g,g.return);break;case 27:mT(g);case 26:case 5:ws(d,g,o),o&&u===null&&T&4&&fT(g),gu(g,g.return);break;case 12:ws(d,g,o);break;case 31:ws(d,g,o),o&&T&4&&_T(d,g);break;case 13:ws(d,g,o),o&&T&4&&TT(d,g);break;case 22:g.memoizedState===null&&ws(d,g,o),gu(g,g.return);break;case 30:break;default:ws(d,g,o)}r=r.sibling}}function pp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&nu(o))}function gp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&nu(i))}function yi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wT(i,r,o,u),r=r.sibling}function wT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:yi(i,r,o,u),d&2048&&pu(9,r);break;case 1:yi(i,r,o,u);break;case 3:yi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&nu(i)));break;case 12:if(d&2048){yi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Xe(r,r.return,M)}}else yi(i,r,o,u);break;case 31:yi(i,r,o,u);break;case 13:yi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?yi(i,r,o,u):yu(i,r):g._visibility&2?yi(i,r,o,u):(g._visibility|=2,Do(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&pp(T,r);break;case 24:yi(i,r,o,u),d&2048&&gp(r.alternate,r);break;default:yi(i,r,o,u)}}function Do(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,w=o,M=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Do(g,T,w,M,d),pu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Do(g,T,w,M,d):yu(g,T):(Z._visibility|=2,Do(g,T,w,M,d)),d&&K&2048&&pp(T.alternate,T);break;case 24:Do(g,T,w,M,d),d&&K&2048&&gp(T.alternate,T);break;default:Do(g,T,w,M,d)}r=r.sibling}}function yu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:yu(o,u),d&2048&&pp(u.alternate,u);break;case 24:yu(o,u),d&2048&&gp(u.alternate,u);break;default:yu(o,u)}r=r.sibling}}var vu=8192;function No(i,r,o){if(i.subtreeFlags&vu)for(i=i.child;i!==null;)ST(i,r,o),i=i.sibling}function ST(i,r,o){switch(i.tag){case 26:No(i,r,o),i.flags&vu&&i.memoizedState!==null&&dI(o,gi,i.memoizedState,i.memoizedProps);break;case 5:No(i,r,o);break;case 3:case 4:var u=gi;gi=ef(i.stateNode.containerInfo),No(i,r,o),gi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=vu,vu=16777216,No(i,r,o),vu=u):No(i,r,o));break;default:No(i,r,o)}}function AT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function _u(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Yt=u,RT(u,i)}AT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xT(i),i=i.sibling}function xT(i){switch(i.tag){case 0:case 11:case 15:_u(i),i.flags&2048&&ar(9,i,i.return);break;case 3:_u(i);break;case 12:_u(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,zh(i)):_u(i);break;default:_u(i)}}function zh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Yt=u,RT(u,i)}AT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ar(8,r,r.return),zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,zh(r));break;default:zh(r)}i=i.sibling}}function RT(i,r){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:ar(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:nu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=i;Yt!==null;){u=Yt;var d=u.sibling,g=u.return;if(yT(u),u===o){Yt=null;break e}if(d!==null){d.return=g,Yt=d;break e}Yt=g}}}var C2={getCacheForType:function(i){var r=Zt(Dt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Zt(Dt).controller.signal}},I2=typeof WeakMap=="function"?WeakMap:Map,Ge=0,it=null,Me=null,Pe=0,Qe=0,On=null,or=!1,Mo=!1,yp=!1,Ss=0,vt=0,lr=0,Ca=0,vp=0,Pn=0,Oo=0,Tu=null,En=null,_p=!1,Fh=0,CT=0,qh=1/0,Hh=null,ur=null,Bt=0,cr=null,Po=null,As=0,Tp=0,Ep=null,IT=null,Eu=0,bp=null;function Vn(){return(Ge&2)!==0&&Pe!==0?Pe&-Pe:j.T!==null?Cp():Gc()}function DT(){if(Pn===0)if((Pe&536870912)===0||je){var i=ta;ta<<=1,(ta&3932160)===0&&(ta=262144),Pn=i}else Pn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Pn}function bn(i,r,o){(i===it&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(Vo(i,0),hr(i,Pe,Pn,!1)),na(i,o),((Ge&2)===0||i!==it)&&(i===it&&((Ge&2)===0&&(Ca|=o),vt===4&&hr(i,Pe,Pn,!1)),$i(i))}function NT(i,r,o){if((Ge&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||oi(i,r),d=u?M2(i,r):Sp(i,r,!0),g=u;do{if(d===0){Mo&&!u&&hr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!D2(o)){d=Sp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=i;d=Tu;var M=w.current.memoizedState.isDehydrated;if(M&&(Vo(w,T).flags|=256),T=Sp(w,T,!1),T!==2){if(yp&&!M){w.errorRecoveryDisabledLanes|=g,Ca|=g,d=4;break e}g=En,En=d,g!==null&&(En===null?En=g:En.push.apply(En,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Vo(i,0),hr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:hr(u,r,Pn,!or);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Fh+300-fn(),10<d)){if(hr(u,r,Pn,!or),Di(u,0,!0)!==0)break e;As=r,u.timeoutHandle=lE(MT.bind(null,u,o,En,Hh,_p,r,Pn,Ca,Oo,or,g,"Throttled",-0,0),d);break e}MT(u,o,En,Hh,_p,r,Pn,Ca,Oo,or,g,null,-0,0)}}break}while(!0);$i(i)}function MT(i,r,o,u,d,g,T,w,M,K,Z,ne,Q,W){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},ST(r,g,ne);var me=(g&62914560)===g?Fh-fn():(g&4194048)===g?CT-fn():0;if(me=mI(ne,me),me!==null){As=g,i.cancelPendingCommit=me(BT.bind(null,i,r,g,o,u,d,T,w,M,Z,ne,null,Q,W)),hr(i,g,T,!K);return}}BT(i,r,g,o,u,d,T,w,M)}function D2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!In(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hr(i,r,o,u){r&=~vp,r&=~Ca,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-Tt(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&ia(i,o,r)}function Gh(){return(Ge&6)===0?(bu(0),!1):!0}function wp(){if(Me!==null){if(Qe===0)var i=Me.return;else i=Me,ms=_a=null,jm(i),Ao=null,su=0,i=Me;for(;i!==null;)uT(i.alternate,i),i=i.return;Me=null}}function Vo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,X2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),As=0,wp(),it=i,Me=o=fs(i.current,null),Pe=r,Qe=0,On=null,or=!1,Mo=oi(i,r),yp=!1,Oo=Pn=vp=Ca=lr=vt=0,En=Tu=null,_p=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-Tt(u),g=1<<d;r|=i[d],u&=~g}return Ss=r,fh(),o}function OT(i,r){Ie=null,j.H=fu,r===So||r===Th?(r=Q_(),Qe=3):r===Rm?(r=Q_(),Qe=4):Qe=r===tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Me===null&&(vt=1,Ph(i,Yn(r,i.current)))}function PT(){var i=Nn.current;return i===null?!0:(Pe&4194048)===Pe?Xn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Xn:!1}function VT(){var i=j.H;return j.H=fu,i===null?fu:i}function kT(){var i=j.A;return j.A=C2,i}function Yh(){vt=4,or||(Pe&4194048)!==Pe&&Nn.current!==null||(Mo=!0),(lr&134217727)===0&&(Ca&134217727)===0||it===null||hr(it,Pe,Pn,!1)}function Sp(i,r,o){var u=Ge;Ge|=2;var d=VT(),g=kT();(it!==i||Pe!==r)&&(Hh=null,Vo(i,r)),r=!1;var T=vt;e:do try{if(Qe!==0&&Me!==null){var w=Me,M=On;switch(Qe){case 8:wp(),T=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var K=Qe;if(Qe=0,On=null,ko(i,w,M,K),o&&Mo){T=0;break e}break;default:K=Qe,Qe=0,On=null,ko(i,w,M,K)}}N2(),T=vt;break}catch(Z){OT(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ms=_a=null,Ge=u,j.H=d,j.A=g,Me===null&&(it=null,Pe=0,fh()),T}function N2(){for(;Me!==null;)LT(Me)}function M2(i,r){var o=Ge;Ge|=2;var u=VT(),d=kT();it!==i||Pe!==r?(Hh=null,qh=fn()+500,Vo(i,r)):Mo=oi(i,r);e:do try{if(Qe!==0&&Me!==null){r=Me;var g=On;t:switch(Qe){case 1:Qe=0,On=null,ko(i,r,g,1);break;case 2:case 9:if(K_(g)){Qe=0,On=null,UT(r);break}r=function(){Qe!==2&&Qe!==9||it!==i||(Qe=7),$i(i)},g.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:K_(g)?(Qe=0,On=null,UT(r)):(Qe=0,On=null,ko(i,r,g,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var w=Me;if(T?wE(T):w.stateNode.complete){Qe=0,On=null;var M=w.sibling;if(M!==null)Me=M;else{var K=w.return;K!==null?(Me=K,Kh(K)):Me=null}break t}}Qe=0,On=null,ko(i,r,g,5);break;case 6:Qe=0,On=null,ko(i,r,g,6);break;case 8:wp(),vt=6;break e;default:throw Error(s(462))}}O2();break}catch(Z){OT(i,Z)}while(!0);return ms=_a=null,j.H=u,j.A=d,Ge=o,Me!==null?0:(it=null,Pe=0,fh(),vt)}function O2(){for(;Me!==null&&!em();)LT(Me)}function LT(i){var r=oT(i.alternate,i,Ss);i.memoizedProps=i.pendingProps,r===null?Kh(i):Me=r}function UT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=tT(o,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=tT(o,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:jm(r);default:uT(o,r),r=Me=k_(r,Ss),r=oT(o,r,Ss)}i.memoizedProps=i.pendingProps,r===null?Kh(i):Me=r}function ko(i,r,o,u){ms=_a=null,jm(r),Ao=null,su=0;var d=r.return;try{if(E2(i,d,r,o,Pe)){vt=1,Ph(i,Yn(o,i.current)),Me=null;return}}catch(g){if(d!==null)throw Me=d,g;vt=1,Ph(i,Yn(o,i.current)),Me=null;return}r.flags&32768?(je||u===1?i=!0:Mo||(Pe&536870912)!==0?i=!1:(or=i=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),jT(r,i)):Kh(r)}function Kh(i){var r=i;do{if((r.flags&32768)!==0){jT(r,or);return}i=r.return;var o=S2(r.alternate,r,Ss);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=i}while(r!==null);vt===0&&(vt=5)}function jT(i,r){do{var o=A2(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);vt=6,Me=null}function BT(i,r,o,u,d,g,T,w,M){i.cancelPendingCommit=null;do $h();while(Bt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=fm,im(i,o,g,T,w,M),i===it&&(Me=it=null,Pe=0),Po=r,cr=i,As=o,Tp=g,Ep=d,IT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,L2(zs,function(){return GT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,d=J.p,J.p=2,T=Ge,Ge|=4;try{x2(i,r,o)}finally{Ge=T,J.p=d,j.T=u}}Bt=1,zT(),FT(),qT()}}function zT(){if(Bt===1){Bt=0;var i=cr,r=Po,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=j.T,j.T=null;var u=J.p;J.p=2;var d=Ge;Ge|=4;try{ET(r,i);var g=kp,T=R_(i.containerInfo),w=g.focusedElem,M=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&x_(w.ownerDocument.documentElement,w)){if(M!==null&&om(w)){var K=M.start,Z=M.end;if(Z===void 0&&(Z=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(Z,w.value.length);else{var ne=w.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),me=w.textContent.length,Te=Math.min(M.start,me),nt=M.end===void 0?Te:Math.min(M.end,me);!W.extend&&Te>nt&&(T=nt,nt=Te,Te=T);var z=A_(w,Te),U=A_(w,nt);if(z&&U&&(W.rangeCount!==1||W.anchorNode!==z.node||W.anchorOffset!==z.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var Y=ne.createRange();Y.setStart(z.node,z.offset),W.removeAllRanges(),Te>nt?(W.addRange(Y),W.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),W.addRange(Y))}}}}for(ne=[],W=w;W=W.parentNode;)W.nodeType===1&&ne.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var te=ne[w];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}of=!!Vp,kp=Vp=null}finally{Ge=d,J.p=u,j.T=o}}i.current=r,Bt=2}}function FT(){if(Bt===2){Bt=0;var i=cr,r=Po,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=j.T,j.T=null;var u=J.p;J.p=2;var d=Ge;Ge|=4;try{gT(i,r.alternate,r)}finally{Ge=d,J.p=u,j.T=o}}Bt=3}}function qT(){if(Bt===4||Bt===3){Bt=0,Uc();var i=cr,r=Po,o=As,u=IT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Po=cr=null,HT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(ur=null),ls(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ai,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=j.T,d=J.p,J.p=2,j.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{j.T=r,J.p=d}}(As&3)!==0&&$h(),$i(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===bp?Eu++:(Eu=0,bp=i):Eu=0,bu(0)}}function HT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,nu(r)))}function $h(){return zT(),FT(),qT(),GT()}function GT(){if(Bt!==5)return!1;var i=cr,r=Tp;Tp=0;var o=ls(As),u=j.T,d=J.p;try{J.p=32>o?32:o,j.T=null,o=Ep,Ep=null;var g=cr,T=As;if(Bt=0,Po=cr=null,As=0,(Ge&6)!==0)throw Error(s(331));var w=Ge;if(Ge|=4,xT(g.current),wT(g,g.current,T,o),Ge=w,bu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ai,g)}catch{}return!0}finally{J.p=d,j.T=u,HT(i,r)}}function YT(i,r,o){r=Yn(o,r),r=ep(i.stateNode,r,2),i=ir(i,r,2),i!==null&&(na(i,2),$i(i))}function Xe(i,r,o){if(i.tag===3)YT(i,i,o);else for(;r!==null;){if(r.tag===3){YT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ur===null||!ur.has(u))){i=Yn(o,i),o=K0(2),u=ir(r,o,2),u!==null&&($0(o,u,r,i),na(u,2),$i(u));break}}r=r.return}}function Ap(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new I2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(yp=!0,d.add(o),i=P2.bind(null,i,r,o),r.then(i,i))}function P2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Pe&o)===o&&(vt===4||vt===3&&(Pe&62914560)===Pe&&300>fn()-Fh?(Ge&2)===0&&Vo(i,0):vp|=o,Oo===Pe&&(Oo=0)),$i(i)}function KT(i,r){r===0&&(r=Hc()),i=ga(i,r),i!==null&&(na(i,r),$i(i))}function V2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),KT(i,o)}function k2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),KT(i,o)}function L2(i,r){return jt(i,r)}var Qh=null,Lo=null,xp=!1,Xh=!1,Rp=!1,fr=0;function $i(i){i!==Lo&&i.next===null&&(Lo===null?Qh=Lo=i:Lo=Lo.next=i),Xh=!0,xp||(xp=!0,j2())}function bu(i,r){if(!Rp&&Xh){Rp=!0;do for(var o=!1,u=Qh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Tt(42|i)+1)-1,g&=d&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,WT(u,g))}else g=Pe,g=Di(u,u===it?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||oi(u,g)||(o=!0,WT(u,g));u=u.next}while(o);Rp=!1}}function U2(){$T()}function $T(){Xh=xp=!1;var i=0;fr!==0&&Q2()&&(i=fr);for(var r=fn(),o=null,u=Qh;u!==null;){var d=u.next,g=QT(u,r);g===0?(u.next=null,o===null?Qh=d:o.next=d,d===null&&(Lo=o)):(o=u,(i!==0||(g&3)!==0)&&(Xh=!0)),u=d}Bt!==0&&Bt!==5||bu(i),fr!==0&&(fr=0)}function QT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Tt(g),w=1<<T,M=d[T];M===-1?((w&o)===0||(w&u)!==0)&&(d[T]=nm(w,r)):M<=r&&(i.expiredLanes|=w),g&=~w}if(r=it,o=Pe,o=Di(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Bs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||oi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Bs(u),ls(o)){case 2:case 8:o=Ml;break;case 32:o=zs;break;case 268435456:o=jc;break;default:o=zs}return u=XT.bind(null,i),o=jt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Bs(u),i.callbackPriority=2,i.callbackNode=null,2}function XT(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if($h()&&i.callbackNode!==o)return null;var u=Pe;return u=Di(i,i===it?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(NT(i,u,r),QT(i,fn()),i.callbackNode!=null&&i.callbackNode===o?XT.bind(null,i):null)}function WT(i,r){if($h())return null;NT(i,r,!0)}function j2(){W2(function(){(Ge&6)!==0?jt(Nl,U2):$T()})}function Cp(){if(fr===0){var i=bo;i===0&&(i=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),fr=i}return fr}function JT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ao(""+i)}function ZT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function B2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=JT((d[Ht]||null).action),T=u.submitter;T&&(r=(r=T[Ht]||null)?JT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new zi("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fr!==0){var M=T?ZT(d,T):new FormData(d);$m(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(w.preventDefault(),M=T?ZT(d,T):new FormData(d),$m(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Ip=0;Ip<hm.length;Ip++){var Dp=hm[Ip],z2=Dp.toLowerCase(),F2=Dp[0].toUpperCase()+Dp.slice(1);pi(z2,"on"+F2)}pi(D_,"onAnimationEnd"),pi(N_,"onAnimationIteration"),pi(M_,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(s2,"onTransitionRun"),pi(r2,"onTransitionStart"),pi(a2,"onTransitionCancel"),pi(O_,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function eE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],M=w.instance,K=w.currentTarget;if(w=w.listener,M!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=K;try{g(d)}catch(Z){hh(Z)}d.currentTarget=null,g=M}else for(T=0;T<u.length;T++){if(w=u[T],M=w.instance,K=w.currentTarget,w=w.listener,M!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=K;try{g(d)}catch(Z){hh(Z)}d.currentTarget=null,g=M}}}}function Oe(i,r){var o=r[to];o===void 0&&(o=r[to]=new Set);var u=i+"__bubble";o.has(u)||(tE(r,i,2,!1),o.add(u))}function Np(i,r,o){var u=0;r&&(u|=4),tE(o,i,u,r)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Mp(i){if(!i[Wh]){i[Wh]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(q2.has(o)||Np(o,!1,i),Np(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Wh]||(r[Wh]=!0,Np("selectionchange",!1,r))}}function tE(i,r,o,u){switch(DE(r)){case 2:var d=yI;break;case 8:d=vI;break;default:d=Kp}o=d.bind(null,r,o,i),d=void 0,!la||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Op(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===d)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;w!==null;){if(T=Pi(w),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=g=T;continue e}w=w.parentNode}}u=u.return}Ks(function(){var K=g,Z=Fn(o),ne=[];e:{var Q=P_.get(i);if(Q!==void 0){var W=zi,me=i;switch(i){case"keypress":if(ca(o)===0)break e;case"keydown":case"keyup":W=lh;break;case"focusin":me="focus",W=fa;break;case"focusout":me="blur",W=fa;break;case"beforeblur":case"afterblur":W=fa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case D_:case N_:case M_:W=th;break;case O_:W=A;break;case"scroll":case"scrollend":W=Kl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=hs;break;case"toggle":case"beforetoggle":W=Ce}var Te=(r&4)!==0,nt=!Te&&(i==="scroll"||i==="scrollend"),z=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var U=K,Y;U!==null;){var te=U;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||z===null||(te=hi(U,z),te!=null&&Te.push(Su(U,te,Y))),nt)break;U=U.return}0<Te.length&&(Q=new W(Q,me,null,o,Z),ne.push({event:Q,listeners:Te}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==Hl&&(me=o.relatedTarget||o.fromElement)&&(Pi(me)||me[Mi]))break e;if((W||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=K,me=me?Pi(me):null,me!==null&&(nt=l(me),Te=me.tag,me!==nt||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(W=null,me=K),W!==me)){if(Te=$l,te="onMouseLeave",z="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Te=hs,te="onPointerLeave",z="onPointerEnter",U="pointer"),nt=W==null?Q:Rn(W),Y=me==null?Q:Rn(me),Q=new Te(te,U+"leave",W,o,Z),Q.target=nt,Q.relatedTarget=Y,te=null,Pi(Z)===K&&(Te=new Te(z,U+"enter",me,o,Z),Te.target=Y,Te.relatedTarget=nt,te=Te),nt=te,W&&me)t:{for(Te=H2,z=W,U=me,Y=0,te=z;te;te=Te(te))Y++;te=0;for(var ve=U;ve;ve=Te(ve))te++;for(;0<Y-te;)z=Te(z),Y--;for(;0<te-Y;)U=Te(U),te--;for(;Y--;){if(z===U||U!==null&&z===U.alternate){Te=z;break t}z=Te(z),U=Te(U)}Te=null}else Te=null;W!==null&&nE(ne,Q,W,Te,!1),me!==null&&nt!==null&&nE(ne,nt,me,Te,!0)}}e:{if(Q=K?Rn(K):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Fe=__;else if(y_(Q))if(T_)Fe=t2;else{Fe=ZC;var ge=JC}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&ro(K.elementType)&&(Fe=__):Fe=e2;if(Fe&&(Fe=Fe(i,K))){v_(ne,Fe,o,Z);break e}ge&&ge(i,Q,K),i==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&zl(Q,"number",Q.value)}switch(ge=K?Rn(K):window,i){case"focusin":(y_(ge)||ge.contentEditable==="true")&&(mo=ge,lm=K,Zl=null);break;case"focusout":Zl=lm=mo=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,C_(ne,o,Z);break;case"selectionchange":if(i2)break;case"keydown":case"keyup":C_(ne,o,Z)}var Ne;if(He)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else fo?da(i,o)&&(Ve="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(Hi&&o.locale!=="ko"&&(fo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&fo&&(Ne=Yl()):(Bi=Z,Gl="value"in Bi?Bi.value:Bi.textContent,fo=!0)),ge=Jh(K,Ve),0<ge.length&&(Ve=new qi(Ve,i,null,o,Z),ne.push({event:Ve,listeners:ge}),Ne?Ve.data=Ne:(Ne=ho(o),Ne!==null&&(Ve.data=Ne)))),(Ne=Hn?$C(i,o):QC(i,o))&&(Ve=Jh(K,"onBeforeInput"),0<Ve.length&&(ge=new qi("onBeforeInput","beforeinput",null,o,Z),ne.push({event:ge,listeners:Ve}),ge.data=Ne)),B2(ne,i,K,o,Z)}eE(ne,r)})}function Su(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Jh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=hi(i,o),d!=null&&u.unshift(Su(i,d,g)),d=hi(i,r),d!=null&&u.push(Su(i,d,g))),i.tag===3)return u;i=i.return}return[]}function H2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nE(i,r,o,u,d){for(var g=r._reactName,T=[];o!==null&&o!==u;){var w=o,M=w.alternate,K=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||K===null||(M=K,d?(K=hi(o,g),K!=null&&T.unshift(Su(o,K,M))):d||(K=hi(o,g),K!=null&&T.push(Su(o,K,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var G2=/\r\n?/g,Y2=/\u0000|\uFFFD/g;function iE(i){return(typeof i=="string"?i:""+i).replace(G2,`
`).replace(Y2,"")}function sE(i,r){return r=iE(r),iE(i)===r}function tt(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||yn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&yn(i,""+u);break;case"className":Cn(i,"class",u);break;case"tabIndex":Cn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(i,o,u);break;case"style":ql(i,u,g);break;case"data":if(r!=="object"){Cn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",d.name,d,null),tt(i,r,"formEncType",d.formEncType,d,null),tt(i,r,"formMethod",d.formMethod,d,null),tt(i,r,"formTarget",d.formTarget,d,null)):(tt(i,r,"encType",d.encType,d,null),tt(i,r,"method",d.method,d,null),tt(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ci);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ao(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),io(i,"popover",u);break;case"xlinkActuate":It(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":It(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":It(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":It(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":It(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":It(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":It(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":It(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":It(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jc.get(o)||o,io(i,o,u))}}function Pp(i,r,o,u,d,g){switch(o){case"style":ql(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?yn(i,u):(typeof u=="number"||typeof u=="bigint")&&yn(i,""+u);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):io(i,o,u)}}}function tn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,g,T,o,null)}}d&&tt(i,r,"srcSet",o.srcSet,o,null),u&&tt(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var w=g=T=d=null,M=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":T=Z;break;case"checked":M=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:tt(i,r,u,Z,o,null)}}Qc(i,g,w,M,K,T,d,!1);return;case"select":Oe("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:tt(i,r,d,w,o,null)}r=g,o=T,i.multiple=!!u,r!=null?qs(i,!!u,r,!1):o!=null&&qs(i,!!u,o,!0);return;case"textarea":Oe("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:tt(i,r,T,w,o,null)}Hs(i,u,d,g);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":tt(i,r,M,u,o,null));return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(u=0;u<wu.length;u++)Oe(wu[u],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,K,u,o,null)}return;default:if(ro(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Pp(i,r,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&tt(i,r,w,u,o,null))}function K2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,w=null,M=null,K=null,Z=null;for(W in o){var ne=o[W];if(o.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=ne;default:u.hasOwnProperty(W)||tt(i,r,W,null,u,ne)}}for(var Q in u){var W=u[Q];if(ne=o[Q],u.hasOwnProperty(Q)&&(W!=null||ne!=null))switch(Q){case"type":g=W;break;case"name":d=W;break;case"checked":K=W;break;case"defaultChecked":Z=W;break;case"value":T=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==ne&&tt(i,r,Q,W,u,ne)}}so(i,T,w,M,K,Z,g,d);return;case"select":W=T=w=Q=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":W=M;default:u.hasOwnProperty(g)||tt(i,r,g,null,u,M)}for(d in u)if(g=u[d],M=o[d],u.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":Q=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==M&&tt(i,r,d,g,u,M)}r=w,o=T,u=W,Q!=null?qs(i,!!o,Q,!1):!!u!=!!o&&(r!=null?qs(i,!!o,r,!0):qs(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(i,r,w,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Q=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&tt(i,r,T,d,u,g)}Xc(i,Q,W);return;case"option":for(var me in o)Q=o[me],o.hasOwnProperty(me)&&Q!=null&&!u.hasOwnProperty(me)&&(me==="selected"?i.selected=!1:tt(i,r,me,null,u,Q));for(M in u)Q=u[M],W=o[M],u.hasOwnProperty(M)&&Q!==W&&(Q!=null||W!=null)&&(M==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":tt(i,r,M,Q,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!u.hasOwnProperty(Te)&&tt(i,r,Te,null,u,Q);for(K in u)if(Q=u[K],W=o[K],u.hasOwnProperty(K)&&Q!==W&&(Q!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:tt(i,r,K,Q,u,W)}return;default:if(ro(r)){for(var nt in o)Q=o[nt],o.hasOwnProperty(nt)&&Q!==void 0&&!u.hasOwnProperty(nt)&&Pp(i,r,nt,void 0,u,Q);for(Z in u)Q=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Q===W||Q===void 0&&W===void 0||Pp(i,r,Z,Q,u,W);return}}for(var z in o)Q=o[z],o.hasOwnProperty(z)&&Q!=null&&!u.hasOwnProperty(z)&&tt(i,r,z,null,u,Q);for(ne in u)Q=u[ne],W=o[ne],!u.hasOwnProperty(ne)||Q===W||Q==null&&W==null||tt(i,r,ne,Q,u,W)}function rE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,w=d.duration;if(g&&w&&rE(T)){for(T=0,w=d.responseEnd,u+=1;u<o.length;u++){var M=o[u],K=M.startTime;if(K>w)break;var Z=M.transferSize,ne=M.initiatorType;Z&&rE(ne)&&(M=M.responseEnd,T+=Z*(M<w?1:(w-K)/(M-K)))}if(--u,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Vp=null,kp=null;function Zh(i){return i.nodeType===9?i:i.ownerDocument}function aE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Lp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Up=null;function Q2(){var i=window.event;return i&&i.type==="popstate"?i===Up?!1:(Up=i,!0):(Up=null,!1)}var lE=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,W2=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(i){return uE.resolve(null).then(i).catch(J2)}:lE;function J2(i){setTimeout(function(){throw i})}function dr(i){return i==="head"}function cE(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),zo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Au(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Au(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Oi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Au(i.ownerDocument.body);o=d}while(o);zo(r)}function hE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),no(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Z2(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Oi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function eI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function fE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Wn(i.nextSibling),i===null))return null;return i}function Bp(i){return i.data==="$?"||i.data==="$~"}function zp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function tI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Fp=null;function dE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Wn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function mE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function pE(i,r,o){switch(r=Zh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Au(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);no(i)}var Jn=new Map,gE=new Set;function ef(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xs=J.d;J.d={f:nI,r:iI,D:sI,C:rI,L:aI,m:oI,X:uI,S:lI,M:cI};function nI(){var i=xs.f(),r=Gh();return i||r}function iI(i){var r=zn(i);r!==null&&r.tag===5&&r.type==="form"?O0(r):xs.r(i)}var Uo=typeof document>"u"?null:document;function yE(i,r,o){var u=Uo;if(u&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),gE.has(d)||(gE.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),tn(r,"link",i),Ct(r),u.head.appendChild(r)))}}function sI(i){xs.D(i),yE("dns-prefetch",i,null)}function rI(i,r){xs.C(i,r),yE("preconnect",i,r)}function aI(i,r,o){xs.L(i,r,o);var u=Uo;if(u&&i&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+gn(o.imageSizes)+'"]')):d+='[href="'+gn(i)+'"]';var g=d;switch(r){case"style":g=jo(i);break;case"script":g=Bo(i)}Jn.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Jn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(xu(g))||r==="script"&&u.querySelector(Ru(g))||(r=u.createElement("link"),tn(r,"link",i),Ct(r),u.head.appendChild(r)))}}function oI(i,r){xs.m(i,r);var o=Uo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(i)}if(!Jn.has(g)&&(i=_({rel:"modulepreload",href:i},r),Jn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ru(g)))return}u=o.createElement("link"),tn(u,"link",i),Ct(u),o.head.appendChild(u)}}}function lI(i,r,o){xs.S(i,r,o);var u=Uo;if(u&&i){var d=Vi(u).hoistableStyles,g=jo(i);r=r||"default";var T=d.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(xu(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Jn.get(g))&&qp(i,o);var M=T=u.createElement("link");Ct(M),tn(M,"link",i),M._p=new Promise(function(K,Z){M.onload=K,M.onerror=Z}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,tf(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},d.set(g,T)}}}function uI(i,r){xs.X(i,r);var o=Uo;if(o&&i){var u=Vi(o).hoistableScripts,d=Bo(i),g=u.get(d);g||(g=o.querySelector(Ru(d)),g||(i=_({src:i,async:!0},r),(r=Jn.get(d))&&Hp(i,r),g=o.createElement("script"),Ct(g),tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function cI(i,r){xs.M(i,r);var o=Uo;if(o&&i){var u=Vi(o).hoistableScripts,d=Bo(i),g=u.get(d);g||(g=o.querySelector(Ru(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Jn.get(d))&&Hp(i,r),g=o.createElement("script"),Ct(g),tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function vE(i,r,o,u){var d=(d=De.current)?ef(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=jo(o.href),o=Vi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=jo(o.href);var g=Vi(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(xu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(i,o),g||hI(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Bo(o),o=Vi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jo(i){return'href="'+gn(i)+'"'}function xu(i){return'link[rel="stylesheet"]['+i+"]"}function _E(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function hI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),tn(r,"link",o),Ct(r),i.head.appendChild(r))}function Bo(i){return'[src="'+gn(i)+'"]'}function Ru(i){return"script[async]"+i}function TE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return r.instance=u,Ct(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ct(u),tn(u,"style",d),tf(u,o.precedence,i),r.instance=u;case"stylesheet":d=jo(o.href);var g=i.querySelector(xu(d));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;u=_E(o),(d=Jn.get(d))&&qp(u,d),g=(i.ownerDocument||i).createElement("link"),Ct(g);var T=g;return T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),tn(g,"link",u),r.state.loading|=4,tf(g,o.precedence,i),r.instance=g;case"script":return g=Bo(o.src),(d=i.querySelector(Ru(g)))?(r.instance=d,Ct(d),d):(u=o,(d=Jn.get(g))&&(u=_({},o),Hp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ct(d),tn(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,tf(u,o.precedence,i));return r.instance}function tf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function qp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Hp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var nf=null;function EE(i,r,o){if(nf===null){var u=new Map,d=nf=new Map;d.set(o,u)}else d=nf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Oi]||g[Rt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function bE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function fI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function dI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=jo(u.href),g=r.querySelector(xu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ct(g);return}g=r.ownerDocument||r,u=_E(u),(d=Jn.get(d))&&qp(u,d),g=g.createElement("link"),Ct(g);var T=g;T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),tn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=sf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Gp=0;function mI(i,r){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Gp===0&&(Gp=62500*$2());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Gp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function af(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,r.forEach(pI,i),rf=null,sf.call(i))}function pI(i,r){if(!(r.state.loading&4)){var o=rf.get(i);if(o)var u=o.get(null);else{o=new Map,rf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=sf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Cu={$$typeof:G,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function gI(i,r,o,u,d,g,T,w,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function SE(i,r,o,u,d,g,T,w,M,K,Z,ne){return i=new gI(i,r,o,T,M,K,Z,ne,w),r=1,g===!0&&(r|=24),g=Dn(3,null,null,r),i.current=g,g.stateNode=i,r=Sm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Cm(g),i}function AE(i){return i?(i=yo,i):yo}function xE(i,r,o,u,d,g){d=AE(d),u.context===null?u.context=d:u.pendingContext=d,u=nr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ir(i,u,r),o!==null&&(bn(o,i,r),au(o,i,r))}function RE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Yp(i,r){RE(i,r),(i=i.alternate)&&RE(i,r)}function CE(i){if(i.tag===13||i.tag===31){var r=ga(i,67108864);r!==null&&bn(r,i,67108864),Yp(i,67108864)}}function IE(i){if(i.tag===13||i.tag===31){var r=Vn();r=sa(r);var o=ga(i,r);o!==null&&bn(o,i,r),Yp(i,r)}}var of=!0;function yI(i,r,o,u){var d=j.T;j.T=null;var g=J.p;try{J.p=2,Kp(i,r,o,u)}finally{J.p=g,j.T=d}}function vI(i,r,o,u){var d=j.T;j.T=null;var g=J.p;try{J.p=8,Kp(i,r,o,u)}finally{J.p=g,j.T=d}}function Kp(i,r,o,u){if(of){var d=$p(u);if(d===null)Op(i,r,u,lf,o),NE(i,u);else if(TI(d,i,r,o,u))u.stopPropagation();else if(NE(i,u),r&4&&-1<_I.indexOf(i)){for(;d!==null;){var g=zn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ii(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var M=1<<31-Tt(T);w.entanglements[1]|=M,T&=~M}$i(g),(Ge&6)===0&&(qh=fn()+500,bu(0))}}break;case 31:case 13:w=ga(g,2),w!==null&&bn(w,g,2),Gh(),Yp(g,2)}if(g=$p(u),g===null&&Op(i,r,u,lf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Op(i,r,u,null,o)}}function $p(i){return i=Fn(i),Qp(i)}var lf=null;function Qp(i){if(lf=null,i=Pi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return lf=i,null}function DE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case Nl:return 2;case Ml:return 8;case zs:case tm:return 32;case jc:return 268435456;default:return 32}default:return 32}}var Xp=!1,mr=null,pr=null,gr=null,Iu=new Map,Du=new Map,yr=[],_I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NE(i,r){switch(i){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Iu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(r.pointerId)}}function Nu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=zn(r),r!==null&&CE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function TI(i,r,o,u,d){switch(r){case"focusin":return mr=Nu(mr,i,r,o,u,d),!0;case"dragenter":return pr=Nu(pr,i,r,o,u,d),!0;case"mouseover":return gr=Nu(gr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Iu.set(g,Nu(Iu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Du.set(g,Nu(Du.get(g)||null,i,r,o,u,d)),!0}return!1}function ME(i){var r=Pi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,li(i.priority,function(){IE(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,li(i.priority,function(){IE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=$p(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Hl=u,o.target.dispatchEvent(u),Hl=null}else return r=zn(o),r!==null&&CE(r),i.blockedOn=o,!1;r.shift()}return!0}function OE(i,r,o){uf(i)&&o.delete(r)}function EI(){Xp=!1,mr!==null&&uf(mr)&&(mr=null),pr!==null&&uf(pr)&&(pr=null),gr!==null&&uf(gr)&&(gr=null),Iu.forEach(OE),Du.forEach(OE)}function cf(i,r){i.blockedOn===r&&(i.blockedOn=null,Xp||(Xp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EI)))}var hf=null;function PE(i){hf!==i&&(hf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hf===i&&(hf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Qp(u||o)===null)continue;break}var g=zn(o);g!==null&&(i.splice(r,3),r-=3,$m(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function zo(i){function r(M){return cf(M,i)}mr!==null&&cf(mr,i),pr!==null&&cf(pr,i),gr!==null&&cf(gr,i),Iu.forEach(r),Du.forEach(r);for(var o=0;o<yr.length;o++){var u=yr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<yr.length&&(o=yr[0],o.blockedOn===null);)ME(o),o.blockedOn===null&&yr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Ht]||null;if(typeof g=="function")T||PE(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Ht]||null)w=T.formAction;else if(Qp(d)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),PE(o)}}}function VE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Wp(i){this._internalRoot=i}ff.prototype.render=Wp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Vn();xE(o,u,i,r,null,null)},ff.prototype.unmount=Wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;xE(i.current,2,null,i,null,null),Gh(),r[Mi]=null}};function ff(i){this._internalRoot=i}ff.prototype.unstable_scheduleHydration=function(i){if(i){var r=Gc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<yr.length&&r!==0&&r<yr[o].priority;o++);yr.splice(o,0,i),o===0&&ME(i)}};var kE=e.version;if(kE!=="19.2.3")throw Error(s(527,kE,"19.2.3"));J.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var bI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{ai=df.inject(bI),Xt=df}catch{}}return Ou.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=q0,g=H0,T=G0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=SE(i,1,!1,null,null,o,u,null,d,g,T,VE),i[Mi]=r.current,Mp(i),new Wp(r)},Ou.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=q0,T=H0,w=G0,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=SE(i,1,!0,r,o??null,u,d,M,g,T,w,VE),r.context=AE(null),o=r.current,u=Vn(),u=sa(u),d=nr(u),d.callback=null,ir(o,d,u),o=u,r.current.lanes=o,na(r,o),$i(r),i[Mi]=r.current,Mp(i),new ff(r)},Ou.version="19.2.3",Ou}var YE;function MI(){if(YE)return eg.exports;YE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=NI(),eg.exports}var OI=MI();var KE="popstate";function PI(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Ug("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:nc(a)}return kI(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VI(){return Math.random().toString(36).substring(2,10)}function $E(t,e){return{usr:t.state,key:t.key,idx:e}}function Ug(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||s||VI()}}function nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function kI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let P=y(),q=P==null?null:P-p;p=P,m&&m({action:f,location:B.location,delta:q})}function b(P,q){f="PUSH";let $=Ug(B.location,P,q);p=y()+1;let G=$E($,p),re=B.createHref($);try{c.pushState(G,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(re)}l&&m&&m({action:f,location:B.location,delta:1})}function R(P,q){f="REPLACE";let $=Ug(B.location,P,q);p=y();let G=$E($,p),re=B.createHref($);c.replaceState(G,"",re),l&&m&&m({action:f,location:B.location,delta:0})}function D(P){return LI(P)}let B={get action(){return f},get location(){return t(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(KE,_),m=P,()=>{a.removeEventListener(KE,_),m=null}},createHref(P){return e(a,P)},createURL:D,encodeLocation(P){let q=D(P);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:b,replace:R,go(P){return c.go(P)}};return B}function LI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:nc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function c1(t,e,n="/"){return UI(t,e,n,!1)}function UI(t,e,n,s){let a=typeof e=="string"?gl(e):e,l=Ms(a.pathname||"/",n);if(l==null)return null;let c=h1(t);jI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=XI(l);f=$I(c[m],p,s)}return f}function h1(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ft(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Is([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),h1(c.children,e,b,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:YI(_,c.index),routesMeta:b})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of f1(c.path))l(c,f,!0,m)}),e}function f1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=f1(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function jI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BI=/^:[\w-]+$/,zI=3,FI=2,qI=1,HI=10,GI=-2,QE=t=>t==="*";function YI(t,e){let n=t.split("/"),s=n.length;return n.some(QE)&&(s+=GI),e&&(s+=FI),n.filter(a=>!QE(a)).reduce((a,l)=>a+(BI.test(l)?zI:l===""?qI:HI),s)}function KI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function $I(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Is([l,_.pathname]),pathnameBase:eD(Is([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Is([l,_.pathnameBase]))}return c}function Ff(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=QI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let D=f[b]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const R=f[b];return _&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function QI(t,e=!1,n=!0){si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function XI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WI=t=>d1.test(t);function JI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?gl(t):t,l;if(n)if(WI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=XE(n.substring(1),"/"):l=XE(n,e)}else l=e;return{pathname:l,search:tD(s),hash:nD(a)}}function XE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ly(t){let e=ZI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Uy(t,e,n,s=!1){let a;typeof t=="string"?a=gl(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),sg("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),sg("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),sg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let m=JI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Is=t=>t.join("/").replace(/\/\/+/g,"/"),eD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,iD=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function sD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var m1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function p1(t,e){let n=t;if(typeof n!="string"||!d1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(m1)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Ms(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var g1=["POST","PUT","PATCH","DELETE"];new Set(g1);var aD=["GET",...g1];new Set(aD);var yl=O.createContext(null);yl.displayName="DataRouter";var Td=O.createContext(null);Td.displayName="DataRouterState";var oD=O.createContext(!1),y1=O.createContext({isTransitioning:!1});y1.displayName="ViewTransition";var lD=O.createContext(new Map);lD.displayName="Fetchers";var uD=O.createContext(null);uD.displayName="Await";var jn=O.createContext(null);jn.displayName="Navigation";var yc=O.createContext(null);yc.displayName="Location";var rs=O.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var jy=O.createContext(null);jy.displayName="RouteError";var v1="REACT_ROUTER_ERROR",cD="REDIRECT",hD="ROUTE_ERROR_RESPONSE";function fD(t){if(t.startsWith(`${v1}:${cD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dD(t){if(t.startsWith(`${v1}:${hD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iD(e.status,e.statusText,e.data)}catch{}}function mD(t,{relative:e}={}){ft(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(jn),{hash:a,pathname:l,search:c}=vc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Is([n,l])),s.createHref({pathname:f,search:c,hash:a})}function vl(){return O.useContext(yc)!=null}function Yr(){return ft(vl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(yc).location}var _1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(t){O.useContext(jn).static||O.useLayoutEffect(t)}function Ed(){let{isDataRoute:t}=O.useContext(rs);return t?RD():pD()}function pD(){ft(vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(yl),{basename:e,navigator:n}=O.useContext(jn),{matches:s}=O.useContext(rs),{pathname:a}=Yr(),l=JSON.stringify(Ly(s)),c=O.useRef(!1);return T1(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(si(c.current,_1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Uy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Is([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}O.createContext(null);function vc(t,{relative:e}={}){let{matches:n}=O.useContext(rs),{pathname:s}=Yr(),a=JSON.stringify(Ly(n));return O.useMemo(()=>Uy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function gD(t,e){return E1(t,e)}function E1(t,e,n,s,a){ft(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(jn),{matches:c}=O.useContext(rs),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let $=_&&_.path||"";w1(p,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Yr(),R;if(e){let $=typeof e=="string"?gl(e):e;ft(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),R=$}else R=b;let D=R.pathname||"/",B=D;if(y!=="/"){let $=y.replace(/^\//,"").split("/");B="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let P=c1(t,{pathname:B});si(_||P!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),si(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=ED(P&&P.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:Is([y,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Is([y,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,s,a);return e&&q?O.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},q):q}function yD(){let t=xD(),e=sD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,c)}var vD=O.createElement(yD,null),b1=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=dD(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(rs.Provider,{value:this.props.routeContext},O.createElement(jy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(_D,{error:t},e):e}};b1.contextType=oD;var rg=new WeakMap;function _D({children:t,error:e}){let{basename:n}=O.useContext(jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=fD(e.digest);if(s){let a=rg.get(e);if(a)throw a;let l=p1(s.location,n);if(m1&&!rg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw rg.set(e,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function TD({routeContext:t,match:e,children:n}){let s=O.useContext(yl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(rs.Provider,{value:t},n)}function ED(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);ft(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:R}=n,D=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rD(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,b)=>{let R,D=!1,B=null,P=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,B=_.route.errorElement||vD,f&&(m<0&&b===0?(w1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,P=null):m===b&&(D=!0,P=_.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,b+1)),$=()=>{let G;return R?G=B:D?G=P:_.route.Component?G=O.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=y,O.createElement(TD,{match:_,routeContext:{outlet:y,matches:q,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?O.createElement(b1,{location:n.location,revalidation:n.revalidation,component:B,error:R,children:$(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:p}):$()},null)}function By(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bD(t){let e=O.useContext(yl);return ft(e,By(t)),e}function wD(t){let e=O.useContext(Td);return ft(e,By(t)),e}function SD(t){let e=O.useContext(rs);return ft(e,By(t)),e}function zy(t){let e=SD(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AD(){return zy("useRouteId")}function xD(){let t=O.useContext(jy),e=wD("useRouteError"),n=zy("useRouteError");return t!==void 0?t:e.errors?.[n]}function RD(){let{router:t}=bD("useNavigate"),e=zy("useNavigate"),n=O.useRef(!1);return T1(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{si(n.current,_1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var WE={};function w1(t,e,n){!e&&!WE[t]&&(WE[t]=!0,si(!1,n))}O.memo(CD);function CD({routes:t,future:e,state:n,onError:s}){return E1(t,void 0,n,s,e)}function JE({to:t,replace:e,state:n,relative:s}){ft(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(jn);si(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(rs),{pathname:c}=Yr(),f=Ed(),m=Uy(t,Ly(l),c,s==="path"),p=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function qo(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ID({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ft(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=gl(n));let{pathname:p="/",search:y="",hash:_="",state:b=null,key:R="default"}=n,D=O.useMemo(()=>{let B=Ms(p,f);return B==null?null:{location:{pathname:B,search:y,hash:_,state:b,key:R},navigationType:s}},[f,p,y,_,b,R,s]);return si(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:O.createElement(jn.Provider,{value:m},O.createElement(yc.Provider,{children:e,value:D}))}function DD({children:t,location:e}){return gD(jg(t),e)}function jg(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){n.push.apply(n,jg(s.props.children,l));return}ft(s.type===qo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=jg(s.props.children,l)),n.push(c)}),n}var xf="get",Rf="application/x-www-form-urlencoded";function bd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function ND(t){return bd(t)&&t.tagName.toLowerCase()==="button"}function MD(t){return bd(t)&&t.tagName.toLowerCase()==="form"}function OD(t){return bd(t)&&t.tagName.toLowerCase()==="input"}function PD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VD(t,e){return t.button===0&&(!e||e==="_self")&&!PD(t)}var mf=null;function kD(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var LD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(t){return t!=null&&!LD.has(t)?(si(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function UD(t,e){let n,s,a,l,c;if(MD(t)){let f=t.getAttribute("action");s=f?Ms(f,e):null,n=t.getAttribute("method")||xf,a=ag(t.getAttribute("enctype"))||Rf,l=new FormData(t)}else if(ND(t)||OD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Ms(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||xf,a=ag(t.getAttribute("formenctype"))||ag(f.getAttribute("enctype"))||Rf,l=new FormData(f,t),!kD()){let{name:p,type:y,value:_}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xf,s=null,a=Rf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ms(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function BD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await BD(l,n);return c.links?c.links():[]}return[]}));return YD(s.flat(1).filter(zD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ZE(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function qD(t,e,{includeHydrateFallback:n}={}){return HD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function HD(t){return[...new Set(t)]}function GD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function YD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(GD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function S1(){let t=O.useContext(yl);return Fy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function KD(){let t=O.useContext(Td);return Fy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qy=O.createContext(void 0);qy.displayName="FrameworkContext";function A1(){let t=O.useContext(qy);return Fy(t,"You must render this element inside a <HydratedRouter> element"),t}function $D(t,e){let n=O.useContext(qy),[s,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let B=q=>{q.forEach($=>{c($.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[t]),O.useEffect(()=>{if(s){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[s]);let R=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Pu(f,R),onBlur:Pu(m,D),onMouseEnter:Pu(p,R),onMouseLeave:Pu(y,D),onTouchStart:Pu(_,R)}]:[!1,b,{}]}function Pu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QD({page:t,...e}){let{router:n}=S1(),s=O.useMemo(()=>c1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(WD,{page:t,matches:s,...e}):null}function XD(t){let{manifest:e,routeModules:n}=A1(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return FD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function WD({page:t,matches:e,...n}){let s=Yr(),{manifest:a,routeModules:l}=A1(),{basename:c}=S1(),{loaderData:f,matches:m}=KD(),p=O.useMemo(()=>ZE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=O.useMemo(()=>ZE(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,B=!1;if(e.forEach(q=>{let $=a.routes[q.route.id];!$||!$.hasLoader||(!p.some(G=>G.route.id===q.route.id)&&q.route.id in f&&l[q.route.id]?.shouldRevalidate||$.hasClientLoader?B=!0:D.add(q.route.id))}),D.size===0)return[];let P=jD(t,c,"data");return B&&D.size>0&&P.searchParams.set("_routes",e.filter(q=>D.has(q.route.id)).map(q=>q.route.id).join(",")),[P.pathname+P.search]},[c,f,s,a,p,e,t,l]),b=O.useMemo(()=>qD(y,a),[y,a]),R=XD(y);return O.createElement(O.Fragment,null,_.map(D=>O.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>O.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:B})=>O.createElement("link",{key:D,nonce:n.nonce,...B})))}function JD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZD&&(window.__reactRouterVersion="7.11.0")}catch{}function eN({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=O.useRef();a.current==null&&(a.current=PI({window:s,v5Compat:!0}));let l=a.current,[c,f]=O.useState({action:l.action,location:l.location}),m=O.useCallback(p=>{n===!1?f(p):O.startTransition(()=>f(p))},[n]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.createElement(ID,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var x1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oa=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...R},D){let{basename:B,unstable_useTransitions:P}=O.useContext(jn),q=typeof p=="string"&&x1.test(p),$=p1(p,B);p=$.to;let G=mD(p,{relative:a}),[re,ae,le]=$D(s,R),C=sN(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:P});function x(L){e&&e(L),L.defaultPrevented||C(L)}let I=O.createElement("a",{...R,...le,href:$.absoluteURL||G,onClick:$.isExternal||l?e:x,ref:JD(D,ae),target:m,"data-discover":!q&&n==="render"?"true":void 0});return re&&!q?O.createElement(O.Fragment,null,I,O.createElement(QD,{page:G})):I});Oa.displayName="Link";var tN=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=vc(c,{relative:p.relative}),b=Yr(),R=O.useContext(Td),{navigator:D,basename:B}=O.useContext(jn),P=R!=null&&uN(_)&&f===!0,q=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,$=b.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||($=$.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&B&&(G=Ms(G,B)||G);const re=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ae=$===q||!a&&$.startsWith(q)&&$.charAt(re)==="/",le=G!=null&&(G===q||!a&&G.startsWith(q)&&G.charAt(q.length)==="/"),C={isActive:ae,isPending:le,isTransitioning:P},x=ae?e:void 0,I;typeof s=="function"?I=s(C):I=[s,ae?"active":null,le?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(C):l;return O.createElement(Oa,{...p,"aria-current":x,className:I,ref:y,style:L,to:c,viewTransition:f},typeof m=="function"?m(C):m)});tN.displayName="NavLink";var nN=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=xf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...R},D)=>{let{unstable_useTransitions:B}=O.useContext(jn),P=oN(),q=lN(f,{relative:p}),$=c.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&x1.test(f),re=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let le=ae.nativeEvent.submitter,C=le?.getAttribute("formmethod")||c,x=()=>P(le||ae.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b});B&&n!==!1?O.startTransition(()=>x()):x()};return O.createElement("form",{ref:D,method:$,action:q,onSubmit:s?m:re,...R,"data-discover":!G&&t==="render"?"true":void 0})});nN.displayName="Form";function iN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(t){let e=O.useContext(yl);return ft(e,iN(t)),e}function sN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Ed(),y=Yr(),_=vc(t,{relative:l});return O.useCallback(b=>{if(VD(b,e)){b.preventDefault();let R=n!==void 0?n:nc(y)===nc(_),D=()=>p(t,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?O.startTransition(()=>D()):D()}},[y,p,_,n,s,e,t,a,l,c,f,m])}var rN=0,aN=()=>`__${String(++rN)}__`;function oN(){let{router:t}=R1("useSubmit"),{basename:e}=O.useContext(jn),n=AD(),s=t.fetch,a=t.navigate;return O.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:y,body:_}=UD(l,e);if(c.navigate===!1){let b=c.fetcherKey||aN();await s(b,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function lN(t,{relative:e}={}){let{basename:n}=O.useContext(jn),s=O.useContext(rs);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...vc(t||".",{relative:e})},c=Yr();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Is([n,l.pathname])),nc(l)}function uN(t,{relative:e}={}){let n=O.useContext(y1);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R1("useViewTransitionState"),a=vc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ff(a.pathname,c)!=null||Ff(a.pathname,l)!=null}const cN=()=>{};var eb={};const C1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},hN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},I1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(b=64)),s.push(n[y],n[_],n[b],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new fN;const b=l<<2|f>>4;if(s.push(b),p!==64){const R=f<<4&240|p>>2;if(s.push(R),_!==64){const D=p<<6&192|_;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dN=function(t){const e=C1(t);return I1.encodeByteArray(e,!0)},qf=function(t){return dN(t).replace(/\./g,"")},D1=function(t){try{return I1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pN=()=>mN().__FIREBASE_DEFAULTS__,gN=()=>{if(typeof process>"u"||typeof eb>"u")return;const t=eb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D1(t[1]);return e&&JSON.parse(e)},wd=()=>{try{return cN()||pN()||gN()||yN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N1=t=>wd()?.emulatorHosts?.[t],M1=t=>{const e=N1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},O1=()=>wd()?.config,P1=t=>wd()?.[`_${t}`];class vN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ya(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hy(t){return(await fetch(t,{credentials:"include"})).ok}function V1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qf(JSON.stringify(n)),qf(JSON.stringify(c)),""].join(".")}const Gu={};function _N(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?t.emulator.push(e):t.prod.push(e);return t}function TN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tb=!1;function Gy(t,e){if(typeof window>"u"||typeof document>"u"||!Ya(window.location.host)||Gu[t]===e||Gu[t]||tb)return;Gu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=_N().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{tb=!0,c()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=TN(s),R=n("text"),D=document.getElementById(R)||document.createElement("span"),B=n("learnmore"),P=document.getElementById(B)||document.createElement("a"),q=n("preprendIcon"),$=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const G=b.element;f(G),y(P,B);const re=p();m($,q),G.append($,D,P,re),document.body.appendChild(G)}l?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function bN(){const t=wd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xN(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RN(){return!bN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CN(){try{return typeof indexedDB=="object"}catch{return!1}}function IN(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const DN="FirebaseError";class as extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DN,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?NN(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new as(a,f,s)}}function NN(t,e){return t.replace(MN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const MN=/\{\$([^}]+)}/g;function ON(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ba(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(nb(l)&&nb(c)){if(!Ba(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function nb(t){return t!==null&&typeof t=="object"}function Tc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ju(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PN(t,e){const n=new VN(t,e);return n.subscribe.bind(n)}class VN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=og),a.error===void 0&&(a.error=og),a.complete===void 0&&(a.complete=og);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}function qt(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Da="[DEFAULT]";class LN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new vN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(t){return t===Da?void 0:t}function jN(t){return t.instantiationMode==="EAGER"}class BN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const zN={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},FN=ke.INFO,qN={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},HN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=qN[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yy{constructor(e){this.name=e,this._logLevel=FN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const GN=(t,e)=>e.some(n=>t instanceof n);let ib,sb;function YN(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KN(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k1=new WeakMap,Bg=new WeakMap,L1=new WeakMap,lg=new WeakMap,Ky=new WeakMap;function $N(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Cr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&k1.set(n,t)}).catch(()=>{}),Ky.set(e,t),e}function QN(t){if(Bg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Bg.set(t,e)}let zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XN(t){zg=t(zg)}function WN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ug(this),e,...n);return L1.set(s,e.sort?e.sort():[e]),Cr(s)}:KN().includes(t)?function(...e){return t.apply(ug(this),e),Cr(k1.get(this))}:function(...e){return Cr(t.apply(ug(this),e))}}function JN(t){return typeof t=="function"?WN(t):(t instanceof IDBTransaction&&QN(t),GN(t,YN())?new Proxy(t,zg):t)}function Cr(t){if(t instanceof IDBRequest)return $N(t);if(lg.has(t))return lg.get(t);const e=JN(t);return e!==t&&(lg.set(t,e),Ky.set(e,t)),e}const ug=t=>Ky.get(t);function ZN(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Cr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Cr(c.result),m.oldVersion,m.newVersion,Cr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const eM=["get","getKey","getAll","getAllKeys","count"],tM=["put","add","delete","clear"],cg=new Map;function rb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=tM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||eM.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return cg.set(e,l),l}XN(t=>({...t,get:(e,n,s)=>rb(e,n)||t.get(e,n,s),has:(e,n)=>!!rb(e,n)||t.has(e,n)}));class nM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iM(t){return t.getComponent()?.type==="VERSION"}const Fg="@firebase/app",ab="0.14.6";const Os=new Yy("@firebase/app"),sM="@firebase/app-compat",rM="@firebase/analytics-compat",aM="@firebase/analytics",oM="@firebase/app-check-compat",lM="@firebase/app-check",uM="@firebase/auth",cM="@firebase/auth-compat",hM="@firebase/database",fM="@firebase/data-connect",dM="@firebase/database-compat",mM="@firebase/functions",pM="@firebase/functions-compat",gM="@firebase/installations",yM="@firebase/installations-compat",vM="@firebase/messaging",_M="@firebase/messaging-compat",TM="@firebase/performance",EM="@firebase/performance-compat",bM="@firebase/remote-config",wM="@firebase/remote-config-compat",SM="@firebase/storage",AM="@firebase/storage-compat",xM="@firebase/firestore",RM="@firebase/ai",CM="@firebase/firestore-compat",IM="firebase",DM="12.6.0";const qg="[DEFAULT]",NM={[Fg]:"fire-core",[sM]:"fire-core-compat",[aM]:"fire-analytics",[rM]:"fire-analytics-compat",[lM]:"fire-app-check",[oM]:"fire-app-check-compat",[uM]:"fire-auth",[cM]:"fire-auth-compat",[hM]:"fire-rtdb",[fM]:"fire-data-connect",[dM]:"fire-rtdb-compat",[mM]:"fire-fn",[pM]:"fire-fn-compat",[gM]:"fire-iid",[yM]:"fire-iid-compat",[vM]:"fire-fcm",[_M]:"fire-fcm-compat",[TM]:"fire-perf",[EM]:"fire-perf-compat",[bM]:"fire-rc",[wM]:"fire-rc-compat",[SM]:"fire-gcs",[AM]:"fire-gcs-compat",[xM]:"fire-fst",[CM]:"fire-fst-compat",[RM]:"fire-vertex","fire-js":"fire-js",[IM]:"fire-js-all"};const Hf=new Map,MM=new Map,Hg=new Map;function ob(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function za(t){const e=t.name;if(Hg.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,t);for(const n of Hf.values())ob(n,t);for(const n of MM.values())ob(n,t);return!0}function Sd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}const OM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new _c("app","Firebase",OM);class PM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const Ka=DM;function U1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:qg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ir.create("bad-app-name",{appName:String(a)});if(n||(n=O1()),!n)throw Ir.create("no-options");const l=Hf.get(a);if(l){if(Ba(n,l.options)&&Ba(s,l.config))return l;throw Ir.create("duplicate-app",{appName:a})}const c=new BN(a);for(const m of Hg.values())c.addComponent(m);const f=new PM(n,s,c);return Hf.set(a,f),f}function $y(t=qg){const e=Hf.get(t);if(!e&&t===qg&&O1())return U1();if(!e)throw Ir.create("no-app",{appName:t});return e}function Xi(t,e,n){let s=NM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}za(new kr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const VM="firebase-heartbeat-database",kM=1,ic="firebase-heartbeat-store";let hg=null;function j1(){return hg||(hg=ZN(VM,kM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),hg}async function LM(t){try{const n=(await j1()).transaction(ic),s=await n.objectStore(ic).get(B1(t));return await n.done,s}catch(e){if(e instanceof as)Os.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e?.message});Os.warn(n.message)}}}async function lb(t,e){try{const s=(await j1()).transaction(ic,"readwrite");await s.objectStore(ic).put(e,B1(t)),await s.done}catch(n){if(n instanceof as)Os.warn(n.message);else{const s=Ir.create("idb-set",{originalErrorMessage:n?.message});Os.warn(s.message)}}}function B1(t){return`${t.name}!${t.options.appId}`}const UM=1024,jM=30;class BM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ub();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>jM){const a=qM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ub(),{heartbeatsToSend:n,unsentEntries:s}=zM(this._heartbeatsCache.heartbeats),a=qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Os.warn(e),""}}}function ub(){return new Date().toISOString().substring(0,10)}function zM(t,e=UM){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),cb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),cb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CN()?IN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cb(t){return qf(JSON.stringify({version:2,heartbeats:t})).length}function qM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function HM(t){za(new kr("platform-logger",e=>new nM(e),"PRIVATE")),za(new kr("heartbeat",e=>new BM(e),"PRIVATE")),Xi(Fg,ab,t),Xi(Fg,ab,"esm2020"),Xi("fire-js","")}HM("");var GM="firebase",YM="12.7.0";Xi(GM,YM,"app");function z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KM=z1,F1=new _c("auth","Firebase",z1());const Gf=new Yy("@firebase/auth");function $M(t,...e){Gf.logLevel<=ke.WARN&&Gf.warn(`Auth (${Ka}): ${t}`,...e)}function Cf(t,...e){Gf.logLevel<=ke.ERROR&&Gf.error(`Auth (${Ka}): ${t}`,...e)}function Ai(t,...e){throw Qy(t,...e)}function Wi(t,...e){return Qy(t,...e)}function q1(t,e,n){const s={...KM(),[e]:n};return new _c("auth","Firebase",s).create(e,{appName:t.name})}function Dr(t){return q1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return F1.create(t,...e)}function Ee(t,e,...n){if(!t)throw Qy(e,...n)}function Rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cf(e),new Error(e)}function Ps(t,e){t||Rs(e)}function Gg(){return typeof self<"u"&&self.location?.href||""}function QM(){return hb()==="http:"||hb()==="https:"}function hb(){return typeof self<"u"&&self.location?.protocol||null}function XM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QM()||SN()||"connection"in navigator)?navigator.onLine:!0}function WM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=EN()||AN()}get(){return XM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xy(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class H1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eO=new Ec(3e4,6e4);function $a(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kr(t,e,n,s,a={}){return G1(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Tc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return wN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ya(t.emulatorConfig.host)&&(p.credentials="include"),H1.fetch()(await Y1(t,t.config.apiHost,n,f),p)})}async function G1(t,e,n){t._canInitEmulator=!1;const s={...JM,...e};try{const a=new nO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw pf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw pf(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw q1(t,y,p);Ai(t,y)}}catch(a){if(a instanceof as)throw a;Ai(t,"network-request-failed",{message:String(a)})}}async function Ad(t,e,n,s,a={}){const l=await Kr(t,e,n,s,a);return"mfaPendingCredential"in l&&Ai(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Y1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Xy(t.config,a):`${t.config.apiScheme}://${a}`;return ZM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function tO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wi(this.auth,"network-request-failed")),eO.get())})}}function pf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Wi(t,e,s);return a.customData._tokenResponse=n,a}function fb(t){return t!==void 0&&t.enterprise!==void 0}class iO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sO(t,e){return Kr(t,"GET","/v2/recaptchaConfig",$a(t,e))}async function rO(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function Yf(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}function Yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aO(t,e=!1){const n=qt(t),s=await n.getIdToken(e),a=Wy(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Yu(fg(a.auth_time)),issuedAtTime:Yu(fg(a.iat)),expirationTime:Yu(fg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function fg(t){return Number(t)*1e3}function Wy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=D1(n);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function db(t){const e=Wy(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof as&&oO(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function oO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class lO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kf(t){const e=t.auth,n=await t.getIdToken(),s=await sc(t,Yf(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?K1(a.providerUserInfo):[],c=cO(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Yg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function uO(t){const e=qt(t);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cO(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function K1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function hO(t,e){const n=await G1(t,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await Y1(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Ya(t.emulatorConfig.host)&&(m.credentials="include"),H1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fO(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",$a(t,e))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=db(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await hO(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new tl;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function _r(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new lO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aO(this,e)}reload(){return uO(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Kf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await sc(this,rO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:R,providerData:D,stsTokenManager:B}=n;Ee(_&&B,e,"internal-error");const P=tl.fromJSON(this.name,B);Ee(typeof _=="string",e,"internal-error"),_r(s,e.name),_r(a,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof R=="boolean",e,"internal-error"),_r(l,e.name),_r(c,e.name),_r(f,e.name),_r(m,e.name),_r(p,e.name),_r(y,e.name);const q=new Ti({uid:_,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(q.providerData=D.map($=>({...$}))),m&&(q._redirectEventId=m),q}static async _fromIdTokenResponse(e,n,s=!1){const a=new tl;a.updateFromServerResponse(n);const l=new Ti({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Kf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?K1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new tl;f.updateFromIdToken(s);const m=new Ti({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Yg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const mb=new Map;function Cs(t){Ps(t instanceof Function,"Expected a class definition");let e=mb.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mb.set(t,e),e)}class $1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$1.type="NONE";const pb=$1;function If(t,e,n){return`firebase:${t}:${e}:${n}`}class nl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=If(this.userKey,a.apiKey,l),this.fullPersistenceKey=If("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yf(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new nl(Cs(pb),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Cs(pb);const c=If(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Yf(e,{idToken:y}).catch(()=>{});if(!b)break;_=await Ti._fromGetAccountInfoResponse(e,b,y)}else _=Ti._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new nl(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new nl(l,e,s))}}function gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eA(e))return"Blackberry";if(tA(e))return"Webos";if(X1(e))return"Safari";if((e.includes("chrome/")||W1(e))&&!e.includes("edge/"))return"Chrome";if(Z1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function Q1(t=hn()){return/firefox\//i.test(t)}function X1(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W1(t=hn()){return/crios\//i.test(t)}function J1(t=hn()){return/iemobile/i.test(t)}function Z1(t=hn()){return/android/i.test(t)}function eA(t=hn()){return/blackberry/i.test(t)}function tA(t=hn()){return/webos/i.test(t)}function Jy(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dO(t=hn()){return Jy(t)&&!!window.navigator?.standalone}function mO(){return xN()&&document.documentMode===10}function nA(t=hn()){return Jy(t)||Z1(t)||tA(t)||eA(t)||/windows phone/i.test(t)||J1(t)}function iA(t,e=[]){let n;switch(t){case"Browser":n=gb(hn());break;case"Worker":n=`${gb(hn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${s}`}class pO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function gO(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",$a(t,e))}const yO=6;class vO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class _O{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new pO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yf(this,{idToken:e}),s=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Dr(this));const n=e?qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gO(this),n=new vO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await fO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$M(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _l(t){return qt(t)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=PN(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TO(t){xd=t}function sA(t){return xd.loadJS(t)}function EO(){return xd.recaptchaEnterpriseScript}function bO(){return xd.gapiScript}function wO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SO{constructor(){this.enterprise=new AO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xO="recaptcha-enterprise",rA="NO_RECAPTCHA";class RO{constructor(e){this.type=xO,this.auth=_l(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{sO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new iO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;fb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(rA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&fb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=EO();m.length!==0&&(m+=f),sA(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function vb(t,e,n,s=!1,a=!1){const l=new RO(t);let c;if(a)c=rA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function _b(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await vb(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await vb(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}function CO(t,e){const n=Sd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ba(l,e??{}))return a;Ai(a,"already-initialized")}return n.initialize({options:e})}function IO(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function DO(t,e,n){const s=_l(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=aA(e),{host:c,port:f}=NO(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ba(p,s.config.emulator)&&Ba(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ya(c)?(Hy(`${l}//${c}${m}`),Gy("Auth",!0)):MO()}function aA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NO(t){const e=aA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Tb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Tb(c)}}}function Tb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,n){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function OO(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}async function PO(t,e){return Ad(t,"POST","/v1/accounts:signInWithPassword",$a(t,e))}async function VO(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",$a(t,e))}async function kO(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",$a(t,e))}class rc extends Zy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new rc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _b(e,n,"signInWithPassword",PO);case"emailLink":return VO(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _b(e,s,"signUpPassword",OO);case"emailLink":return kO(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function il(t,e){return Ad(t,"POST","/v1/accounts:signInWithIdp",$a(t,e))}const LO="http://localhost";class Fa extends Zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Fa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,il(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:LO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}function UO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jO(t){const e=Uu(ju(t)).link,n=e?Uu(ju(e)).deep_link_id:null,s=Uu(ju(t)).deep_link_id;return(s?Uu(ju(s)).link:null)||s||n||e||t}class ev{constructor(e){const n=Uu(ju(e)),s=n.apiKey??null,a=n.oobCode??null,l=UO(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jO(e);try{return new ev(n)}catch{return null}}}class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ev.parseLink(n);return Ee(s,"argument-error"),rc._fromEmailAndCode(e,s.code,s.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bc extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class br extends bc{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";class wr extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class Sr extends bc{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";class Ar extends bc{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ti._fromIdTokenResponse(e,s,a),c=Eb(s);return new al({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Eb(s);return new al({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class $f extends as{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new $f(e,n,s,a)}}function lA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(t,l,e,s):l})}async function BO(t,e,n=!1){const s=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return al._forOperation(t,"link",s)}async function zO(t,e,n=!1){const{auth:s}=t;if(ti(s.app))return Promise.reject(Dr(s));const a="reauthenticate";try{const l=await sc(t,lA(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const c=Wy(l.idToken);Ee(c,s,"internal-error");const{sub:f}=c;return Ee(t.uid===f,s,"user-mismatch"),al._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ai(s,"user-mismatch"),l}}async function uA(t,e,n=!1){if(ti(t.app))return Promise.reject(Dr(t));const s="signIn",a=await lA(t,s,e),l=await al._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function FO(t,e){return uA(_l(t),e)}async function qO(t){const e=_l(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HO(t,e,n){return ti(t.app)?Promise.reject(Dr(t)):FO(qt(t),Tl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&qO(t),s})}function GO(t,e,n,s){return qt(t).onIdTokenChanged(e,n,s)}function YO(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function KO(t,e,n,s){return qt(t).onAuthStateChanged(e,n,s)}const Qf="__sak";class cA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $O=1e3,QO=10;class hA extends cA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);mO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,QO):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hA.type="LOCAL";const XO=hA;class fA extends cA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fA.type="SESSION";const dA=fA;function WO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await WO(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];function tv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class JO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=tv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ji(){return window}function ZO(t){Ji().location.href=t}function mA(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function eP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tP(){return navigator?.serviceWorker?.controller||null}function nP(){return mA()?self:null}const pA="firebaseLocalStorageDb",iP=1,Xf="firebaseLocalStorage",gA="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function sP(){const t=indexedDB.deleteDatabase(pA);return new wc(t).toPromise()}function Kg(){const t=indexedDB.open(pA,iP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Xf,{keyPath:gA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Xf)?e(s):(s.close(),await sP(),e(await Kg()))})})}async function bb(t,e,n){const s=Cd(t,!0).put({[gA]:e,value:n});return new wc(s).toPromise()}async function rP(t,e){const n=Cd(t,!1).get(e),s=await new wc(n).toPromise();return s===void 0?null:s.value}function wb(t,e){const n=Cd(t,!0).delete(e);return new wc(n).toPromise()}const aP=800,oP=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(nP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eP(),!this.activeServiceWorker)return;this.sender=new JO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await bb(e,Qf,"1"),await wb(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>rP(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Cd(a,!1).getAll();return new wc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const lP=yA;new Ec(3e4,6e4);function uP(t,e){return e?Cs(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class nv extends Zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cP(t){return uA(t.auth,new nv(t),t.bypassAuthState)}function hP(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),zO(n,new nv(t),t.bypassAuthState)}async function fP(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),BO(n,new nv(t),t.bypassAuthState)}class vA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cP;case"linkViaPopup":case"linkViaRedirect":return fP;case"reauthViaPopup":case"reauthViaRedirect":return hP;default:Ai(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dP=new Ec(2e3,1e4);class $o extends vA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dP.get())};e()}}$o.currentPopupAction=null;const mP="pendingRedirect",Df=new Map;class pP extends vA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const s=await gP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gP(t,e){const n=_P(e),s=vP(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function yP(t,e){Df.set(t._key(),e)}function vP(t){return Cs(t._redirectPersistence)}function _P(t){return If(mP,t.config.apiKey,t.name)}async function TP(t,e,n=!1){if(ti(t.app))return Promise.reject(Dr(t));const s=_l(t),a=uP(s,e),c=await new pP(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const EP=600*1e3;class bP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_A(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sb(e))}saveEventToCache(e){this.cachedEventUids.add(Sb(e)),this.lastProcessedEventTime=Date.now()}}function Sb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _A({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _A(t);default:return!1}}async function SP(t,e={}){return Kr(t,"GET","/v1/projects",e)}const AP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xP=/^https?/;async function RP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SP(t);for(const n of e)try{if(CP(n))return}catch{}Ai(t,"unauthorized-domain")}function CP(t){const e=Gg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!xP.test(n))return!1;if(AP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const IP=new Ec(3e4,6e4);function Ab(){const t=Ji().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DP(t){return new Promise((e,n)=>{function s(){Ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ab(),n(Wi(t,"network-request-failed"))},timeout:IP.get()})}if(Ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ji().gapi?.load)s();else{const a=wO("iframefcb");return Ji()[a]=()=>{gapi.load?s():n(Wi(t,"network-request-failed"))},sA(`${bO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nf=null,e})}let Nf=null;function NP(t){return Nf=Nf||DP(t),Nf}const MP=new Ec(5e3,15e3),OP="__/auth/iframe",PP="emulator/auth/iframe",VP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LP(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,PP):`https://${t.config.authDomain}/${OP}`,s={apiKey:e.apiKey,appName:t.name,v:Ka},a=kP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Tc(s).slice(1)}`}async function UP(t){const e=await NP(t),n=Ji().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:LP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Wi(t,"network-request-failed"),f=Ji().setTimeout(()=>{l(c)},MP.get());function m(){Ji().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const jP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BP=500,zP=600,FP="_blank",qP="http://localhost";class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HP(t,e,n,s=BP,a=zP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...jP,width:s.toString(),height:a.toString(),top:l,left:c},p=hn().toLowerCase();n&&(f=W1(p)?FP:n),Q1(p)&&(e=e||qP,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[R,D])=>`${b}${R}=${D},`,"");if(dO(p)&&f!=="_self")return GP(e||"",f),new xb(null);const _=window.open(e||"",f,y);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new xb(_)}function GP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const YP="__/auth/handler",KP="emulator/auth/handler",$P=encodeURIComponent("fac");async function Rb(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ka,eventId:a};if(e instanceof oA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ON(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof bc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${$P}=${encodeURIComponent(m)}`:"";return`${QP(t)}?${Tc(f).slice(1)}${p}`}function QP({config:t}){return t.emulator?Xy(t,KP):`https://${t.authDomain}/${YP}`}const dg="webStorageSupport";class XP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dA,this._completeRedirectFn=TP,this._overrideRedirectResult=yP}async _openPopup(e,n,s,a){Ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Rb(e,n,s,Gg(),a);return HP(e,l,tv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Rb(e,n,s,Gg(),a);return ZO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ps(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await UP(e),s=new bP(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dg,{type:dg},a=>{const l=a?.[0]?.[dg];l!==void 0&&n(!!l),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nA()||X1()||Jy()}}const WP=XP;var Cb="@firebase/auth",Ib="1.12.0";class JP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eV(t){za(new kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iA(t)},p=new _O(s,a,l,m);return IO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),za(new kr("auth-internal",e=>{const n=_l(e.getProvider("auth").getImmediate());return(s=>new JP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(Cb,Ib,ZP(t)),Xi(Cb,Ib,"esm2020")}const tV=300,nV=P1("authIdTokenMaxAge")||tV;let Db=null;const iV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>nV)return;const a=n?.token;Db!==a&&(Db=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function sV(t=$y()){const e=Sd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CO(t,{popupRedirectResolver:WP,persistence:[lP,XO,dA]}),s=P1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=iV(l.toString());YO(n,c,()=>c(n.currentUser)),GO(n,f=>c(f))}}const a=N1("auth");return a&&DO(n,`http://${a}`),n}function rV(){return document.getElementsByTagName("head")?.[0]??document}TO({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Wi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",rV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eV("Browser");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,TA;(function(){var t;function e(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(L,V,F){for(var N=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)N[Ye-2]=arguments[Ye];return x.prototype[V].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,x,I){I||(I=0);const L=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)L[V]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(V=0;V<16;++V)L[V]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],V=C.g[2];let F=C.g[3],N;N=x+(F^I&(V^F))+L[0]+3614090360&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(V^x&(I^V))+L[1]+3905402710&4294967295,F=x+(N<<12&4294967295|N>>>20),N=V+(I^F&(x^I))+L[2]+606105819&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(x^V&(F^x))+L[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=x+(F^I&(V^F))+L[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(V^x&(I^V))+L[5]+1200080426&4294967295,F=x+(N<<12&4294967295|N>>>20),N=V+(I^F&(x^I))+L[6]+2821735955&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(x^V&(F^x))+L[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=x+(F^I&(V^F))+L[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(V^x&(I^V))+L[9]+2336552879&4294967295,F=x+(N<<12&4294967295|N>>>20),N=V+(I^F&(x^I))+L[10]+4294925233&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(x^V&(F^x))+L[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=x+(F^I&(V^F))+L[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=F+(V^x&(I^V))+L[13]+4254626195&4294967295,F=x+(N<<12&4294967295|N>>>20),N=V+(I^F&(x^I))+L[14]+2792965006&4294967295,V=F+(N<<17&4294967295|N>>>15),N=I+(x^V&(F^x))+L[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=x+(V^F&(I^V))+L[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(x^I))+L[6]+3225465664&4294967295,F=x+(N<<9&4294967295|N>>>23),N=V+(x^I&(F^x))+L[11]+643717713&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(V^F))+L[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=x+(V^F&(I^V))+L[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(x^I))+L[10]+38016083&4294967295,F=x+(N<<9&4294967295|N>>>23),N=V+(x^I&(F^x))+L[15]+3634488961&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(V^F))+L[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=x+(V^F&(I^V))+L[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(x^I))+L[14]+3275163606&4294967295,F=x+(N<<9&4294967295|N>>>23),N=V+(x^I&(F^x))+L[3]+4107603335&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(V^F))+L[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=x+(V^F&(I^V))+L[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=F+(I^V&(x^I))+L[2]+4243563512&4294967295,F=x+(N<<9&4294967295|N>>>23),N=V+(x^I&(F^x))+L[7]+1735328473&4294967295,V=F+(N<<14&4294967295|N>>>18),N=I+(F^x&(V^F))+L[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=x+(I^V^F)+L[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^V)+L[8]+2272392833&4294967295,F=x+(N<<11&4294967295|N>>>21),N=V+(F^x^I)+L[11]+1839030562&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^x)+L[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=x+(I^V^F)+L[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^V)+L[4]+1272893353&4294967295,F=x+(N<<11&4294967295|N>>>21),N=V+(F^x^I)+L[7]+4139469664&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^x)+L[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=x+(I^V^F)+L[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^V)+L[0]+3936430074&4294967295,F=x+(N<<11&4294967295|N>>>21),N=V+(F^x^I)+L[3]+3572445317&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^x)+L[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=x+(I^V^F)+L[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=F+(x^I^V)+L[12]+3873151461&4294967295,F=x+(N<<11&4294967295|N>>>21),N=V+(F^x^I)+L[15]+530742520&4294967295,V=F+(N<<16&4294967295|N>>>16),N=I+(V^F^x)+L[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=x+(V^(I|~F))+L[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~V))+L[7]+1126891415&4294967295,F=x+(N<<10&4294967295|N>>>22),N=V+(x^(F|~I))+L[14]+2878612391&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~x))+L[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=x+(V^(I|~F))+L[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~V))+L[3]+2399980690&4294967295,F=x+(N<<10&4294967295|N>>>22),N=V+(x^(F|~I))+L[10]+4293915773&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~x))+L[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=x+(V^(I|~F))+L[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~V))+L[15]+4264355552&4294967295,F=x+(N<<10&4294967295|N>>>22),N=V+(x^(F|~I))+L[6]+2734768916&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~x))+L[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=x+(V^(I|~F))+L[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=F+(I^(x|~V))+L[11]+3174756917&4294967295,F=x+(N<<10&4294967295|N>>>22),N=V+(x^(F|~I))+L[2]+718787259&4294967295,V=F+(N<<15&4294967295|N>>>17),N=I+(F^(V|~x))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+F&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,L=this.C;let V=this.h,F=0;for(;F<x;){if(V==0)for(;F<=I;)a(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<x;)if(L[V++]=C.charCodeAt(F++),V==this.blockSize){a(this,L),V=0;break}}else for(;F<x;)if(L[V++]=C[F++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)C[x++]=this.g[I]>>>L&255;return C};function l(C,x){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function c(C,x){this.h=x;const I=[];let L=!0;for(let V=C.length-1;V>=0;V--){const F=C[V]|0;L&&F==x||(I[V]=F,L=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(x){return new c([x|0],x<0?-1:0)}):new c([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return P(p(-C));const x=[];let I=1;for(let L=0;C>=I;L++)x[L]=C/I|0,I*=4294967296;return new c(x,0)}function y(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return P(y(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(x,8));let L=_;for(let F=0;F<C.length;F+=8){var V=Math.min(8,C.length-F);const N=parseInt(C.substring(F,F+V),x);V<8?(V=p(Math.pow(x,V)),L=L.j(V).add(p(N))):(L=L.j(I),L=L.add(p(N)))}return L}var _=m(0),b=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(B(this))return-P(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);C+=(L>=0?L:4294967296+L)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(B(this))return"-"+P(this).toString(C);const x=p(Math.pow(C,6));var I=this;let L="";for(;;){const V=re(I,x).g;I=q(I,V.j(x));let F=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,D(I))return F+L;for(;F.length<6;)F="0"+F;L=F+L}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function B(C){return C.h==-1}t.l=function(C){return C=q(this,C),B(C)?-1:D(C)?0:1};function P(C){const x=C.g.length,I=[];for(let L=0;L<x;L++)I[L]=~C.g[L];return new c(I,~C.h).add(b)}t.abs=function(){return B(this)?P(this):this},t.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let L=0;for(let V=0;V<=x;V++){let F=L+(this.i(V)&65535)+(C.i(V)&65535),N=(F>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);L=N>>>16,F&=65535,N&=65535,I[V]=N<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function q(C,x){return C.add(P(x))}t.j=function(C){if(D(this)||D(C))return _;if(B(this))return B(C)?P(this).j(P(C)):P(P(this).j(C));if(B(C))return P(this.j(P(C)));if(this.l(R)<0&&C.l(R)<0)return p(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var L=0;L<2*x;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<C.g.length;V++){const F=this.i(L)>>>16,N=this.i(L)&65535,Ye=C.i(V)>>>16,st=C.i(V)&65535;I[2*L+2*V]+=N*st,$(I,2*L+2*V),I[2*L+2*V+1]+=F*st,$(I,2*L+2*V+1),I[2*L+2*V+1]+=N*Ye,$(I,2*L+2*V+1),I[2*L+2*V+2]+=F*Ye,$(I,2*L+2*V+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new c(I,0)};function $(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function G(C,x){this.g=C,this.h=x}function re(C,x){if(D(x))throw Error("division by zero");if(D(C))return new G(_,_);if(B(C))return x=re(P(C),x),new G(P(x.g),P(x.h));if(B(x))return x=re(C,P(x)),new G(P(x.g),x.h);if(C.g.length>30){if(B(C)||B(x))throw Error("slowDivide_ only works with positive integers.");for(var I=b,L=x;L.l(C)<=0;)I=ae(I),L=ae(L);var V=le(I,1),F=le(L,1);for(L=le(L,2),I=le(I,2);!D(L);){var N=F.add(L);N.l(C)<=0&&(V=V.add(I),F=N),L=le(L,1),I=le(I,1)}return x=q(C,V.j(x)),new G(V,x)}for(V=_;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),F=p(I),N=F.j(x);B(N)||N.l(C)>0;)I-=L,F=p(I),N=F.j(x);D(F)&&(F=b),V=V.add(F),C=q(C,N)}return new G(V,C)}t.B=function(C){return re(this,C).h},t.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)&C.i(L);return new c(I,this.h&C.h)},t.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)|C.i(L);return new c(I,this.h|C.h)},t.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<x;L++)I[L]=this.i(L)^C.i(L);return new c(I,this.h^C.h)};function ae(C){const x=C.g.length+1,I=[];for(let L=0;L<x;L++)I[L]=C.i(L)<<1|C.i(L-1)>>>31;return new c(I,C.h)}function le(C,x){const I=x>>5;x%=32;const L=C.g.length-I,V=[];for(let F=0;F<L;F++)V[F]=x>0?C.i(F+I)>>>x|C.i(F+I+1)<<32-x:C.i(F+I);return new c(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,TA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Nr=c}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EA,Bu,bA,Mf,$g,wA,SA,AA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in E))break e;E=E[H]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=m,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,H,X){for(var ue=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ue[Ce-2]=arguments[Ce];return v.prototype[H].apply(A,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function D(h,v){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const X=H.length||0;h.length=E+X;for(let ue=0;ue<X;ue++)h[E+ue]=H[ue]}else h.push(H)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(h){c.setTimeout(()=>{throw h},0)}function q(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,E){const A=G.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var G=new B(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,le=!1,C=new $,x=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(I)}};function I(){for(var h;h=q();){try{h.h.call(h.g)}catch(E){P(E)}var v=G;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}le=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Ye(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Ye,V),Ye.prototype.init=function(h,v){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),j=0;function J(h,v,E,A,H){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=H,this.key=++j,this.da=this.fa=!1}function oe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function _e(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function k(h){const v={};for(const E in h)v[E]=h[E];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,v){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)h[E]=A[E];for(let X=0;X<ee.length;X++)E=ee[X],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,E,A,H){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=De(h,v,A,H);return ue>-1?(v=h[ue],E||(v.fa=!1)):(v=new J(v,this.src,X,!!A,H),v.fa=E,h.push(v)),v};function Se(h,v){const E=v.type;if(E in h.g){var A=h.g[E],H=Array.prototype.indexOf.call(A,v,void 0),X;(X=H>=0)&&Array.prototype.splice.call(A,H,1),X&&(oe(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function De(h,v,E,A){for(let H=0;H<h.length;++H){const X=h[H];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==A)return H}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ut={};function lt(h,v,E,A,H){if(Array.isArray(v)){for(let X=0;X<v.length;X++)lt(h,v[X],E,A,H);return null}return E=Dl(E),h&&h[st]?h.J(v,E,f(A)?!!A.capture:!1,H):Jr(h,v,E,!1,A,H)}function Jr(h,v,E,A,H,X){if(!v)throw Error("Invalid event type");const ue=f(H)?!!H.capture:!!H;let Ce=Zr(h);if(Ce||(h[Be]=Ce=new fe(h)),E=Ce.add(v,E,A,ue,X),E.proxy)return E;if(A=Wa(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)F||(H=ue),H===void 0&&(H=!1),h.addEventListener(v.toString(),A,H);else if(h.attachEvent)h.attachEvent(Ri(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wa(){function h(E){return v.call(h.src,h.listener,E)}const v=Cl;return h}function Ja(h,v,E,A,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ja(h,v[X],E,A,H);else A=f(A)?!!A.capture:!!A,E=Dl(E),h&&h[st]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],E=De(v,E,A,H),E>-1&&(oe(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Zr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=De(v,E,A,H)),(E=h>-1?v[h]:null)&&Za(E))}function Za(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[st])Se(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(Ri(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Zr(v))?(Se(E,h),E.h==0&&(E.src=null,v[Be]=null)):oe(h)}}}function Ri(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function Cl(h,v){if(h.da)h=!0;else{v=new Ye(v,this);const E=h.listener,A=h.ha||h.src;h.fa&&Za(h),h=E.call(A,v)}return h}function Zr(h){return h=h[Be],h instanceof fe?h:null}var Il="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dl(h){return typeof h=="function"?h:(h[Il]||(h[Il]=function(v){return h.handleEvent(v)}),h[Il])}function At(){L.call(this),this.i=new fe(this),this.M=this,this.G=null}_(At,L),At.prototype[st]=!0,At.prototype.removeEventListener=function(h,v,E,A){Ja(this,h,v,E,A)};function jt(h,v){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var H=v;v=new V(A,h),ce(v,H)}H=!0;let X,ue;if(E)for(ue=E.length-1;ue>=0;ue--)X=v.g=E[ue],H=Bs(X,A,!0,v)&&H;if(X=v.g=h,H=Bs(X,A,!0,v)&&H,H=Bs(X,A,!1,v)&&H,E)for(ue=0;ue<E.length;ue++)X=v.g=E[ue],H=Bs(X,A,!1,v)&&H}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let A=0;A<E.length;A++)oe(E[A]);delete h.g[v],h.h--}}this.G=null},At.prototype.J=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},At.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function Bs(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let X=0;X<v.length;++X){const ue=v[X];if(ue&&!ue.da&&ue.capture==E){const Ce=ue.listener,Et=ue.ha||ue.src;ue.fa&&Se(h.i,ue),H=Ce.call(Et,A)!==!1&&H}}return H&&!A.defaultPrevented}function em(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Uc(h){h.g=em(()=>{h.g=null,h.i&&(h.i=!1,Uc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class fn extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(h){L.call(this),this.h=h,this.g={}}_(ea,L);var Nl=[];function Ml(h){pe(h.g,function(v,E){this.g.hasOwnProperty(E)&&Za(v)},h),h.g={}}ea.prototype.N=function(){ea.Z.N.call(this),Ml(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=c.JSON.stringify,tm=c.JSON.parse,jc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bc(){}function zc(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){V.call(this,"d")}_(Xt,V);function Bn(){V.call(this,"c")}_(Bn,V);var Tt={},Fc=null;function eo(){return Fc=Fc||new At}Tt.Ia="serverreachability";function qc(h){V.call(this,Tt.Ia,h)}_(qc,V);function Ci(h){const v=eo();jt(v,new qc(v))}Tt.STAT_EVENT="statevent";function ta(h,v){V.call(this,Tt.STAT_EVENT,h),this.stat=v}_(ta,V);function xt(h){const v=eo();jt(v,new ta(v,h))}Tt.Ja="timingevent";function Ii(h,v){V.call(this,Tt.Ja,h),this.size=v}_(Ii,V);function Di(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function nm(h,v,E,A,H,X){h.info(function(){if(h.g)if(X){var ue="",Ce=X.split("&");for(let He=0;He<Ce.length;He++){var Et=Ce[He].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Hn=ut.split("_");ue=Hn.length>=2&&Hn[1]=="type"?ue+(ut+"="+Et+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+E+`
`+ue})}function Hc(h,v,E,A,H,X,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+E+`
`+X+" "+ue})}function Ni(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+im(h,E)+(A?" "+A:"")})}function na(h,v){h.info(function(){return"TIMEOUT: "+v})}oi.prototype.info=function(){};function im(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return zs(X)}catch{return v}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function sa(){}_(sa,Bc),sa.prototype.g=function(){return new XMLHttpRequest},Pl=new sa;function ls(h){return encodeURIComponent(String(h))}function Gc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function li(h,v,E,A){this.j=h,this.i=v,this.l=E,this.S=A||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Rt={},Ht={};function Mi(h,v,E){h.M=1,h.A=ra(It(v)),h.u=E,h.R=!0,to(h,null)}function to(h,v){h.F=Date.now(),Oi(h),h.B=It(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),ro(E.i,"t",A),h.C=0,E=h.j.L,h.h=new ui,h.g=ah(h.j,E?v:null,!h.u),h.P>0&&(h.O=new fn(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Nl[0]=H.toString()),H=Nl);for(let X=0;X<H.length;X++){const ue=lt(E,H[X],A||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ci(),nm(h.i,h.v,h.B,h.l,h.S,h.u)}li.prototype.ba=function(h){h=h.target;const v=this.O;v&&fi(h)==3?v.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=fi(this.g),Et=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ce!=4||Et==7||(Et==8||He<=0?Ci(3):Ci(2)),Pi(this);var v=this.g.ca();this.X=v;var E=sm(this);if(this.o=v==200,Hc(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var X=A;break t}}X=null}if(h=X)Ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,xt(12),Rn(this),zn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Kc(this,E),ut==Ht){Ce==4&&(this.m=4,xt(14),h=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Rt){this.m=4,xt(15),Ni(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ni(this.i,this.l,ut,null),Vi(this,ut);if(Yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)Ni(this.i,this.l,E,"[Invalid Chunked Response]"),Rn(this),zn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ql(ue),ue.P=!0,xt(11))}}else Ni(this.i,this.l,E,null),Vi(this,E);Ce==4&&Rn(this),this.o&&!this.K&&(Ce==4?nh(this.j,this):(this.o=!1,Oi(this)))}else cs(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Rn(this),zn(this)}}}catch{}};function sm(h){if(!Yc(h))return h.g.la();const v=Wt(h.g);if(v==="")return"";let E="";const A=v.length,H=fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Rn(h),zn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<A;X++)h.h.h=!0,E+=h.h.i.decode(v[X],{stream:!(H&&X==A-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Kc(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?Ht:(E=Number(v.substring(E,A)),isNaN(E)?Rt:(A+=1,A+E>v.length?Ht:(v=v.slice(A,A+E),h.C=A+E,v)))}li.prototype.cancel=function(){this.K=!0,Rn(this)};function Oi(h){h.T=Date.now()+h.H,no(h,h.H)}function no(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Di(p(h.aa,h),v)}function Pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}li.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(na(this.i,this.B),this.M!=2&&(Ci(),xt(17)),Rn(this),this.m=2,zn(this)):no(this,this.T-h)};function zn(h){h.j.I==0||h.K||nh(h.j,h)}function Rn(h){Pi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Ml(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Vi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Li(E.h,h))){if(!h.L&&Li(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)co(E),Qs(E);else break e;fa(E),xt(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Di(p(E.Va,E),6e3));ki(E.h)<=1&&E.ta&&(E.ta=void 0)}else qi(E,11)}else if((h.L||E.g==h)&&co(E),!N(v))for(H=E.Ba.g.parse(v),v=0;v<H.length;v++){let He=H[v];const ut=He[0];if(!(ut<=E.K))if(E.K=ut,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const Hn=He[3];Hn!=null&&(E.ka=Hn,E.j.info("VER="+E.ka));const Hi=He[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const di=He[5];di!=null&&typeof di=="number"&&di>0&&(A=1.5*di,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const mi=h.g;if(mi){const da=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var X=A.h;X.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ll(X,X.h),X.h=null))}if(A.G){const ho=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(A.wa=ho,$e(A.J,A.G,ho))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ue=h;if(A.na=rh(A,A.L?A.ba:null,A.W),ue.L){Ul(A.h,ue);var Ce=ue,Et=A.O;Et&&(Ce.H=Et),Ce.D&&(Pi(Ce),Oi(Ce)),A.g=ue}else eh(A);E.i.length>0&&Fi(E)}else He[0]!="stop"&&He[0]!="close"||qi(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?qi(E,7):Kl(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}Ci(4)}catch{}}var Ct=class{constructor(h,v){this.g=h,this.map=v}};function Vl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ki(h){return h.h?1:h.g?h.g.size:0}function Li(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ll(h,v){h.g?h.g.add(v):h.h=v}function Ul(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var $c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let H,X=null;A>=0?(H=h[E].substring(0,A),X=h[E].substring(A+1)):H=h[E],v(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Cn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Cn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Fs(this,h.u),this.h=h.h,Bl(this,Jc(h.i)),this.m=h.m):h&&(v=String(h).match($c))?(this.l=!1,Gt(this,v[1]||"",!0),this.o=Ui(v[2]||""),this.g=Ui(v[3]||"",!0),Fs(this,v[4]),this.h=Ui(v[5]||"",!0),Bl(this,v[6]||"",!0),this.m=Ui(v[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}Cn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(aa(v,so,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(aa(v,so,!0),"@"),h.push(ls(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(aa(E,E.charAt(0)=="/"?zl:Qc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",aa(E,Xc)),h.join("")},Cn.prototype.resolve=function(h){const v=It(this);let E=!!h.j;E?Gt(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var A=h.h;if(E)Fs(v,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=v.h.lastIndexOf("/");H!=-1&&(A=v.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ue=0;ue<H.length;){const Ce=H[ue++];Ce=="."?A&&ue==H.length&&X.push(""):Ce==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ue==H.length&&X.push("")):(X.push(Ce),A=!0)}A=X.join("/")}else A=H}return E?v.h=A:E=h.i.toString()!=="",E?Bl(v,Jc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function It(h){return new Cn(h)}function Gt(h,v,E){h.j=E?Ui(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Fs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Bl(h,v,E){v instanceof Hs?(h.i=v,ao(h.i,h.l)):(E||(v=aa(v,qs)),h.i=new Hs(v,h.l))}function $e(h,v,E){h.i.set(v,E)}function ra(h){return $e(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ui(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function aa(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,gn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var so=/[#\/\?@]/g,Qc=/[#\?:]/g,zl=/[#\?]/g,qs=/[#\?@]/g,Xc=/#/g;function Hs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&io(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Hs.prototype,t.add=function(h,v){yn(this),this.i=null,h=Gs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Wc(h,v){yn(h),v=Gs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fl(h,v){return yn(h),v=Gs(h,v),h.g.has(v)}t.forEach=function(h,v){yn(this),this.g.forEach(function(E,A){E.forEach(function(H){h.call(v,H,A,this)},this)},this)};function ql(h,v){yn(h);let E=[];if(typeof v=="string")Fl(h,v)&&(E=E.concat(h.g.get(Gs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return yn(this),this.i=null,h=Gs(this,h),Fl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=ql(this,h),h.length>0?String(h[0]):v):v};function ro(h,v,E){Wc(h,v),E.length>0&&(h.i=null,h.g.set(Gs(h,v),R(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const H=ls(E);E=ql(this,E);for(let X=0;X<E.length;X++){let ue=H;E[X]!==""&&(ue+="="+ls(E[X])),h.push(ue)}}return this.i=h.join("&")};function Jc(h){const v=new Hs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Gs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ao(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(Wc(this,A),ro(this,H,E))},h)),h.j=v}function ci(h,v){const E=new oi;if(c.Image){const A=new Image;A.onload=y(Fn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=y(Fn,E,"TestLoadImage: error",!1,v,A),A.onabort=y(Fn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(Fn,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Hl(h,v){const E=new oi,A=new AbortController,H=setTimeout(()=>{A.abort(),Fn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?Fn(E,"TestPingServer: ok",!0,v):Fn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Fn(E,"TestPingServer: error",!1,v)})}function Fn(h,v,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function Ys(){this.g=new jc}function ji(h){this.i=h.Sb||null,this.h=h.ab||!1}_(ji,Bc),ji.prototype.g=function(){return new oa(this.i,this.h)};function oa(h,v){At.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(oa,At),t=oa.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,hi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ks(this):hi(this),this.readyState==3&&oo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ks(this))},t.Na=function(h){this.g&&(this.response=h,Ks(this))},t.ga=function(){this.g&&Ks(this)};function Ks(h){h.readyState=4,h.l=null,h.j=null,h.B=null,hi(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let v="";return pe(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function la(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=qn(E),typeof h=="string"?E!=null&&ls(E):$e(h,v,E))}function Ze(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,At);var Bi=/^https?$/i,Gl=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){ua(this,X);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Gl,v,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of E)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ua(this,X)}};function ua(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Yl(h),us(h)}function Yl(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,jt(this,"complete"),jt(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},t.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof l<"u"){if(h.v&&fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(jt(h,"readystatechange"),fi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=X===0){let ue=String(h.D).match($c)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),A=!Bi.test(ue?ue.toLowerCase():"")}E=A}if(E)jt(h,"complete"),jt(h,"success");else{h.o=6;try{var H=fi(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Yl(h)}}finally{us(h)}}}}function us(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||jt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),tm(v)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(h){const v={};h=(h.g&&fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var E=Gc(h[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[H]||[];v[H]=X,X.push(E)}_e(v,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function $s(h){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,h),this.Za=zi("retryDelaySeedMs",1e4,h),this.Ta=zi("forwardChannelMaxRetries",2,h),this.va=zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(h&&h.concurrentRequestLimit),this.Ba=new Ys,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$s.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,A){xt(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=rh(this,null,this.W),Fi(this)};function Kl(h){if(lo(h),h.I==3){var v=h.V++,E=It(h.J);if($e(E,"SID",h.M),$e(E,"RID",v),$e(E,"TYPE","terminate"),ha(h,E),v=new li(h,h.j,v),v.M=2,v.A=ra(It(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=ah(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Oi(v)}sh(h)}function Qs(h){h.g&&(Ql(h),h.g.cancel(),h.g=null)}function lo(h){Qs(h),h.v&&(c.clearTimeout(h.v),h.v=null),co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Fi(h){if(!kl(h.h)&&!h.m){h.m=!0;var v=h.Ea;ae||x(),le||(ae(),le=!0),C.add(v,h),h.D=0}}function uo(h,v){return ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Di(p(h.Ea,h,v),ih(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new li(this,this.j,h);let X=this.o;if(this.U&&(X?(X=k(X),ce(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Zc(this,H,v),E=It(this.J),$e(E,"RID",h),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),ha(this,E),X&&(this.R?v="headers="+ls(qn(X))+"&"+v:this.u&&la(E,this.u,X)),Ll(this.h,H),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",v),$e(E,"SID","null"),H.U=!0,Mi(H,E,null)):Mi(H,E,v),this.I=2}}else this.I==3&&(h?$l(this,h):this.i.length==0||kl(this.h)||$l(this))};function $l(h,v){var E;v?E=v.l:E=h.V++;const A=It(h.J);$e(A,"SID",h.M),$e(A,"RID",E),$e(A,"AID",h.K),ha(h,A),h.u&&h.o&&la(A,h.u,h.o),E=new li(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Zc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ll(h.h,E),Mi(E,A,v)}function ha(h,v){h.H&&pe(h.H,function(E,A){$e(v,A,E)}),h.l&&pe({},function(E,A){$e(v,A,E)})}function Zc(h,v,E){E=Math.min(h.i.length,E);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ce=-1;for(;;){const Et=["count="+E];Ce==-1?E>0?(Ce=H[0].g,Et.push("ofs="+Ce)):Ce=0:Et.push("ofs="+Ce);let He=!0;for(let ut=0;ut<E;ut++){var X=H[ut].g;const Hn=H[ut].map;if(X-=Ce,X<0)Ce=Math.max(0,H[ut].g-100),He=!1;else try{X="req"+X+"_"||"";try{var ue=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Hi,di]of ue){let mi=di;f(di)&&(mi=zs(di)),Et.push(X+Hi+"="+encodeURIComponent(mi))}}catch(Hi){throw Et.push(X+"type="+encodeURIComponent("_badmap")),Hi}}catch{A&&A(Hn)}}if(He){ue=Et.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),v.G=h,ue}function eh(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ae||x(),le||(ae(),le=!0),C.add(v,h),h.A=0}}function fa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Di(p(h.Da,h),ih(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,th(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Di(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Qs(this),th(this))};function Ql(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function th(h){h.g=new li(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=It(h.na);$e(v,"RID","rpc"),$e(v,"SID",h.M),$e(v,"AID",h.K),$e(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&$e(v,"TO",h.ia),$e(v,"TYPE","xmlhttp"),ha(h,v),h.u&&h.o&&la(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ra(It(v)),E.u=null,E.R=!0,to(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Qs(this),fa(this),xt(19))};function co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function nh(h,v){var E=null;if(h.g==v){co(h),Ql(h),h.g=null;var A=2}else if(Li(h.h,v))E=v.G,Ul(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;A=eo(),jt(A,new Ii(A,E)),Fi(h)}else eh(h);else if(H=v.m,H==3||H==0&&v.X>0||!(A==1&&uo(h,v)||A==2&&fa(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),H){case 1:qi(h,5);break;case 4:qi(h,10);break;case 3:qi(h,6);break;default:qi(h,2)}}}function ih(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function qi(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),A=h.Ua;const H=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gt(A,"https"),ra(A),H?ci(A.toString(),E):Hl(A.toString(),E)}else xt(2);h.I=0,h.l&&h.l.pa(v),sh(h),lo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function sh(h){if(h.I=0,h.ja=[],h.l){const v=jl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function rh(h,v,E){var A=E instanceof Cn?It(E):new Cn(E);if(A.g!="")v&&(A.g=v+"."+A.g),Fs(A,A.u);else{var H=c.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const X=new Cn(null);A&&Gt(X,A),v&&(X.g=v),H&&Fs(X,H),E&&(X.h=E),A=X}return E=h.G,v=h.wa,E&&v&&$e(A,E,v),$e(A,"VER",h.ka),ha(h,A),A}function ah(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new ji({ab:E})):new Ze(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}t=oh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xs(){}Xs.prototype.g=function(h,v){return new dn(h,v)};function dn(h,v){At.call(this),this.g=new $s(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new hs(this)}_(dn,At),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Kl(this.g)},dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=zs(h),h=E);v.i.push(new Ct(v.Ya++,h)),v.I==3&&Fi(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,dn.Z.N.call(this)};function lh(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(lh,Xt);function uh(){Bn.call(this),this.status=1}_(uh,Bn);function hs(h){this.g=h}_(hs,oh),hs.prototype.ra=function(){jt(this.g,"a")},hs.prototype.qa=function(h){jt(this.g,new lh(h))},hs.prototype.pa=function(h){jt(this.g,new uh)},hs.prototype.oa=function(){jt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,AA=function(){return new Xs},SA=function(){return eo()},wA=Tt,$g={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Mf=ia,Ol.COMPLETE="complete",bA=Ol,zc.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",At.prototype.listen=At.prototype.J,Bu=zc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,EA=Ze}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore",Ob="4.9.3";let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let El="12.7.0";const qa=new Yy("@firebase/firestore");function Ho(){return qa.logLevel}function de(t,...e){if(qa.logLevel<=ke.DEBUG){const n=e.map(iv);qa.debug(`Firestore (${El}): ${t}`,...n)}}function Vs(t,...e){if(qa.logLevel<=ke.ERROR){const n=e.map(iv);qa.error(`Firestore (${El}): ${t}`,...n)}}function Ha(t,...e){if(qa.logLevel<=ke.WARN){const n=e.map(iv);qa.warn(`Firestore (${El}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,xA(t,s,n)}function xA(t,e,n){let s=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vs(s),new Error(s)}function Ke(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||xA(e,a,s)}function Re(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class RA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class aV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oV{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ds,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new RA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class lV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Id{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=hV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function Qg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return mg(a)===mg(l)?Le(a,l):mg(a)?1:-1}return Le(t.length,e.length)}const fV=55296,dV=57343;function mg(t){const e=t.charCodeAt(0);return e>=fV&&e<=dV}function ol(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Vb="__name__";class Qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const s=Qi.isNumericId(e),a=Qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):Qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class rt extends Qi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const mV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Qi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return mV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vb}static keyField(){return new $t([Vb])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function IA(t,e,n){if(!n)throw new he(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DA(t,e,n,s){if(e===!0&&s===!0)throw new he(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kb(t){if(!ye.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lb(t){if(ye.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dd(t);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sc(t,e){if(!NA(t))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ie.INVALID_ARGUMENT,n);return!0}const Ub=-62135596800,jb=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jb);return new Je(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ub)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jb}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ub;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Lt("string",Je._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Je(0,0))}static max(){return new Ae(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ac=-1;function pV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new Je(n+1,0):new Je(n,s));return new Lr(a,ye.empty(),e)}function gV(t){return new Lr(t.readTime,t.key,ac)}class Lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Ae.min(),ye.empty(),ac)}static max(){return new Lr(Ae.max(),ye.empty(),ac)}}function yV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}const vV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _V{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==vV)throw t;de("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function TV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;const sv=-1;function Md(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function EV(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const MA="";function bV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bb(e)),e=wV(t.get(n),e);return Bb(e)}function wV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case MA:n+="";break;default:n+=l}}return n}function Bb(t){return t+MA+""}function zb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new rn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ft($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PA("Invalid base64 string: "+l):l}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const SV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=SV.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jr(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}const VA="server_timestamp",kA="__type__",LA="__previous_value__",UA="__local_write_time__";function rv(t){return(t?.mapValue?.fields||{})[kA]?.stringValue===VA}function Od(t){const e=t.mapValue.fields[LA];return rv(e)?Od(e):e}function oc(t){const e=Ur(t.mapValue.fields[UA].timestampValue);return new Je(e.seconds,e.nanos)}class AV{constructor(e,n,s,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Jf="(default)";class ll{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new ll("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}const jA="__type__",xV="__max__",vf={mapValue:{}},BA="__vector__",Zf="value";function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rv(t)?4:CV(t)?9007199254740991:RV(t)?10:11:be(28295,{value:t})}function is(t,e){if(t===e)return!0;const n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oc(t).isEqual(oc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ur(a.timestampValue),f=Ur(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return jr(a.bytesValue).isEqual(jr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),f=St(l.doubleValue);return c===f?Wf(c)===Wf(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return ol(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(zb(c)!==zb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!is(c[m],f[m])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function lc(t,e){return(t.values||[]).find((n=>is(n,e)))!==void 0}function ul(t,e){if(t===e)return 0;const n=Br(t),s=Br(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=St(l.integerValue||l.doubleValue),m=St(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(oc(t),oc(e));case 5:return Qg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=jr(l),m=jr(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Le(f[p],m[p]);if(y!==0)return y}return Le(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Le(St(l.latitude),St(c.latitude));return f!==0?f:Le(St(l.longitude),St(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Hb(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[Zf]?.arrayValue,y=m[Zf]?.arrayValue,_=Le(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Hb(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===vf.mapValue&&c===vf.mapValue)return 0;if(l===vf.mapValue)return 1;if(c===vf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Qg(m[_],y[_]);if(b!==0)return b;const R=ul(f[m[_]],p[y[_]]);if(R!==0)return R}return Le(m.length,y.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ur(t),s=Ur(e),a=Le(n.seconds,s.seconds);return a!==0?a:Le(n.nanos,s.nanos)}function Hb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=ul(n[a],s[a]);if(l)return l}return Le(n.length,s.length)}function cl(t){return Xg(t)}function Xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return jr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Xg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Xg(n.fields[c])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Of(t){switch(Br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Od(t);return e?16+Of(e):16;case 5:return 2*t.stringValue.length;case 6:return jr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Of(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return $r(s.fields,((l,c)=>{a+=l.length+Of(c)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function Gb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wg(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function Yb(t){return!!t&&"nullValue"in t}function Kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function RV(t){return(t?.mapValue?.fields||{})[jA]?.stringValue===BA}function Ku(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ku(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ku(t.arrayValue.values[n]);return e}return{...t}}function CV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xV}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(n)}setAll(e){let n=$t.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Ku(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){$r(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Sn(Ku(this.value))}}function zA(t){const e=[];return $r(t.fields,((n,s)=>{const a=new $t([n]);if(Pf(s)){const l=zA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Un(e)}class un{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new un(e,0,Ae.min(),Ae.min(),Ae.min(),Sn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,Ae.min(),Ae.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ae.min(),Ae.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(e,n){this.position=e,this.inclusive=n}}function $b(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=ul(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function IV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FA{}class kt extends FA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new NV(e,n,s):n==="array-contains"?new PV(e,s):n==="in"?new VV(e,s):n==="not-in"?new kV(e,s):n==="array-contains-any"?new LV(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MV(e,s):new OV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends FA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xi(e,n)}matches(e){return qA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qA(t){return t.op==="and"}function HA(t){return DV(t)&&qA(t)}function DV(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function Jg(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+cl(t.value);if(HA(t))return t.filters.map((e=>Jg(e))).join(",");{const e=t.filters.map((n=>Jg(n))).join(",");return`${t.op}(${e})`}}function GA(t,e){return t instanceof kt?(function(s,a){return a instanceof kt&&s.op===a.op&&s.field.isEqual(a.field)&&is(s.value,a.value)})(t,e):t instanceof xi?(function(s,a){return a instanceof xi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&GA(c,a.filters[f])),!0):!1})(t,e):void be(19439)}function YA(t){return t instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`})(t):t instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(YA).join(" ,")+"}"})(t):"Filter"}class NV extends kt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class MV extends kt{constructor(e,n){super(e,"in",n),this.keys=KA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OV extends kt{constructor(e,n){super(e,"not-in",n),this.keys=KA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function KA(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class PV extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&lc(n.arrayValue,this.value)}}class VV extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class kV extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}}class LV extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>lc(this.value.arrayValue,s)))}}class UV{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Xb(t,e=null,n=[],s=[],a=null,l=null,c=null){return new UV(t,e,n,s,a,l,c)}function ov(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>cl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>cl(s))).join(",")),e.Te=n}return e.Te}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function Zg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ac{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jV(t,e,n,s,a,l,c,f){return new Ac(t,e,n,s,a,l,c,f)}function Pd(t){return new Ac(t)}function Wb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $A(t){return t.collectionGroup!==null}function $u(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ft($t.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new td(l,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new td($t.keyField(),s))}return e.Ie}function Zi(t){const e=Re(t);return e.Ee||(e.Ee=BV(e,$u(t))),e.Ee}function BV(t,e){if(t.limitType==="F")return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new td(a.field,l)}));const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ey(t,e){const n=t.filters.concat([e]);return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ty(t,e,n){return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return lv(Zi(t),Zi(e))&&t.limitType===e.limitType}function QA(t){return`${ov(Zi(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>YA(a))).join(", ")}]`),Md(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>cl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>cl(a))).join(",")),`Target(${s})`})(Zi(t))}; limitType=${t.limitType})`}function kd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of $u(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=$b(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,$u(s),a)||s.endAt&&!(function(c,f,m){const p=$b(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,$u(s),a))})(t,e)}function zV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XA(t){return(e,n)=>{let s=!1;for(const a of $u(t)){const l=FV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function FV(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?ul(m,p):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return OA(this.inner)}size(){return this.innerSize}}const qV=new pt(ye.comparator);function ks(){return qV}const WA=new pt(ye.comparator);function zu(...t){let e=WA;for(const n of t)e=e.insert(n.key,n);return e}function JA(t){let e=WA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Pa(){return Qu()}function ZA(){return Qu()}function Qu(){return new Qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const HV=new pt(ye.comparator),GV=new Ft(ye.comparator);function Ue(...t){let e=GV;for(const n of t)e=e.add(n);return e}const YV=new Ft(Le);function KV(){return YV}function uv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function ex(t){return{integerValue:""+t}}function $V(t,e){return EV(e)?ex(e):uv(t,e)}class Ld{constructor(){this._=void 0}}function QV(t,e,n){return t instanceof nd?(function(a,l){const c={fields:{[kA]:{stringValue:VA},[UA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&rv(l)&&(l=Od(l)),l&&(c.fields[LA]=l),{mapValue:c}})(n,e):t instanceof uc?nx(t,e):t instanceof cc?ix(t,e):(function(a,l){const c=tx(a,l),f=Jb(c)+Jb(a.Ae);return Wg(c)&&Wg(a.Ae)?ex(f):uv(a.serializer,f)})(t,e)}function XV(t,e,n){return t instanceof uc?nx(t,e):t instanceof cc?ix(t,e):n}function tx(t,e){return t instanceof id?(function(s){return Wg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class nd extends Ld{}class uc extends Ld{constructor(e){super(),this.elements=e}}function nx(t,e){const n=sx(e);for(const s of t.elements)n.some((a=>is(a,s)))||n.push(s);return{arrayValue:{values:n}}}class cc extends Ld{constructor(e){super(),this.elements=e}}function ix(t,e){let n=sx(e);for(const s of t.elements)n=n.filter((a=>!is(a,s)));return{arrayValue:{values:n}}}class id extends Ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Jb(t){return St(t.integerValue||t.doubleValue)}function sx(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WV(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof uc&&a instanceof uc||s instanceof cc&&a instanceof cc?ol(s.elements,a.elements,is):s instanceof id&&a instanceof id?is(s.Ae,a.Ae):s instanceof nd&&a instanceof nd})(t.transform,e.transform)}class JV{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function rx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ox(t.key,bi.none()):new xc(t.key,t.data,bi.none());{const n=t.data,s=Sn.empty();let a=new Ft($t.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Qr(t.key,s,new Un(a.toArray()),bi.none())}}function ZV(t,e,n){t instanceof xc?(function(a,l,c){const f=a.value.clone(),m=ew(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Qr?(function(a,l,c){if(!Vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=ew(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(ax(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Xu(t,e,n,s){return t instanceof xc?(function(l,c,f,m){if(!Vf(l.precondition,c))return f;const p=l.value.clone(),y=tw(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Qr?(function(l,c,f,m){if(!Vf(l.precondition,c))return f;const p=tw(l.fieldTransforms,m,c),y=c.data;return y.setAll(ax(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,f){return Vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function ek(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=tx(s.transform,a||null);l!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,l))}return n||null}function Zb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ol(s,a,((l,c)=>WV(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends Ud{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qr extends Ud{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ax(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function ew(t,e,n){const s=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,XV(c,f,n[a]))}return s}function tw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,QV(l,c,e))}return s}class ox extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tk extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nk{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&ZV(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ZA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=rx(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((n,s)=>Zb(n,s)))&&ol(this.baseMutations,e.baseMutations,((n,s)=>Zb(n,s)))}}class cv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return HV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new cv(e,n,s,a)}}class ik{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sk{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,ze;function rk(t){switch(t){case ie.OK:return be(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function lx(t){if(t===void 0)return Vs("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return be(39323,{code:t})}}(ze=Pt||(Pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function ak(){return new TextEncoder}const ok=new Nr([4294967295,4294967295],0);function nw(t){const e=ak().encode(t),n=new TA;return n.update(e),new Uint8Array(n.digest())}function iw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Nr([n,s],0),new Nr([a,l],0)]}class hv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(s<0)throw new Fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Nr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Nr.fromNumber(s)));return a.compare(ok)===1&&(a=new Nr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nw(e),[s,a]=iw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hv(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=nw(e),[s,a]=iw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jd(Ae.min(),a,new pt(Le),ks(),Ue())}}class Rc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rc(s,n,Ue(),Ue(),Ue())}}class kf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class ux{constructor(e,n){this.targetId=e,this.Ce=n}}class cx{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class sw{constructor(){this.ve=0,this.Fe=rw(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be(38017,{changeType:l})}})),new Rc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=rw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lk{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=_f(),this.He=_f(),this.Ye=new pt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Zg(l))if(s===0){const c=new ye(l.path);this.et(n,c,un.newNoDocument(c,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=jr(s).toUint8Array()}catch(m){if(m instanceof PA)return Ha("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new hv(c,a,l)}catch(m){return Ha(m instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Zg(f.target)){const m=new ye(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,un.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Ue();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new jd(e,n,this.Ye,this.je,s);return this.je=ks(),this.Je=_f(),this.He=_f(),this.Ye=new pt(Le),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _f(){return new pt(ye.comparator)}function rw(){return new pt(ye.comparator)}const uk={asc:"ASCENDING",desc:"DESCENDING"},ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hk={and:"AND",or:"OR"};class fk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ny(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dk(t,e){return sd(t,e.toTimestamp())}function es(t){return Ke(!!t,49232),Ae.fromTimestamp((function(n){const s=Ur(n);return new Je(s.seconds,s.nanos)})(t))}function fv(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function fx(t){const e=rt.fromString(t);return Ke(yx(e),10190,{key:e.toString()}),e}function sy(t,e){return fv(t.databaseId,e.path)}function pg(t,e){const n=fx(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(mx(n))}function dx(t,e){return fv(t.databaseId,e)}function mk(t){const e=fx(t);return e.length===4?rt.emptyPath():mx(e)}function ry(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mx(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aw(t,e,n){return{name:sy(t,e),fields:n.value.mapValue.fields}}function pk(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ke(y===void 0||typeof y=="string",58123),Qt.fromBase64String(y||"")):(Ke(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?ie.UNKNOWN:lx(p.code);return new he(y,p.message||"")})(c);n=new cx(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=pg(t,s.document.name),l=es(s.document.updateTime),c=s.document.createTime?es(s.document.createTime):Ae.min(),f=new Sn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new kf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=pg(t,s.document),l=s.readTime?es(s.readTime):Ae.min(),c=un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new kf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=pg(t,s.document),l=s.removedTargetIds||[];n=new kf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new sk(a,l),f=s.targetId;n=new ux(f,c)}}return n}function gk(t,e){let n;if(e instanceof xc)n={update:aw(t,e.key,e.value)};else if(e instanceof ox)n={delete:sy(t,e.key)};else if(e instanceof Qr)n={update:aw(t,e.key,e.data),updateMask:Ak(e.fieldMask)};else{if(!(e instanceof tk))return be(16599,{Vt:e.type});n={verify:sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof nd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof id)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw be(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:dk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function yk(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?es(a.updateTime):es(l);return c.isEqual(Ae.min())&&(c=es(l)),new JV(c,a.transformResults||[])})(n,e)))):[]}function vk(t,e){return{documents:[dx(t,e.path)]}}function _k(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dx(t,a);const l=(function(p){if(p.length!==0)return gx(xi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:Yo(b.field),direction:bk(b.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ny(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function Tk(t){let e=mk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ke(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const b=px(_);return b instanceof xi&&HA(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(D){return new td(Ko(D.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,Md(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,R=_.values||[];return new ed(R,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,R=_.values||[];return new ed(R,b)})(n.endAt)),jV(e,a,c,l,f,"F",m,p)}function Ek(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function px(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ko(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ko(n.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(n.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(n.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return kt.create(Ko(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((s=>px(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function bk(t){return uk[t]}function wk(t){return ck[t]}function Sk(t){return hk[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Ko(t){return $t.fromServerFormat(t.fieldPath)}function gx(t){return t instanceof kt?(function(n){if(n.op==="=="){if(Kb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(Yb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(Yb(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:wk(n.op),value:n.value}}})(t):t instanceof xi?(function(n){const s=n.getFilters().map((a=>gx(a)));return s.length===1?s[0]:{compositeFilter:{op:Sk(n.op),filters:s}}})(t):be(54877,{filter:t})}function Ak(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class xr{constructor(e,n,s,a,l=Ae.min(),c=Ae.min(),f=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xk{constructor(e){this.yt=e}}function Rk(t){const e=Tk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ty(e,e.limit,"L"):e}class Ck{constructor(){this.Cn=new Ik}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Lr.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class Ik{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ft(rt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ft(rt.comparator)).toArray()}}const ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vx=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(vx,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}const lw="LruGarbageCollector",Dk=1048576;function uw([t,e],[n,s]){const a=Le(t,n);return a===0?Le(e,s):a}class Nk{constructor(e){this.Ir=e,this.buffer=new Ft(uw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(lw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?de(lw,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Vr(3e5)}))}}class Ok{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Nd.ce);const s=new Nk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(ow)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ow):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Ho()<=ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function Pk(t,e){return new Ok(t,e)}class Vk{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Lk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Xu(s.mutation,a,Un.empty(),Je.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const a=Pa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=zu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Pa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=ks();const c=Qu(),f=(function(){return Qu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Qr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Xu(y.mutation,p,y.mutation.getFieldMask(),Je.now())):c.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new kk(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Qu();let a=new pt(((c,f)=>c-f)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Un.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||Ue()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=ZA();y.forEach((b=>{if(!l.has(b)){const R=rx(n.get(b),s.get(b));R!==null&&_.set(b,R),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$A(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(Pa());let f=ac,m=l;return c.next((p=>se.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ue()))).next((y=>({batchId:f,changes:JA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(e,l).next((f=>se.forEach(f,(m=>{const p=(function(_,b){return new Ac(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let f=zu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Xu(y.mutation,p,Un.empty(),Je.now()),kd(n,p)&&(f=f.insert(m,p))})),f}))}}class Uk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:es(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Rk(a.bundledQuery),readTime:es(a.readTime)}})(n)),se.resolve()}}class jk{constructor(){this.overlays=new pt(ye.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pa();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=Pa(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Pa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return se.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ik(n,s));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class Bk{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class dv{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new Kt(n,e),a=new Kt(n,e+1);let l=Ue();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class zk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nk(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?sv:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Le);return n.forEach((a=>{const l=new Kt(a,0),c=new Kt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new ye(l),0);let f=new Ft(Le);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),se.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Kt(n,0),a=this.Zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Fk{constructor(e){this.ri=e,this.docs=(function(){return new pt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=ks();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||yV(gV(y),s)<=0||(a.has(y.key)||kd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){be(9500)}ii(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new qk(this)}getSize(e){return se.resolve(this.size)}}class qk extends Vk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Hk{constructor(e){this.persistence=e,this.si=new Qa((n=>ov(n)),lv),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new dv,this.targetCount=0,this.ai=hl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class _x{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nd(0),this.li=!1,this.li=!0,this.hi=new Bk,this.referenceDelegate=e(this),this.Pi=new Hk(this),this.indexManager=new Ck,this.remoteDocumentCache=(function(a){return new Fk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new xk(n),this.Ii=new Uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new zk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new Gk(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Gk extends _V{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.Ri=new dv,this.Vi=null}static mi(e){return new mv(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rd{constructor(e,n){this.persistence=e,this.pi=new Qa((s=>bV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Pk(this,n)}static mi(e,n){return new rd(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Of(e.data.value)),n}br(e,n,s){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new pv(e,n.fromCache,s,a)}}class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Kk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RN()?8:TV(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Yk;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ho()<=ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Ho()<=ke.DEBUG&&de("QueryEngine","Query:",Go(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ho()<=ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):se.resolve())}ys(e,n){if(Wb(n))return se.resolve(null);let s=Zi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ty(n,null,"F"),s=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,ty(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return Wb(n)||a.isEqual(Ae.min())?se.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?se.resolve(null):(Ho()<=ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.vs(e,c,n,pV(a,ac)).next((f=>f)))}))}Ds(e,n){let s=new Ft(XA(e));return n.forEach(((a,l)=>{kd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Ho()<=ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ps.getDocumentsMatchingQuery(e,n,Lr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const gv="LocalStore",$k=3e8;class Qk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new pt(Le),this.xs=new Qa((l=>ov(l)),lv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Xk(t,e,n,s){return new Qk(t,e,n,s)}async function Tx(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=Ue();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function Wk(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,b=_.keys();let R=se.resolve();return b.forEach((D=>{R=R.next((()=>y.getEntry(m,D))).next((B=>{const P=p.docVersions.get(D);Ke(P!==null,48541),B.version.compareTo(P)<0&&(_.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Ue();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Ex(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Jk(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(_,R),(function(B,P,q){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=$k?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(b,R,y)&&f.push(n.Pi.updateTargetData(l,R))}));let m=ks(),p=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Zk(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Ae.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return se.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function Zk(t,e,n){let s=Ue(),a=Ue();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=ks();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):de(gv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function e4(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function t4(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new xr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ay(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!wl(c))throw c;de(gv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function cw(t,e,n){const s=Re(t);let a=Ae.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Re(m),b=_.xs.get(y);return b!==void 0?se.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,y)})(s,c,Zi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:Ue()))).next((f=>(n4(s,zV(e),f),{documents:f,Qs:l})))))}function n4(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class hw{constructor(){this.activeTargetIds=KV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i4{constructor(){this.Mo=new hw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s4{Oo(e){}shutdown(){}}const fw="ConnectivityMonitor";class dw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(fw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(fw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tf=null;function oy(){return Tf===null?Tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tf++,"0x"+Tf.toString(16)}const gg="RestConnection",r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=oy(),f=this.zo(e,n.toUriEncodedString());de(gg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Ya(p);return this.Jo(e,f,m,s,y).then((_=>(de(gg,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Ha(gg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=r4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class o4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class l4 extends a4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=oy();return new Promise(((f,m)=>{const p=new EA;p.setWithCredentials(!0),p.listenOnce(bA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const _=p.getResponseJson();de(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Mf.TIMEOUT:de(on,`RPC '${e}' ${c} timed out`),m(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const b=p.getStatus();if(de(on,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R?.error;if(D&&D.status&&D.message){const B=(function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN})(D.status);m(new he(B,D.message))}else m(new he(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(ie.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(on,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);de(on,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=oy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=AA(),f=SA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");de(on,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,R=!1;const D=new o4({Yo:P=>{R?de(on,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(b||(de(on,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),de(on,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),B=(P,q,$)=>{P.listen(q,(G=>{try{$(G)}catch(re){setTimeout((()=>{throw re}),0)}}))};return B(_,Bu.EventType.OPEN,(()=>{R||(de(on,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),B(_,Bu.EventType.CLOSE,(()=>{R||(R=!0,de(on,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(_))})),B(_,Bu.EventType.ERROR,(P=>{R||(R=!0,Ha(on,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),D.a_(new he(ie.UNAVAILABLE,"The operation could not be completed")))})),B(_,Bu.EventType.MESSAGE,(P=>{if(!R){const q=P.data[0];Ke(!!q,16349);const $=q,G=$?.error||$[0]?.error;if(G){de(on,`RPC '${e}' stream ${a} received error:`,G);const re=G.status;let ae=(function(x){const I=Pt[x];if(I!==void 0)return lx(I)})(re),le=G.message;ae===void 0&&(ae=ie.INTERNAL,le="Unknown error status: "+re+" with message "+G.message),R=!0,D.a_(new he(ae,le)),_.close()}else de(on,`RPC '${e}' stream ${a} received:`,q),D.u_(q)}})),B(f,wA.STAT_EVENT,(P=>{P.stat===$g.PROXY?de(on,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===$g.NOPROXY&&de(on,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function yg(){return typeof document<"u"?document:null}function Bd(t){return new fk(t,!0)}class bx{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mw="PersistentStream";class wx{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u4 extends wx{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?es(c.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ry(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Zg(m)?{documents:vk(l,m)}:{query:_k(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=hx(l,c.resumeToken);const p=ny(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=sd(l,c.snapshotVersion.toTimestamp());const p=ny(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=Ek(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ry(this.serializer),n.removeTarget=e,this.q_(n)}}class c4 extends wx{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yk(e.writeResults,e.commitTime),s=es(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ry(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>gk(this.serializer,s)))};this.q_(n)}}class h4{}class f4 extends h4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,iy(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ie.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,iy(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class d4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class m4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Xa(this)&&(de(Ga,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await Cc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Ra=new d4(s,a)}}async function zd(t){if(Xa(t))for(const e of t.da)await e(!0)}async function Cc(t){for(const e of t.da)await e(!1)}function Sx(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tv(n)?_v(n):Sl(n).O_()&&vv(n,e))}function yv(t,e){const n=Re(t),s=Sl(n);n.Ia.delete(e),s.O_()&&Ax(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xa(n)&&n.Ra.set("Unknown"))}function vv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sl(t).Y_(e)}function Ax(t,e){t.Va.Ue(e),Sl(t).Z_(e)}function _v(t){t.Va=new lk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sl(t).start(),t.Ra.ua()}function Tv(t){return Xa(t)&&!Sl(t).x_()&&t.Ia.size>0}function Xa(t){return Re(t).Ea.size===0}function xx(t){t.Va=void 0}async function p4(t){t.Ra.set("Online")}async function g4(t){t.Ia.forEach(((e,n)=>{vv(t,e)}))}async function y4(t,e){xx(t),Tv(t)?(t.Ra.ha(e),_v(t)):t.Ra.set("Unknown")}async function v4(t,e,n){if(t.Ra.set("Online"),e instanceof cx&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){de(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ad(t,s)}else if(e instanceof kf?t.Va.Ze(e):e instanceof ux?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Ex(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),Ax(l,m);const _=new xr(y.target,m,p,y.sequenceNumber);vv(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){de(Ga,"Failed to raise snapshot:",s),await ad(t,s)}}async function ad(t,e,n){if(!wl(e))throw e;t.Ea.add(1),await Cc(t),t.Ra.set("Offline"),n||(n=()=>Ex(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Ga,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zd(t)}))}function Rx(t,e){return e().catch((n=>ad(t,n,e)))}async function Fd(t){const e=Re(t),n=zr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sv;for(;_4(e);)try{const a=await e4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,T4(e,a)}catch(a){await ad(e,a)}Cx(e)&&Ix(e)}function _4(t){return Xa(t)&&t.Ta.length<10}function T4(t,e){t.Ta.push(e);const n=zr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Cx(t){return Xa(t)&&!zr(t).x_()&&t.Ta.length>0}function Ix(t){zr(t).start()}async function E4(t){zr(t).ra()}async function b4(t){const e=zr(t);for(const n of t.Ta)e.ea(n.mutations)}async function w4(t,e,n){const s=t.Ta.shift(),a=cv.from(s,e,n);await Rx(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Fd(t)}async function S4(t,e){e&&zr(t).X_&&await(async function(s,a){if((function(c){return rk(c)&&c!==ie.ABORTED})(a.code)){const l=s.Ta.shift();zr(s).B_(),await Rx(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Fd(s)}})(t,e),Cx(t)&&Ix(t)}async function pw(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),de(Ga,"RemoteStore received new credentials");const s=Xa(n);n.Ea.add(3),await Cc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function A4(t,e){const n=Re(t);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await Cc(n),n.Ra.set("Unknown"))}function Sl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new u4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:p4.bind(null,t),t_:g4.bind(null,t),r_:y4.bind(null,t),H_:v4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Tv(t)?_v(t):t.Ra.set("Unknown")):(await t.ma.stop(),xx(t))}))),t.ma}function zr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new c4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:E4.bind(null,t),r_:S4.bind(null,t),ta:b4.bind(null,t),na:w4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Fd(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Ga,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Ev{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new Ev(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),wl(t))return new he(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=zu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new sl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class gw{constructor(){this.ga=new pt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class fl{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new fl(e,n,sl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class x4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class R4{constructor(){this.queries=yw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=yw(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function yw(){return new Qa((t=>QA(t)),Vd)}async function wv(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new x4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=bv(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Av(n)}async function Sv(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function C4(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&Av(n)}function I4(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Av(t){t.Ca.forEach((e=>{e.next()}))}var ly,vw;(vw=ly||(ly={})).Ma="default",vw.Cache="cache";class xv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new fl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ly.Cache}}class Dx{constructor(e){this.key=e}}class Nx{constructor(e){this.key=e}}class D4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=XA(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new gw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const b=a.get(y),R=kd(this.query,_)?_:null,D=!!b&&this.mutatedKeys.has(b.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let P=!1;b&&R?b.data.isEqual(R.data)?D!==B&&(s.track({type:3,doc:R}),P=!0):this.su(b,R)||(s.track({type:2,doc:R}),P=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(f=!0)):!b&&R?(s.track({type:0,doc:R}),P=!0):b&&!R&&(s.track({type:1,doc:b}),P=!0,(m||p)&&(f=!0)),P&&(R?(c=c.add(R),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(R,D){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:P})}};return B(R)-B(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new fl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Nx(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Dx(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rv="SyncEngine";class N4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class M4{constructor(e){this.key=e,this.hu=!1}}class O4{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qa((f=>QA(f)),Vd),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ye.comparator),this.Au=new Map,this.Ru=new dv,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P4(t,e,n=!0){const s=Lx(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Mx(s,e,n,!0),a}async function V4(t,e){const n=Lx(t);await Mx(n,e,!0,!1)}async function Mx(t,e,n,s){const a=await t4(t.localStore,Zi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await k4(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Sx(t.remoteStore,a),f}async function k4(t,e,n,s,a){t.pu=(_,b,R)=>(async function(B,P,q,$){let G=P.view.ru(q);G.Cs&&(G=await cw(B.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,G))));const re=$&&$.targetChanges.get(P.targetId),ae=$&&$.targetMismatches.get(P.targetId)!=null,le=P.view.applyChanges(G,B.isPrimaryClient,re,ae);return Tw(B,P.targetId,le.au),le.snapshot})(t,_,b,R);const l=await cw(t.localStore,e,!0),c=new D4(e,l.Qs),f=c.ru(l.documents),m=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);Tw(t,n,p.au);const y=new N4(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function L4(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ay(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&yv(s.remoteStore,a.targetId),uy(s,a.targetId)})).catch(bl)):(uy(s,a.targetId),await ay(s.localStore,a.targetId,!0))}async function U4(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),yv(n.remoteStore,s.targetId))}async function j4(t,e,n){const s=Y4(t);try{const a=await(function(c,f){const m=Re(c),p=Je.now(),y=f.reduce(((R,D)=>R.add(D.key)),Ue());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let D=ks(),B=Ue();return m.Ns.getEntries(R,y).next((P=>{D=P,D.forEach(((q,$)=>{$.isValidDocument()||(B=B.add(q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,D))).next((P=>{_=P;const q=[];for(const $ of f){const G=ek($,_.get($.key).overlayedDocument);G!=null&&q.push(new Qr($.key,G,zA(G.value.mapValue),bi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,q,f)})).next((P=>{b=P;const q=P.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(R,P.batchId,q)}))})).then((()=>({batchId:b.batchId,changes:JA(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new pt(Le)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Ic(s,a.changes),await Fd(s.remoteStore)}catch(a){const l=bv(a,"Failed to persist write");n.reject(l)}}async function Ox(t,e){const n=Re(t);try{const s=await Jk(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ke(c.hu,14607):a.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await Ic(n,s,e)}catch(s){await bl(s)}}function _w(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(f)&&(p=!0)})),p&&Av(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function B4(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new pt(ye.comparator);c=c.insert(l,un.newNoDocument(l,Ae.min()));const f=Ue().add(l),m=new jd(Ae.min(),new Map,new pt(Le),c,f);await Ox(s,m),s.du=s.du.remove(l),s.Au.delete(e),Cv(s)}else await ay(s.localStore,e,!1).then((()=>uy(s,e,n))).catch(bl)}async function z4(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await Wk(n.localStore,e);Vx(n,s,null),Px(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ic(n,a)}catch(a){await bl(a)}}async function F4(t,e,n){const s=Re(t);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Ke(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);Vx(s,e,n),Px(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ic(s,a)}catch(a){await bl(a)}}function Px(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Vx(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||kx(t,s)}))}function kx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cv(t))}function Tw(t,e,n){for(const s of n)s instanceof Dx?(t.Ru.addReference(s.key,e),q4(t,s)):s instanceof Nx?(de(Rv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||kx(t,s.key)):be(19791,{wu:s})}function q4(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(de(Rv,"New document in limbo: "+n),t.Eu.add(s),Cv(t))}function Cv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(rt.fromString(e)),s=t.fu.next();t.Au.set(s,new M4(n)),t.du=t.du.insert(n,s),Sx(t.remoteStore,new xr(Zi(Pd(n.path)),s,"TargetPurposeLimboResolution",Nd.ce))}}async function Ic(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=pv.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>se.forEach(p,(b=>se.forEach(b.Es,(R=>y.persistence.referenceDelegate.addReference(_,b.targetId,R))).next((()=>se.forEach(b.ds,(R=>y.persistence.referenceDelegate.removeReference(_,b.targetId,R)))))))))}catch(_){if(!wl(_))throw _;de(gv,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const R=y.Ms.get(b),D=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(b,B)}}})(s.localStore,l))}async function H4(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){de(Rv,"User change. New user:",e.toKey());const s=await Tx(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new he(ie.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ic(n,s.Ls)}}function G4(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Lx(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B4.bind(null,e),e.Pu.H_=C4.bind(null,e.eventManager),e.Pu.yu=I4.bind(null,e.eventManager),e}function Y4(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Xk(this.persistence,new Kk,e.initialUser,this.serializer)}Cu(e){return new _x(mv.mi,this.serializer)}Du(e){return new i4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class K4 extends od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof rd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Mk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new _x((s=>rd.mi(s,n)),this.serializer)}}class cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_w(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=H4.bind(null,this.syncEngine),await A4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new R4})()}createDatastore(e){const n=Bd(e.databaseInfo.databaseId),s=(function(l){return new l4(l)})(e.databaseInfo);return(function(l,c,f,m){return new f4(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new m4(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>_w(this.syncEngine,n,0)),(function(){return dw.v()?new dw:new s4})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,y){const _=new O4(a,l,c,f,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);de(Ga,"RemoteStore shutting down."),s.Ea.add(5),await Cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cy.provider={build:()=>new cy};class Iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Fr="FirestoreClient";class $4{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=Id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{de(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(de(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=bv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vg(t,e){t.asyncQueue.verifyOperationInProgress(),de(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Tx(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Ew(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q4(t);de(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>pw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>pw(e.remoteStore,a))),t._onlineComponents=e}async function Q4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Fr,"Using user provided OfflineComponentProvider");try{await vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await vg(t,new od)}}else de(Fr,"Using default OfflineComponentProvider"),await vg(t,new K4(void 0));return t._offlineComponents}async function Ux(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Fr,"Using user provided OnlineComponentProvider"),await Ew(t,t._uninitializedComponentsProvider._online)):(de(Fr,"Using default OnlineComponentProvider"),await Ew(t,new cy))),t._onlineComponents}function X4(t){return Ux(t).then((e=>e.syncEngine))}async function ld(t){const e=await Ux(t),n=e.eventManager;return n.onListen=P4.bind(null,e.syncEngine),n.onUnlisten=L4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U4.bind(null,e.syncEngine),n}function W4(t,e,n={}){const s=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Iv({next:b=>{y.Nu(),c.enqueueAndForget((()=>Sv(l,_)));const R=b.docs.has(f);!R&&b.fromCache?p.reject(new he(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&m&&m.source==="server"?p.reject(new he(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new xv(Pd(f.path),y,{includeMetadataChanges:!0,qa:!0});return wv(l,_)})(await ld(t),t.asyncQueue,e,n,s))),s.promise}function J4(t,e,n={}){const s=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Iv({next:b=>{y.Nu(),c.enqueueAndForget((()=>Sv(l,_))),b.fromCache&&m.source==="server"?p.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new xv(f,y,{includeMetadataChanges:!0,qa:!0});return wv(l,_)})(await ld(t),t.asyncQueue,e,n,s))),s.promise}function jx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const bw=new Map;const Bx="firestore.googleapis.com",ww=!0;class Sw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bx,this.ssl=ww}else this.host=e.host,this.ssl=e.ssl??ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dk)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CA;switch(s.type){case"firstParty":return new uV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=bw.get(n);s&&(de("ComponentProvider","Removing Datastore"),bw.delete(n),s.terminate())})(this),Promise.resolve()}}function zx(t,e,n,s={}){t=xn(t,qd);const a=Ya(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Hy(`https://${f}`),Gy("Firestore",!0)),l.host!==Bx&&l.host!==f&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ba(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=ln.MOCK_USER;else{p=V1(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(_)}t._authCredentials=new aV(new RA(p,y))}}class Xr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Sc(n,mt._jsonSchema))return new mt(e,s||null,new ye(rt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Lt("string",mt._jsonSchemaVersion),referencePath:Lt("string")};class Ns extends Xr{constructor(e,n,s){super(e,n,Pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ye(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function Mr(t,e,...n){if(t=qt(t),IA("collection","path",e),t instanceof qd){const s=rt.fromString(e,...n);return Lb(s),new Ns(t,null,s)}{if(!(t instanceof mt||t instanceof Ns))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return Lb(s),new Ns(t.firestore,null,s)}}function ei(t,e,...n){if(t=qt(t),arguments.length===1&&(e=Id.newId()),IA("doc","path",e),t instanceof qd){const s=rt.fromString(e,...n);return kb(s),new mt(t,null,new ye(s))}{if(!(t instanceof mt||t instanceof Ns))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return kb(s),new mt(t.firestore,t instanceof Ns?t.converter:null,new ye(s))}}const Aw="AsyncQueue";class xw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bx(this,"async_queue_retry"),this._c=()=>{const s=yg();s&&de(Aw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;de(Aw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",Rw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Ev.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:Rw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Rw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Cw(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Ls extends qd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new xw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xw(e),this._firestoreClient=void 0,await e}}}function Fx(t,e){const n=typeof t=="object"?t:$y(),s=typeof t=="string"?t:Jf,a=Sd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=M1("firestore");l&&zx(a,...l)}return a}function Dc(t){if(t._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z4(t),t._firestoreClient}function Z4(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new AV(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,jx(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Qt.fromBase64String(e))}catch(n){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Lt("string",Ln._jsonSchemaVersion),bytes:Lt("string")};class Nc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hd{constructor(e){this._methodName=e}}class wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Lt("string",wi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Si(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Lt("string",Si._jsonSchemaVersion),vectorValues:Lt("object")};const eL=/^__.*__$/;class tL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class qx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class Dv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hx(this.Ac)&&eL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bd(e)}Cc(e,n,s,a=!1){return new Dv({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(t){const e=t._freezeSettings(),n=Bd(t._databaseId);return new nL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gx(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Nv("Data must be an object, but it was:",c,s);const f=Yx(s,c);let m,p;if(l.merge)m=new Un(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=hy(e,_,n);if(!c.contains(b))throw new he(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$x(y,b)||y.push(b)}m=new Un(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new tL(new Sn(f),m,p)}class Yd extends Hd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function iL(t,e,n,s){const a=t.Cc(1,e,n);Nv("Data must be an object, but it was:",a,s);const l=[],c=Sn.empty();$r(s,((m,p)=>{const y=Mv(e,m,n);p=qt(p);const _=a.yc(y);if(p instanceof Yd)l.push(y);else{const b=Mc(p,_);b!=null&&(l.push(y),c.set(y,b))}}));const f=new Un(l);return new qx(c,f,a.fieldTransforms)}function sL(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[hy(e,s,n)],m=[a];if(l.length%2!=0)throw new he(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(hy(e,l[b])),m.push(l[b+1]);const p=[],y=Sn.empty();for(let b=f.length-1;b>=0;--b)if(!$x(p,f[b])){const R=f[b];let D=m[b];D=qt(D);const B=c.yc(R);if(D instanceof Yd)p.push(R);else{const P=Mc(D,B);P!=null&&(p.push(R),y.set(R,P))}}const _=new Un(p);return new qx(y,_,c.fieldTransforms)}function rL(t,e,n,s=!1){return Mc(n,t.Cc(s?4:3,e))}function Mc(t,e){if(Kx(t=qt(t)))return Nv("Unsupported field value:",e,t),Yx(t,e);if(t instanceof Hd)return(function(s,a){if(!Hx(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Mc(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $V(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Je.fromDate(s);return{timestampValue:sd(a.serializer,l)}}if(s instanceof Je){const l=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sd(a.serializer,l)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:hx(a.serializer,s._byteString)};if(s instanceof mt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Si)return(function(c,f){return{mapValue:{fields:{[jA]:{stringValue:BA},[Zf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return uv(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Dd(s)}`)})(t,e)}function Yx(t,e){const n={};return OA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((s,a)=>{const l=Mc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Kx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof wi||t instanceof Ln||t instanceof mt||t instanceof Hd||t instanceof Si)}function Nv(t,e,n){if(!Kx(n)||!NA(n)){const s=Dd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function hy(t,e,n){if((e=qt(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return Mv(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const aL=new RegExp("[~\\*/\\[\\]]");function Mv(t,e,n){if(e.search(aL)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nc(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new he(ie.INVALID_ARGUMENT,f+t+m)}function $x(t,e){return t.some((n=>n.isEqual(e)))}class Qx{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oL extends Qx{data(){return super.data()}}function Ov(t,e){return typeof e=="string"?Mv(t,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}function Xx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pv{}class Wx extends Pv{}function La(t,e,...n){let s=[];e instanceof Pv&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Kd)).length,f=l.filter((m=>m instanceof Oc)).length;if(c>1||c>0&&f>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Oc extends Wx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Oc(e,n,s)}_apply(e){const n=this._parse(e);return Jx(e._query,n),new Xr(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=Gd(e.firestore);return(function(l,c,f,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Dw(_,y);const D=[];for(const B of _)D.push(Iw(m,l,B));b={arrayValue:{values:D}}}else b=Iw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Dw(_,y),b=rL(f,c,_,y==="in"||y==="not-in");return kt.create(p,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rr(t,e,n){const s=e,a=Ov("where",t);return Oc._create(a,s,n)}class Kd extends Pv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kd(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)Jx(c,m),c=ey(c,m)})(e._query,n),new Xr(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Iw(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$A(e)&&n.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Gb(t,new ye(s))}if(n instanceof mt)return Gb(t,n._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dd(n)}.`)}function Dw(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jx(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Zx{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $r(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Zf].arrayValue?.values?.map((s=>St(s.doubleValue)));return new Si(n)}convertGeoPoint(e){return new wi(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Od(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ke(yx(s),9688,{name:e});const a=new ll(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function eR(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Or extends Qx{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Or._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:Lt("string",Or._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Wu extends Or{data(e={}){return super.data(e)}}class Pr{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Qo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Wu(this._firestore,this._userDataWriter,s.key,s,new Qo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Wu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Qo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Wu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Qo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:lL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function tR(t){t=xn(t,mt);const e=xn(t.firestore,Ls);return W4(Dc(e),t._key).then((n=>iR(e,t,n)))}Pr._jsonSchemaVersion="firestore/querySnapshot/1.0",Pr._jsonSchema={type:Lt("string",Pr._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Vv extends Zx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function cd(t){t=xn(t,Xr);const e=xn(t.firestore,Ls),n=Dc(e),s=new Vv(e);return Xx(t._query),J4(n,t._query).then((a=>new Pr(e,s,t,a)))}function uL(t,e,n){t=xn(t,mt);const s=xn(t.firestore,Ls),a=eR(t.converter,e,n);return $d(s,[Gx(Gd(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bi.none())])}function qu(t,e,n,...s){t=xn(t,mt);const a=xn(t.firestore,Ls),l=Gd(a);let c;return c=typeof(e=qt(e))=="string"||e instanceof Nc?sL(l,"updateDoc",t._key,e,n,s):iL(l,"updateDoc",t._key,e),$d(a,[c.toMutation(t._key,bi.exists(!0))])}function nR(t,e){const n=xn(t.firestore,Ls),s=ei(t),a=eR(t.converter,e);return $d(n,[Gx(Gd(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,bi.exists(!1))]).then((()=>s))}function dl(t,...e){t=qt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Cw(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Cw(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,f;if(t instanceof mt)c=xn(t.firestore,Ls),f=Pd(t._key.path),l={next:m=>{e[s]&&e[s](iR(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=xn(t,Xr);c=xn(m.firestore,Ls),f=m._query;const p=new Vv(c);l={next:y=>{e[s]&&e[s](new Pr(c,p,m,y))},error:e[s+1],complete:e[s+2]},Xx(t._query)}return(function(p,y,_,b){const R=new Iv(b),D=new xv(y,R,_);return p.asyncQueue.enqueueAndForget((async()=>wv(await ld(p),D))),()=>{R.Nu(),p.asyncQueue.enqueueAndForget((async()=>Sv(await ld(p),D)))}})(Dc(c),f,a,l)}function $d(t,e){return(function(s,a){const l=new Ds;return s.asyncQueue.enqueueAndForget((async()=>j4(await X4(s),a,l))),l.promise})(Dc(t),e)}function iR(t,e,n){const s=n.docs.get(e._key),a=new Vv(t);return new Or(t,a,e._key,s,new Qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){El=a})(Ka),za(new kr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Ls(new oV(s.getProvider("auth-internal")),new cV(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Xi(Mb,Ob,e),Xi(Mb,Ob,"esm2020")})();const cL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Zx,Bytes:Ln,CollectionReference:Ns,DocumentReference:mt,DocumentSnapshot:Or,FieldPath:Nc,FieldValue:Hd,Firestore:Ls,FirestoreError:he,GeoPoint:wi,Query:Xr,QueryCompositeFilterConstraint:Kd,QueryConstraint:Wx,QueryDocumentSnapshot:Wu,QueryFieldFilterConstraint:Oc,QuerySnapshot:Pr,SnapshotMetadata:Qo,Timestamp:Je,VectorValue:Si,_AutoId:Id,_ByteString:Qt,_DatabaseId:ll,_DocumentKey:ye,_EmptyAuthCredentialsProvider:CA,_FieldPath:$t,_cast:xn,_logWarn:Ha,_validateIsNotUsedTogether:DA,addDoc:nR,collection:Mr,connectFirestoreEmulator:zx,doc:ei,ensureFirestoreConfigured:Dc,executeWrite:$d,getDoc:tR,getDocs:cd,getFirestore:Fx,onSnapshot:dl,query:La,setDoc:uL,updateDoc:qu,where:Rr},Symbol.toStringTag,{value:"Module"}));const sR="firebasestorage.googleapis.com",hL="storageBucket",fL=120*1e3,dL=600*1e3;class os extends as{constructor(e,n,s=0){super(_g(e),`Firebase Storage: ${n} (${_g(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ss;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ss||(ss={}));function _g(t){return"storage/"+t}function mL(){const t="An unknown error occurred, please check the error payload for server response.";return new os(ss.UNKNOWN,t)}function pL(){return new os(ss.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gL(){return new os(ss.CANCELED,"User canceled the upload/download.")}function yL(t){return new os(ss.INVALID_URL,"Invalid URL '"+t+"'.")}function vL(t){return new os(ss.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Nw(t){return new os(ss.INVALID_ARGUMENT,t)}function rR(){return new os(ss.APP_DELETED,"The Firebase app was deleted.")}function _L(t){return new os(ss.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Ei.makeFromUrl(e,n)}catch{return new Ei(e,"")}if(s.path==="")return s;throw vL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${a}/o${b}`,"i"),D={bucket:1,path:3},B=n===sR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",q=new RegExp(`^https?://${B}/${a}/${P}`,"i"),G=[{regex:f,indices:m,postModify:l},{regex:R,indices:D,postModify:p},{regex:q,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<G.length;re++){const ae=G[re],le=ae.regex.exec(e);if(le){const C=le[ae.indices.bucket];let x=le[ae.indices.path];x||(x=""),s=new Ei(C,x),ae.postModify(s);break}}if(s==null)throw yL(e);return s}}class TL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function EL(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...P){p||(p=!0,e.apply(null,P))}function _(P){a=setTimeout(()=>{a=null,t(R,m())},P)}function b(){l&&clearTimeout(l)}function R(P,...q){if(p){b();return}if(P){b(),y.call(null,P,...q);return}if(m()||c){b(),y.call(null,P,...q);return}s<64&&(s*=2);let G;f===1?(f=2,G=0):G=(s+Math.random())*1e3,_(G)}let D=!1;function B(P){D||(D=!0,b(),!p&&(a!==null?(P||(f=2),clearTimeout(a),_(0)):P||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,B(!0)},n),B}function bL(t){t(!1)}function wL(t){return t!==void 0}function Mw(t,e,n,s){if(s<e)throw Nw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Nw(`Invalid value for '${t}'. Expected ${n} or less.`)}function SL(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var hd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hd||(hd={}));function AL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class xL{constructor(e,n,s,a,l,c,f,m,p,y,_,b=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,B)=>{this.resolve_=D,this.reject_=B,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Ef(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===hd.NO_ERROR,m=l.getStatus();if(!f||AL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===hd.ABORT;s(!1,new Ef(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Ef(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());wL(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=mL();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?rR():gL();c(m)}else{const m=pL();c(m)}};this.canceled_?n(!1,new Ef(!1,null,!0)):this.backoffId_=EL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ef{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function RL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function CL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function DL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NL(t,e,n,s,a,l,c=!0,f=!1){const m=SL(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return IL(y,e),RL(y,n),CL(y,l),DL(y,s),new xL(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}function ML(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class fd{constructor(e,n){this._service=e,n instanceof Ei?this._location=n:this._location=Ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fd(e,n)}get root(){const e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OL(this._location.path)}get storage(){return this._service}get parent(){const e=ML(this._location.path);if(e===null)return null;const n=new Ei(this._location.bucket,e);return new fd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _L(e)}}function Ow(t,e){const n=e?.[hL];return n==null?null:Ei.makeFromBucketSpec(n,t)}function PL(t,e,n,s={}){t.host=`${e}:${n}`;const a=Ya(e);a&&(Hy(`https://${t.host}/b`),Gy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:V1(l,t.app.options.projectId))}class VL{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=sR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fL,this._maxUploadRetryTime=dL,this._requests=new Set,a!=null?this._bucket=Ei.makeFromBucketSpec(a,this._host):this._bucket=Ow(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=Ow(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new TL(rR());{const c=NL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const Pw="@firebase/storage",Vw="0.14.0";const aR="storage";function kL(t=$y(),e){t=qt(t);const s=Sd(t,aR).getImmediate({identifier:e}),a=M1("storage");return a&&LL(s,...a),s}function LL(t,e,n,s={}){PL(t,e,n,s)}function UL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new VL(n,s,a,e,Ka)}function jL(){za(new kr(aR,UL,"PUBLIC").setMultipleInstances(!0)),Xi(Pw,Vw,""),Xi(Pw,Vw,"esm2020")}jL();const BL={apiKey:"AIzaSyCGRAz4hNy9737rRC2XhGjihrroVFrBnyE",authDomain:"doctors-89de9.firebaseapp.com",projectId:"doctors-89de9",storageBucket:"doctors-89de9.firebasestorage.app",messagingSenderId:"843277629462",appId:"1:843277629462:web:c6ef4918f469d13dff5d37",measurementId:"G-RVBRHCX77H"},kv=U1(BL),Lv=sV(kv),sn=Fx(kv);kL(kv);const oR=O.createContext();function zL(){return O.useContext(oR)}function FL({children:t}){const[e,n]=O.useState(null),[s,a]=O.useState(null),[l,c]=O.useState(!0);O.useEffect(()=>KO(Lv,async p=>{if(n(p),p){const y=ei(sn,"users",p.uid),_=await tR(y);_.exists()&&a(_.data())}else a(null);c(!1)}),[]);const f={currentUser:e,userData:s,isDoctor:s?.role==="doctor"};return S.jsx(oR.Provider,{value:f,children:!l&&t})}const qL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),kw=t=>{const e=HL(t);return e.charAt(0).toUpperCase()+e.slice(1)},lR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),GL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var YL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KL=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>O.createElement("svg",{ref:m,...YL,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:lR("lucide",a),...!l&&!GL(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>O.createElement(p,y)),...Array.isArray(l)?l:[l]]));const gt=(t,e)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(KL,{ref:l,iconNode:e,className:lR(`lucide-${qL(kw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=kw(t),n};const $L=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fy=gt("activity",$L);const QL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],XL=gt("arrow-right",QL);const WL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lf=gt("calendar",WL);const JL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZL=gt("circle-alert",JL);const e3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uR=gt("circle-check",e3);const t3=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n3=gt("circle-play",t3);const i3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Lw=gt("clipboard",i3);const s3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],r3=gt("clock",s3);const a3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Uw=gt("external-link",a3);const o3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l3=gt("eye",o3);const u3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jw=gt("file-text",u3);const c3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],h3=gt("history",c3);const f3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],d3=gt("info",f3);const m3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],p3=gt("lock",m3);const g3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],y3=gt("mail",g3);const v3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_3=gt("phone",v3);const T3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],E3=gt("save",T3);const b3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bw=gt("settings",b3);const w3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],S3=gt("shield-check",w3);const A3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],x3=gt("upload",A3);const R3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zw=gt("user",R3);const C3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cR=gt("users",C3);const I3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fw=gt("x",I3),Uv=O.createContext({});function jv(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bv=typeof window<"u",hR=Bv?O.useLayoutEffect:O.useEffect,Qd=O.createContext(null);function zv(t,e){t.indexOf(e)===-1&&t.push(e)}function Fv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Us=(t,e,n)=>n>e?e:n<t?t:n;let qv=()=>{};const js={},fR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dR(t){return typeof t=="object"&&t!==null}const mR=t=>/^0[^.\s]+$/u.test(t);function Hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ii=t=>t,D3=(t,e)=>n=>e(t(n)),Pc=(...t)=>t.reduce(D3),hc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Gv{constructor(){this.subscriptions=[]}add(e){return zv(this.subscriptions,e),()=>Fv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ts=t=>t*1e3,ni=t=>t/1e3;function pR(t,e){return e?t*(1e3/e):0}const gR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N3=1e-7,M3=12;function O3(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=gR(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>N3&&++f<M3);return c}function Vc(t,e,n,s){if(t===e&&n===s)return ii;const a=l=>O3(l,0,1,t,n);return l=>l===0||l===1?l:gR(a(l),e,s)}const yR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vR=t=>e=>1-t(1-e),_R=Vc(.33,1.53,.69,.99),Yv=vR(_R),TR=yR(Yv),ER=t=>(t*=2)<1?.5*Yv(t):.5*(2-Math.pow(2,-10*(t-1))),Kv=t=>1-Math.sin(Math.acos(t)),bR=vR(Kv),wR=yR(Kv),P3=Vc(.42,0,1,1),V3=Vc(0,0,.58,1),SR=Vc(.42,0,.58,1),k3=t=>Array.isArray(t)&&typeof t[0]!="number",AR=t=>Array.isArray(t)&&typeof t[0]=="number",L3={linear:ii,easeIn:P3,easeInOut:SR,easeOut:V3,circIn:Kv,circInOut:wR,circOut:bR,backIn:Yv,backInOut:TR,backOut:_R,anticipate:ER},U3=t=>typeof t=="string",qw=t=>{if(AR(t)){qv(t.length===4);const[e,n,s,a]=t;return Vc(e,n,s,a)}else if(U3(t))return L3[t];return t},bf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function j3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,_=!1,b=!1)=>{const D=b&&a?n:s;return _&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const B3=40;function xR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=bf.reduce((G,re)=>(G[re]=j3(l),G),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:R,postRender:D}=c,B=()=>{const G=js.useManualTiming?a.timestamp:performance.now();n=!1,js.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(G-a.timestamp,B3),1)),a.timestamp=G,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),R.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(B))},P=()=>{n=!0,s=!0,a.isProcessing||t(B)};return{schedule:bf.reduce((G,re)=>{const ae=c[re];return G[re]=(le,C=!1,x=!1)=>(n||P(),ae.schedule(le,C,x)),G},{}),cancel:G=>{for(let re=0;re<bf.length;re++)c[bf[re]].cancel(G)},state:a,steps:c}}const{schedule:ht,cancel:qr,state:nn,steps:Tg}=xR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ii,!0);let Uf;function z3(){Uf=void 0}const An={now:()=>(Uf===void 0&&An.set(nn.isProcessing||js.useManualTiming?nn.timestamp:performance.now()),Uf),set:t=>{Uf=t,queueMicrotask(z3)}},RR=t=>e=>typeof e=="string"&&e.startsWith(t),CR=RR("--"),F3=RR("var(--"),$v=t=>F3(t)?q3.test(t.split("/*")[0].trim()):!1,q3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fc={...Al,transform:t=>Us(0,1,t)},wf={...Al,default:1},Ju=t=>Math.round(t*1e5)/1e5,Qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H3(t){return t==null}const G3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xv=(t,e)=>n=>!!(typeof n=="string"&&G3.test(n)&&n.startsWith(t)||e&&!H3(n)&&Object.prototype.hasOwnProperty.call(n,e)),IR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Qv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},Y3=t=>Us(0,255,t),Eg={...Al,transform:t=>Math.round(Y3(t))},Va={test:Xv("rgb","red"),parse:IR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Eg.transform(t)+", "+Eg.transform(e)+", "+Eg.transform(n)+", "+Ju(fc.transform(s))+")"};function K3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const dy={test:Xv("#"),parse:K3,transform:Va.transform},kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=kc("deg"),ns=kc("%"),we=kc("px"),$3=kc("vh"),Q3=kc("vw"),Hw={...ns,parse:t=>ns.parse(t)/100,transform:t=>ns.transform(t*100)},Xo={test:Xv("hsl","hue"),parse:IR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ns.transform(Ju(e))+", "+ns.transform(Ju(n))+", "+Ju(fc.transform(s))+")"},Vt={test:t=>Va.test(t)||dy.test(t)||Xo.test(t),parse:t=>Va.test(t)?Va.parse(t):Xo.test(t)?Xo.parse(t):dy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Va.transform(t):Xo.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},X3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W3(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qv)?.length||0)+(t.match(X3)?.length||0)>0}const DR="number",NR="color",J3="var",Z3="var(",Gw="${}",e6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(e6,m=>(Vt.test(m)?(s.color.push(l),a.push(NR),n.push(Vt.parse(m))):m.startsWith(Z3)?(s.var.push(l),a.push(J3),n.push(m)):(s.number.push(l),a.push(DR),n.push(parseFloat(m))),++l,Gw)).split(Gw);return{values:n,split:f,indexes:s,types:a}}function MR(t){return dc(t).values}function OR(t){const{split:e,types:n}=dc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===DR?l+=Ju(a[c]):f===NR?l+=Vt.transform(a[c]):l+=a[c]}return l}}const t6=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function n6(t){const e=MR(t);return OR(t)(e.map(t6))}const Hr={test:W3,parse:MR,createTransformer:OR,getAnimatableNone:n6};function bg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function i6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=bg(m,f,t+1/3),l=bg(m,f,t),c=bg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function dd(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,wg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},s6=[dy,Va,Xo],r6=t=>s6.find(e=>e.test(t));function Yw(t){const e=r6(t);if(!e)return!1;let n=e.parse(t);return e===Xo&&(n=i6(n)),n}const Kw=(t,e)=>{const n=Yw(t),s=Yw(e);if(!n||!s)return dd(t,e);const a={...n};return l=>(a.red=wg(n.red,s.red,l),a.green=wg(n.green,s.green,l),a.blue=wg(n.blue,s.blue,l),a.alpha=dt(n.alpha,s.alpha,l),Va.transform(a))},my=new Set(["none","hidden"]);function a6(t,e){return my.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function o6(t,e){return n=>dt(t,e,n)}function Wv(t){return typeof t=="number"?o6:typeof t=="string"?$v(t)?dd:Vt.test(t)?Kw:c6:Array.isArray(t)?PR:typeof t=="object"?Vt.test(t)?Kw:l6:dd}function PR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Wv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function l6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Wv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function u6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const c6=(t,e)=>{const n=Hr.createTransformer(e),s=dc(t),a=dc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?my.has(t)&&!a.values.length||my.has(e)&&!s.values.length?a6(t,e):Pc(PR(u6(s,a),a.values),n):dd(t,e)};function VR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Wv(t)(t,e)}const h6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>qr(e),now:()=>nn.isProcessing?nn.timestamp:An.now()}},kR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},md=2e4;function Jv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<md;)e+=n,s=t.next(e);return e>=md?1/0:e}function f6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Jv(s),md);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ni(a)}}const d6=5;function LR(t,e,n){const s=Math.max(e-d6,0);return pR(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sg=.001;function m6({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,c=1-e;c=Us(_t.minDamping,_t.maxDamping,c),t=Us(_t.minDuration,_t.maxDuration,ni(t)),c<1?(a=p=>{const y=p*c,_=y*t,b=y-n,R=py(p,c),D=Math.exp(-_);return Sg-b/R*D},l=p=>{const _=p*c*t,b=_*n+n,R=Math.pow(c,2)*Math.pow(p,2)*t,D=Math.exp(-_),B=py(Math.pow(p,2),c);return(-a(p)+Sg>0?-1:1)*((b-R)*D)/B}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Sg+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=g6(a,l,f);if(t=ts(t),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const p6=12;function g6(t,e,n){let s=n;for(let a=1;a<p6;a++)s=s-t(s)/e(s);return s}function py(t,e){return t*Math.sqrt(1-e*e)}const y6=["duration","bounce"],v6=["stiffness","damping","mass"];function $w(t,e){return e.some(n=>t[n]!==void 0)}function _6(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!$w(t,v6)&&$w(t,y6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Us(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=m6(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function pd(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:R}=_6({...n,velocity:-ni(n.velocity||0)}),D=b||0,B=p/(2*Math.sqrt(m*y)),P=c-l,q=ni(Math.sqrt(m/y)),$=Math.abs(P)<5;s||(s=$?_t.restSpeed.granular:_t.restSpeed.default),a||(a=$?_t.restDelta.granular:_t.restDelta.default);let G;if(B<1){const ae=py(q,B);G=le=>{const C=Math.exp(-B*q*le);return c-C*((D+B*q*P)/ae*Math.sin(ae*le)+P*Math.cos(ae*le))}}else if(B===1)G=ae=>c-Math.exp(-q*ae)*(P+(D+q*P)*ae);else{const ae=q*Math.sqrt(B*B-1);G=le=>{const C=Math.exp(-B*q*le),x=Math.min(ae*le,300);return c-C*((D+B*q*P)*Math.sinh(x)+ae*P*Math.cosh(x))/ae}}const re={calculatedDuration:R&&_||null,next:ae=>{const le=G(ae);if(R)f.done=ae>=_;else{let C=ae===0?D:0;B<1&&(C=ae===0?ts(D):LR(G,ae,le));const x=Math.abs(C)<=s,I=Math.abs(c-le)<=a;f.done=x&&I}return f.value=f.done?c:le,f},toString:()=>{const ae=Math.min(Jv(re),md),le=kR(C=>re.next(ae*C).value,ae,30);return ae+"ms "+le},toTransition:()=>{}};return re}pd.applyToOptions=t=>{const e=f6(t,100,pd);return t.ease=e.ease,t.duration=ts(e.duration),t.type="keyframes",t};function gy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],b={done:!1,value:_},R=x=>f!==void 0&&x<f||m!==void 0&&x>m,D=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let B=n*e;const P=_+B,q=c===void 0?P:c(P);q!==P&&(B=q-_);const $=x=>-B*Math.exp(-x/s),G=x=>q+$(x),re=x=>{const I=$(x),L=G(x);b.done=Math.abs(I)<=p,b.value=b.done?q:L};let ae,le;const C=x=>{R(b.value)&&(ae=x,le=pd({keyframes:[b.value,D(b.value)],velocity:LR(G,x,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return C(0),{calculatedDuration:null,next:x=>{let I=!1;return!le&&ae===void 0&&(I=!0,re(x),C(x)),ae!==void 0&&x>=ae?le.next(x-ae):(!I&&re(x),b)}}}function T6(t,e,n){const s=[],a=n||js.mix||VR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ii:e;f=Pc(m,f)}s.push(f)}return s}function E6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(qv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=T6(e,s,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const b=hc(t[_],t[_+1],y);return f[_](b)};return n?y=>p(Us(t[0],t[l-1],y)):p}function b6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=hc(0,e,s);t.push(dt(n,1,a))}}function w6(t){const e=[0];return b6(e,t.length-1),e}function S6(t,e){return t.map(n=>n*e)}function A6(t,e){return t.map(()=>e||SR).splice(0,t.length-1)}function Zu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=k3(s)?s.map(qw):qw(s),l={done:!1,value:e[0]},c=S6(n&&n.length===e.length?n:w6(e),t),f=E6(c,e,{ease:Array.isArray(a)?a:A6(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const x6=t=>t!==null;function Zv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(x6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const R6={decay:gy,inertia:gy,tween:Zu,keyframes:Zu,spring:pd};function UR(t){typeof t.type=="string"&&(t.type=R6[t.type])}class e_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const C6=t=>t/100;class t_ extends e_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;UR(e);const{type:n=Zu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Zu;m!==Zu&&typeof f[0]!="number"&&(this.mixKeyframes=Pc(C6,VR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Jv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:R,type:D,onUpdate:B,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const q=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?q<0:q>a;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,re=s;if(_){const x=Math.min(this.currentTime,a)/f;let I=Math.floor(x),L=x%1;!L&&x>=1&&(L=1),L===1&&I--,I=Math.min(I,_+1),I%2&&(b==="reverse"?(L=1-L,R&&(L-=R/f)):b==="mirror"&&(re=c)),G=Us(0,1,L)*f}const ae=$?{done:!1,value:y[0]}:re.next(G);l&&(ae.value=l(ae.value));let{done:le}=ae;!$&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return C&&D!==gy&&(ae.value=Zv(y,this.options,P,this.speed)),B&&B(ae.value),C&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return ni(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(this.currentTime)}set time(e){e=ts(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=h6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function I6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ka=t=>t*180/Math.PI,yy=t=>{const e=ka(Math.atan2(t[1],t[0]));return vy(e)},D6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yy,rotateZ:yy,skewX:t=>ka(Math.atan(t[1])),skewY:t=>ka(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vy=t=>(t=t%360,t<0&&(t+=360),t),Qw=yy,Xw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ww=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),N6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xw,scaleY:Ww,scale:t=>(Xw(t)+Ww(t))/2,rotateX:t=>vy(ka(Math.atan2(t[6],t[5]))),rotateY:t=>vy(ka(Math.atan2(-t[2],t[0]))),rotateZ:Qw,rotate:Qw,skewX:t=>ka(Math.atan(t[4])),skewY:t=>ka(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function _y(t){return t.includes("scale")?1:0}function Ty(t,e){if(!t||t==="none")return _y(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=N6,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=D6,a=f}if(!a)return _y(e);const l=s[e],c=a[1].split(",").map(O6);return typeof l=="function"?l(c):c[l]}const M6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ty(n,e)};function O6(t){return parseFloat(t.trim())}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rl=new Set(xl),Jw=t=>t===Al||t===we,P6=new Set(["x","y","z"]),V6=xl.filter(t=>!P6.has(t));function k6(t){const e=[];return V6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ty(e,"x"),y:(t,{transform:e})=>Ty(e,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const ja=new Set;let Ey=!1,by=!1,wy=!1;function jR(){if(by){const t=Array.from(ja).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=k6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}by=!1,Ey=!1,ja.forEach(t=>t.complete(wy)),ja.clear()}function BR(){ja.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(by=!0)})}function L6(){wy=!0,BR(),jR(),wy=!1}class n_{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),Ey||(Ey=!0,ht.read(BR),ht.resolveKeyframes(jR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}I6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const U6=t=>t.startsWith("--");function j6(t,e,n){U6(e)?t.style.setProperty(e,n):t.style[e]=n}const B6=Hv(()=>window.ScrollTimeline!==void 0),z6={};function F6(t,e){const n=Hv(t);return()=>z6[e]??n()}const zR=F6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hu([0,.65,.55,1]),circOut:Hu([.55,0,1,.45]),backIn:Hu([.31,.01,.66,-.59]),backOut:Hu([.33,1.53,.69,.99])};function FR(t,e){if(t)return typeof t=="function"?zR()?kR(t,e):"ease-out":AR(t)?Hu(t):Array.isArray(t)?t.map(n=>FR(n,e)||Zw.easeOut):Zw[t]}function q6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=FR(f,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function qR(t){return typeof t=="function"&&"applyToOptions"in t}function H6({type:t,...e}){return qR(t)&&zR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class G6 extends e_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,qv(typeof e.type!="string");const p=H6(e);this.animation=q6(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Zv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):j6(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ni(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ts(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&B6()?(this.animation.timeline=e,ii):n(this)}}const HR={anticipate:ER,backInOut:TR,circInOut:wR};function Y6(t){return t in HR}function K6(t){typeof t.ease=="string"&&Y6(t.ease)&&(t.ease=HR[t.ease])}const eS=10;class $6 extends G6{constructor(e){K6(e),UR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new t_({...c,autoplay:!1}),m=ts(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-eS).value,f.sample(m).value,eS),f.stop()}}const tS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hr.test(t)||t==="0")&&!t.startsWith("url("));function Q6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function X6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=tS(a,e),f=tS(l,e);return!c||!f?!1:Q6(t)||(n==="spring"||qR(n))&&s}function Sy(t){t.duration=0,t.type="keyframes"}const W6=new Set(["opacity","clipPath","filter","transform"]),J6=Hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return J6()&&n&&W6.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const eU=40;class tU extends e_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},R=y?.KeyframeResolver||n_;this.keyframeResolver=new R(f,(D,B,P)=>this.onKeyframesResolved(D,B,b,!P),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=An.now(),X6(e,l,c,f)||((js.instantAnimations||!m)&&y?.(Zv(e,s,n)),e[0]=e[e.length-1],Sy(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>eU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!p&&Z6(b)?new $6({...b,element:b.motionValue.owner.current}):new t_(b);R.finished.then(()=>this.notifyFinished()).catch(ii),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),L6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iU(t){const e=nU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function GR(t,e,n=1){const[s,a]=iU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return fR(c)?parseFloat(c):c}return $v(a)?GR(a,e,n+1):a}function i_(t,e){return t?.[e]??t?.default??t}const YR=new Set(["width","height","top","left","right","bottom",...xl]),sU={test:t=>t==="auto",parse:t=>t},KR=t=>e=>e.test(t),$R=[Al,we,ns,Er,Q3,$3,sU],nS=t=>$R.find(KR(t));function rU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mR(t):!0}const aU=new Set(["brightness","contrast","saturate","opacity"]);function oU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Qv)||[];if(!s)return t;const a=n.replace(s,"");let l=aU.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const lU=/\b([a-z-]*)\(.*?\)/gu,Ay={...Hr,getAnimatableNone:t=>{const e=t.match(lU);return e?e.map(oU).join(" "):t}},iS={...Al,transform:Math.round},uU={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:Er,skewX:Er,skewY:Er,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:fc,originX:Hw,originY:Hw,originZ:we},s_={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...uU,zIndex:iS,fillOpacity:fc,strokeOpacity:fc,numOctaves:iS},cU={...s_,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:Ay,WebkitFilter:Ay},QR=t=>cU[t];function XR(t,e){let n=QR(t);return n!==Ay&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hU=new Set(["auto","none","0"]);function fU(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!hU.has(l)&&dc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=XR(n,a)}class dU extends n_{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),$v(p))){const y=GR(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!YR.has(s)||e.length!==2)return;const[a,l]=e,c=nS(a),f=nS(l);if(c!==f)if(Jw(c)&&Jw(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||rU(e[a]))&&s.push(a);s.length&&fU(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ua[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function mU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const WR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function JR(t){return dR(t)&&"offsetHeight"in t}const sS=30,pU=t=>!isNaN(parseFloat(t));class gU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=An.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gv);const s=this.events[e].add(n);return e==="change"?()=>{s(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sS);return pR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ml(t,e){return new gU(t,e)}const{schedule:r_}=xR(queueMicrotask,!1),_i={x:!1,y:!1};function ZR(){return _i.x||_i.y}function yU(t){return t==="x"||t==="y"?_i[t]?null:(_i[t]=!0,()=>{_i[t]=!1}):_i.x||_i.y?null:(_i.x=_i.y=!0,()=>{_i.x=_i.y=!1})}function eC(t,e){const n=mU(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function rS(t){return!(t.pointerType==="touch"||ZR())}function vU(t,e,n={}){const[s,a,l]=eC(t,n),c=f=>{if(!rS(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{rS(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const tC=(t,e)=>e?t===e?!0:tC(t,e.parentElement):!1,a_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_U=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TU(t){return _U.has(t.tagName)||t.tabIndex!==-1}const jf=new WeakSet;function aS(t){return e=>{e.key==="Enter"&&t(e)}}function Ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const EU=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=aS(()=>{if(jf.has(n))return;Ag(n,"down");const a=aS(()=>{Ag(n,"up")}),l=()=>Ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function oS(t){return a_(t)&&!ZR()}function bU(t,e,n={}){const[s,a,l]=eC(t,n),c=f=>{const m=f.currentTarget;if(!oS(f))return;jf.add(m);const p=e(m,f),y=(R,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),jf.has(m)&&jf.delete(m),oS(R)&&typeof p=="function"&&p(R,{success:D})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||tC(m,R.target))},b=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),JR(f)&&(f.addEventListener("focus",p=>EU(p,a)),!TU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function nC(t){return dR(t)&&"ownerSVGElement"in t}function wU(t){return nC(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),SU=[...$R,Vt,Hr],AU=t=>SU.find(KR(t)),o_=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function lS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=lS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():lS(t[a],null)}}}}function RU(...t){return O.useCallback(xU(...t),t)}class CU extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=JR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function IU({children:t,isPresent:e,anchorX:n,root:s}){const a=O.useId(),l=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=O.useContext(o_),m=RU(l,t?.ref);return O.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:b,right:R}=c.current;if(e||!l.current||!p||!y)return;const D=n==="left"?`left: ${b}`:`right: ${R}`;l.current.dataset.motionPopId=a;const B=document.createElement("style");f&&(B.nonce=f);const P=s??document.head;return P.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${_}px !important;
          }
        `),()=>{P.contains(B)&&P.removeChild(B)}},[e]),S.jsx(CU,{isPresent:e,childRef:l,sizeRef:c,children:O.cloneElement(t,{ref:m})})}const DU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=jv(NU),y=O.useId();let _=!0,b=O.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:R=>{p.set(R,!0);for(const D of p.values())if(!D)return;s&&s()},register:R=>(p.set(R,!1),()=>p.delete(R))}),[n,p,s]);return l&&_&&(b={...b}),O.useMemo(()=>{p.forEach((R,D)=>p.set(D,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=S.jsx(IU,{isPresent:n,anchorX:f,root:m,children:t})),S.jsx(Qd.Provider,{value:b,children:t})};function NU(){return new Map}function iC(t=!0){const e=O.useContext(Qd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const c=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Sf=t=>t.key||"";function uS(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const xy=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,y]=iC(c),_=O.useMemo(()=>uS(t),[t]),b=c&&!p?[]:_.map(Sf),R=O.useRef(!0),D=O.useRef(_),B=jv(()=>new Map),[P,q]=O.useState(_),[$,G]=O.useState(_);hR(()=>{R.current=!1,D.current=_;for(let le=0;le<$.length;le++){const C=Sf($[le]);b.includes(C)?B.delete(C):B.get(C)!==!0&&B.set(C,!1)}},[$,b.length,b.join("-")]);const re=[];if(_!==P){let le=[..._];for(let C=0;C<$.length;C++){const x=$[C],I=Sf(x);b.includes(I)||(le.splice(C,0,x),re.push(x))}return l==="wait"&&re.length&&(le=re),G(uS(le)),q(_),null}const{forceRender:ae}=O.useContext(Uv);return S.jsx(S.Fragment,{children:$.map(le=>{const C=Sf(le),x=c&&!p?!1:_===$||b.includes(C),I=()=>{if(B.has(C))B.set(C,!0);else return;let L=!0;B.forEach(V=>{V||(L=!1)}),L&&(ae?.(),G(D.current),c&&y?.(),s&&s())};return S.jsx(DU,{isPresent:x,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:x?void 0:I,anchorX:f,children:le},C)})})},sC=O.createContext({strict:!1}),cS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pl={};for(const t in cS)pl[t]={isEnabled:e=>cS[t].some(n=>!!e[n])};function MU(t){for(const e in t)pl[e]={...pl[e],...t[e]}}const OU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OU.has(t)}let rC=t=>!gd(t);function PU(t){typeof t=="function"&&(rC=e=>e.startsWith("on")?!gd(e):t(e))}try{PU(require("@emotion/is-prop-valid").default)}catch{}function VU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(rC(a)||n===!0&&gd(a)||!e&&!gd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Xd=O.createContext({});function Wd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mc(t){return typeof t=="string"||Array.isArray(t)}const l_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u_=["initial",...l_];function Jd(t){return Wd(t.animate)||u_.some(e=>mc(t[e]))}function aC(t){return!!(Jd(t)||t.variants)}function kU(t,e){if(Jd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||mc(n)?n:void 0,animate:mc(s)?s:void 0}}return t.inherit!==!1?e:{}}function LU(t){const{initial:e,animate:n}=kU(t,O.useContext(Xd));return O.useMemo(()=>({initial:e,animate:n}),[hS(e),hS(n)])}function hS(t){return Array.isArray(t)?t.join(" "):t}function fS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=fS(t,e.target.x),s=fS(t,e.target.y);return`${n}% ${s}%`}},UU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Hr.parse(t);if(a.length>5)return s;const l=Hr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=dt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Ry={borderRadius:{...Vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vu,borderTopRightRadius:Vu,borderBottomLeftRadius:Vu,borderBottomRightRadius:Vu,boxShadow:UU};function oC(t,{layout:e,layoutId:n}){return Rl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ry[t]||t==="opacity")}const jU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BU=xl.length;function zU(t,e,n){let s="",a=!0;for(let l=0;l<BU;l++){const c=xl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=WR(f,s_[c]);if(!m){a=!1;const y=jU[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function c_(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Rl.has(m)){c=!0;continue}else if(CR(m)){a[m]=p;continue}else{const y=WR(p,s_[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=zU(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const h_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lC(t,e,n){for(const s in e)!cn(e[s])&&!oC(s,n)&&(t[s]=e[s])}function FU({transformTemplate:t},e){return O.useMemo(()=>{const n=h_();return c_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function qU(t,e){const n=t.style||{},s={};return lC(s,n,t),Object.assign(s,FU(t,e)),s}function HU(t,e){const n={},s=qU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const GU={offset:"stroke-dashoffset",array:"stroke-dasharray"},YU={offset:"strokeDashoffset",array:"strokeDasharray"};function KU(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?GU:YU;t[l.offset]=we.transform(-s);const c=we.transform(e),f=we.transform(n);t[l.array]=`${c} ${f}`}function uC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(c_(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&KU(_,a,l,c,!1)}const cC=()=>({...h_(),attrs:{}}),hC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $U(t,e,n,s){const a=O.useMemo(()=>{const l=cC();return uC(l,e,hC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};lC(l,t.style,t),a.style={...l,...a.style}}return a}const QU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f_(t){return typeof t!="string"||t.includes("-")?!1:!!(QU.indexOf(t)>-1||/[A-Z]/u.test(t))}function XU(t,e,n,{latestValues:s},a,l=!1){const f=(f_(t)?$U:HU)(e,s,a,t),m=VU(e,typeof t=="string",l),p=t!==O.Fragment?{...m,...f,ref:n}:{},{children:y}=e,_=O.useMemo(()=>cn(y)?y.get():y,[y]);return O.createElement(t,{...p,children:_})}function dS(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function d_(t,e,n,s){if(typeof e=="function"){const[a,l]=dS(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=dS(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Bf(t){return cn(t)?t.get():t}function WU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:JU(n,s,a,t),renderState:e()}}function JU(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=Bf(l[b]);let{initial:c,animate:f}=t;const m=Jd(t),p=aC(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Wd(_)){const b=Array.isArray(_)?_:[_];for(let R=0;R<b.length;R++){const D=d_(t,b[R]);if(D){const{transitionEnd:B,transition:P,...q}=D;for(const $ in q){let G=q[$];if(Array.isArray(G)){const re=y?G.length-1:0;G=G[re]}G!==null&&(a[$]=G)}for(const $ in B)a[$]=B[$]}}}return a}const fC=t=>(e,n)=>{const s=O.useContext(Xd),a=O.useContext(Qd),l=()=>WU(t,e,s,a);return n?l():jv(l)};function m_(t,e,n){const{style:s}=t,a={};for(const l in s)(cn(s[l])||e.style&&cn(e.style[l])||oC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const ZU=fC({scrapeMotionValuesFromProps:m_,createRenderState:h_});function dC(t,e,n){const s=m_(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=xl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const e5=fC({scrapeMotionValuesFromProps:dC,createRenderState:cC}),t5=Symbol.for("motionComponentSymbol");function Wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n5(t,e,n){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Wo(n)&&(n.current=s))},[e])}const p_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i5="framerAppearId",mC="data-"+p_(i5),pC=O.createContext({});function s5(t,e,n,s,a){const{visualElement:l}=O.useContext(Xd),c=O.useContext(sC),f=O.useContext(Qd),m=O.useContext(o_).reducedMotion,p=O.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=O.useContext(pC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&r5(p.current,n,a,_);const b=O.useRef(!1);O.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const R=n[mC],D=O.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return hR(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),D.current=!1),y.enteringChildren=void 0)}),y}function r5(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Wo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function gC(t){if(t)return t.options.allowProjection!==!1?t.projection:gC(t.parent)}function xg(t,{forwardMotionProps:e=!1}={},n,s){n&&MU(n);const a=f_(t)?e5:ZU;function l(f,m){let p;const y={...O.useContext(o_),...f,layoutId:a5(f)},{isStatic:_}=y,b=LU(f),R=a(f,_);if(!_&&Bv){o5();const D=l5(y);p=D.MeasureLayout,b.visualElement=s5(t,R,y,s,D.ProjectionNode)}return S.jsxs(Xd.Provider,{value:b,children:[p&&b.visualElement?S.jsx(p,{visualElement:b.visualElement,...y}):null,XU(t,f,n5(R,b.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=O.forwardRef(l);return c[t5]=t,c}function a5({layoutId:t}){const e=O.useContext(Uv).id;return e&&t!==void 0?e+"-"+t:t}function o5(t,e){O.useContext(sC).strict}function l5(t){const{drag:e,layout:n}=pl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function u5(t,e){if(typeof Proxy>"u")return xg;const n=new Map,s=(l,c)=>xg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,xg(c,void 0,t,e)),n.get(c))})}function yC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function c5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function h5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Rg(t){return t===void 0||t===1}function Cy({scale:t,scaleX:e,scaleY:n}){return!Rg(t)||!Rg(e)||!Rg(n)}function Na(t){return Cy(t)||vC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vC(t){return mS(t.x)||mS(t.y)}function mS(t){return t&&t!=="0%"}function yd(t,e,n){const s=t-n,a=e*s;return n+a}function pS(t,e,n,s,a){return a!==void 0&&(t=yd(t,a,s)),yd(t,n,s)+e}function Iy(t,e=0,n=1,s,a){t.min=pS(t.min,e,n,s,a),t.max=pS(t.max,e,n,s,a)}function _C(t,{x:e,y:n}){Iy(t.x,e.translate,e.scale,e.originPoint),Iy(t.y,n.translate,n.scale,n.originPoint)}const gS=.999999999999,yS=1.0000000000001;function f5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,_C(t,c)),s&&Na(l.latestValues)&&Zo(t,l.latestValues))}e.x<yS&&e.x>gS&&(e.x=1),e.y<yS&&e.y>gS&&(e.y=1)}function Jo(t,e){t.min=t.min+e,t.max=t.max+e}function vS(t,e,n,s,a=.5){const l=dt(t.min,t.max,a);Iy(t,e,n,l,s)}function Zo(t,e){vS(t.x,e.x,e.scaleX,e.scale,e.originX),vS(t.y,e.y,e.scaleY,e.scale,e.originY)}function TC(t,e){return yC(h5(t.getBoundingClientRect(),e))}function d5(t,e,n){const s=TC(t,n),{scroll:a}=e;return a&&(Jo(s.x,a.offset.x),Jo(s.y,a.offset.y)),s}const _S=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:_S(),y:_S()}),TS=()=>({min:0,max:0}),zt=()=>({x:TS(),y:TS()}),Dy={current:null},EC={current:!1};function m5(){if(EC.current=!0,!!Bv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dy.current=t.matches;t.addEventListener("change",e),e()}else Dy.current=!1}const p5=new WeakMap;function g5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,ml(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,ml(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ES=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=An.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ht.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Jd(n),this.isVariantNode=aC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const R=_[b];m[b]!==void 0&&cn(R)&&R.set(m[b])}}mount(e){this.current=e,p5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),EC.current||m5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Rl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pl){const n=pl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ES.length;s++){const a=ES[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=g5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ml(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(fR(s)||mR(s))?s=parseFloat(s):!AU(s)&&Hr.test(n)&&(s=XR(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=d_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){r_.render(this.render)}}class bC extends y5{constructor(){super(...arguments),this.KeyframeResolver=dU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wC(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function v5(t){return window.getComputedStyle(t)}class _5 extends bC{constructor(){super(...arguments),this.type="html",this.renderInstance=wC}readValueFromInstance(e,n){if(Rl.has(n))return this.projection?.isProjecting?_y(n):M6(e,n);{const s=v5(e),a=(CR(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TC(e,n)}build(e,n,s){c_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return m_(e,n,s)}}const SC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T5(t,e,n,s){wC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(SC.has(a)?a:p_(a),e.attrs[a])}class E5 extends bC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rl.has(n)){const s=QR(n);return s&&s.default||0}return n=SC.has(n)?n:p_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return dC(e,n,s)}build(e,n,s){uC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){T5(e,n,s,a)}mount(e){this.isSVGTag=hC(e.tagName),super.mount(e)}}const b5=(t,e)=>f_(t)?new E5(e):new _5(e,{allowProjection:t!==O.Fragment});function rl(t,e,n){const s=t.getProps();return d_(s,e,n!==void 0?n:s.custom,t)}const Ny=t=>Array.isArray(t);function w5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ml(n))}function S5(t){return Ny(t)?t[t.length-1]||0:t}function A5(t,e){const n=rl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=S5(l[c]);w5(t,c,f)}}function x5(t){return!!(cn(t)&&t.add)}function My(t,e){const n=t.getValue("willChange");if(x5(n))return n.add(e);if(!n&&js.WillChange){const s=new js.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function AC(t){return t.props[mC]}const R5=t=>t!==null;function C5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(R5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const I5={type:"spring",stiffness:500,damping:25,restSpeed:10},D5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),N5={type:"keyframes",duration:.8},M5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O5=(t,{keyframes:e})=>e.length>2?N5:Rl.has(t)?t.startsWith("scale")?D5(e[1]):I5:M5;function P5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const g_=(t,e,n,s={},a,l)=>c=>{const f=i_(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-ts(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};P5(f)||Object.assign(y,O5(t,y)),y.duration&&(y.duration=ts(y.duration)),y.repeatDelay&&(y.repeatDelay=ts(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Sy(y),y.delay===0&&(_=!0)),(js.instantAnimations||js.skipAnimations)&&(_=!0,Sy(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=C5(y.keyframes,f);if(b!==void 0){ht.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new t_(y):new tU(y)};function V5({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const _=t.getValue(y,t.latestValues[y]??null),b=f[y];if(b===void 0||p&&V5(p,y))continue;const R={delay:n,...i_(l||{},y)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===D&&!R.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const q=AC(t);if(q){const $=window.MotionHandoffAnimation(q,y,ht);$!==null&&(R.startTime=$,B=!0)}}My(t,y),_.start(g_(y,_,b,t.shouldReduceMotion&&YR.has(y)?{type:!1}:R,t,B));const P=_.animation;P&&m.push(P)}return c&&Promise.all(m).then(()=>{ht.update(()=>{c&&A5(t,c)})}),m}function RC(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function Oy(t,e,n={}){const s=rl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(xC(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return k5(t,e,m,p,y,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function k5(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Oy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+RC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function L5(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Oy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Oy(t,e,n);else{const a=typeof e=="function"?rl(t,e,n.custom):e;s=Promise.all(xC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function CC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const U5=u_.length;function IC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<U5;n++){const s=u_[n],a=t.props[s];(mc(a)||a===!1)&&(e[s]=a)}return e}const j5=[...l_].reverse(),B5=l_.length;function z5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>L5(t,n,s)))}function F5(t){let e=z5(t),n=bS(),s=!0;const a=m=>(p,y)=>{const _=rl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:R,...D}=_;p={...p,...D,...R}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=IC(t.parent)||{},_=[],b=new Set;let R={},D=1/0;for(let P=0;P<B5;P++){const q=j5[P],$=n[q],G=p[q]!==void 0?p[q]:y[q],re=mc(G),ae=q===m?$.isActive:null;ae===!1&&(D=P);let le=G===y[q]&&G!==p[q]&&re;if(le&&s&&t.manuallyAnimateOnMount&&(le=!1),$.protectedKeys={...R},!$.isActive&&ae===null||!G&&!$.prevProp||Wd(G)||typeof G=="boolean")continue;const C=q5($.prevProp,G);let x=C||q===m&&$.isActive&&!le&&re||P>D&&re,I=!1;const L=Array.isArray(G)?G:[G];let V=L.reduce(a(q),{});ae===!1&&(V={});const{prevResolvedValues:F={}}=$,N={...F,...V},Ye=J=>{x=!0,b.has(J)&&(I=!0,b.delete(J)),$.needsAnimating[J]=!0;const oe=t.getValue(J);oe&&(oe.liveStyle=!1)};for(const J in N){const oe=V[J],pe=F[J];if(R.hasOwnProperty(J))continue;let _e=!1;Ny(oe)&&Ny(pe)?_e=!CC(oe,pe):_e=oe!==pe,_e?oe!=null?Ye(J):b.add(J):oe!==void 0&&b.has(J)?Ye(J):$.protectedKeys[J]=!0}$.prevProp=G,$.prevResolvedValues=V,$.isActive&&(R={...R,...V}),s&&t.blockInitialAnimation&&(x=!1);const st=le&&C;x&&(!st||I)&&_.push(...L.map(J=>{const oe={type:q};if(typeof J=="string"&&s&&!st&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,_e=rl(pe,J);if(pe.enteringChildren&&_e){const{delayChildren:k}=_e.transition||{};oe.delay=RC(pe.enteringChildren,t,k)}}return{animation:J,options:oe}}))}if(b.size){const P={};if(typeof p.initial!="boolean"){const q=rl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);q&&q.transition&&(P.transition=q.transition)}b.forEach(q=>{const $=t.getBaseTarget(q),G=t.getValue(q);G&&(G.liveStyle=!0),P[q]=$??null}),_.push({animation:P})}let B=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(B=!1),s=!1,B?e(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=bS()}}}function q5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CC(e,t):!1}function Ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bS(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class Wr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class H5 extends Wr{constructor(e){super(e),e.animationState||(e.animationState=F5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let G5=0;class Y5 extends Wr{constructor(){super(...arguments),this.id=G5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const K5={animation:{Feature:H5},exit:{Feature:Y5}};function pc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Lc(t){return{point:{x:t.pageX,y:t.pageY}}}const $5=t=>e=>a_(e)&&t(e,Lc(e));function ec(t,e,n,s){return pc(t,e,$5(n),s)}const DC=1e-4,Q5=1-DC,X5=1+DC,NC=.01,W5=0-NC,J5=0+NC;function pn(t){return t.max-t.min}function Z5(t,e,n){return Math.abs(t-e)<=n}function wS(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Q5&&t.scale<=X5||isNaN(t.scale))&&(t.scale=1),(t.translate>=W5&&t.translate<=J5||isNaN(t.translate))&&(t.translate=0)}function tc(t,e,n,s){wS(t.x,e.x,n.x,s?s.originX:void 0),wS(t.y,e.y,n.y,s?s.originY:void 0)}function SS(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function ej(t,e,n){SS(t.x,e.x,n.x),SS(t.y,e.y,n.y)}function AS(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function vd(t,e,n){AS(t.x,e.x,n.x),AS(t.y,e.y,n.y)}function Zn(t){return[t("x"),t("y")]}const MC=({current:t})=>t?t.ownerDocument.defaultView:null,xS=(t,e)=>Math.abs(t-e);function tj(t,e){const n=xS(t.x,e.x),s=xS(t.y,e.y);return Math.sqrt(n**2+s**2)}class OC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ig(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,D=tj(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!D)return;const{point:B}=b,{timestamp:P}=nn;this.history.push({...B,timestamp:P});const{onStart:q,onMove:$}=this.handlers;R||(q&&q(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,b)},this.handlePointerMove=(b,R)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Cg(R,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(b,R)=>{this.end();const{onEnd:D,onSessionEnd:B,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Ig(b.type==="pointercancel"?this.lastMoveEventInfo:Cg(R,this.transformPagePoint),this.history);this.startEvent&&D&&D(b,q),B&&B(b,q)},!a_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Lc(e),m=Cg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=nn;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,Ig(m,this.history)),this.removeListeners=Pc(ec(this.contextWindow,"pointermove",this.handlePointerMove),ec(this.contextWindow,"pointerup",this.handlePointerUp),ec(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function Cg(t,e){return e?{point:e(t.point)}:t}function RS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ig({point:t},e){return{point:t,delta:RS(t,PC(e)),offset:RS(t,nj(e)),velocity:ij(e,.1)}}function nj(t){return t[0]}function PC(t){return t[t.length-1]}function ij(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=PC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ts(e)));)n--;if(!s)return{x:0,y:0};const l=ni(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function sj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function CS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rj(t,{top:e,left:n,bottom:s,right:a}){return{x:CS(t.x,n,a),y:CS(t.y,e,s)}}function IS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function aj(t,e){return{x:IS(t.x,e.x),y:IS(t.y,e.y)}}function oj(t,e){let n=.5;const s=pn(t),a=pn(e);return a>s?n=hc(e.min,e.max-s,t.min):s>a&&(n=hc(t.min,t.max-a,e.min)),Us(0,1,n)}function lj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Py=.35;function uj(t=Py){return t===!1?t=0:t===!0&&(t=Py),{x:DS(t,"left","right"),y:DS(t,"top","bottom")}}function DS(t,e,n){return{min:NS(t,e),max:NS(t,n)}}function NS(t,e){return typeof t=="number"?t:t[e]||0}const cj=new WeakMap;class hj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lc(_).point)},c=(_,b)=>{const{drag:R,dragPropagation:D,onDragStart:B}=this.getProps();if(R&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yU(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(q=>{let $=this.getAxisMotionValue(q).get()||0;if(ns.test($)){const{projection:G}=this.visualElement;if(G&&G.layout){const re=G.layout.layoutBox[q];re&&($=pn(re)*(parseFloat($)/100))}}this.originPoint[q]=$}),B&&ht.postRender(()=>B(_,b)),My(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:R,dragDirectionLock:D,onDirectionLock:B,onDrag:P}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:q}=b;if(D&&this.currentDirection===null){this.currentDirection=fj(q),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",b.point,q),this.updateAxis("y",b.point,q),this.visualElement.render(),P&&P(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Zn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new OC(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:MC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ht.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Af(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=sj(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Wo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=rj(s.layoutBox,e):this.constraints=!1,this.elastic=uj(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=lj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=d5(s,a.root,this.visualElement.getTransformPagePoint());let c=aj(a.layout.layoutBox,l);if(n){const f=n(c5(c));this.hasMutatedConstraints=!!f,f&&(c=yC(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Zn(y=>{if(!Af(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,R=a?40:1e7,D={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return My(this.visualElement,e),s.start(g_(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zn(n=>{const{drag:s}=this.getProps();if(!Af(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-dt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Wo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=oj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Zn(c=>{if(!Af(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(dt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;cj.set(this.visualElement,this);const e=this.visualElement.current,n=ec(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Wo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ht.read(s);const c=pc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Zn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Py,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Af(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dj extends Wr{constructor(e){super(e),this.removeGroupControls=ii,this.removeListeners=ii,this.controls=new hj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const MS=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class mj extends Wr{constructor(){super(...arguments),this.removePointerDownListener=ii}onPointerDown(e){this.session=new OC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:MS(e),onStart:MS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ec(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Dg=!1;class pj extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Dg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Dg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Dg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function VC(t){const[e,n]=iC(),s=O.useContext(Uv);return S.jsx(pj,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(pC),isPresent:e,safeToRemove:n})}function gj(t,e,n){const s=cn(t)?t:ml(t);return s.start(g_("",s,e,n)),s.animation}const yj=(t,e)=>t.depth-e.depth;class vj{constructor(){this.children=[],this.isDirty=!1}add(e){zv(this.children,e),this.isDirty=!0}remove(e){Fv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yj),this.isDirty=!1,this.children.forEach(e)}}function _j(t,e){const n=An.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(qr(s),t(l-e))};return ht.setup(s,!0),()=>qr(s)}const kC=["TopLeft","TopRight","BottomLeft","BottomRight"],Tj=kC.length,OS=t=>typeof t=="string"?parseFloat(t):t,PS=t=>typeof t=="number"||we.test(t);function Ej(t,e,n,s,a,l){a?(t.opacity=dt(0,n.opacity??1,bj(s)),t.opacityExit=dt(e.opacity??1,0,wj(s))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,s));for(let c=0;c<Tj;c++){const f=`border${kC[c]}Radius`;let m=VS(e,f),p=VS(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||PS(m)===PS(p)?(t[f]=Math.max(dt(OS(m),OS(p),s),0),(ns.test(p)||ns.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function VS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bj=LC(0,.5,bR),wj=LC(.5,.95,ii);function LC(t,e,n){return s=>s<t?0:s>e?1:n(hc(t,e,s))}function kS(t,e){t.min=e.min,t.max=e.max}function vi(t,e){kS(t.x,e.x),kS(t.y,e.y)}function LS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function US(t,e,n,s,a){return t-=e,t=yd(t,1/n,s),a!==void 0&&(t=yd(t,1/a,s)),t}function Sj(t,e=0,n=1,s=.5,a,l=t,c=t){if(ns.test(e)&&(e=parseFloat(e),e=dt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=dt(l.min,l.max,s);t===l&&(f-=e),t.min=US(t.min,e,n,f,a),t.max=US(t.max,e,n,f,a)}function jS(t,e,[n,s,a],l,c){Sj(t,e[n],e[s],e[a],e.scale,l,c)}const Aj=["x","scaleX","originX"],xj=["y","scaleY","originY"];function BS(t,e,n,s){jS(t.x,e,Aj,n?n.x:void 0,s?s.x:void 0),jS(t.y,e,xj,n?n.y:void 0,s?s.y:void 0)}function zS(t){return t.translate===0&&t.scale===1}function UC(t){return zS(t.x)&&zS(t.y)}function FS(t,e){return t.min===e.min&&t.max===e.max}function Rj(t,e){return FS(t.x,e.x)&&FS(t.y,e.y)}function qS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jC(t,e){return qS(t.x,e.x)&&qS(t.y,e.y)}function HS(t){return pn(t.x)/pn(t.y)}function GS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Cj{constructor(){this.members=[]}add(e){zv(this.members,e),e.scheduleRender()}remove(e){if(Fv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ij(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:R,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),R&&(s+=`skewX(${R}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Ng=["","X","Y","Z"],Dj=1e3;let Nj=0;function Mg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function BC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&BC(s)}function zC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=Nj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Pj),this.nodes.forEach(Uj),this.nodes.forEach(jj),this.nodes.forEach(Vj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new vj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Gv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=nC(c)&&!wU(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{_=window.innerWidth}),t(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=_j(b,250),zf.hasAnimatedSinceResize&&(zf.hasAnimatedSinceResize=!1,this.nodes.forEach($S)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||Hj,{onLayoutAnimationStart:B,onLayoutAnimationComplete:P}=p.getProps(),q=!this.targetLayout||!jC(this.targetLayout,R),$=!_&&b;if(this.options.layoutRoot||this.resumeFrom||$||_&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...i_(D,"layout"),onPlay:B,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(y,$)}else _||$S(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(KS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Lj),this.nodes.forEach(Mj),this.nodes.forEach(Oj)):this.nodes.forEach(KS),this.clearAllSnapshots();const f=An.now();nn.delta=Us(0,1e3/60,f-nn.timestamp),nn.timestamp=f,nn.isProcessing=!0,Tg.update.process(nn),Tg.preRender.process(nn),Tg.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kj),this.sharedNodes.forEach(zj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!UC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Na(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),Gj(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return zt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Yj))){const{scroll:p}=this.root;p&&(Jo(f.x,p.offset.x),Jo(f.y,p.offset.y))}return f}removeElementScroll(c){const f=zt();if(vi(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&vi(f,c),Jo(f.x,y.offset.x),Jo(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=zt();vi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Zo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&Zo(m,y.latestValues)}return Na(this.latestValues)&&Zo(m,this.latestValues),m}removeTransform(c){const f=zt();vi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Na(p.latestValues))continue;Cy(p.latestValues)&&p.updateSnapshot();const y=zt(),_=p.measurePageBox();vi(y,_),BS(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&BS(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=nn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ej(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),_C(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Cy(this.parent.latestValues)||vC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),vd(this.relativeTargetOrigin,f,m),vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;vi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;f5(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=zt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LS(this.prevProjectionDelta.x,this.projectionDelta.x),LS(this.prevProjectionDelta.y,this.projectionDelta.y)),tc(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!GS(this.projectionDelta.x,this.prevProjectionDelta.x)||!GS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=el(),this.projectionDelta=el(),this.projectionDeltaWithTransform=el()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=zt(),R=m?m.source:void 0,D=this.layout?this.layout.source:void 0,B=R!==D,P=this.getStack(),q=!P||P.members.length<=1,$=!!(B&&!q&&this.options.crossfade===!0&&!this.path.some(qj));this.animationProgress=0;let G;this.mixTargetDelta=re=>{const ae=re/1e3;QS(_.x,c.x,ae),QS(_.y,c.y,ae),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fj(this.relativeTarget,this.relativeTargetOrigin,b,ae),G&&Rj(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=zt()),vi(G,this.relativeTarget)),B&&(this.animationValues=y,Ej(y,p,this.latestValues,ae,$,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{zf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ml(0)),this.currentAnimation=gj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&FC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||zt();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}vi(f,m),Zo(f,y),tc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Cj),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Mg("z",c,p,this.animationValues);for(let y=0;y<Ng.length;y++)Mg(`rotate${Ng[y]}`,c,p,this.animationValues),Mg(`skew${Ng[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Bf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Bf(f?.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=Ij(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:b,y:R}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Ry){if(y[D]===void 0)continue;const{correct:B,applyTo:P,isCSSVariable:q}=Ry[D],$=_==="none"?y[D]:B(y[D],p);if(P){const G=P.length;for(let re=0;re<G;re++)c[P[re]]=$}else q?this.options.visualElement.renderState.vars[D]=$:c[D]=$}this.options.layoutId&&(c.pointerEvents=p===this?Bf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(YS),this.root.sharedNodes.clear()}}}function Mj(t){t.updateLayout()}function Oj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Zn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],b=pn(_);_.min=n[y].min,_.max=_.min+b}):FC(a,e.layoutBox,n)&&Zn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],b=pn(n[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const c=el();tc(c,n,e.layoutBox);const f=el();l?tc(f,t.applyTransform(s,!0),e.measuredBox):tc(f,n,e.layoutBox);const m=!UC(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const R=zt();vd(R,e.layoutBox,_.layoutBox);const D=zt();vd(D,n,b.layoutBox),jC(R,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Pj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Vj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kj(t){t.clearSnapshot()}function YS(t){t.clearMeasurements()}function KS(t){t.isLayoutDirty=!1}function Lj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $S(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Uj(t){t.resolveTargetDelta()}function jj(t){t.calcProjection()}function Bj(t){t.resetSkewAndRotation()}function zj(t){t.removeLeadSnapshot()}function QS(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function XS(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function Fj(t,e,n,s){XS(t.x,e.x,n.x,s),XS(t.y,e.y,n.y,s)}function qj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Hj={duration:.45,ease:[.4,0,.1,1]},WS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),JS=WS("applewebkit/")&&!WS("chrome/")?Math.round:ii;function ZS(t){t.min=JS(t.min),t.max=JS(t.max)}function Gj(t){ZS(t.x),ZS(t.y)}function FC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Z5(HS(e),HS(n),.2)}function Yj(t){return t!==t.root&&t.scroll?.wasRoot}const Kj=zC({attachResizeListener:(t,e)=>pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Og={current:void 0},qC=zC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Og.current){const t=new Kj({});t.mount(window),t.setOptions({layoutScroll:!0}),Og.current=t}return Og.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$j={pan:{Feature:mj},drag:{Feature:dj,ProjectionNode:qC,MeasureLayout:VC}};function e1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ht.postRender(()=>l(e,Lc(e)))}class Qj extends Wr{mount(){const{current:e}=this.node;e&&(this.unmount=vU(e,(n,s)=>(e1(this.node,s,"Start"),a=>e1(this.node,a,"End"))))}unmount(){}}class Xj extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function t1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ht.postRender(()=>l(e,Lc(e)))}class Wj extends Wr{mount(){const{current:e}=this.node;e&&(this.unmount=bU(e,(n,s)=>(t1(this.node,s,"Start"),(a,{success:l})=>t1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vy=new WeakMap,Pg=new WeakMap,Jj=t=>{const e=Vy.get(t.target);e&&e(t)},Zj=t=>{t.forEach(Jj)};function e9({root:t,...e}){const n=t||document;Pg.has(n)||Pg.set(n,{});const s=Pg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Zj,{root:t,...e})),s[a]}function t9(t,e,n){const s=e9(e);return Vy.set(t,n),s.observe(t),()=>{Vy.delete(t),s.unobserve(t)}}const n9={some:0,all:1};class i9 extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:n9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return t9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(s9(e,n))&&this.startObserver()}unmount(){}}function s9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const r9={inView:{Feature:i9},tap:{Feature:Wj},focus:{Feature:Xj},hover:{Feature:Qj}},a9={layout:{ProjectionNode:qC,MeasureLayout:VC}},o9={...K5,...r9,...$j,...a9},Vr=u5(o9,b5),l9=()=>{const t=[{name:"General Consultation",price:"$50",description:"Comprehensive health check and prescription."},{name:"Follow-up Visit",price:"$30",description:"Review of previous conditions and treatment progress."},{name:"Special Procedures",price:"From $100",description:"Minor surgical procedures and specialized tests."},{name:"Prescription Renewal",price:"$20",description:"Quick renewal of ongoing medications."}];return S.jsxs("div",{className:"flex flex-col min-h-screen",children:[S.jsxs("nav",{className:"bg-white border-b border-slate-100 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(fy,{className:"text-medical-600 w-8 h-8"}),S.jsx("span",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"MedicoQueue"})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx(Oa,{to:"/live-queue",className:"text-slate-600 hover:text-medical-600 font-medium",children:"Live Queue"}),S.jsx(Oa,{to:"/booking",className:"btn-primary",children:"Book Now"})]})]}),S.jsxs("main",{className:"flex-grow",children:[S.jsx("section",{className:"bg-gradient-to-b from-medical-50 to-white py-20 px-6 text-center",children:S.jsxs(Vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[S.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight",children:["Modern Healthcare ",S.jsx("br",{}),S.jsx("span",{className:"text-medical-600",children:"Simplified"})]}),S.jsx("p",{className:"text-xl text-slate-600 mb-10 max-w-2xl mx-auto",children:"Skip the waiting room. Book your appointment online, track your queue status in real-time, and get notified when it's your turn."}),S.jsxs("div",{className:"flex justify-center gap-4",children:[S.jsxs(Oa,{to:"/booking",className:"btn-primary text-lg px-8 py-3 flex items-center gap-2",children:["Start Booking ",S.jsx(XL,{className:"w-5 h-5"})]}),S.jsx(Oa,{to:"/live-queue",className:"btn-secondary text-lg px-8 py-3",children:"View Live Queue"})]})]})}),S.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Our Services"}),S.jsx("p",{className:"text-slate-600",children:"Transparent pricing for all your medical needs."})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>S.jsxs(Vr.div,{whileHover:{y:-5},className:"medical-card flex flex-col justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:e.name}),S.jsx("p",{className:"text-slate-600 text-sm mb-4",children:e.description})]}),S.jsxs("div",{className:"mt-4",children:[S.jsx("span",{className:"text-2xl font-bold text-medical-600",children:e.price}),S.jsx("button",{className:"w-full mt-4 py-2 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-slate-700 font-medium",children:"Details"})]})]},n))})]})]}),S.jsx("footer",{className:"bg-slate-900 text-white py-12 px-6",children:S.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[S.jsxs("div",{className:"flex items-center gap-2 text-white",children:[S.jsx(fy,{className:"text-medical-400 w-8 h-8"}),S.jsx("span",{className:"text-xl font-bold",children:"MedicoQueue"})]}),S.jsx("div",{className:"text-slate-400 text-sm",children:" 2025 MedicoQueue. All rights reserved. Professional Medical Management System."}),S.jsx("div",{className:"flex gap-6",children:S.jsx(Oa,{to:"/login",className:"text-slate-400 hover:text-white transition-colors",children:"Doctor Portal"})})]})})]})},HC=6048e5,u9=864e5,c9=6e4,n1=Symbol.for("constructDateFrom");function Gr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&n1 in t?t[n1](e):t instanceof Date?new t.constructor(e):new Date(e)}function ri(t,e){return Gr(e||t,t)}let h9={};function Zd(){return h9}function gc(t,e){const n=Zd(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ri(t,e?.in),l=a.getDay(),c=(l<s?7:0)+l-s;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function _d(t,e){return gc(t,{...e,weekStartsOn:1})}function GC(t,e){const n=ri(t,e?.in),s=n.getFullYear(),a=Gr(n,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const l=_d(a),c=Gr(n,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const f=_d(c);return n.getTime()>=l.getTime()?s+1:n.getTime()>=f.getTime()?s:s-1}function i1(t){const e=ri(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function f9(t,...e){const n=Gr.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function s1(t,e){const n=ri(t,e?.in);return n.setHours(0,0,0,0),n}function d9(t,e,n){const[s,a]=f9(n?.in,t,e),l=s1(s),c=s1(a),f=+l-i1(l),m=+c-i1(c);return Math.round((f-m)/u9)}function m9(t,e){const n=GC(t,e),s=Gr(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),_d(s)}function p9(t,e,n){const s=ri(t,n?.in);return s.setTime(s.getTime()+e*c9),s}function g9(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function y9(t){return!(!g9(t)&&typeof t!="number"||isNaN(+ri(t)))}function v9(t,e){const n=ri(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const _9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T9=(t,e,n)=>{let s;const a=_9[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Vg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const E9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S9={date:Vg({formats:E9,defaultWidth:"full"}),time:Vg({formats:b9,defaultWidth:"full"}),dateTime:Vg({formats:w9,defaultWidth:"full"})},A9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x9=(t,e,n,s)=>A9[t];function ku(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,f=n?.width?String(n.width):c;a=t.formattingValues[f]||t.formattingValues[c]}else{const c=t.defaultWidth,f=n?.width?String(n.width):t.defaultWidth;a=t.values[f]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const R9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O9=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},P9={ordinalNumber:O9,era:ku({values:R9,defaultWidth:"wide"}),quarter:ku({values:C9,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ku({values:I9,defaultWidth:"wide"}),day:ku({values:D9,defaultWidth:"wide"}),dayPeriod:ku({values:N9,defaultWidth:"wide",formattingValues:M9,defaultFormattingWidth:"wide"})};function Lu(t){return(e,n={})=>{const s=n.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],f=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?k9(f,_=>_.test(c)):V9(f,_=>_.test(c));let p;p=t.valueCallback?t.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(c.length);return{value:p,rest:y}}}function V9(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function k9(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function L9(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(a.length);return{value:c,rest:f}}}const U9=/^(\d+)(th|st|nd|rd)?/i,j9=/\d+/i,B9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},z9={any:[/^b/i,/^(a|c)/i]},F9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q9={any:[/1/i,/2/i,/3/i,/4/i]},H9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},G9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X9={ordinalNumber:L9({matchPattern:U9,parsePattern:j9,valueCallback:t=>parseInt(t,10)}),era:Lu({matchPatterns:B9,defaultMatchWidth:"wide",parsePatterns:z9,defaultParseWidth:"any"}),quarter:Lu({matchPatterns:F9,defaultMatchWidth:"wide",parsePatterns:q9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lu({matchPatterns:H9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),day:Lu({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:K9,defaultParseWidth:"any"}),dayPeriod:Lu({matchPatterns:$9,defaultMatchWidth:"any",parsePatterns:Q9,defaultParseWidth:"any"})},W9={code:"en-US",formatDistance:T9,formatLong:S9,formatRelative:x9,localize:P9,match:X9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J9(t,e){const n=ri(t,e?.in);return d9(n,v9(n))+1}function Z9(t,e){const n=ri(t,e?.in),s=+_d(n)-+m9(n);return Math.round(s/HC)+1}function YC(t,e){const n=ri(t,e?.in),s=n.getFullYear(),a=Zd(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Gr(e?.in||t,0);c.setFullYear(s+1,0,l),c.setHours(0,0,0,0);const f=gc(c,e),m=Gr(e?.in||t,0);m.setFullYear(s,0,l),m.setHours(0,0,0,0);const p=gc(m,e);return+n>=+f?s+1:+n>=+p?s:s-1}function eB(t,e){const n=Zd(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=YC(t,e),l=Gr(e?.in||t,0);return l.setFullYear(a,0,s),l.setHours(0,0,0,0),gc(l,e)}function tB(t,e){const n=ri(t,e?.in),s=+gc(n,e)-+eB(n,e);return Math.round(s/HC)+1}function We(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Tr={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return We(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):We(n+1,2)},d(t,e){return We(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return We(t.getHours()%12||12,e.length)},H(t,e){return We(t.getHours(),e.length)},m(t,e){return We(t.getMinutes(),e.length)},s(t,e){return We(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return We(a,e.length)}},Fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r1={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Tr.y(t,e)},Y:function(t,e,n,s){const a=YC(t,s),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return We(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):We(l,e.length)},R:function(t,e){const n=GC(t);return We(n,e.length)},u:function(t,e){const n=t.getFullYear();return We(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return We(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return We(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Tr.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return We(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const a=tB(t,s);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):We(a,e.length)},I:function(t,e,n){const s=Z9(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):We(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Tr.d(t,e)},D:function(t,e,n){const s=J9(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):We(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const a=t.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return We(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const a=t.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return We(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),a=s===0?7:s;switch(e){case"i":return String(a);case"ii":return We(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let a;switch(s===12?a=Fo.noon:s===0?a=Fo.midnight:a=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let a;switch(s>=17?a=Fo.evening:s>=12?a=Fo.afternoon:s>=4?a=Fo.morning:a=Fo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Tr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Tr.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):We(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):We(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Tr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Tr.s(t,e)},S:function(t,e){return Tr.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return o1(s);case"XXXX":case"XX":return Ma(s);default:return Ma(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return o1(s);case"xxxx":case"xx":return Ma(s);default:return Ma(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+a1(s,":");default:return"GMT"+Ma(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+a1(s,":");default:return"GMT"+Ma(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return We(s,e.length)},T:function(t,e,n){return We(+t,e.length)}};function a1(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),l=s%60;return l===0?n+String(a):n+String(a)+e+We(l,2)}function o1(t,e){return t%60===0?(t>0?"-":"+")+We(Math.abs(t)/60,2):Ma(t,e)}function Ma(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),a=We(Math.trunc(s/60),2),l=We(s%60,2);return n+a+e+l}const l1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},KC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},nB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return l1(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",l1(s,e)).replace("{{time}}",KC(a,e))},iB={p:KC,P:nB},sB=/^D+$/,rB=/^Y+$/,aB=["D","DD","YY","YYYY"];function oB(t){return sB.test(t)}function lB(t){return rB.test(t)}function uB(t,e,n){const s=cB(t,e,n);if(console.warn(s),aB.includes(t))throw new RangeError(s)}function cB(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dB=/^'([^]*?)'?$/,mB=/''/g,pB=/[a-zA-Z]/;function kn(t,e,n){const s=Zd(),a=s.locale??W9,l=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,f=ri(t,n?.in);if(!y9(f))throw new RangeError("Invalid time value");let m=e.match(fB).map(y=>{const _=y[0];if(_==="p"||_==="P"){const b=iB[_];return b(y,a.formatLong)}return y}).join("").match(hB).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:gB(y)};if(r1[_])return{isToken:!0,value:y};if(_.match(pB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const _=y.value;(lB(_)||oB(_))&&uB(_,e,String(t));const b=r1[_[0]];return b(f,_,a.localize,p)}).join("")}function gB(t){const e=t.match(dB);return e?e[1].replace(mB,"'"):t}const yB=()=>{const t=Ed(),[e,n]=O.useState({name:"",phone:"",date:kn(new Date,"yyyy-MM-dd")}),[s,a]=O.useState(!1),[l,c]=O.useState(null),[f,m]=O.useState({intervalMinutes:10,dailyLimit:20,dailySchedules:{Monday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Tuesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Wednesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Thursday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Friday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Saturday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Sunday:{isOpen:!0,startTime:"09:00",endTime:"17:00"}}}),[p,y]=O.useState({totalBooked:0,estimatedWait:0});O.useEffect(()=>{(async()=>(ei(sn,"settings","clinic_settings"),await cd(La(Mr(sn,"settings"),Rr("id","==","clinic_settings"))),dl(ei(sn,"settings","clinic_settings"),B=>{B.exists()&&m(P=>({...P,...B.data()}))})))();const R=La(Mr(sn,"bookings"),Rr("date","==",e.date)),D=dl(R,B=>{y({totalBooked:B.size,estimatedWait:B.size*(f.intervalMinutes||15)})});return()=>D()},[e.date,f.intervalMinutes]);const _=async b=>{b.preventDefault(),console.log("Submit button clicked. Form data:",e),a(!0);let R=!1;setTimeout(()=>{R||(console.warn("Firestore submission is taking too long (15s timeout reached)"),a(!1),alert("The connection to the database is slow. Please refresh the page and try again."))},15e3);try{const D=kn(new Date(e.date),"EEEE"),B=f.dailySchedules?.[D];if(B&&!B.isOpen){alert(`Sorry, the clinic is closed on ${D}s.`),a(!1);return}if(p.totalBooked>=f.dailyLimit){alert("Sorry, we have reached the maximum number of bookings for this day."),a(!1);return}console.log("Current stats for queue calculation:",p);const P=(p.totalBooked||0)+1,q=B?.startTime||"09:00";let $=new Date(`${e.date}T${q}`);const G=new Date;e.date===kn(G,"yyyy-MM-dd")&&G>$&&($=G);const re=kn(p9($,p.totalBooked*f.intervalMinutes),"HH:mm"),ae=B?.endTime||"17:00";if(re>ae){alert("Sorry, we cannot accept more bookings for this day as it exceeds clinic working hours."),a(!1);return}const le={name:String(e.name),phone:String(e.phone),date:String(e.date),queueNumber:Number(P),status:"pending",createdAt:new Date().toISOString(),estimatedTime:String(re)};console.log("Attempting to write to collection 'bookings' with data:",le);const C=await nR(Mr(sn,"bookings"),le);R=!0,console.log("Success! Firestore Document ID:",C.id),c({id:C.id,...le})}catch(D){R=!0,console.error("FIRESTORE ERROR DETECTED:",D),console.error("Error Code:",D.code),console.error("Error Message:",D.message),alert("Database Error: "+D.message)}finally{a(!1),console.log("handleSubmit execution completed.")}};return l?S.jsx("div",{className:"min-h-screen bg-medical-50 flex items-center justify-center px-6",children:S.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"medical-card max-w-md w-full text-center py-10",children:[S.jsx("div",{className:"bg-green-100 text-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:S.jsx(uR,{className:"w-10 h-10"})}),S.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Confirmed!"}),S.jsx("p",{className:"text-slate-600 mb-8",children:"Your appointment has been scheduled successfully."}),S.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-8 text-left space-y-4",children:[S.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[S.jsx("span",{className:"text-slate-500",children:"Queue Number"}),S.jsxs("span",{className:"font-bold text-medical-600 text-xl",children:["#",l.queueNumber]})]}),S.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[S.jsx("span",{className:"text-slate-500",children:"Scheduled Time"}),S.jsx("span",{className:"font-semibold",children:l.estimatedTime})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-500",children:"Date"}),S.jsx("span",{className:"font-semibold",children:l.date})]})]}),S.jsxs("p",{className:"text-sm text-slate-500 mb-8 italic",children:["A confirmation message has been sent to ",l.phone," via WhatsApp."]}),S.jsx("button",{onClick:()=>t("/"),className:"w-full btn-primary",children:"Back to Home"})]})}):S.jsx("div",{className:"min-h-screen py-12 px-6",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Book an Appointment"}),S.jsx("p",{className:"text-slate-600",children:"Quick and easy booking in less than a minute."})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[S.jsxs("div",{className:"medical-card bg-medical-600 text-white border-none",children:[S.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Live Availability"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(zw,{className:"w-5 h-5 opacity-80"}),S.jsxs("span",{children:[p.totalBooked," Patients Today"]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(r3,{className:"w-5 h-5 opacity-80"}),S.jsxs("span",{children:[p.estimatedWait," min Estimated Wait"]})]})]})]}),S.jsxs("div",{className:"medical-card",children:[S.jsxs("h4",{className:"font-bold text-slate-900 mb-3 flex items-center gap-2",children:[S.jsx(S3,{className:"w-5 h-5 text-medical-600"})," Clinic Info"]}),S.jsxs("div",{className:"text-sm text-slate-600 space-y-2",children:[S.jsxs("p",{className:"flex justify-between",children:[S.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Today's Status"}),S.jsx("span",{className:f.dailySchedules?.[kn(new Date(e.date),"EEEE")]?.isOpen?"text-green-600 font-bold":"text-red-500 font-bold",children:f.dailySchedules?.[kn(new Date(e.date),"EEEE")]?.isOpen?"Open":"Closed"})]}),S.jsxs("p",{className:"flex justify-between border-t border-slate-50 pt-2",children:[S.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Working Hours"}),S.jsx("span",{children:f.dailySchedules?.[kn(new Date(e.date),"EEEE")]?.isOpen?`${f.dailySchedules[kn(new Date(e.date),"EEEE")].startTime} - ${f.dailySchedules[kn(new Date(e.date),"EEEE")].endTime}`:"---"})]}),S.jsxs("p",{className:"flex justify-between border-t border-slate-50 pt-2",children:[S.jsx("span",{className:"font-medium text-slate-400 uppercase tracking-tighter text-[10px]",children:"Daily Limit"}),S.jsxs("span",{children:["Max ",f.dailyLimit," patients"]})]})]})]})]}),S.jsx("div",{className:"lg:col-span-2",children:S.jsx("div",{className:"medical-card",children:S.jsxs("form",{onSubmit:_,className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),S.jsxs("div",{className:"relative",children:[S.jsx(zw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"fullName",name:"name",type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"Enter your full name",value:e.name,onChange:b=>n({...e,name:b.target.value})})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"whatsappNumber",className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp Number"}),S.jsxs("div",{className:"relative",children:[S.jsx(_3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"whatsappNumber",name:"phone",type:"tel",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"+1 (123) 456-7890",value:e.phone,onChange:b=>n({...e,phone:b.target.value})})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"appointmentDate",className:"block text-sm font-medium text-slate-700 mb-2",children:"Preferred Date"}),S.jsxs("div",{className:"relative",children:[S.jsx(Lf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"appointmentDate",name:"date",type:"date",required:!0,min:kn(new Date,"yyyy-MM-dd"),className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",value:e.date,onChange:b=>n({...e,date:b.target.value})})]})]}),S.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary py-4 text-lg flex justify-center items-center gap-2",children:s?"Processing...":"Confirm Booking"})]})})})]})]})})},vB=()=>{const[t,e]=O.useState([]),[n,s]=O.useState(0),a=kn(new Date,"yyyy-MM-dd");return O.useEffect(()=>{const l=La(Mr(sn,"bookings"),Rr("date","==",a)),c=dl(l,f=>{let m=f.docs.map(y=>({id:y.id,...y.data()}));m.sort((y,_)=>(y.queueNumber||0)-(_.queueNumber||0)),e(m);const p=m.find(y=>y.status==="calling");if(p)s(p.queueNumber);else{const y=[...m].reverse().find(_=>_.status==="completed");s(y?y.queueNumber:0)}});return()=>c()},[a]),S.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-6",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4 italic",children:"Live Queue Updates"}),S.jsx("p",{className:"text-slate-600",children:"Track the current clinic status in real-time."})]}),S.jsxs("div",{className:"bg-medical-600 rounded-2xl p-10 text-white shadow-xl shadow-medical-200 mb-12 text-center relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:S.jsx(cR,{className:"w-32 h-32"})}),S.jsx("p",{className:"text-medical-100 font-medium mb-2 uppercase tracking-widest",children:"Now Serving"}),S.jsxs("div",{className:"text-8xl font-black mb-4",children:["#",n]}),S.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"block text-2xl font-bold",children:t.filter(l=>l.status==="pending").length}),S.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:"Waiting"})]}),S.jsx("div",{className:"h-10 w-px bg-medical-400 opacity-50"}),S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"block text-2xl font-bold",children:t.filter(l=>l.status==="completed").length}),S.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:"Completed"})]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 px-2 mb-4",children:"Upcoming Patients"}),S.jsx(xy,{mode:"popLayout",children:t.filter(l=>l.status==="pending").map((l,c)=>S.jsxs(Vr.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},className:`medical-card flex justify-between items-center transition-all ${c===0?"bg-medical-50 border-medical-200":""}`,children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${c===0?"bg-medical-600 text-white":"bg-slate-100 text-slate-600"}`,children:["#",l.queueNumber]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-slate-900",children:l.name}),S.jsxs("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:["Scheduled for ",l.estimatedTime]})]})]}),c===0&&S.jsx("div",{className:"bg-medical-100 text-medical-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:"UP NEXT"})]},l.id))}),t.filter(l=>l.status==="pending").length===0&&S.jsxs("div",{className:"text-center py-10 medical-card border-dashed",children:[S.jsx(d3,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),S.jsx("p",{className:"text-slate-500",children:"No pending appointments for today."})]})]})]})})},_B="modulepreload",TB=function(t){return"/Doctors/"+t},u1={},EB=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");a=p(n.map(y=>{if(y=TB(y),y in u1)return;u1[y]=!0;const _=y.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const R=document.createElement("link");if(R.rel=_?"stylesheet":_B,_||(R.as="script"),R.crossOrigin="",R.href=y,m&&R.setAttribute("nonce",m),document.head.appendChild(R),_)return new Promise((D,B)=>{R.addEventListener("load",D),R.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return a.then(f=>{for(const m of f||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},kg="https://script.google.com/macros/s/AKfycbyK_DSjFavVCsE0DH49qxke-NVR8Nq_nFP3saZD86VKGIQ1TDPxIF3WTmwz995Oa46tGw/exec",Lg=(t,e=!1)=>{if(!t||!t.includes("drive.google.com"))return t;let n="";return t.includes("/file/d/")?n=t.split("/file/d/")[1].split("/")[0]:t.includes("id=")&&(n=t.split("id=")[1].split("&")[0]),n?e?`https://drive.google.com/file/d/${n}/preview`:`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t},bB=()=>{const[t,e]=O.useState([]),[n,s]=O.useState(null),[a,l]=O.useState(""),[c,f]=O.useState(""),[m,p]=O.useState(""),[y,_]=O.useState([]),[b,R]=O.useState(!1),[D,B]=O.useState(null),[P,q]=O.useState(!1),[$,G]=O.useState(!1),[re,ae]=O.useState({intervalMinutes:10,dailyLimit:20,dailySchedules:{Monday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Tuesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Wednesday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Thursday:{isOpen:!0,startTime:"09:00",endTime:"17:00"},Friday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Saturday:{isOpen:!1,startTime:"09:00",endTime:"17:00"},Sunday:{isOpen:!0,startTime:"09:00",endTime:"17:00"}}}),le=kn(new Date,"yyyy-MM-dd");O.useEffect(()=>{(async()=>(ei(sn,"settings","clinic_settings"),await cd(La(Mr(sn,"settings"),Rr("id","==","clinic_settings"))),dl(ei(sn,"settings","clinic_settings"),J=>{J.exists()&&ae(oe=>({...oe,...J.data()}))})))()},[]),O.useEffect(()=>{const j=La(Mr(sn,"bookings"),Rr("date","==",le)),J=dl(j,oe=>{let pe=oe.docs.map(_e=>({id:_e.id,..._e.data()}));pe.sort((_e,k)=>(_e.queueNumber||0)-(k.queueNumber||0)),e(pe)});return()=>J()},[le]);const C=async j=>{n&&(a!==(n.notes||"")||c!==(n.googleDriveLink||"")||m!==(n.nextAppointment||""))&&await x(!1),s(j),l(j.notes||""),f(j.googleDriveLink||""),p(j.nextAppointment||""),I(j.phone)},x=async(j=!0)=>{if(n)try{const J=ei(sn,"bookings",n.id);await qu(J,{notes:a,googleDriveLink:c,nextAppointment:m,updatedAt:Je.now()}),j&&alert("Draft saved successfully.")}catch(J){console.error("Save Draft Error:",J),j&&alert("Save failed: "+J.message)}},I=async j=>{try{const J=La(Mr(sn,"bookings"),Rr("phone","==",j),Rr("status","==","completed")),pe=(await cd(J)).docs.map(_e=>({id:_e.id,..._e.data()}));pe.sort((_e,k)=>{const ee=new Date(_e.date).getTime(),ce=new Date(k.date).getTime();if(ee!==ce)return ce-ee;const fe=_e.updatedAt?.toMillis()||0;return(k.updatedAt?.toMillis()||0)-fe}),_(pe)}catch(J){console.error("Error fetching history:",J)}},L=async j=>{j.preventDefault();try{await qu(ei(sn,"settings","clinic_settings"),re),alert("Clinic Settings updated successfully!"),G(!1)}catch(J){try{const{setDoc:oe}=await EB(async()=>{const{setDoc:pe}=await Promise.resolve().then(()=>cL);return{setDoc:pe}},[]);await oe(ei(sn,"settings","clinic_settings"),re),alert("Clinic Settings created and saved!"),G(!1)}catch{console.error("Save Settings Error:",J),alert("Failed to save settings.")}}},V=async j=>{const J=j.target.files[0];if(!(!J||!n)){if(kg.includes("YOUR_GOOGLE_SCRIPT")){alert("Please set your Google Script URL in Dashboard.jsx first!");return}q(!0);try{const oe=new FileReader;oe.readAsDataURL(J),oe.onload=async()=>{const pe=oe.result.split(",")[1],_e={name:J.name,type:J.type,base64:pe,phone:n.phone};console.log("Sending file to Drive bridge..."),await fetch(kg,{method:"POST",mode:"no-cors",body:JSON.stringify(_e)}),console.log("Upload sent, fetching new link via JSONP..."),window.handleDriveResponse=ee=>{console.log("JSONP Response received:",ee),ee.status==="success"?(f(ee.previewUrl),alert("File uploaded and linked successfully!")):(console.error("Link retrieval failed:",ee),alert("File uploaded but link retrieval failed. Please try again or check your Drive.")),q(!1)};const k=document.createElement("script");k.src=`${kg}?phone=${encodeURIComponent(n.phone)}&callback=handleDriveResponse&t=${Date.now()}`,k.onerror=()=>{console.error("JSONP Script load error"),q(!1),alert("Communication error with Google. Please try saving and refreshing.")},document.body.appendChild(k),setTimeout(()=>k.remove(),1e4)}}catch(oe){console.error("Upload Error:",oe),alert("Upload failed. Check console for details."),q(!1)}}},F=async(j,J)=>{try{const oe=ei(sn,"bookings",j);if(await qu(oe,{status:J,updatedAt:Je.now()}),J==="calling"){const pe=t.find(_e=>_e.id===j);C(pe)}}catch(oe){console.error(oe)}},N=async()=>{if(n)try{const j=ei(sn,"bookings",n.id),J={notes:a,googleDriveLink:c,nextAppointment:m,status:"completed",updatedAt:Je.now()};await qu(j,J),n.phone&&I(n.phone);const oe=t.map(pe=>pe.id===n.id?{...pe,...J}:pe);e(oe),s(null),l(""),f(""),p(""),alert("Consultation completed and records saved permanentely.")}catch(j){console.error("Save Notes Error:",j),alert("Failed to save final notes: "+j.message)}},Ye=t.find(j=>j.status==="calling"),st=t.find(j=>j.status==="pending");return S.jsxs("div",{className:"flex h-screen bg-slate-50",children:[S.jsxs("div",{className:"w-80 bg-white border-r border-slate-200 flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-3",children:[S.jsx("div",{className:"bg-medical-600 p-2 rounded-lg",children:S.jsx(cR,{className:"text-white w-6 h-6"})}),S.jsx("h2",{className:"font-bold text-slate-900 text-lg",children:"Daily Queue"})]}),S.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-3",children:[t.map(j=>S.jsxs("div",{onClick:()=>C(j),className:`p-3 rounded-xl border transition-all cursor-pointer ${n?.id===j.id?"bg-medical-50 border-medical-200 ring-2 ring-medical-100":"bg-white border-slate-100 hover:border-medical-200"}`,children:[S.jsxs("div",{className:"flex justify-between items-start mb-1",children:[S.jsxs("span",{className:"text-xs font-bold text-medical-600",children:["#",j.queueNumber]}),S.jsx("span",{className:`text-[10px] uppercase font-black px-2 py-0.5 rounded-full ${j.status==="calling"?"bg-orange-100 text-orange-600":j.status==="completed"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-500"}`,children:j.status})]}),S.jsx("h4",{className:"font-bold text-slate-800 truncate",children:j.name}),S.jsx("p",{className:"text-xs text-slate-500",children:j.estimatedTime})]},j.id)),t.length===0&&S.jsx("p",{className:"text-center text-slate-400 py-10 text-sm",children:"No bookings for today."})]}),S.jsx("div",{className:"p-4 border-t border-slate-100",children:S.jsx("button",{onClick:()=>Lv.signOut(),className:"w-full py-2 text-slate-500 hover:text-red-500 text-sm font-medium",children:"Logout"})})]}),S.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden",children:[S.jsxs("div",{className:"bg-white border-b border-slate-200 p-6 flex justify-between items-center shadow-sm",children:[S.jsxs("div",{className:"flex items-center gap-6",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Patient Consultation"}),S.jsx("p",{className:"text-slate-500 text-sm font-medium",children:kn(new Date,"EEEE, MMMM do")})]}),S.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-4 py-2 bg-medical-50 text-medical-700 rounded-xl hover:bg-medical-100 transition-all border border-medical-100 font-bold text-sm",children:[S.jsx(Bw,{className:"w-4 h-4"}),S.jsx("span",{children:"Clinic Settings"})]})]}),S.jsxs("div",{className:"flex gap-3",children:[st&&S.jsxs("button",{onClick:()=>F(st.id,"calling"),className:"btn-primary flex items-center gap-2",children:[S.jsx(n3,{className:"w-5 h-5"})," Call Next Patient (#",st.queueNumber,")"]}),Ye&&S.jsxs("button",{onClick:()=>F(Ye.id,"completed"),className:"btn-secondary flex items-center gap-2",children:[S.jsx(uR,{className:"w-5 h-5"})," Mark Completed"]})]})]}),S.jsx("div",{className:"flex-grow p-8 overflow-y-auto",children:n?S.jsxs(Vr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto space-y-8",children:[S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:n.name}),S.jsxs("p",{className:"text-slate-500 flex items-center gap-2 mt-1",children:[S.jsx(Lw,{className:"w-4 h-4"})," Queue #",n.queueNumber,"  ",n.phone]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-widest",children:"Booking Time"}),S.jsx("p",{className:"text-lg font-bold text-slate-700",children:n.estimatedTime})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsx("div",{className:"space-y-6",children:S.jsxs("div",{children:[S.jsx("label",{htmlFor:"clinicalNotes",className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Clinical Notes"}),S.jsx("textarea",{id:"clinicalNotes",name:"clinicalNotes",rows:10,className:"w-full p-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none resize-none bg-white",placeholder:"Enter examination details, diagnosis, and treatment plan...",value:a,onChange:j=>l(j.target.value)})]})}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Patient Records (Drive / Upload)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"relative flex-grow",children:[S.jsx(Uw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"driveLink",name:"driveLink",type:"url",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none",placeholder:"Drive Link or Auto-upload",value:c,onChange:j=>f(j.target.value)})]}),S.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-4 rounded-xl border-2 border-dashed border-medical-200 hover:bg-medical-50 transition-all ${P?"opacity-50 pointer-events-none":""}`,children:[S.jsx(x3,{className:"w-5 h-5 text-medical-600"}),S.jsx("input",{type:"file",className:"hidden",onChange:V,accept:"image/*,.pdf"})]})]}),P&&S.jsx("p",{className:"text-[10px] text-medical-600 mt-1 animate-pulse font-bold",children:"Uploading to Drive..."}),c&&S.jsxs("div",{className:"mt-4 border border-slate-200 rounded-xl overflow-hidden min-h-[200px] bg-slate-100 relative group flex items-center justify-center",children:[c.includes("drive.google.com")?S.jsx("div",{className:"w-full",children:S.jsx("img",{src:Lg(c),className:"max-h-[400px] w-auto object-contain mx-auto",alt:"Patient Record Preview",onError:j=>{j.target.style.display="none",j.target.parentElement.innerHTML=`
                                                                    <div class="p-12 text-center">
                                                                        <div class="bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm">
                                                                            <svg class="w-6 h-6 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                                        </div>
                                                                        <p class="text-xs text-slate-500 font-bold mb-4">PDF Document Detected</p>
                                                                        <a href="${c}" target="_blank" rel="noopener noreferrer" class="btn-primary py-2 px-6 text-xs inline-block">Open PDF in New Tab</a>
                                                                    </div>
                                                                `}})}):S.jsx("p",{className:"text-xs text-slate-400",children:"Preview not available for this link type"}),S.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-slate-900/60 p-2 opacity-0 group-hover:opacity-100 transition-opacity flex justify-between items-center",children:[S.jsx("span",{className:"text-[10px] text-white font-medium",children:"Record Preview"}),S.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-medical-200 font-bold hover:underline",children:"Open Original"})]})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"nextAppt",className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Next Appointment"}),S.jsxs("div",{className:"relative",children:[S.jsx(Lf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"nextAppt",name:"nextAppt",type:"date",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none",value:m,onChange:j=>p(j.target.value)})]})]}),S.jsxs("div",{className:"bg-medical-50 rounded-xl p-6 border border-medical-100",children:[S.jsxs("h4",{className:"font-bold text-medical-800 mb-2 flex items-center gap-2",children:[S.jsx(jw,{className:"w-5 h-5"})," Quick Actions"]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("button",{onClick:()=>R(!0),className:"w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-white transition-colors text-slate-600 border border-transparent hover:border-medical-200 flex items-center gap-2",children:[S.jsx(h3,{className:"w-4 h-4"})," View Medical History (",y.length,")"]}),S.jsxs("button",{className:"w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-white transition-colors text-slate-600 border border-transparent hover:border-medical-200 flex items-center gap-2",children:[S.jsx(jw,{className:"w-4 h-4"})," Print Prescription"]})]})]})]})]}),S.jsxs("div",{className:"pt-6 border-t border-slate-200 flex justify-between items-center gap-3",children:[S.jsx("button",{onClick:()=>x(!0),className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-all font-bold text-sm",children:"Save Draft"}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>s(null),className:"px-6 py-2 text-slate-500 font-medium",children:"Cancel"}),S.jsx("button",{onClick:N,className:"btn-primary px-8",children:"Save & Complete Consultation"})]})]})]}):S.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[S.jsx(Lw,{className:"w-16 h-16 mb-4 opacity-20"}),S.jsx("p",{className:"text-lg",children:"Select a patient from the queue to start consultation"})]})})]}),S.jsx(xy,{children:b&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:S.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl",children:[S.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Medical History"}),S.jsx("p",{className:"text-sm text-slate-500",children:n?.name})]}),S.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:S.jsx(Fw,{className:"w-6 h-6 text-slate-400"})})]}),S.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:y.length===0?S.jsx("div",{className:"text-center py-12 text-slate-400",children:"No previous records found for this patient."}):y.map(j=>S.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 bg-slate-50/50",children:[S.jsxs("div",{className:"flex justify-between items-start mb-3",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Lf,{className:"w-4 h-4 text-medical-600"}),S.jsx("span",{className:"font-bold text-slate-700",children:j.date})]}),S.jsx("span",{className:"text-[10px] uppercase font-black bg-green-100 text-green-600 px-2 py-0.5 rounded-full",children:"Completed"})]}),S.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-100 mb-3 text-sm text-slate-600 whitespace-pre-wrap relative",children:[j.notes||"No clinical notes provided.",j.nextAppointment&&S.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-50 flex items-center gap-2 text-medical-600 font-bold text-[10px] uppercase",children:[S.jsx(Lf,{className:"w-3 h-3"})," Next Appointment: ",j.nextAppointment]})]}),j.googleDriveLink&&S.jsxs("div",{className:"mt-3",children:[S.jsxs("div",{className:"flex gap-4 mb-2",children:[S.jsxs("a",{href:j.googleDriveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-bold text-medical-600 hover:underline",children:[S.jsx(Uw,{className:"w-3 h-3"})," Open full file"]}),S.jsxs("button",{onClick:()=>B(D===j.id?null:j.id),className:"text-xs font-bold text-slate-500 hover:text-medical-600 flex items-center gap-1",children:[S.jsx(l3,{className:"w-3 h-3"})," ",D===j.id?"Hide Preview":"Show Preview"]})]}),D===j.id&&j.googleDriveLink.includes("drive.google.com")&&S.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden min-h-[150px] bg-white shadow-inner flex items-center justify-center",children:[S.jsx("img",{src:Lg(j.googleDriveLink),className:"max-h-[300px] w-auto object-contain",alt:"History Record",onError:J=>{J.target.style.display="none",J.target.nextSibling.style.display="block"}}),S.jsx("iframe",{src:Lg(j.googleDriveLink,!0),className:"w-full h-[300px] hidden",title:"History PDF Preview"})]})]})]},j.id))})]})})}),S.jsx(xy,{children:$&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:S.jsxs(Vr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden",children:[S.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-medical-600 text-white",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Bw,{className:"w-5 h-5"}),S.jsx("h3",{className:"text-xl font-bold",children:"Clinic Settings"})]}),S.jsx("button",{onClick:()=>G(!1),className:"p-2 hover:bg-medical-700 rounded-full transition-colors",children:S.jsx(Fw,{className:"w-6 h-6 text-white"})})]}),S.jsxs("form",{onSubmit:L,className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Patients / Hour"}),S.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:60/re.intervalMinutes,onChange:j=>ae({...re,intervalMinutes:60/parseInt(j.target.value)}),children:[S.jsx("option",{value:"2",children:"2 (Every 30m)"}),S.jsx("option",{value:"3",children:"3 (Every 20m)"}),S.jsx("option",{value:"4",children:"4 (Every 15m)"}),S.jsx("option",{value:"6",children:"6 (Every 10m)"}),S.jsx("option",{value:"12",children:"12 (Every 5m)"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"Daily Capacity"}),S.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 outline-none",value:re.dailyLimit,onChange:j=>ae({...re,dailyLimit:parseInt(j.target.value)})})]})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Weekly Schedule & Hours"}),Object.entries(re.dailySchedules).map(([j,J])=>S.jsxs("div",{className:`p-3 rounded-xl border transition-all flex items-center gap-4 ${J.isOpen?"bg-white border-slate-200 shadow-sm":"bg-slate-50 border-slate-100 opacity-60"}`,children:[S.jsx("button",{type:"button",onClick:()=>{const oe={...re.dailySchedules};oe[j].isOpen=!oe[j].isOpen,ae({...re,dailySchedules:oe})},className:`w-12 h-6 rounded-full relative transition-colors ${J.isOpen?"bg-medical-500":"bg-slate-300"}`,children:S.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${J.isOpen?"right-1":"left-1"}`})}),S.jsx("span",{className:"font-bold text-slate-700 w-20",children:j}),J.isOpen?S.jsxs("div",{className:"flex-grow flex items-center gap-2",children:[S.jsx("input",{type:"time",className:"flex-1 px-2 py-1 border border-slate-200 rounded text-xs outline-none",value:J.startTime,onChange:oe=>{const pe={...re.dailySchedules};pe[j].startTime=oe.target.value,ae({...re,dailySchedules:pe})}}),S.jsx("span",{className:"text-slate-400",children:"to"}),S.jsx("input",{type:"time",className:"flex-1 px-2 py-1 border border-slate-200 rounded text-xs outline-none",value:J.endTime,onChange:oe=>{const pe={...re.dailySchedules};pe[j].endTime=oe.target.value,ae({...re,dailySchedules:pe})}})]}):S.jsx("span",{className:"text-slate-400 text-xs italic",children:"Clinic Closed"})]},j))]}),S.jsxs("div",{className:"pt-4 border-t border-slate-100 flex gap-3",children:[S.jsx("button",{type:"button",onClick:()=>G(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl font-bold hover:bg-slate-200",children:"Cancel"}),S.jsxs("button",{type:"submit",className:"flex-1 py-3 bg-medical-600 text-white rounded-xl font-bold hover:bg-medical-700 shadow-lg shadow-medical-200 flex items-center justify-center gap-2",children:[S.jsx(E3,{className:"w-4 h-4"})," Save Settings"]})]})]})]})})})]})},wB=()=>{const[t,e]=O.useState(""),[n,s]=O.useState(""),[a,l]=O.useState(""),[c,f]=O.useState(!1),m=Ed(),p=async y=>{y.preventDefault(),f(!0),l("");try{await HO(Lv,t,n),m("/dashboard")}catch(_){l("Invalid email or password. Please try again."),console.error(_)}f(!1)};return S.jsxs("div",{className:"min-h-screen bg-medical-50 flex flex-col justify-center py-12 px-6",children:[S.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[S.jsx("div",{className:"flex justify-center mb-6",children:S.jsx(fy,{className:"text-medical-600 w-12 h-12"})}),S.jsx("h2",{className:"text-center text-3xl font-extrabold text-slate-900",children:"Doctor Portal"}),S.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Sign in to manage your clinic and patients."})]}),S.jsx(Vr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:S.jsxs("div",{className:"medical-card",children:[S.jsxs("form",{className:"space-y-6",onSubmit:p,children:[a&&S.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center gap-3 text-sm",children:[S.jsx(ZL,{className:"w-5 h-5 flex-shrink-0"}),a]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"loginEmail",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),S.jsxs("div",{className:"relative",children:[S.jsx(y3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"loginEmail",name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"doctor@example.com",value:t,onChange:y=>e(y.target.value)})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"loginPassword",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),S.jsxs("div",{className:"relative",children:[S.jsx(p3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),S.jsx("input",{id:"loginPassword",name:"password",type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"",value:n,onChange:y=>s(y.target.value)})]})]}),S.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary py-3 text-lg",children:c?"Signing in...":"Sign In"})]}),S.jsx("div",{className:"mt-6 text-center",children:S.jsx("p",{className:"text-xs text-slate-500",children:"Note: This portal is for authorized medical staff only."})})]})})]})},SB=({children:t,doctorOnly:e=!1})=>{const{currentUser:n,isDoctor:s}=zL();return n?e&&!s?S.jsx(JE,{to:"/"}):t:S.jsx(JE,{to:"/login"})};function AB(){return S.jsx(FL,{children:S.jsx(eN,{basename:"/Doctors",children:S.jsx("div",{className:"min-h-screen bg-slate-50",children:S.jsxs(DD,{children:[S.jsx(qo,{path:"/",element:S.jsx(l9,{})}),S.jsx(qo,{path:"/booking",element:S.jsx(yB,{})}),S.jsx(qo,{path:"/live-queue",element:S.jsx(vB,{})}),S.jsx(qo,{path:"/login",element:S.jsx(wB,{})}),S.jsx(qo,{path:"/dashboard",element:S.jsx(SB,{doctorOnly:!0,children:S.jsx(bB,{})})})]})})})})}OI.createRoot(document.getElementById("root")).render(S.jsx(O.StrictMode,{children:S.jsx(AB,{})}));

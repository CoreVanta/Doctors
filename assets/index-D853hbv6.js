(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var qp={exports:{}},Au={};var VE;function cI(){if(VE)return Au;VE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Au.Fragment=t,Au.jsx=n,Au.jsxs=n,Au}var PE;function hI(){return PE||(PE=1,qp.exports=cI()),qp.exports}var R=hI(),Hp={exports:{}},St={};var kE;function fI(){if(kE)return St;kE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,k={};function F(j,nt,ut){this.props=j,this.context=nt,this.refs=k,this.updater=ut||O}F.prototype.isReactComponent={},F.prototype.setState=function(j,nt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,nt,"setState")},F.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function K(j,nt,ut){this.props=j,this.context=nt,this.refs=k,this.updater=ut||O}var at=K.prototype=new Y;at.constructor=K,B(at,F.prototype),at.isPureReactComponent=!0;var rt=Array.isArray;function ot(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(j,nt,ut){var ft=ut.ref;return{$$typeof:e,type:j,key:nt,ref:ft!==void 0?ft:null,props:ut}}function P(j,nt){return D(j.type,nt,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function U(j){var nt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ut){return nt[ut]})}var N=/\/+/g;function Ct(j,nt){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):nt.toString(36)}function Vt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ot,ot):(j.status="pending",j.then(function(nt){j.status==="pending"&&(j.status="fulfilled",j.value=nt)},function(nt){j.status==="pending"&&(j.status="rejected",j.reason=nt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function W(j,nt,ut,ft,bt){var Dt=typeof j;(Dt==="undefined"||Dt==="boolean")&&(j=null);var Ft=!1;if(j===null)Ft=!0;else switch(Dt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(j.$$typeof){case e:case t:Ft=!0;break;case y:return Ft=j._init,W(Ft(j._payload),nt,ut,ft,bt)}}if(Ft)return bt=bt(j),Ft=ft===""?"."+Ct(j,0):ft,rt(bt)?(ut="",Ft!=null&&(ut=Ft.replace(N,"$&/")+"/"),W(bt,nt,ut,"",function(qr){return qr})):bt!=null&&(C(bt)&&(bt=P(bt,ut+(bt.key==null||j&&j.key===bt.key?"":(""+bt.key).replace(N,"$&/")+"/")+Ft)),nt.push(bt)),1;Ft=0;var Ue=ft===""?".":ft+":";if(rt(j))for(var le=0;le<j.length;le++)ft=j[le],Dt=Ue+Ct(ft,le),Ft+=W(ft,nt,ut,Dt,bt);else if(le=x(j),typeof le=="function")for(j=le.call(j),le=0;!(ft=j.next()).done;)ft=ft.value,Dt=Ue+Ct(ft,le++),Ft+=W(ft,nt,ut,Dt,bt);else if(Dt==="object"){if(typeof j.then=="function")return W(Vt(j),nt,ut,ft,bt);throw nt=String(j),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function st(j,nt,ut){if(j==null)return j;var ft=[],bt=0;return W(j,ft,"","",function(Dt){return nt.call(ut,Dt,bt++)}),ft}function dt(j){if(j._status===-1){var nt=j._result;nt=nt(),nt.then(function(ut){(j._status===0||j._status===-1)&&(j._status=1,j._result=ut)},function(ut){(j._status===0||j._status===-1)&&(j._status=2,j._result=ut)}),j._status===-1&&(j._status=0,j._result=nt)}if(j._status===1)return j._result.default;throw j._result}var It=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Pt={map:st,forEach:function(j,nt,ut){st(j,function(){nt.apply(this,arguments)},ut)},count:function(j){var nt=0;return st(j,function(){nt++}),nt},toArray:function(j){return st(j,function(nt){return nt})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return St.Activity=_,St.Children=Pt,St.Component=F,St.Fragment=n,St.Profiler=a,St.PureComponent=K,St.StrictMode=s,St.Suspense=m,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},St.cache=function(j){return function(){return j.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(j,nt,ut){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ft=B({},j.props),bt=j.key;if(nt!=null)for(Dt in nt.key!==void 0&&(bt=""+nt.key),nt)!A.call(nt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&nt.ref===void 0||(ft[Dt]=nt[Dt]);var Dt=arguments.length-2;if(Dt===1)ft.children=ut;else if(1<Dt){for(var Ft=Array(Dt),Ue=0;Ue<Dt;Ue++)Ft[Ue]=arguments[Ue+2];ft.children=Ft}return D(j.type,bt,ft)},St.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},St.createElement=function(j,nt,ut){var ft,bt={},Dt=null;if(nt!=null)for(ft in nt.key!==void 0&&(Dt=""+nt.key),nt)A.call(nt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(bt[ft]=nt[ft]);var Ft=arguments.length-2;if(Ft===1)bt.children=ut;else if(1<Ft){for(var Ue=Array(Ft),le=0;le<Ft;le++)Ue[le]=arguments[le+2];bt.children=Ue}if(j&&j.defaultProps)for(ft in Ft=j.defaultProps,Ft)bt[ft]===void 0&&(bt[ft]=Ft[ft]);return D(j,Dt,bt)},St.createRef=function(){return{current:null}},St.forwardRef=function(j){return{$$typeof:d,render:j}},St.isValidElement=C,St.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:dt}},St.memo=function(j,nt){return{$$typeof:g,type:j,compare:nt===void 0?null:nt}},St.startTransition=function(j){var nt=I.T,ut={};I.T=ut;try{var ft=j(),bt=I.S;bt!==null&&bt(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ot,It)}catch(Dt){It(Dt)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),I.T=nt}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(j){return I.H.use(j)},St.useActionState=function(j,nt,ut){return I.H.useActionState(j,nt,ut)},St.useCallback=function(j,nt){return I.H.useCallback(j,nt)},St.useContext=function(j){return I.H.useContext(j)},St.useDebugValue=function(){},St.useDeferredValue=function(j,nt){return I.H.useDeferredValue(j,nt)},St.useEffect=function(j,nt){return I.H.useEffect(j,nt)},St.useEffectEvent=function(j){return I.H.useEffectEvent(j)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(j,nt,ut){return I.H.useImperativeHandle(j,nt,ut)},St.useInsertionEffect=function(j,nt){return I.H.useInsertionEffect(j,nt)},St.useLayoutEffect=function(j,nt){return I.H.useLayoutEffect(j,nt)},St.useMemo=function(j,nt){return I.H.useMemo(j,nt)},St.useOptimistic=function(j,nt){return I.H.useOptimistic(j,nt)},St.useReducer=function(j,nt,ut){return I.H.useReducer(j,nt,ut)},St.useRef=function(j){return I.H.useRef(j)},St.useState=function(j){return I.H.useState(j)},St.useSyncExternalStore=function(j,nt,ut){return I.H.useSyncExternalStore(j,nt,ut)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.3",St}var LE;function Cy(){return LE||(LE=1,Hp.exports=fI()),Hp.exports}var V=Cy(),Gp={exports:{}},Ru={},Yp={exports:{}},Kp={};var UE;function dI(){return UE||(UE=1,(function(e){function t(W,st){var dt=W.length;W.push(st);t:for(;0<dt;){var It=dt-1>>>1,Pt=W[It];if(0<a(Pt,st))W[It]=st,W[dt]=Pt,dt=It;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var st=W[0],dt=W.pop();if(dt!==st){W[0]=dt;t:for(var It=0,Pt=W.length,j=Pt>>>1;It<j;){var nt=2*(It+1)-1,ut=W[nt],ft=nt+1,bt=W[ft];if(0>a(ut,dt))ft<Pt&&0>a(bt,ut)?(W[It]=bt,W[ft]=dt,It=ft):(W[It]=ut,W[nt]=dt,It=nt);else if(ft<Pt&&0>a(bt,dt))W[It]=bt,W[ft]=dt,It=ft;else break t}}return st}function a(W,st){var dt=W.sortIndex-st.sortIndex;return dt!==0?dt:W.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,_=null,b=3,x=!1,O=!1,B=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function at(W){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=W)s(g),st.sortIndex=st.expirationTime,t(m,st);else break;st=n(g)}}function rt(W){if(B=!1,at(W),!O)if(n(m)!==null)O=!0,ot||(ot=!0,U());else{var st=n(g);st!==null&&Vt(rt,st.startTime-W)}}var ot=!1,I=-1,A=5,D=-1;function P(){return k?!0:!(e.unstable_now()-D<A)}function C(){if(k=!1,ot){var W=e.unstable_now();D=W;var st=!0;try{t:{O=!1,B&&(B=!1,Y(I),I=-1),x=!0;var dt=b;try{e:{for(at(W),_=n(m);_!==null&&!(_.expirationTime>W&&P());){var It=_.callback;if(typeof It=="function"){_.callback=null,b=_.priorityLevel;var Pt=It(_.expirationTime<=W);if(W=e.unstable_now(),typeof Pt=="function"){_.callback=Pt,at(W),st=!0;break e}_===n(m)&&s(m),at(W)}else s(m);_=n(m)}if(_!==null)st=!0;else{var j=n(g);j!==null&&Vt(rt,j.startTime-W),st=!1}}break t}finally{_=null,b=dt,x=!1}st=void 0}}finally{st?U():ot=!1}}}var U;if(typeof K=="function")U=function(){K(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ct=N.port2;N.port1.onmessage=C,U=function(){Ct.postMessage(null)}}else U=function(){F(C,0)};function Vt(W,st){I=F(function(){W(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var dt=b;b=st;try{return W()}finally{b=dt}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(W,st){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var dt=b;b=W;try{return st()}finally{b=dt}},e.unstable_scheduleCallback=function(W,st,dt){var It=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,W){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=dt+Pt,W={id:y++,callback:st,priorityLevel:W,startTime:dt,expirationTime:Pt,sortIndex:-1},dt>It?(W.sortIndex=dt,t(g,W),n(m)===null&&W===n(g)&&(B?(Y(I),I=-1):B=!0,Vt(rt,dt-It))):(W.sortIndex=Pt,t(m,W),O||x||(O=!0,ot||(ot=!0,U()))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var st=b;return function(){var dt=b;b=st;try{return W.apply(this,arguments)}finally{b=dt}}}})(Kp)),Kp}var jE;function mI(){return jE||(jE=1,Yp.exports=dI()),Yp.exports}var Qp={exports:{}},rn={};var BE;function pI(){if(BE)return rn;BE=1;var e=Cy();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},rn.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:x}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,g){return m(g)},rn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var zE;function gI(){if(zE)return Qp.exports;zE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qp.exports=pI(),Qp.exports}var FE;function yI(){if(FE)return Ru;FE=1;var e=mI(),t=Cy(),n=gI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===u)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var T=!1,w=f.child;w;){if(w===o){T=!0,o=f,u=p;break}if(w===u){T=!0,u=f,o=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===o){T=!0,o=p,u=f;break}if(w===u){T=!0,u=p,o=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),K=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Ct(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case rt:return"Suspense";case ot:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case K:return i.displayName||"Context";case Y:return(i._context.displayName||"Context")+".Consumer";case at:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:Ct(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Ct(i(r))}catch{}}return null}var Vt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],Pt=-1;function j(i){return{current:i}}function nt(i){0>Pt||(i.current=It[Pt],It[Pt]=null,Pt--)}function ut(i,r){Pt++,It[Pt]=i.current,i.current=r}var ft=j(null),bt=j(null),Dt=j(null),Ft=j(null);function Ue(i,r){switch(ut(Dt,r),ut(bt,i),ut(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?iE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=iE(r),i=sE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ft),ut(ft,i)}function le(){nt(ft),nt(bt),nt(Dt)}function qr(i){i.memoizedState!==null&&ut(Ft,i);var r=ft.current,o=sE(r,i.type);r!==o&&(ut(bt,i),ut(ft,o))}function Ga(i){bt.current===i&&(nt(ft),nt(bt)),Ft.current===i&&(nt(Ft),Eu._currentValue=dt)}var Ya,Ka;function Ei(i){if(Ya===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ya=r&&r[1]||"",Ka=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+i+Ka}var El=!1;function Hr(i,r){if(!i||El)return"";El=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(X){var Q=X}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(X){Q=X}i.call(tt.prototype)}}else{try{throw Error()}catch(X){Q=X}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var M=T.split(`
`),G=w.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===G.length)for(u=M.length-1,f=G.length-1;1<=u&&0<=f&&M[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==G[f]){var J=`
`+M[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=f);break}}}finally{El=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ei(o):""}function bl(i,r){switch(i.tag){case 26:case 27:case 5:return Ei(i.type);case 16:return Ei("Lazy");case 13:return i.child!==r&&r!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Hr(i.type,!1);case 11:return Hr(i.type.render,!1);case 1:return Hr(i.type,!0);case 31:return Ei("Activity");default:return""}}function wl(i){try{var r="",o=null;do r+=bl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ae=Object.prototype.hasOwnProperty,je=e.unstable_scheduleCallback,ks=e.unstable_cancelCallback,Gd=e.unstable_shouldYield,Nc=e.unstable_requestPaint,hn=e.unstable_now,Gr=e.unstable_getCurrentPriorityLevel,Sl=e.unstable_ImmediatePriority,Al=e.unstable_UserBlockingPriority,Ls=e.unstable_NormalPriority,Yd=e.unstable_LowPriority,Mc=e.unstable_IdlePriority,Oc=e.log,Vc=e.unstable_setDisableYieldValue,ni=null,Qe=null;function kn(i){if(typeof Oc=="function"&&Vc(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ni,i)}catch{}}var ve=Math.clz32?Math.clz32:kc,Pc=Math.log,Qa=Math.LN2;function kc(i){return i>>>=0,i===0?32:31-(Pc(i)/Qa|0)|0}var bi=256,Yr=262144,Re=4194304;function wi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Si(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?f=wi(u):(T&=w,T!==0?f=wi(T):o||(o=w&~i,o!==0&&(f=wi(o))))):(w=u&~p,w!==0?f=wi(w):T!==0?f=wi(T):o||(o=u&~i,o!==0&&(f=wi(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function ii(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Kd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(){var i=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),i}function Ai(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Kr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qd(i,r,o,u,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,M=i.expirationTimes,G=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-ve(o),tt=1<<J;w[J]=0,M[J]=-1;var Q=G[J];if(Q!==null)for(G[J]=null,J=0;J<Q.length;J++){var X=Q[J];X!==null&&(X.lane&=-536870913)}o&=~tt}u!==0&&Qr(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function Qr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ve(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Rl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-ve(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function xl(i,r){var o=r&-r;return o=(o&42)!==0?1:$r(o),(o&(i.suspendedLanes|r))!==0?0:o}function $r(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Uc(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:xE(i.type))}function si(i,r){var o=st.p;try{return st.p=i,r()}finally{st.p=o}}var ri=Math.random().toString(36).slice(2),xe="__reactFiber$"+ri,He="__reactProps$"+ri,Ri="__reactContainer$"+ri,$a="__reactEvents$"+ri,$d="__reactListeners$"+ri,jc="__reactHandles$"+ri,Bc="__reactResources$"+ri,xi="__reactMarker$"+ri;function Xa(i){delete i[xe],delete i[He],delete i[$a],delete i[$d],delete i[jc]}function Ci(i){var r=i[xe];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ri]||o[xe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=hE(i);i!==null;){if(o=i[xe])return o;i=hE(i)}return r}i=o,o=i.parentNode}return null}function Ln(i){if(i=i[xe]||i[Ri]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function An(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ii(i){var r=i[Bc];return r||(r=i[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(i){i[xi]=!0}var Cl=new Set,Il={};function Di(i,r){Ni(i,r),Ni(i+"Capture",r)}function Ni(i,r){for(Il[i]=r,i=0;i<r.length;i++)Cl.add(r[i])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Ml={};function zc(i){return Ae.call(Ml,i)?!0:Ae.call(Nl,i)?!1:Dl.test(i)?Ml[i]=!0:(Nl[i]=!0,!1)}function Wa(i,r,o){if(zc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Rn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ie(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Ge(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Us(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ol(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $t(i){if(!i._valueTracker){var r=Us(i)?"checked":"value";i._valueTracker=Ol(i,r,""+i[r])}}function Xr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Us(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Mi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wr=/[\n"\\]/g;function pn(i){return i.replace(Wr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ja(i,r,o,u,f,p,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ge(r)):i.value!==""+Ge(r)&&(i.value=""+Ge(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Vl(i,T,Ge(r)):o!=null?Vl(i,T,Ge(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Ge(w):i.removeAttribute("name")}function Fc(i,r,o,u,f,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){$t(i);return}o=o!=null?""+Ge(o):"",r=r!=null?""+Ge(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),$t(i)}function Vl(i,r,o){r==="number"&&Mi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function js(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ge(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function qc(i,r,o){if(r!=null&&(r=""+Ge(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ge(o):""}function Bs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Vt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ge(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),$t(i)}function gn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Hc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function kl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Pl(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Pl(i,p,r[p])}function Za(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(i){return zs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ai(){}var Ll=null;function Un(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,Oi=null;function Jr(i){var r=Ln(i);if(r&&(i=r.stateNode)){var o=i[He]||null;t:switch(i=r.stateNode,r.type){case"input":if(Ja(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[He]||null;if(!f)throw Error(s(90));Ja(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Xr(u)}break t;case"textarea":qc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&js(i,!!o.multiple,r,!1)}}}var eo=!1;function qs(i,r,o){if(eo)return i(r,o);eo=!0;try{var u=i(r);return u}finally{if(eo=!1,(Fs!==null||Oi!==null)&&(Uh(),Fs&&(r=Fs,i=Oi,Oi=Fs=null,Jr(r),i)))for(r=0;r<i.length;r++)Jr(i[r])}}function oi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zr=!1;if(jn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Zr=!1}var Vi=null,Ul=null,ta=null;function jl(){if(ta)return ta;var i,r=Ul,o=r.length,u,f="value"in Vi?Vi.value:Vi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[p-u];u++);return ta=f.slice(i,1<u?1-u:void 0)}function ea(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function as(){return!0}function li(){return!1}function $e(i){function r(o,u,f,p,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?as:li,this.isPropagationStopped=li,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),r}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=$e(os),Hs=_({},os,{view:0,detail:0}),Bl=$e(Hs),Gs,no,ki,io=_({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ki&&(ki&&i.type==="mousemove"?(Gs=i.screenX-ki.screenX,no=i.screenY-ki.screenY):no=Gs=0,ki=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:no}}),zl=$e(io),na=_({},io,{dataTransfer:0}),Yc=$e(na),Kc=_({},Hs,{relatedTarget:0}),ia=$e(Kc),Fl=_({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=$e(Fl),so=_({},os,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$c=$e(so),Xc=_({},os,{data:0}),Li=$e(Xc),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Zc[i])?!!r[i]:!1}function Ys(){return th}var fn=_({},Hs,{key:function(i){if(i.key){var r=Wc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ea(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(i){return i.type==="keypress"?ea(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ea(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eh=$e(fn),nh=_({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=$e(nh),h=_({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),v=$e(h),E=_({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$e(E),q=_({},io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=$e(q),lt=_({},os,{newState:0,oldState:0}),Rt=$e(lt),_e=[9,13,27,32],Yt=jn&&"CompositionEvent"in window,ue=null;jn&&"documentMode"in document&&(ue=document.documentMode);var Bn=jn&&"TextEvent"in window&&!ue,Ui=jn&&(!Yt||ue&&8<ue&&11>=ue),ui=" ",ci=!1;function sa(i,r){switch(i){case"keyup":return _e.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ao=!1;function VC(i,r){switch(i){case"compositionend":return ro(r);case"keypress":return r.which!==32?null:(ci=!0,ui);case"textInput":return i=r.data,i===ui&&ci?null:i;default:return null}}function PC(i,r){if(ao)return i==="compositionend"||!Yt&&sa(i,r)?(i=jl(),ta=Ul=Vi=null,ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ui&&r.locale!=="ko"?null:r.data;default:return null}}var kC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!kC[i.type]:r==="textarea"}function p_(i,r,o,u){Fs?Oi?Oi.push(u):Oi=[u]:Fs=u,r=Gh(r,"onChange"),0<r.length&&(o=new Pi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var ql=null,Hl=null;function LC(i){WT(i,0)}function ih(i){var r=An(i);if(Xr(r))return i}function g_(i,r){if(i==="change")return r}var y_=!1;if(jn){var Xd;if(jn){var Wd="oninput"in document;if(!Wd){var v_=document.createElement("div");v_.setAttribute("oninput","return;"),Wd=typeof v_.oninput=="function"}Xd=Wd}else Xd=!1;y_=Xd&&(!document.documentMode||9<document.documentMode)}function __(){ql&&(ql.detachEvent("onpropertychange",T_),Hl=ql=null)}function T_(i){if(i.propertyName==="value"&&ih(Hl)){var r=[];p_(r,Hl,i,Un(i)),qs(LC,r)}}function UC(i,r,o){i==="focusin"?(__(),ql=r,Hl=o,ql.attachEvent("onpropertychange",T_)):i==="focusout"&&__()}function jC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ih(Hl)}function BC(i,r){if(i==="click")return ih(r)}function zC(i,r){if(i==="input"||i==="change")return ih(r)}function FC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var xn=typeof Object.is=="function"?Object.is:FC;function Gl(i,r){if(xn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ae.call(r,f)||!xn(i[f],r[f]))return!1}return!0}function E_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function b_(i,r){var o=E_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=E_(o)}}function w_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?w_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function S_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Mi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Mi(i.document)}return r}function Jd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var qC=jn&&"documentMode"in document&&11>=document.documentMode,oo=null,Zd=null,Yl=null,tm=!1;function A_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tm||oo==null||oo!==Mi(u)||(u=oo,"selectionStart"in u&&Jd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yl&&Gl(Yl,u)||(Yl=u,u=Gh(Zd,"onSelect"),0<u.length&&(r=new Pi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=oo)))}function ra(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var lo={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},em={},R_={};jn&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function aa(i){if(em[i])return em[i];if(!lo[i])return i;var r=lo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in R_)return em[i]=r[o];return i}var x_=aa("animationend"),C_=aa("animationiteration"),I_=aa("animationstart"),HC=aa("transitionrun"),GC=aa("transitionstart"),YC=aa("transitioncancel"),D_=aa("transitionend"),N_=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nm.push("scrollEnd");function hi(i,r){N_.set(i,r),Di(r,[i])}var sh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],uo=0,im=0;function rh(){for(var i=uo,r=im=uo=0;r<i;){var o=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var p=zn[r];if(zn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&M_(o,f,p)}}function ah(i,r,o,u){zn[uo++]=i,zn[uo++]=r,zn[uo++]=o,zn[uo++]=u,im|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function sm(i,r,o,u){return ah(i,r,o,u),oh(i)}function oa(i,r){return ah(i,null,null,r),oh(i)}function M_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-ve(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function oh(i){if(50<mu)throw mu=0,dp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var co={};function KC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,o,u){return new KC(i,r,o,u)}function rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,r){var o=i.alternate;return o===null?(o=Cn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function O_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function lh(i,r,o,u,f,p){var T=0;if(u=i,typeof i=="function")rm(i)&&(T=1);else if(typeof i=="string")T=J2(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case D:return i=Cn(31,o,r,f),i.elementType=D,i.lanes=p,i;case B:return la(o.children,f,p,r);case k:T=8,f|=24;break;case F:return i=Cn(12,o,r,f|2),i.elementType=F,i.lanes=p,i;case rt:return i=Cn(13,o,r,f),i.elementType=rt,i.lanes=p,i;case ot:return i=Cn(19,o,r,f),i.elementType=ot,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:T=10;break t;case Y:T=9;break t;case at:T=11;break t;case I:T=14;break t;case A:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Cn(T,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function la(i,r,o,u){return i=Cn(7,i,u,r),i.lanes=o,i}function am(i,r,o){return i=Cn(6,i,null,r),i.lanes=o,i}function V_(i){var r=Cn(18,null,null,0);return r.stateNode=i,r}function om(i,r,o){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var P_=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var o=P_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:wl(r)},P_.set(i,r),r)}return{value:i,source:r,stack:wl(r)}}var ho=[],fo=0,uh=null,Kl=0,qn=[],Hn=0,Ks=null,ji=1,Bi="";function cs(i,r){ho[fo++]=Kl,ho[fo++]=uh,uh=i,Kl=r}function k_(i,r,o){qn[Hn++]=ji,qn[Hn++]=Bi,qn[Hn++]=Ks,Ks=i;var u=ji;i=Bi;var f=32-ve(u)-1;u&=~(1<<f),o+=1;var p=32-ve(r)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,ji=1<<32-ve(r)+f|o<<f|u,Bi=p+i}else ji=1<<p|o<<f|u,Bi=i}function lm(i){i.return!==null&&(cs(i,1),k_(i,1,0))}function um(i){for(;i===uh;)uh=ho[--fo],ho[fo]=null,Kl=ho[--fo],ho[fo]=null;for(;i===Ks;)Ks=qn[--Hn],qn[Hn]=null,Bi=qn[--Hn],qn[Hn]=null,ji=qn[--Hn],qn[Hn]=null}function L_(i,r){qn[Hn++]=ji,qn[Hn++]=Bi,qn[Hn++]=Ks,ji=r.id,Bi=r.overflow,Ks=i}var Xe=null,ae=null,zt=!1,Qs=null,Gn=!1,cm=Error(s(519));function $s(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(Fn(r,i)),cm}function U_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[xe]=i,r[He]=u,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<gu.length;o++)Ot(gu[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Fc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Bs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||eE(r.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||$s(i,!0)}function j_(i){for(Xe=i.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function mo(i){if(i!==Xe)return!1;if(!zt)return j_(i),zt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Cp(i.type,i.memoizedProps)),o=!o),o&&ae&&$s(i),j_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=cE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=cE(i)}else r===27?(r=ae,ur(i.type)?(i=Op,Op=null,ae=i):ae=r):ae=Xe?Kn(i.stateNode.nextSibling):null;return!0}function ua(){ae=Xe=null,zt=!1}function hm(){var i=Qs;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),Qs=null),i}function Ql(i){Qs===null?Qs=[i]:Qs.push(i)}var fm=j(null),ca=null,hs=null;function Xs(i,r,o){ut(fm,r._currentValue),r._currentValue=o}function fs(i){i._currentValue=fm.current,nt(fm)}function dm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function mm(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=f;for(var M=0;M<r.length;M++)if(w.context===r[M]){p.lanes|=o,w=p.alternate,w!==null&&(w.lanes|=o),dm(p.return,o,i),u||(T=null);break t}p=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),dm(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function po(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;xn(f.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(f===Ft.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}f=f.return}i!==null&&mm(r,i,o,u),r.flags|=262144}function ch(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ha(i){ca=i,hs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function We(i){return B_(ca,i)}function hh(i,r){return ca===null&&ha(i),B_(i,r)}function B_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},hs===null){if(i===null)throw Error(s(308));hs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else hs=hs.next=r;return o}var QC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},$C=e.unstable_scheduleCallback,XC=e.unstable_NormalPriority,De={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pm(){return{controller:new QC,data:new Map,refCount:0}}function $l(i){i.refCount--,i.refCount===0&&$C(XC,function(){i.controller.abort()})}var Xl=null,gm=0,go=0,yo=null;function WC(i,r){if(Xl===null){var o=Xl=[];gm=0,go=_p(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return gm++,r.then(z_,z_),r}function z_(){if(--gm===0&&Xl!==null){yo!==null&&(yo.status="fulfilled");var i=Xl;Xl=null,go=0,yo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function JC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var F_=W.S;W.S=function(i,r){AT=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&WC(i,r),F_!==null&&F_(i,r)};var fa=j(null);function ym(){var i=fa.current;return i!==null?i:se.pooledCache}function fh(i,r){r===null?ut(fa,fa.current):ut(fa,r.pool)}function q_(){var i=ym();return i===null?null:{parent:De._currentValue,pool:i}}var vo=Error(s(460)),vm=Error(s(474)),dh=Error(s(542)),mh={then:function(){}};function H_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function G_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ai,ai),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,K_(i),i;default:if(typeof r.status=="string")r.then(ai,ai);else{if(i=se,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,K_(i),i}throw ma=r,vo}}function da(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ma=o,vo):o}}var ma=null;function Y_(){if(ma===null)throw Error(s(459));var i=ma;return ma=null,i}function K_(i){if(i===vo||i===dh)throw Error(s(483))}var _o=null,Wl=0;function ph(i){var r=Wl;return Wl+=1,_o===null&&(_o=[]),G_(_o,i,r)}function Jl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function gh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Q_(i){function r(z,L){if(i){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function o(z,L){if(!i)return null;for(;L!==null;)r(z,L),L=L.sibling;return null}function u(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function f(z,L){return z=us(z,L),z.index=0,z.sibling=null,z}function p(z,L,H){return z.index=H,i?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=67108866,L):H):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function T(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function w(z,L,H,Z){return L===null||L.tag!==6?(L=am(H,z.mode,Z),L.return=z,L):(L=f(L,H),L.return=z,L)}function M(z,L,H,Z){var gt=H.type;return gt===B?J(z,L,H.props.children,Z,H.key):L!==null&&(L.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&da(gt)===L.type)?(L=f(L,H.props),Jl(L,H),L.return=z,L):(L=lh(H.type,H.key,H.props,null,z.mode,Z),Jl(L,H),L.return=z,L)}function G(z,L,H,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=om(H,z.mode,Z),L.return=z,L):(L=f(L,H.children||[]),L.return=z,L)}function J(z,L,H,Z,gt){return L===null||L.tag!==7?(L=la(H,z.mode,Z,gt),L.return=z,L):(L=f(L,H),L.return=z,L)}function tt(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=am(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return H=lh(L.type,L.key,L.props,null,z.mode,H),Jl(H,L),H.return=z,H;case O:return L=om(L,z.mode,H),L.return=z,L;case A:return L=da(L),tt(z,L,H)}if(Vt(L)||U(L))return L=la(L,z.mode,H,null),L.return=z,L;if(typeof L.then=="function")return tt(z,ph(L),H);if(L.$$typeof===K)return tt(z,hh(z,L),H);gh(z,L)}return null}function Q(z,L,H,Z){var gt=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return gt!==null?null:w(z,L,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===gt?M(z,L,H,Z):null;case O:return H.key===gt?G(z,L,H,Z):null;case A:return H=da(H),Q(z,L,H,Z)}if(Vt(H)||U(H))return gt!==null?null:J(z,L,H,Z,null);if(typeof H.then=="function")return Q(z,L,ph(H),Z);if(H.$$typeof===K)return Q(z,L,hh(z,H),Z);gh(z,H)}return null}function X(z,L,H,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,w(L,z,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return z=z.get(Z.key===null?H:Z.key)||null,M(L,z,Z,gt);case O:return z=z.get(Z.key===null?H:Z.key)||null,G(L,z,Z,gt);case A:return Z=da(Z),X(z,L,H,Z,gt)}if(Vt(Z)||U(Z))return z=z.get(H)||null,J(L,z,Z,gt,null);if(typeof Z.then=="function")return X(z,L,H,ph(Z),gt);if(Z.$$typeof===K)return X(z,L,H,hh(L,Z),gt);gh(L,Z)}return null}function mt(z,L,H,Z){for(var gt=null,Ht=null,pt=L,Nt=L=0,Lt=null;pt!==null&&Nt<H.length;Nt++){pt.index>Nt?(Lt=pt,pt=null):Lt=pt.sibling;var Gt=Q(z,pt,H[Nt],Z);if(Gt===null){pt===null&&(pt=Lt);break}i&&pt&&Gt.alternate===null&&r(z,pt),L=p(Gt,L,Nt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt,pt=Lt}if(Nt===H.length)return o(z,pt),zt&&cs(z,Nt),gt;if(pt===null){for(;Nt<H.length;Nt++)pt=tt(z,H[Nt],Z),pt!==null&&(L=p(pt,L,Nt),Ht===null?gt=pt:Ht.sibling=pt,Ht=pt);return zt&&cs(z,Nt),gt}for(pt=u(pt);Nt<H.length;Nt++)Lt=X(pt,z,Nt,H[Nt],Z),Lt!==null&&(i&&Lt.alternate!==null&&pt.delete(Lt.key===null?Nt:Lt.key),L=p(Lt,L,Nt),Ht===null?gt=Lt:Ht.sibling=Lt,Ht=Lt);return i&&pt.forEach(function(mr){return r(z,mr)}),zt&&cs(z,Nt),gt}function vt(z,L,H,Z){if(H==null)throw Error(s(151));for(var gt=null,Ht=null,pt=L,Nt=L=0,Lt=null,Gt=H.next();pt!==null&&!Gt.done;Nt++,Gt=H.next()){pt.index>Nt?(Lt=pt,pt=null):Lt=pt.sibling;var mr=Q(z,pt,Gt.value,Z);if(mr===null){pt===null&&(pt=Lt);break}i&&pt&&mr.alternate===null&&r(z,pt),L=p(mr,L,Nt),Ht===null?gt=mr:Ht.sibling=mr,Ht=mr,pt=Lt}if(Gt.done)return o(z,pt),zt&&cs(z,Nt),gt;if(pt===null){for(;!Gt.done;Nt++,Gt=H.next())Gt=tt(z,Gt.value,Z),Gt!==null&&(L=p(Gt,L,Nt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt);return zt&&cs(z,Nt),gt}for(pt=u(pt);!Gt.done;Nt++,Gt=H.next())Gt=X(pt,z,Nt,Gt.value,Z),Gt!==null&&(i&&Gt.alternate!==null&&pt.delete(Gt.key===null?Nt:Gt.key),L=p(Gt,L,Nt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt);return i&&pt.forEach(function(uI){return r(z,uI)}),zt&&cs(z,Nt),gt}function ne(z,L,H,Z){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:t:{for(var gt=H.key;L!==null;){if(L.key===gt){if(gt=H.type,gt===B){if(L.tag===7){o(z,L.sibling),Z=f(L,H.props.children),Z.return=z,z=Z;break t}}else if(L.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&da(gt)===L.type){o(z,L.sibling),Z=f(L,H.props),Jl(Z,H),Z.return=z,z=Z;break t}o(z,L);break}else r(z,L);L=L.sibling}H.type===B?(Z=la(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=lh(H.type,H.key,H.props,null,z.mode,Z),Jl(Z,H),Z.return=z,z=Z)}return T(z);case O:t:{for(gt=H.key;L!==null;){if(L.key===gt)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){o(z,L.sibling),Z=f(L,H.children||[]),Z.return=z,z=Z;break t}else{o(z,L);break}else r(z,L);L=L.sibling}Z=om(H,z.mode,Z),Z.return=z,z=Z}return T(z);case A:return H=da(H),ne(z,L,H,Z)}if(Vt(H))return mt(z,L,H,Z);if(U(H)){if(gt=U(H),typeof gt!="function")throw Error(s(150));return H=gt.call(H),vt(z,L,H,Z)}if(typeof H.then=="function")return ne(z,L,ph(H),Z);if(H.$$typeof===K)return ne(z,L,hh(z,H),Z);gh(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(o(z,L.sibling),Z=f(L,H),Z.return=z,z=Z):(o(z,L),Z=am(H,z.mode,Z),Z.return=z,z=Z),T(z)):o(z,L)}return function(z,L,H,Z){try{Wl=0;var gt=ne(z,L,H,Z);return _o=null,gt}catch(pt){if(pt===vo||pt===dh)throw pt;var Ht=Cn(29,pt,null,z.mode);return Ht.lanes=Z,Ht.return=z,Ht}}}var pa=Q_(!0),$_=Q_(!1),Ws=!1;function _m(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=oh(i),M_(i,null,o),r}return ah(i,u,r,o),oh(i)}function Zl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Rl(i,o)}}function Em(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var bm=!1;function tu(){if(bm){var i=yo;if(i!==null)throw i}}function eu(i,r,o,u){bm=!1;var f=i.updateQueue;Ws=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var M=w,G=M.next;M.next=null,T===null?p=G:T.next=G,T=M;var J=i.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==T&&(w===null?J.firstBaseUpdate=G:w.next=G,J.lastBaseUpdate=M))}if(p!==null){var tt=f.baseState;T=0,J=G=M=null,w=p;do{var Q=w.lane&-536870913,X=Q!==w.lane;if(X?(kt&Q)===Q:(u&Q)===Q){Q!==0&&Q===go&&(bm=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var mt=i,vt=w;Q=r;var ne=o;switch(vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){tt=mt.call(ne,tt,Q);break t}tt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,Q=typeof mt=="function"?mt.call(ne,tt,Q):mt,Q==null)break t;tt=_({},tt,Q);break t;case 2:Ws=!0}}Q=w.callback,Q!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(G=J=X,M=tt):J=J.next=X,T|=Q;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(M=tt),f.baseState=M,f.firstBaseUpdate=G,f.lastBaseUpdate=J,p===null&&(f.shared.lanes=0),sr|=T,i.lanes=T,i.memoizedState=tt}}function X_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function W_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)X_(o[i],r)}var To=j(null),yh=j(0);function J_(i,r){i=Es,ut(yh,i),ut(To,r),Es=i|r.baseLanes}function wm(){ut(yh,Es),ut(To,To.current)}function Sm(){Es=yh.current,nt(To),nt(yh)}var In=j(null),Yn=null;function tr(i){var r=i.alternate;ut(Te,Te.current&1),ut(In,i),Yn===null&&(r===null||To.current!==null||r.memoizedState!==null)&&(Yn=i)}function Am(i){ut(Te,Te.current),ut(In,i),Yn===null&&(Yn=i)}function Z_(i){i.tag===22?(ut(Te,Te.current),ut(In,i),Yn===null&&(Yn=i)):er()}function er(){ut(Te,Te.current),ut(In,In.current)}function Dn(i){nt(In),Yn===i&&(Yn=null),nt(Te)}var Te=j(0);function vh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Np(o)||Mp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ds=0,xt=null,te=null,Ne=null,_h=!1,Eo=!1,ga=!1,Th=0,nu=0,bo=null,ZC=0;function pe(){throw Error(s(321))}function Rm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!xn(i[o],r[o]))return!1;return!0}function xm(i,r,o,u,f,p){return ds=p,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?k0:Fm,ga=!1,p=o(u,f),ga=!1,Eo&&(p=e0(r,o,u,f)),t0(i),p}function t0(i){W.H=ru;var r=te!==null&&te.next!==null;if(ds=0,Ne=te=xt=null,_h=!1,nu=0,bo=null,r)throw Error(s(300));i===null||Me||(i=i.dependencies,i!==null&&ch(i)&&(Me=!0))}function e0(i,r,o,u){xt=i;var f=0;do{if(Eo&&(bo=null),nu=0,Eo=!1,25<=f)throw Error(s(301));if(f+=1,Ne=te=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=L0,p=r(o,u)}while(Eo);return p}function t2(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?iu(r):r,i=i.useState()[0],(te!==null?te.memoizedState:null)!==i&&(xt.flags|=1024),r}function Cm(){var i=Th!==0;return Th=0,i}function Im(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Dm(i){if(_h){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_h=!1}ds=0,Ne=te=xt=null,Eo=!1,nu=Th=0,bo=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?xt.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function Ee(){if(te===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=te.next;var r=Ne===null?xt.memoizedState:Ne.next;if(r!==null)Ne=r,te=i;else{if(i===null)throw xt.alternate===null?Error(s(467)):Error(s(310));te=i,i={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ne===null?xt.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(i){var r=nu;return nu+=1,bo===null&&(bo=[]),i=G_(bo,i,r),r=xt,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?k0:Fm),i}function bh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return iu(i);if(i.$$typeof===K)return We(i)}throw Error(s(438,String(i)))}function Nm(i){var r=null,o=xt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=xt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Eh(),xt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function ms(i,r){return typeof r=="function"?r(i):r}function wh(i){var r=Ee();return Mm(r,te,i)}function Mm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var w=T=null,M=null,G=r,J=!1;do{var tt=G.lane&-536870913;if(tt!==G.lane?(kt&tt)===tt:(ds&tt)===tt){var Q=G.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),tt===go&&(J=!0);else if((ds&Q)===Q){G=G.next,Q===go&&(J=!0);continue}else tt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(w=M=tt,T=p):M=M.next=tt,xt.lanes|=Q,sr|=Q;tt=G.action,ga&&o(p,tt),p=G.hasEagerState?G.eagerState:o(p,tt)}else Q={lane:tt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(w=M=Q,T=p):M=M.next=Q,xt.lanes|=tt,sr|=tt;G=G.next}while(G!==null&&G!==r);if(M===null?T=p:M.next=w,!xn(p,i.memoizedState)&&(Me=!0,J&&(o=yo,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=M,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Om(i){var r=Ee(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);xn(p,r.memoizedState)||(Me=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function n0(i,r,o){var u=xt,f=Ee(),p=zt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!xn((te||f).memoizedState,o);if(T&&(f.memoizedState=o,Me=!0),f=f.queue,km(r0.bind(null,u,f,i),[i]),f.getSnapshot!==r||T||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,wo(9,{destroy:void 0},s0.bind(null,u,f,o,r),null),se===null)throw Error(s(349));p||(ds&127)!==0||i0(u,r,o)}return o}function i0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=xt.updateQueue,r===null?(r=Eh(),xt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function s0(i,r,o,u){r.value=o,r.getSnapshot=u,a0(r)&&o0(i)}function r0(i,r,o){return o(function(){a0(r)&&o0(i)})}function a0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!xn(i,o)}catch{return!0}}function o0(i){var r=oa(i,2);r!==null&&En(r,i,2)}function Vm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),ga){kn(!0);try{o()}finally{kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},r}function l0(i,r,o,u){return i.baseState=o,Mm(i,te,typeof u=="function"?u:ms)}function e2(i,r,o,u,f){if(Rh(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};W.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,u0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function u0(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=W.T,T={};W.T=T;try{var w=o(f,u),M=W.S;M!==null&&M(T,w),c0(i,r,w)}catch(G){Pm(i,r,G)}finally{p!==null&&T.types!==null&&(p.types=T.types),W.T=p}}else try{p=o(f,u),c0(i,r,p)}catch(G){Pm(i,r,G)}}function c0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){h0(i,r,u)},function(u){return Pm(i,r,u)}):h0(i,r,o)}function h0(i,r,o){r.status="fulfilled",r.value=o,f0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,u0(i,o)))}function Pm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,f0(r),r=r.next;while(r!==u)}i.action=null}function f0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function d0(i,r){return r}function m0(i,r){if(zt){var o=se.formState;if(o!==null){t:{var u=xt;if(zt){if(ae){e:{for(var f=ae,p=Gn;f.nodeType!==8;){if(!p){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ae=Kn(f.nextSibling),u=f.data==="F!";break t}}$s(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:r},o.queue=u,o=O0.bind(null,xt,u),u.dispatch=o,u=Vm(!1),p=zm.bind(null,xt,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=e2.bind(null,xt,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function p0(i){var r=Ee();return g0(r,te,i)}function g0(i,r,o){if(r=Mm(i,r,d0)[0],i=wh(ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=iu(r)}catch(T){throw T===vo?dh:T}else u=r;r=Ee();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(xt.flags|=2048,wo(9,{destroy:void 0},n2.bind(null,f,o),null)),[u,p,i]}function n2(i,r){i.action=r}function y0(i){var r=Ee(),o=te;if(o!==null)return g0(r,o,i);Ee(),r=r.memoizedState,o=Ee();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function wo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=xt.updateQueue,r===null&&(r=Eh(),xt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function v0(){return Ee().memoizedState}function Sh(i,r,o,u){var f=dn();xt.flags|=i,f.memoizedState=wo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ah(i,r,o,u){var f=Ee();u=u===void 0?null:u;var p=f.memoizedState.inst;te!==null&&u!==null&&Rm(u,te.memoizedState.deps)?f.memoizedState=wo(r,p,o,u):(xt.flags|=i,f.memoizedState=wo(1|r,p,o,u))}function _0(i,r){Sh(8390656,8,i,r)}function km(i,r){Ah(2048,8,i,r)}function i2(i){xt.flags|=4;var r=xt.updateQueue;if(r===null)r=Eh(),xt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function T0(i){var r=Ee().memoizedState;return i2({ref:r,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function E0(i,r){return Ah(4,2,i,r)}function b0(i,r){return Ah(4,4,i,r)}function w0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function S0(i,r,o){o=o!=null?o.concat([i]):null,Ah(4,4,w0.bind(null,r,i),o)}function Lm(){}function A0(i,r){var o=Ee();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Rm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function R0(i,r){var o=Ee();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Rm(r,u[1]))return u[0];if(u=i(),ga){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,r],u}function Um(i,r,o){return o===void 0||(ds&1073741824)!==0&&(kt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=xT(),xt.lanes|=i,sr|=i,o)}function x0(i,r,o,u){return xn(o,r)?o:To.current!==null?(i=Um(i,o,u),xn(i,r)||(Me=!0),i):(ds&42)===0||(ds&1073741824)!==0&&(kt&261930)===0?(Me=!0,i.memoizedState=o):(i=xT(),xt.lanes|=i,sr|=i,r)}function C0(i,r,o,u,f){var p=st.p;st.p=p!==0&&8>p?p:8;var T=W.T,w={};W.T=w,zm(i,!1,r,o);try{var M=f(),G=W.S;if(G!==null&&G(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=JC(M,u);su(i,r,J,On(i))}else su(i,r,u,On(i))}catch(tt){su(i,r,{then:function(){},status:"rejected",reason:tt},On())}finally{st.p=p,T!==null&&w.types!==null&&(T.types=w.types),W.T=T}}function s2(){}function jm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=I0(i).queue;C0(i,f,r,dt,o===null?s2:function(){return D0(i),o(u)})}function I0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function D0(i){var r=I0(i);r.next===null&&(r=i.alternate.memoizedState),su(i,r.next.queue,{},On())}function Bm(){return We(Eu)}function N0(){return Ee().memoizedState}function M0(){return Ee().memoizedState}function r2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();i=Js(o);var u=Zs(r,i,o);u!==null&&(En(u,r,o),Zl(u,r,o)),r={cache:pm()},i.payload=r;return}r=r.return}}function a2(i,r,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(i)?V0(r,o):(o=sm(i,r,o,u),o!==null&&(En(o,i,u),P0(o,r,u)))}function O0(i,r,o){var u=On();su(i,r,o,u)}function su(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(i))V0(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,w=p(T,o);if(f.hasEagerState=!0,f.eagerState=w,xn(w,T))return ah(i,r,f,0),se===null&&rh(),!1}catch{}if(o=sm(i,r,f,u),o!==null)return En(o,i,u),P0(o,r,u),!0}return!1}function zm(i,r,o,u){if(u={lane:2,revertLane:_p(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Rh(i)){if(r)throw Error(s(479))}else r=sm(i,o,u,2),r!==null&&En(r,i,2)}function Rh(i){var r=i.alternate;return i===xt||r!==null&&r===xt}function V0(i,r){Eo=_h=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function P0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Rl(i,o)}}var ru={readContext:We,use:bh,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};ru.useEffectEvent=pe;var k0={readContext:We,use:bh,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:We,useEffect:_0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Sh(4194308,4,w0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Sh(4194308,4,i,r)},useInsertionEffect:function(i,r){Sh(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(ga){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(ga){kn(!0);try{o(r)}finally{kn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=a2.bind(null,xt,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=Vm(i);var r=i.queue,o=O0.bind(null,xt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Lm,useDeferredValue:function(i,r){var o=dn();return Um(o,i,r)},useTransition:function(){var i=Vm(!1);return i=C0.bind(null,xt,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=xt,f=dn();if(zt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),se===null)throw Error(s(349));(kt&127)!==0||i0(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,_0(r0.bind(null,u,p,i),[i]),u.flags|=2048,wo(9,{destroy:void 0},s0.bind(null,u,p,o,r),null),o},useId:function(){var i=dn(),r=se.identifierPrefix;if(zt){var o=Bi,u=ji;o=(u&~(1<<32-ve(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Th++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=ZC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Bm,useFormState:m0,useActionState:m0,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=zm.bind(null,xt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Nm,useCacheRefresh:function(){return dn().memoizedState=r2.bind(null,xt)},useEffectEvent:function(i){var r=dn(),o={impl:i};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Fm={readContext:We,use:bh,useCallback:A0,useContext:We,useEffect:km,useImperativeHandle:S0,useInsertionEffect:E0,useLayoutEffect:b0,useMemo:R0,useReducer:wh,useRef:v0,useState:function(){return wh(ms)},useDebugValue:Lm,useDeferredValue:function(i,r){var o=Ee();return x0(o,te.memoizedState,i,r)},useTransition:function(){var i=wh(ms)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:n0,useId:N0,useHostTransitionStatus:Bm,useFormState:p0,useActionState:p0,useOptimistic:function(i,r){var o=Ee();return l0(o,te,i,r)},useMemoCache:Nm,useCacheRefresh:M0};Fm.useEffectEvent=T0;var L0={readContext:We,use:bh,useCallback:A0,useContext:We,useEffect:km,useImperativeHandle:S0,useInsertionEffect:E0,useLayoutEffect:b0,useMemo:R0,useReducer:Om,useRef:v0,useState:function(){return Om(ms)},useDebugValue:Lm,useDeferredValue:function(i,r){var o=Ee();return te===null?Um(o,i,r):x0(o,te.memoizedState,i,r)},useTransition:function(){var i=Om(ms)[0],r=Ee().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:n0,useId:N0,useHostTransitionStatus:Bm,useFormState:y0,useActionState:y0,useOptimistic:function(i,r){var o=Ee();return te!==null?l0(o,te,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:M0};L0.useEffectEvent=T0;function qm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Hm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=On(),f=Js(u);f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(En(r,i,u),Zl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=On(),f=Js(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(En(r,i,u),Zl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=On(),u=Js(o);u.tag=2,r!=null&&(u.callback=r),r=Zs(i,u,o),r!==null&&(En(r,i,o),Zl(r,i,o))}};function U0(i,r,o,u,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,T):r.prototype&&r.prototype.isPureReactComponent?!Gl(o,u)||!Gl(f,p):!0}function j0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Hm.enqueueReplaceState(r,r.state,null)}function ya(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function B0(i){sh(i)}function z0(i){console.error(i)}function F0(i){sh(i)}function xh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function q0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gm(i,r,o){return o=Js(o),o.tag=3,o.payload={element:null},o.callback=function(){xh(i,r)},o}function H0(i){return i=Js(i),i.tag=3,i}function G0(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){q0(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){q0(r,o,u),typeof f!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function o2(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&po(r,o,f,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Yn===null?jh():o.alternate===null&&ge===0&&(ge=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===mh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),gp(i,u,f)),!1;case 22:return o.flags|=65536,u===mh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),gp(i,u,f)),!1}throw Error(s(435,o.tag))}return gp(i,u,f),jh(),!1}if(zt)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==cm&&(i=Error(s(422),{cause:u}),Ql(Fn(i,o)))):(u!==cm&&(r=Error(s(423),{cause:u}),Ql(Fn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Fn(u,o),f=Gm(i.stateNode,u,f),Em(i,f),ge!==4&&(ge=2)),!1;var p=Error(s(520),{cause:u});if(p=Fn(p,o),du===null?du=[p]:du.push(p),ge!==4&&(ge=2),r===null)return!0;u=Fn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Gm(o.stateNode,u,i),Em(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rr===null||!rr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=H0(f),G0(f,i,o,u),Em(o,f),!1}o=o.return}while(o!==null);return!1}var Ym=Error(s(461)),Me=!1;function Je(i,r,o,u){r.child=i===null?$_(r,null,o,u):pa(r,i.child,o,u)}function Y0(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ha(r),u=xm(i,r,o,T,p,f),w=Cm(),i!==null&&!Me?(Im(i,r,f),ps(i,r,f)):(zt&&w&&lm(r),r.flags|=1,Je(i,r,u,f),r.child)}function K0(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!rm(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Q0(i,r,p,u,f)):(i=lh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!tp(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Gl,o(T,u)&&i.ref===r.ref)return ps(i,r,f)}return r.flags|=1,i=us(p,u),i.ref=r.ref,i.return=r,r.child=i}function Q0(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(Gl(p,u)&&i.ref===r.ref)if(Me=!1,r.pendingProps=u=p,tp(i,f))(i.flags&131072)!==0&&(Me=!0);else return r.lanes=i.lanes,ps(i,r,f)}return Km(i,r,o,u,f)}function $0(i,r,o,u){var f=u.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,r.child=null;return X0(i,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&fh(r,p!==null?p.cachePool:null),p!==null?J_(r,p):wm(),Z_(r);else return u=r.lanes=536870912,X0(i,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(fh(r,p.cachePool),J_(r,p),er(),r.memoizedState=null):(i!==null&&fh(r,null),wm(),er());return Je(i,r,f,o),r.child}function au(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function X0(i,r,o,u,f){var p=ym();return p=p===null?null:{parent:De._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&fh(r,null),wm(),Z_(r),i!==null&&po(i,r,u,!0),r.childLanes=f,null}function Ch(i,r){return r=Dh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function W0(i,r,o){return pa(r,i.child,null,o),i=Ch(r,r.pendingProps),i.flags|=2,Dn(r),r.memoizedState=null,i}function l2(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(zt){if(u.mode==="hidden")return i=Ch(r,u),r.lanes=536870912,au(null,i);if(Am(r),(i=ae)?(i=uE(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:ji,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=V_(i),o.return=r,r.child=o,Xe=r,ae=null)):i=null,i===null)throw $s(r);return r.lanes=536870912,null}return Ch(r,u)}var p=i.memoizedState;if(p!==null){var T=p.dehydrated;if(Am(r),f)if(r.flags&256)r.flags&=-257,r=W0(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Me||po(i,r,o,!1),f=(o&i.childLanes)!==0,Me||f){if(u=se,u!==null&&(T=xl(u,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,oa(i,T),En(u,i,T),Ym;jh(),r=W0(i,r,o)}else i=p.treeContext,ae=Kn(T.nextSibling),Xe=r,zt=!0,Qs=null,Gn=!1,i!==null&&L_(r,i),r=Ch(r,u),r.flags|=4096;return r}return i=us(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ih(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Km(i,r,o,u,f){return ha(r),o=xm(i,r,o,u,void 0,f),u=Cm(),i!==null&&!Me?(Im(i,r,f),ps(i,r,f)):(zt&&u&&lm(r),r.flags|=1,Je(i,r,o,f),r.child)}function J0(i,r,o,u,f,p){return ha(r),r.updateQueue=null,o=e0(r,u,o,f),t0(i),u=Cm(),i!==null&&!Me?(Im(i,r,p),ps(i,r,p)):(zt&&u&&lm(r),r.flags|=1,Je(i,r,o,p),r.child)}function Z0(i,r,o,u,f){if(ha(r),r.stateNode===null){var p=co,T=o.contextType;typeof T=="object"&&T!==null&&(p=We(T)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Hm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},_m(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?We(T):co,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(qm(r,o,T,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Hm.enqueueReplaceState(p,p.state,null),eu(r,u,p,f),tu(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var w=r.memoizedProps,M=ya(o,w);p.props=M;var G=p.context,J=o.contextType;T=co,typeof J=="object"&&J!==null&&(T=We(J));var tt=o.getDerivedStateFromProps;J=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||G!==T)&&j0(r,p,u,T),Ws=!1;var Q=r.memoizedState;p.state=Q,eu(r,u,p,f),tu(),G=r.memoizedState,w||Q!==G||Ws?(typeof tt=="function"&&(qm(r,o,tt,u),G=r.memoizedState),(M=Ws||U0(r,o,M,u,Q,G,T))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),p.props=u,p.state=G,p.context=T,u=M):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Tm(i,r),T=r.memoizedProps,J=ya(o,T),p.props=J,tt=r.pendingProps,Q=p.context,G=o.contextType,M=co,typeof G=="object"&&G!==null&&(M=We(G)),w=o.getDerivedStateFromProps,(G=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==tt||Q!==M)&&j0(r,p,u,M),Ws=!1,Q=r.memoizedState,p.state=Q,eu(r,u,p,f),tu();var X=r.memoizedState;T!==tt||Q!==X||Ws||i!==null&&i.dependencies!==null&&ch(i.dependencies)?(typeof w=="function"&&(qm(r,o,w,u),X=r.memoizedState),(J=Ws||U0(r,o,J,u,Q,X,M)||i!==null&&i.dependencies!==null&&ch(i.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,M)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),p.props=u,p.state=X,p.context=M,u=J):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,Ih(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=pa(r,i.child,null,f),r.child=pa(r,null,o,f)):Je(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ps(i,r,f),i}function tT(i,r,o,u){return ua(),r.flags|=256,Je(i,r,o,u),r.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $m(i){return{baseLanes:i,cachePool:q_()}}function Xm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Mn),i}function eT(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Te.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(f?tr(r):er(),(i=ae)?(i=uE(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:ji,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=V_(i),o.return=r,r.child=o,Xe=r,ae=null)):i=null,i===null)throw $s(r);return Mp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(er(),f=r.mode,w=Dh({mode:"hidden",children:w},f),u=la(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=$m(o),u.childLanes=Xm(i,T,o),r.memoizedState=Qm,au(null,u)):(tr(r),Wm(r,w))}var M=i.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(p)r.flags&256?(tr(r),r.flags&=-257,r=Jm(i,r,o)):r.memoizedState!==null?(er(),r.child=i.child,r.flags|=128,r=null):(er(),w=u.fallback,f=r.mode,u=Dh({mode:"visible",children:u.children},f),w=la(w,f,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,pa(r,i.child,null,o),u=r.child,u.memoizedState=$m(o),u.childLanes=Xm(i,T,o),r.memoizedState=Qm,r=au(null,u));else if(tr(r),Mp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(s(419)),u.stack="",u.digest=T,Ql({value:u,source:null,stack:null}),r=Jm(i,r,o)}else if(Me||po(i,r,o,!1),T=(o&i.childLanes)!==0,Me||T){if(T=se,T!==null&&(u=xl(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,oa(i,u),En(T,i,u),Ym;Np(w)||jh(),r=Jm(i,r,o)}else Np(w)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,ae=Kn(w.nextSibling),Xe=r,zt=!0,Qs=null,Gn=!1,i!==null&&L_(r,i),r=Wm(r,u.children),r.flags|=4096);return r}return f?(er(),w=u.fallback,f=r.mode,M=i.child,G=M.sibling,u=us(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,G!==null?w=us(G,w):(w=la(w,f,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,au(null,u),u=r.child,w=i.child.memoizedState,w===null?w=$m(o):(f=w.cachePool,f!==null?(M=De._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=q_(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=Xm(i,T,o),r.memoizedState=Qm,au(i.child,u)):(tr(r),o=i.child,i=o.sibling,o=us(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Wm(i,r){return r=Dh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Dh(i,r){return i=Cn(22,i,null,r),i.lanes=0,i}function Jm(i,r,o){return pa(r,i.child,null,o),i=Wm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function nT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),dm(i.return,r,o)}function Zm(i,r,o,u,f,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function iT(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var T=Te.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,ut(Te,T),Je(i,r,u,o),u=zt?Kl:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&nT(i,o,r);else if(i.tag===19)nT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&vh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Zm(r,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&vh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Zm(r,!0,o,null,p,u);break;case"together":Zm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ps(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(po(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=us(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=us(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function tp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ch(i)))}function u2(i,r,o){switch(r.tag){case 3:Ue(r,r.stateNode.containerInfo),Xs(r,De,i.memoizedState.cache),ua();break;case 27:case 5:qr(r);break;case 4:Ue(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Am(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?eT(i,r,o):(tr(r),i=ps(i,r,o),i!==null?i.sibling:null);tr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(po(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return iT(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Te,Te.current),u)break;return null;case 22:return r.lanes=0,$0(i,r,o,r.pendingProps);case 24:Xs(r,De,i.memoizedState.cache)}return ps(i,r,o)}function sT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Me=!0;else{if(!tp(i,o)&&(r.flags&128)===0)return Me=!1,u2(i,r,o);Me=(i.flags&131072)!==0}else Me=!1,zt&&(r.flags&1048576)!==0&&k_(r,Kl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=da(r.elementType),r.type=i,typeof i=="function")rm(i)?(u=ya(i,u),r.tag=1,r=Z0(null,r,i,u,o)):(r.tag=0,r=Km(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===at){r.tag=11,r=Y0(null,r,i,u,o);break t}else if(f===I){r.tag=14,r=K0(null,r,i,u,o);break t}}throw r=Ct(i)||i,Error(s(306,r,""))}}return r;case 0:return Km(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ya(u,r.pendingProps),Z0(i,r,u,f,o);case 3:t:{if(Ue(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,Tm(i,r),eu(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Xs(r,De,u),u!==p.cache&&mm(r,[De],o,!0),tu(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=tT(i,r,u,o);break t}else if(u!==f){f=Fn(Error(s(424)),r),Ql(f),r=tT(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ae=Kn(i.firstChild),Xe=r,zt=!0,Qs=null,Gn=!0,o=$_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ua(),u===f){r=ps(i,r,o);break t}Je(i,r,u,o)}r=r.child}return r;case 26:return Ih(i,r),i===null?(o=pE(r.type,null,r.pendingProps,null))?r.memoizedState=o:zt||(o=r.type,i=r.pendingProps,u=Yh(Dt.current).createElement(o),u[xe]=r,u[He]=i,Ze(u,o,i),Ce(u),r.stateNode=u):r.memoizedState=pE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return qr(r),i===null&&zt&&(u=r.stateNode=fE(r.type,r.pendingProps,Dt.current),Xe=r,Gn=!0,f=ae,ur(r.type)?(Op=f,ae=Kn(u.firstChild)):ae=f),Je(i,r,r.pendingProps.children,o),Ih(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((f=u=ae)&&(u=j2(u,r.type,r.pendingProps,Gn),u!==null?(r.stateNode=u,Xe=r,ae=Kn(u.firstChild),Gn=!1,f=!0):f=!1),f||$s(r)),qr(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,u=p.children,Cp(f,p)?u=null:T!==null&&Cp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=xm(i,r,t2,null,null,o),Eu._currentValue=f),Ih(i,r),Je(i,r,u,o),r.child;case 6:return i===null&&zt&&((i=o=ae)&&(o=B2(o,r.pendingProps,Gn),o!==null?(r.stateNode=o,Xe=r,ae=null,i=!0):i=!1),i||$s(r)),null;case 13:return eT(i,r,o);case 4:return Ue(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=pa(r,null,u,o):Je(i,r,u,o),r.child;case 11:return Y0(i,r,r.type,r.pendingProps,o);case 7:return Je(i,r,r.pendingProps,o),r.child;case 8:return Je(i,r,r.pendingProps.children,o),r.child;case 12:return Je(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Xs(r,r.type,u.value),Je(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ha(r),f=We(f),u=u(f),r.flags|=1,Je(i,r,u,o),r.child;case 14:return K0(i,r,r.type,r.pendingProps,o);case 15:return Q0(i,r,r.type,r.pendingProps,o);case 19:return iT(i,r,o);case 31:return l2(i,r,o);case 22:return $0(i,r,o,r.pendingProps);case 24:return ha(r),u=We(De),i===null?(f=ym(),f===null&&(f=se,p=pm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},_m(r),Xs(r,De,f)):((i.lanes&o)!==0&&(Tm(i,r),eu(r,null,null,o),tu()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xs(r,De,u)):(u=p.cache,Xs(r,De,u),u!==f.cache&&mm(r,[De],o,!0))),Je(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function gs(i){i.flags|=4}function ep(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(NT())i.flags|=8192;else throw ma=mh,vm}else i.flags&=-16777217}function rT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!TE(r))if(NT())i.flags|=8192;else throw ma=mh,vm}function Nh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Lc():536870912,i.lanes|=r,xo|=r)}function ou(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function c2(i,r,o){var u=r.pendingProps;switch(um(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),fs(De),le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(mo(r)?gs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hm())),oe(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(gs(r),p!==null?(oe(r),rT(r,p)):(oe(r),ep(r,f,null,u,o))):p?p!==i.memoizedState?(gs(r),oe(r),rT(r,p)):(oe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&gs(r),oe(r),ep(r,f,i,u,o)),null;case 27:if(Ga(r),o=Dt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=ft.current,mo(r)?U_(r):(i=fE(f,u,o),r.stateNode=i,gs(r))}return oe(r),null;case 5:if(Ga(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(p=ft.current,mo(r))U_(r);else{var T=Yh(Dt.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}p[xe]=r,p[He]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;t:switch(Ze(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&gs(r)}}return oe(r),ep(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Dt.current,mo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Xe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[xe]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||eE(i.nodeValue,o)),i||$s(r,!0)}else i=Yh(i).createTextNode(u),i[xe]=r,r.stateNode=i}return oe(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=mo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[xe]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),i=!1}else o=hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Dn(r),r):(Dn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=mo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Dn(r),r):(Dn(r),null)}return Dn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Nh(r,r.updateQueue),oe(r),null);case 4:return le(),i===null&&wp(r.stateNode.containerInfo),oe(r),null;case 10:return fs(r.type),oe(r),null;case 19:if(nt(Te),u=r.memoizedState,u===null)return oe(r),null;if(f=(r.flags&128)!==0,p=u.rendering,p===null)if(f)ou(u,!1);else{if(ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=vh(i),p!==null){for(r.flags|=128,ou(u,!1),i=p.updateQueue,r.updateQueue=i,Nh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)O_(o,i),o=o.sibling;return ut(Te,Te.current&1|2),zt&&cs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&hn()>kh&&(r.flags|=128,f=!0,ou(u,!1),r.lanes=4194304)}else{if(!f)if(i=vh(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Nh(r,i),ou(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!zt)return oe(r),null}else 2*hn()-u.renderingStartTime>kh&&o!==536870912&&(r.flags|=128,f=!0,ou(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(i=u.last,i!==null?i.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=Te.current,ut(Te,f?o&1|2:o&1),zt&&cs(r,u.treeForkCount),i):(oe(r),null);case 22:case 23:return Dn(r),Sm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&Nh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&nt(fa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),fs(De),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function h2(i,r){switch(um(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return fs(De),le(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ga(r),null;case 31:if(r.memoizedState!==null){if(Dn(r),r.alternate===null)throw Error(s(340));ua()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Dn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ua()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return nt(Te),null;case 4:return le(),null;case 10:return fs(r.type),null;case 22:case 23:return Dn(r),Sm(),i!==null&&nt(fa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return fs(De),null;case 25:return null;default:return null}}function aT(i,r){switch(um(r),r.tag){case 3:fs(De),le();break;case 26:case 27:case 5:Ga(r);break;case 4:le();break;case 31:r.memoizedState!==null&&Dn(r);break;case 13:Dn(r);break;case 19:nt(Te);break;case 10:fs(r.type);break;case 22:case 23:Dn(r),Sm(),i!==null&&nt(fa);break;case 24:fs(De)}}function lu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==f)}}catch(w){Wt(r,r.return,w)}}function nr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var M=o,G=w;try{G()}catch(J){Wt(f,M,J)}}}u=u.next}while(u!==p)}}catch(J){Wt(r,r.return,J)}}function oT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{W_(r,o)}catch(u){Wt(i,i.return,u)}}}function lT(i,r,o){o.props=ya(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Wt(i,r,u)}}function uu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Wt(i,r,f)}}function zi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Wt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Wt(i,r,f)}else o.current=null}function uT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Wt(i,i.return,f)}}function np(i,r,o){try{var u=i.stateNode;O2(u,i.type,o,r),u[He]=r}catch(f){Wt(i,i.return,f)}}function cT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ur(i.type)||i.tag===4}function ip(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||cT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ur(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ai));else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(sp(i,r,o),i=i.sibling;i!==null;)sp(i,r,o),i=i.sibling}function Mh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Mh(i,r,o),i=i.sibling;i!==null;)Mh(i,r,o),i=i.sibling}function hT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ze(r,u,o),r[xe]=i,r[He]=o}catch(p){Wt(i,i.return,p)}}var ys=!1,Oe=!1,rp=!1,fT=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function f2(i,r){if(i=i.containerInfo,Rp=Zh,i=S_(i),Jd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,w=-1,M=-1,G=0,J=0,tt=i,Q=null;e:for(;;){for(var X;tt!==o||f!==0&&tt.nodeType!==3||(w=T+f),tt!==p||u!==0&&tt.nodeType!==3||(M=T+u),tt.nodeType===3&&(T+=tt.nodeValue.length),(X=tt.firstChild)!==null;)Q=tt,tt=X;for(;;){if(tt===i)break e;if(Q===o&&++G===f&&(w=T),Q===p&&++J===u&&(M=T),(X=tt.nextSibling)!==null)break;tt=Q,Q=tt.parentNode}tt=X}o=w===-1||M===-1?null:{start:w,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:i,selectionRange:o},Zh=!1,Ye=r;Ye!==null;)if(r=Ye,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ye=i;else for(;Ye!==null;){switch(r=Ye,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var mt=ya(o.type,f);i=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Wt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Dp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ye=i;break}Ye=r.return}}function dT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_s(i,o),u&4&&lu(5,o);break;case 1:if(_s(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Wt(o,o.return,T)}else{var f=ya(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(o,o.return,T)}}u&64&&oT(o),u&512&&uu(o,o.return);break;case 3:if(_s(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{W_(i,r)}catch(T){Wt(o,o.return,T)}}break;case 27:r===null&&u&4&&hT(o);case 26:case 5:_s(i,o),r===null&&u&4&&uT(o),u&512&&uu(o,o.return);break;case 12:_s(i,o);break;case 31:_s(i,o),u&4&&gT(i,o);break;case 13:_s(i,o),u&4&&yT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=E2.bind(null,o),z2(i,o))));break;case 22:if(u=o.memoizedState!==null||ys,!u){r=r!==null&&r.memoizedState!==null||Oe,f=ys;var p=Oe;ys=u,(Oe=r)&&!p?Ts(i,o,(o.subtreeFlags&8772)!==0):_s(i,o),ys=f,Oe=p}break;case 30:break;default:_s(i,o)}}function mT(i){var r=i.alternate;r!==null&&(i.alternate=null,mT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Xa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,yn=!1;function vs(i,r,o){for(o=o.child;o!==null;)pT(i,r,o),o=o.sibling}function pT(i,r,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ni,o)}catch{}switch(o.tag){case 26:Oe||zi(o,r),vs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Oe||zi(o,r);var u=ce,f=yn;ur(o.type)&&(ce=o.stateNode,yn=!1),vs(i,r,o),vu(o.stateNode),ce=u,yn=f;break;case 5:Oe||zi(o,r);case 6:if(u=ce,f=yn,ce=null,vs(i,r,o),ce=u,yn=f,ce!==null)if(yn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(o.stateNode)}catch(p){Wt(o,r,p)}else try{ce.removeChild(o.stateNode)}catch(p){Wt(o,r,p)}break;case 18:ce!==null&&(yn?(i=ce,oE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Po(i)):oE(ce,o.stateNode));break;case 4:u=ce,f=yn,ce=o.stateNode.containerInfo,yn=!0,vs(i,r,o),ce=u,yn=f;break;case 0:case 11:case 14:case 15:nr(2,o,r),Oe||nr(4,o,r),vs(i,r,o);break;case 1:Oe||(zi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&lT(o,r,u)),vs(i,r,o);break;case 21:vs(i,r,o);break;case 22:Oe=(u=Oe)||o.memoizedState!==null,vs(i,r,o),Oe=u;break;default:vs(i,r,o)}}function gT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Po(i)}catch(o){Wt(r,r.return,o)}}}function yT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Po(i)}catch(o){Wt(r,r.return,o)}}function d2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new fT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new fT),r;default:throw Error(s(435,i.tag))}}function Oh(i,r){var o=d2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=b2.bind(null,i,u);u.then(f,f)}})}function vn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,T=r,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(ur(w.type)){ce=w.stateNode,yn=!1;break t}break;case 5:ce=w.stateNode,yn=!1;break t;case 3:case 4:ce=w.stateNode.containerInfo,yn=!0;break t}w=w.return}if(ce===null)throw Error(s(160));pT(p,T,f),ce=null,yn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)vT(r,i),r=r.sibling}var fi=null;function vT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:vn(r,i),_n(i),u&4&&(nr(3,i,i.return),lu(3,i),nr(5,i,i.return));break;case 1:vn(r,i),_n(i),u&512&&(Oe||o===null||zi(o,o.return)),u&64&&ys&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=fi;if(vn(r,i),_n(i),u&512&&(Oe||o===null||zi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[xi]||p[xe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Ze(p,u,o),p[xe]=i,Ce(p),u=p;break t;case"link":var T=vE("link","href",f).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break e}}p=f.createElement(u),Ze(p,u,o),f.head.appendChild(p);break;case"meta":if(T=vE("meta","content",f).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break e}}p=f.createElement(u),Ze(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[xe]=i,Ce(p),u=p}i.stateNode=u}else _E(f,i.type,i.stateNode);else i.stateNode=yE(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?_E(f,i.type,i.stateNode):yE(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&np(i,i.memoizedProps,o.memoizedProps)}break;case 27:vn(r,i),_n(i),u&512&&(Oe||o===null||zi(o,o.return)),o!==null&&u&4&&np(i,i.memoizedProps,o.memoizedProps);break;case 5:if(vn(r,i),_n(i),u&512&&(Oe||o===null||zi(o,o.return)),i.flags&32){f=i.stateNode;try{gn(f,"")}catch(mt){Wt(i,i.return,mt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,np(i,f,o!==null?o.memoizedProps:f)),u&1024&&(rp=!0);break;case 6:if(vn(r,i),_n(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){Wt(i,i.return,mt)}}break;case 3:if($h=null,f=fi,fi=Kh(r.containerInfo),vn(r,i),fi=f,_n(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(r.containerInfo)}catch(mt){Wt(i,i.return,mt)}rp&&(rp=!1,_T(i));break;case 4:u=fi,fi=Kh(i.stateNode.containerInfo),vn(r,i),_n(i),fi=u;break;case 12:vn(r,i),_n(i);break;case 31:vn(r,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 13:vn(r,i),_n(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ph=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 22:f=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,G=ys,J=Oe;if(ys=G||f,Oe=J||M,vn(r,i),Oe=J,ys=G,_n(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||M||ys||Oe||va(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(p=M.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=M.stateNode;var tt=M.memoizedProps.style,Q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(mt){Wt(M,M.return,mt)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(mt){Wt(M,M.return,mt)}}}else if(r.tag===18){if(o===null){M=r;try{var X=M.stateNode;f?lE(X,!0):lE(M.stateNode,!1)}catch(mt){Wt(M,M.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Oh(i,o))));break;case 19:vn(r,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 30:break;case 21:break;default:vn(r,i),_n(i)}}function _n(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(cT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=ip(i);Mh(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(gn(T,""),o.flags&=-33);var w=ip(i);Mh(i,w,T);break;case 3:case 4:var M=o.stateNode.containerInfo,G=ip(i);sp(i,G,M);break;default:throw Error(s(161))}}catch(J){Wt(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function _T(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;_T(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function _s(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)dT(i,r.alternate,r),r=r.sibling}function va(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),va(r);break;case 1:zi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&lT(r,r.return,o),va(r);break;case 27:vu(r.stateNode);case 26:case 5:zi(r,r.return),va(r);break;case 22:r.memoizedState===null&&va(r);break;case 30:va(r);break;default:va(r)}i=i.sibling}}function Ts(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ts(f,p,o),lu(4,p);break;case 1:if(Ts(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Wt(u,u.return,G)}if(u=p,f=u.updateQueue,f!==null){var w=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)X_(M[f],w)}catch(G){Wt(u,u.return,G)}}o&&T&64&&oT(p),uu(p,p.return);break;case 27:hT(p);case 26:case 5:Ts(f,p,o),o&&u===null&&T&4&&uT(p),uu(p,p.return);break;case 12:Ts(f,p,o);break;case 31:Ts(f,p,o),o&&T&4&&gT(f,p);break;case 13:Ts(f,p,o),o&&T&4&&yT(f,p);break;case 22:p.memoizedState===null&&Ts(f,p,o),uu(p,p.return);break;case 30:break;default:Ts(f,p,o)}r=r.sibling}}function ap(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$l(o))}function op(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$l(i))}function di(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)TT(i,r,o,u),r=r.sibling}function TT(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:di(i,r,o,u),f&2048&&lu(9,r);break;case 1:di(i,r,o,u);break;case 3:di(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$l(i)));break;case 12:if(f&2048){di(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Wt(r,r.return,M)}}else di(i,r,o,u);break;case 31:di(i,r,o,u);break;case 13:di(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?di(i,r,o,u):cu(i,r):p._visibility&2?di(i,r,o,u):(p._visibility|=2,So(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&ap(T,r);break;case 24:di(i,r,o,u),f&2048&&op(r.alternate,r);break;default:di(i,r,o,u)}}function So(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,T=r,w=o,M=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:So(p,T,w,M,f),lu(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?So(p,T,w,M,f):cu(p,T):(J._visibility|=2,So(p,T,w,M,f)),f&&G&2048&&ap(T.alternate,T);break;case 24:So(p,T,w,M,f),f&&G&2048&&op(T.alternate,T);break;default:So(p,T,w,M,f)}r=r.sibling}}function cu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:cu(o,u),f&2048&&ap(u.alternate,u);break;case 24:cu(o,u),f&2048&&op(u.alternate,u);break;default:cu(o,u)}r=r.sibling}}var hu=8192;function Ao(i,r,o){if(i.subtreeFlags&hu)for(i=i.child;i!==null;)ET(i,r,o),i=i.sibling}function ET(i,r,o){switch(i.tag){case 26:Ao(i,r,o),i.flags&hu&&i.memoizedState!==null&&Z2(o,fi,i.memoizedState,i.memoizedProps);break;case 5:Ao(i,r,o);break;case 3:case 4:var u=fi;fi=Kh(i.stateNode.containerInfo),Ao(i,r,o),fi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=hu,hu=16777216,Ao(i,r,o),hu=u):Ao(i,r,o));break;default:Ao(i,r,o)}}function bT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function fu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ye=u,ST(u,i)}bT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wT(i),i=i.sibling}function wT(i){switch(i.tag){case 0:case 11:case 15:fu(i),i.flags&2048&&nr(9,i,i.return);break;case 3:fu(i);break;case 12:fu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Vh(i)):fu(i);break;default:fu(i)}}function Vh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ye=u,ST(u,i)}bT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),Vh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Vh(r));break;default:Vh(r)}i=i.sibling}}function ST(i,r){for(;Ye!==null;){var o=Ye;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$l(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ye=u;else t:for(o=i;Ye!==null;){u=Ye;var f=u.sibling,p=u.return;if(mT(u),u===o){Ye=null;break t}if(f!==null){f.return=p,Ye=f;break t}Ye=p}}}var m2={getCacheForType:function(i){var r=We(De),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return We(De).controller.signal}},p2=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Mt=null,kt=0,Xt=0,Nn=null,ir=!1,Ro=!1,lp=!1,Es=0,ge=0,sr=0,_a=0,up=0,Mn=0,xo=0,du=null,Tn=null,cp=!1,Ph=0,AT=0,kh=1/0,Lh=null,rr=null,Be=0,ar=null,Co=null,bs=0,hp=0,fp=null,RT=null,mu=0,dp=null;function On(){return(Kt&2)!==0&&kt!==0?kt&-kt:W.T!==null?_p():Uc()}function xT(){if(Mn===0)if((kt&536870912)===0||zt){var i=Yr;Yr<<=1,(Yr&3932160)===0&&(Yr=262144),Mn=i}else Mn=536870912;return i=In.current,i!==null&&(i.flags|=32),Mn}function En(i,r,o){(i===se&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(Io(i,0),or(i,kt,Mn,!1)),Kr(i,o),((Kt&2)===0||i!==se)&&(i===se&&((Kt&2)===0&&(_a|=o),ge===4&&or(i,kt,Mn,!1)),Fi(i))}function CT(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ii(i,r),f=u?v2(i,r):pp(i,r,!0),p=u;do{if(f===0){Ro&&!u&&or(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!g2(o)){f=pp(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var w=i;f=du;var M=w.current.memoizedState.isDehydrated;if(M&&(Io(w,T).flags|=256),T=pp(w,T,!1),T!==2){if(lp&&!M){w.errorRecoveryDisabledLanes|=p,_a|=p,f=4;break t}p=Tn,Tn=f,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){Io(i,0),or(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,Mn,!ir);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ph+300-hn(),10<f)){if(or(u,r,Mn,!ir),Si(u,0,!0)!==0)break t;bs=r,u.timeoutHandle=rE(IT.bind(null,u,o,Tn,Lh,cp,r,Mn,_a,xo,ir,p,"Throttled",-0,0),f);break t}IT(u,o,Tn,Lh,cp,r,Mn,_a,xo,ir,p,null,-0,0)}}break}while(!0);Fi(i)}function IT(i,r,o,u,f,p,T,w,M,G,J,tt,Q,X){if(i.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},ET(r,p,tt);var mt=(p&62914560)===p?Ph-hn():(p&4194048)===p?AT-hn():0;if(mt=tI(tt,mt),mt!==null){bs=p,i.cancelPendingCommit=mt(LT.bind(null,i,r,p,o,u,f,T,w,M,J,tt,null,Q,X)),or(i,p,T,!G);return}}LT(i,r,p,o,u,f,T,w,M)}function g2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!xn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,u){r&=~up,r&=~_a,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-ve(f),T=1<<p;u[p]=-1,f&=~T}o!==0&&Qr(i,o,r)}function Uh(){return(Kt&6)===0?(pu(0),!1):!0}function mp(){if(Mt!==null){if(Xt===0)var i=Mt.return;else i=Mt,hs=ca=null,Dm(i),_o=null,Wl=0,i=Mt;for(;i!==null;)aT(i.alternate,i),i=i.return;Mt=null}}function Io(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,k2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),bs=0,mp(),se=i,Mt=o=us(i.current,null),kt=r,Xt=0,Nn=null,ir=!1,Ro=ii(i,r),lp=!1,xo=Mn=up=_a=sr=ge=0,Tn=du=null,cp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-ve(u),p=1<<f;r|=i[f],u&=~p}return Es=r,rh(),o}function DT(i,r){xt=null,W.H=ru,r===vo||r===dh?(r=Y_(),Xt=3):r===vm?(r=Y_(),Xt=4):Xt=r===Ym?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,Mt===null&&(ge=1,xh(i,Fn(r,i.current)))}function NT(){var i=In.current;return i===null?!0:(kt&4194048)===kt?Yn===null:(kt&62914560)===kt||(kt&536870912)!==0?i===Yn:!1}function MT(){var i=W.H;return W.H=ru,i===null?ru:i}function OT(){var i=W.A;return W.A=m2,i}function jh(){ge=4,ir||(kt&4194048)!==kt&&In.current!==null||(Ro=!0),(sr&134217727)===0&&(_a&134217727)===0||se===null||or(se,kt,Mn,!1)}function pp(i,r,o){var u=Kt;Kt|=2;var f=MT(),p=OT();(se!==i||kt!==r)&&(Lh=null,Io(i,r)),r=!1;var T=ge;t:do try{if(Xt!==0&&Mt!==null){var w=Mt,M=Nn;switch(Xt){case 8:mp(),T=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var G=Xt;if(Xt=0,Nn=null,Do(i,w,M,G),o&&Ro){T=0;break t}break;default:G=Xt,Xt=0,Nn=null,Do(i,w,M,G)}}y2(),T=ge;break}catch(J){DT(i,J)}while(!0);return r&&i.shellSuspendCounter++,hs=ca=null,Kt=u,W.H=f,W.A=p,Mt===null&&(se=null,kt=0,rh()),T}function y2(){for(;Mt!==null;)VT(Mt)}function v2(i,r){var o=Kt;Kt|=2;var u=MT(),f=OT();se!==i||kt!==r?(Lh=null,kh=hn()+500,Io(i,r)):Ro=ii(i,r);t:do try{if(Xt!==0&&Mt!==null){r=Mt;var p=Nn;e:switch(Xt){case 1:Xt=0,Nn=null,Do(i,r,p,1);break;case 2:case 9:if(H_(p)){Xt=0,Nn=null,PT(r);break}r=function(){Xt!==2&&Xt!==9||se!==i||(Xt=7),Fi(i)},p.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:H_(p)?(Xt=0,Nn=null,PT(r)):(Xt=0,Nn=null,Do(i,r,p,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var w=Mt;if(T?TE(T):w.stateNode.complete){Xt=0,Nn=null;var M=w.sibling;if(M!==null)Mt=M;else{var G=w.return;G!==null?(Mt=G,Bh(G)):Mt=null}break e}}Xt=0,Nn=null,Do(i,r,p,5);break;case 6:Xt=0,Nn=null,Do(i,r,p,6);break;case 8:mp(),ge=6;break t;default:throw Error(s(462))}}_2();break}catch(J){DT(i,J)}while(!0);return hs=ca=null,W.H=u,W.A=f,Kt=o,Mt!==null?0:(se=null,kt=0,rh(),ge)}function _2(){for(;Mt!==null&&!Gd();)VT(Mt)}function VT(i){var r=sT(i.alternate,i,Es);i.memoizedProps=i.pendingProps,r===null?Bh(i):Mt=r}function PT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=J0(o,r,r.pendingProps,r.type,void 0,kt);break;case 11:r=J0(o,r,r.pendingProps,r.type.render,r.ref,kt);break;case 5:Dm(r);default:aT(o,r),r=Mt=O_(r,Es),r=sT(o,r,Es)}i.memoizedProps=i.pendingProps,r===null?Bh(i):Mt=r}function Do(i,r,o,u){hs=ca=null,Dm(r),_o=null,Wl=0;var f=r.return;try{if(o2(i,f,r,o,kt)){ge=1,xh(i,Fn(o,i.current)),Mt=null;return}}catch(p){if(f!==null)throw Mt=f,p;ge=1,xh(i,Fn(o,i.current)),Mt=null;return}r.flags&32768?(zt||u===1?i=!0:Ro||(kt&536870912)!==0?i=!1:(ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),kT(r,i)):Bh(r)}function Bh(i){var r=i;do{if((r.flags&32768)!==0){kT(r,ir);return}i=r.return;var o=c2(r.alternate,r,Es);if(o!==null){Mt=o;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);ge===0&&(ge=5)}function kT(i,r){do{var o=h2(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);ge=6,Mt=null}function LT(i,r,o,u,f,p,T,w,M){i.cancelPendingCommit=null;do zh();while(Be!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=im,Qd(i,o,p,T,w,M),i===se&&(Mt=se=null,kt=0),Co=r,ar=i,bs=o,hp=p,fp=f,RT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,w2(Ls,function(){return FT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=st.p,st.p=2,T=Kt,Kt|=4;try{f2(i,r,o)}finally{Kt=T,st.p=f,W.T=u}}Be=1,UT(),jT(),BT()}}function UT(){if(Be===1){Be=0;var i=ar,r=Co,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=st.p;st.p=2;var f=Kt;Kt|=4;try{vT(r,i);var p=xp,T=S_(i.containerInfo),w=p.focusedElem,M=p.selectionRange;if(T!==w&&w&&w.ownerDocument&&w_(w.ownerDocument.documentElement,w)){if(M!==null&&Jd(w)){var G=M.start,J=M.end;if(J===void 0&&(J=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(J,w.value.length);else{var tt=w.ownerDocument||document,Q=tt&&tt.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),mt=w.textContent.length,vt=Math.min(M.start,mt),ne=M.end===void 0?vt:Math.min(M.end,mt);!X.extend&&vt>ne&&(T=ne,ne=vt,vt=T);var z=b_(w,vt),L=b_(w,ne);if(z&&L&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var H=tt.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),vt>ne?(X.addRange(H),X.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),X.addRange(H))}}}}for(tt=[],X=w;X=X.parentNode;)X.nodeType===1&&tt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<tt.length;w++){var Z=tt[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Zh=!!Rp,xp=Rp=null}finally{Kt=f,st.p=u,W.T=o}}i.current=r,Be=2}}function jT(){if(Be===2){Be=0;var i=ar,r=Co,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=st.p;st.p=2;var f=Kt;Kt|=4;try{dT(i,r.alternate,r)}finally{Kt=f,st.p=u,W.T=o}}Be=3}}function BT(){if(Be===4||Be===3){Be=0,Nc();var i=ar,r=Co,o=bs,u=RT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Be=5:(Be=0,Co=ar=null,zT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rr=null),rs(o),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=st.p,st.p=2,W.T=null;try{for(var p=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];p(w.value,{componentStack:w.stack})}}finally{W.T=r,st.p=f}}(bs&3)!==0&&zh(),Fi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===dp?mu++:(mu=0,dp=i):mu=0,pu(0)}}function zT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,$l(r)))}function zh(){return UT(),jT(),BT(),FT()}function FT(){if(Be!==5)return!1;var i=ar,r=hp;hp=0;var o=rs(bs),u=W.T,f=st.p;try{st.p=32>o?32:o,W.T=null,o=fp,fp=null;var p=ar,T=bs;if(Be=0,Co=ar=null,bs=0,(Kt&6)!==0)throw Error(s(331));var w=Kt;if(Kt|=4,wT(p.current),TT(p,p.current,T,o),Kt=w,pu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ni,p)}catch{}return!0}finally{st.p=f,W.T=u,zT(i,r)}}function qT(i,r,o){r=Fn(o,r),r=Gm(i.stateNode,r,2),i=Zs(i,r,2),i!==null&&(Kr(i,2),Fi(i))}function Wt(i,r,o){if(i.tag===3)qT(i,i,o);else for(;r!==null;){if(r.tag===3){qT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){i=Fn(o,i),o=H0(2),u=Zs(r,o,2),u!==null&&(G0(o,u,r,i),Kr(u,2),Fi(u));break}}r=r.return}}function gp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new p2;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(lp=!0,f.add(o),i=T2.bind(null,i,r,o),r.then(i,i))}function T2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,se===i&&(kt&o)===o&&(ge===4||ge===3&&(kt&62914560)===kt&&300>hn()-Ph?(Kt&2)===0&&Io(i,0):up|=o,xo===kt&&(xo=0)),Fi(i)}function HT(i,r){r===0&&(r=Lc()),i=oa(i,r),i!==null&&(Kr(i,r),Fi(i))}function E2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),HT(i,o)}function b2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),HT(i,o)}function w2(i,r){return je(i,r)}var Fh=null,No=null,yp=!1,qh=!1,vp=!1,lr=0;function Fi(i){i!==No&&i.next===null&&(No===null?Fh=No=i:No=No.next=i),qh=!0,yp||(yp=!0,A2())}function pu(i,r){if(!vp&&qh){vp=!0;do for(var o=!1,u=Fh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-ve(42|i)+1)-1,p&=f&~(T&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,QT(u,p))}else p=kt,p=Si(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ii(u,p)||(o=!0,QT(u,p));u=u.next}while(o);vp=!1}}function S2(){GT()}function GT(){qh=yp=!1;var i=0;lr!==0&&P2()&&(i=lr);for(var r=hn(),o=null,u=Fh;u!==null;){var f=u.next,p=YT(u,r);p===0?(u.next=null,o===null?Fh=f:o.next=f,f===null&&(No=o)):(o=u,(i!==0||(p&3)!==0)&&(qh=!0)),u=f}Be!==0&&Be!==5||pu(i),lr!==0&&(lr=0)}function YT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-ve(p),w=1<<T,M=f[T];M===-1?((w&o)===0||(w&u)!==0)&&(f[T]=Kd(w,r)):M<=r&&(i.expiredLanes|=w),p&=~w}if(r=se,o=kt,o=Si(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ks(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ii(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&ks(u),rs(o)){case 2:case 8:o=Al;break;case 32:o=Ls;break;case 268435456:o=Mc;break;default:o=Ls}return u=KT.bind(null,i),o=je(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&ks(u),i.callbackPriority=2,i.callbackNode=null,2}function KT(i,r){if(Be!==0&&Be!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(zh()&&i.callbackNode!==o)return null;var u=kt;return u=Si(i,i===se?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(CT(i,u,r),YT(i,hn()),i.callbackNode!=null&&i.callbackNode===o?KT.bind(null,i):null)}function QT(i,r){if(zh())return null;CT(i,r,!0)}function A2(){L2(function(){(Kt&6)!==0?je(Sl,S2):GT()})}function _p(){if(lr===0){var i=go;i===0&&(i=bi,bi<<=1,(bi&261888)===0&&(bi=256)),lr=i}return lr}function $T(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:to(""+i)}function XT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function R2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=$T((f[He]||null).action),T=u.submitter;T&&(r=(r=T[He]||null)?$T(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var w=new Pi("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var M=T?XT(f,T):new FormData(f);jm(o,{pending:!0,data:M,method:f.method,action:p},null,M)}}else typeof p=="function"&&(w.preventDefault(),M=T?XT(f,T):new FormData(f),jm(o,{pending:!0,data:M,method:f.method,action:p},p,M))},currentTarget:f}]})}}for(var Tp=0;Tp<nm.length;Tp++){var Ep=nm[Tp],x2=Ep.toLowerCase(),C2=Ep[0].toUpperCase()+Ep.slice(1);hi(x2,"on"+C2)}hi(x_,"onAnimationEnd"),hi(C_,"onAnimationIteration"),hi(I_,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(HC,"onTransitionRun"),hi(GC,"onTransitionStart"),hi(YC,"onTransitionCancel"),hi(D_,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function WT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],M=w.instance,G=w.currentTarget;if(w=w.listener,M!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=G;try{p(f)}catch(J){sh(J)}f.currentTarget=null,p=M}else for(T=0;T<u.length;T++){if(w=u[T],M=w.instance,G=w.currentTarget,w=w.listener,M!==p&&f.isPropagationStopped())break t;p=w,f.currentTarget=G;try{p(f)}catch(J){sh(J)}f.currentTarget=null,p=M}}}}function Ot(i,r){var o=r[$a];o===void 0&&(o=r[$a]=new Set);var u=i+"__bubble";o.has(u)||(JT(r,i,2,!1),o.add(u))}function bp(i,r,o){var u=0;r&&(u|=4),JT(o,i,u,r)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function wp(i){if(!i[Hh]){i[Hh]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(I2.has(o)||bp(o,!1,i),bp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Hh]||(r[Hh]=!0,bp("selectionchange",!1,r))}}function JT(i,r,o,u){switch(xE(r)){case 2:var f=iI;break;case 8:f=sI;break;default:f=Up}o=f.bind(null,r,o,i),f=void 0,!Zr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Sp(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=Ci(w),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=p=T;continue t}w=w.parentNode}}u=u.return}qs(function(){var G=p,J=Un(o),tt=[];t:{var Q=N_.get(i);if(Q!==void 0){var X=Pi,mt=i;switch(i){case"keypress":if(ea(o)===0)break t;case"keydown":case"keyup":X=eh;break;case"focusin":mt="focus",X=ia;break;case"focusout":mt="blur",X=ia;break;case"beforeblur":case"afterblur":X=ia;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case x_:case C_:case I_:X=Qc;break;case D_:X=S;break;case"scroll":case"scrollend":X=Bl;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ls;break;case"toggle":case"beforetoggle":X=Rt}var vt=(r&4)!==0,ne=!vt&&(i==="scroll"||i==="scrollend"),z=vt?Q!==null?Q+"Capture":null:Q;vt=[];for(var L=G,H;L!==null;){var Z=L;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=oi(L,z),Z!=null&&vt.push(yu(L,Z,H))),ne)break;L=L.return}0<vt.length&&(Q=new X(Q,mt,null,o,J),tt.push({event:Q,listeners:vt}))}}if((r&7)===0){t:{if(Q=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Q&&o!==Ll&&(mt=o.relatedTarget||o.fromElement)&&(Ci(mt)||mt[Ri]))break t;if((X||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(mt=o.relatedTarget||o.toElement,X=G,mt=mt?Ci(mt):null,mt!==null&&(ne=l(mt),vt=mt.tag,mt!==ne||vt!==5&&vt!==27&&vt!==6)&&(mt=null)):(X=null,mt=G),X!==mt)){if(vt=zl,Z="onMouseLeave",z="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(vt=ls,Z="onPointerLeave",z="onPointerEnter",L="pointer"),ne=X==null?Q:An(X),H=mt==null?Q:An(mt),Q=new vt(Z,L+"leave",X,o,J),Q.target=ne,Q.relatedTarget=H,Z=null,Ci(J)===G&&(vt=new vt(z,L+"enter",mt,o,J),vt.target=H,vt.relatedTarget=ne,Z=vt),ne=Z,X&&mt)e:{for(vt=D2,z=X,L=mt,H=0,Z=z;Z;Z=vt(Z))H++;Z=0;for(var gt=L;gt;gt=vt(gt))Z++;for(;0<H-Z;)z=vt(z),H--;for(;0<Z-H;)L=vt(L),Z--;for(;H--;){if(z===L||L!==null&&z===L.alternate){vt=z;break e}z=vt(z),L=vt(L)}vt=null}else vt=null;X!==null&&ZT(tt,Q,X,vt,!1),mt!==null&&ne!==null&&ZT(tt,ne,mt,vt,!0)}}t:{if(Q=G?An(G):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Ht=g_;else if(m_(Q))if(y_)Ht=zC;else{Ht=jC;var pt=UC}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Za(G.elementType)&&(Ht=g_):Ht=BC;if(Ht&&(Ht=Ht(i,G))){p_(tt,Ht,o,J);break t}pt&&pt(i,Q,G),i==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Vl(Q,"number",Q.value)}switch(pt=G?An(G):window,i){case"focusin":(m_(pt)||pt.contentEditable==="true")&&(oo=pt,Zd=G,Yl=null);break;case"focusout":Yl=Zd=oo=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,A_(tt,o,J);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":A_(tt,o,J)}var Nt;if(Yt)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ao?sa(i,o)&&(Lt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ui&&o.locale!=="ko"&&(ao||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ao&&(Nt=jl()):(Vi=J,Ul="value"in Vi?Vi.value:Vi.textContent,ao=!0)),pt=Gh(G,Lt),0<pt.length&&(Lt=new Li(Lt,i,null,o,J),tt.push({event:Lt,listeners:pt}),Nt?Lt.data=Nt:(Nt=ro(o),Nt!==null&&(Lt.data=Nt)))),(Nt=Bn?VC(i,o):PC(i,o))&&(Lt=Gh(G,"onBeforeInput"),0<Lt.length&&(pt=new Li("onBeforeInput","beforeinput",null,o,J),tt.push({event:pt,listeners:Lt}),pt.data=Nt)),R2(tt,i,G,o,J)}WT(tt,r)})}function yu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Gh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=oi(i,o),f!=null&&u.unshift(yu(i,f,p)),f=oi(i,r),f!=null&&u.push(yu(i,f,p))),i.tag===3)return u;i=i.return}return[]}function D2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ZT(i,r,o,u,f){for(var p=r._reactName,T=[];o!==null&&o!==u;){var w=o,M=w.alternate,G=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||G===null||(M=G,f?(G=oi(o,p),G!=null&&T.unshift(yu(o,G,M))):f||(G=oi(o,p),G!=null&&T.push(yu(o,G,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var N2=/\r\n?/g,M2=/\u0000|\uFFFD/g;function tE(i){return(typeof i=="string"?i:""+i).replace(N2,`
`).replace(M2,"")}function eE(i,r){return r=tE(r),tE(i)===r}function ee(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gn(i,""+u);break;case"className":Rn(i,"class",u);break;case"tabIndex":Rn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(i,o,u);break;case"style":kl(i,u,p);break;case"data":if(r!=="object"){Rn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=to(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ee(i,r,"name",f.name,f,null),ee(i,r,"formEncType",f.formEncType,f,null),ee(i,r,"formMethod",f.formMethod,f,null),ee(i,r,"formTarget",f.formTarget,f,null)):(ee(i,r,"encType",f.encType,f,null),ee(i,r,"method",f.method,f,null),ee(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=to(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ai);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=to(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),Wa(i,"popover",u);break;case"xlinkActuate":Ie(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gc.get(o)||o,Wa(i,o,u))}}function Ap(i,r,o,u,f,p){switch(o){case"style":kl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?gn(i,u):(typeof u=="number"||typeof u=="bigint")&&gn(i,""+u);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[He]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Wa(i,o,u)}}}function Ze(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(i,r,p,T,o,null)}}f&&ee(i,r,"srcSet",o.srcSet,o,null),u&&ee(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var w=p=T=f=null,M=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":T=J;break;case"checked":M=J;break;case"defaultChecked":G=J;break;case"value":p=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:ee(i,r,u,J,o,null)}}Fc(i,p,w,M,G,T,f,!1);return;case"select":Ot("invalid",i),u=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:ee(i,r,f,w,o,null)}r=p,o=T,i.multiple=!!u,r!=null?js(i,!!u,r,!1):o!=null&&js(i,!!u,o,!0);return;case"textarea":Ot("invalid",i),p=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ee(i,r,T,w,o,null)}Bs(i,u,f,p);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ee(i,r,M,u,o,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(u=0;u<gu.length;u++)Ot(gu[u],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(i,r,G,u,o,null)}return;default:if(Za(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Ap(i,r,J,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ee(i,r,w,u,o,null))}function O2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,w=null,M=null,G=null,J=null;for(X in o){var tt=o[X];if(o.hasOwnProperty(X)&&tt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=tt;default:u.hasOwnProperty(X)||ee(i,r,X,null,u,tt)}}for(var Q in u){var X=u[Q];if(tt=o[Q],u.hasOwnProperty(Q)&&(X!=null||tt!=null))switch(Q){case"type":p=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":J=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==tt&&ee(i,r,Q,X,u,tt)}}Ja(i,T,w,M,G,J,p,f);return;case"select":X=T=w=Q=null;for(p in o)if(M=o[p],o.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(p)||ee(i,r,p,null,u,M)}for(f in u)if(p=u[f],M=o[f],u.hasOwnProperty(f)&&(p!=null||M!=null))switch(f){case"value":Q=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==M&&ee(i,r,f,p,u,M)}r=w,o=T,u=X,Q!=null?js(i,!!o,Q,!1):!!u!=!!o&&(r!=null?js(i,!!o,r,!0):js(i,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ee(i,r,w,null,u,f)}for(T in u)if(f=u[T],p=o[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&ee(i,r,T,f,u,p)}qc(i,Q,X);return;case"option":for(var mt in o)Q=o[mt],o.hasOwnProperty(mt)&&Q!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:ee(i,r,mt,null,u,Q));for(M in u)Q=u[M],X=o[M],u.hasOwnProperty(M)&&Q!==X&&(Q!=null||X!=null)&&(M==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ee(i,r,M,Q,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)Q=o[vt],o.hasOwnProperty(vt)&&Q!=null&&!u.hasOwnProperty(vt)&&ee(i,r,vt,null,u,Q);for(G in u)if(Q=u[G],X=o[G],u.hasOwnProperty(G)&&Q!==X&&(Q!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:ee(i,r,G,Q,u,X)}return;default:if(Za(r)){for(var ne in o)Q=o[ne],o.hasOwnProperty(ne)&&Q!==void 0&&!u.hasOwnProperty(ne)&&Ap(i,r,ne,void 0,u,Q);for(J in u)Q=u[J],X=o[J],!u.hasOwnProperty(J)||Q===X||Q===void 0&&X===void 0||Ap(i,r,J,Q,u,X);return}}for(var z in o)Q=o[z],o.hasOwnProperty(z)&&Q!=null&&!u.hasOwnProperty(z)&&ee(i,r,z,null,u,Q);for(tt in u)Q=u[tt],X=o[tt],!u.hasOwnProperty(tt)||Q===X||Q==null&&X==null||ee(i,r,tt,Q,u,X)}function nE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function V2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,T=f.initiatorType,w=f.duration;if(p&&w&&nE(T)){for(T=0,w=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],G=M.startTime;if(G>w)break;var J=M.transferSize,tt=M.initiatorType;J&&nE(tt)&&(M=M.responseEnd,T+=J*(M<w?1:(w-G)/(M-G)))}if(--u,r+=8*(p+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Rp=null,xp=null;function Yh(i){return i.nodeType===9?i:i.ownerDocument}function iE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Cp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ip=null;function P2(){var i=window.event;return i&&i.type==="popstate"?i===Ip?!1:(Ip=i,!0):(Ip=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(i){return aE.resolve(null).then(i).catch(U2)}:rE;function U2(i){setTimeout(function(){throw i})}function ur(i){return i==="head"}function oE(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Po(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")vu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,vu(o);for(var p=o.firstChild;p;){var T=p.nextSibling,w=p.nodeName;p[xi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&vu(i.ownerDocument.body);o=f}while(o);Po(r)}function lE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Dp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dp(o),Xa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function j2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[xi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function B2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Kn(i.nextSibling),i===null))return null;return i}function uE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Kn(i.nextSibling),i===null))return null;return i}function Np(i){return i.data==="$?"||i.data==="$~"}function Mp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function z2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Kn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Op=null;function cE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Kn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function hE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function fE(i,r,o){switch(r=Yh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function vu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Xa(i)}var Qn=new Map,dE=new Set;function Kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ws=st.d;st.d={f:F2,r:q2,D:H2,C:G2,L:Y2,m:K2,X:$2,S:Q2,M:X2};function F2(){var i=ws.f(),r=Uh();return i||r}function q2(i){var r=Ln(i);r!==null&&r.tag===5&&r.type==="form"?D0(r):ws.r(i)}var Mo=typeof document>"u"?null:document;function mE(i,r,o){var u=Mo;if(u&&typeof r=="string"&&r){var f=pn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),dE.has(f)||(dE.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ze(r,"link",i),Ce(r),u.head.appendChild(r)))}}function H2(i){ws.D(i),mE("dns-prefetch",i,null)}function G2(i,r){ws.C(i,r),mE("preconnect",i,r)}function Y2(i,r,o){ws.L(i,r,o);var u=Mo;if(u&&i&&r){var f='link[rel="preload"][as="'+pn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pn(o.imageSizes)+'"]')):f+='[href="'+pn(i)+'"]';var p=f;switch(r){case"style":p=Oo(i);break;case"script":p=Vo(i)}Qn.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Qn.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(_u(p))||r==="script"&&u.querySelector(Tu(p))||(r=u.createElement("link"),Ze(r,"link",i),Ce(r),u.head.appendChild(r)))}}function K2(i,r){ws.m(i,r);var o=Mo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vo(i)}if(!Qn.has(p)&&(i=_({rel:"modulepreload",href:i},r),Qn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tu(p)))return}u=o.createElement("link"),Ze(u,"link",i),Ce(u),o.head.appendChild(u)}}}function Q2(i,r,o){ws.S(i,r,o);var u=Mo;if(u&&i){var f=Ii(u).hoistableStyles,p=Oo(i);r=r||"default";var T=f.get(p);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(_u(p)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Qn.get(p))&&Vp(i,o);var M=T=u.createElement("link");Ce(M),Ze(M,"link",i),M._p=new Promise(function(G,J){M.onload=G,M.onerror=J}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Qh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(p,T)}}}function $2(i,r){ws.X(i,r);var o=Mo;if(o&&i){var u=Ii(o).hoistableScripts,f=Vo(i),p=u.get(f);p||(p=o.querySelector(Tu(f)),p||(i=_({src:i,async:!0},r),(r=Qn.get(f))&&Pp(i,r),p=o.createElement("script"),Ce(p),Ze(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function X2(i,r){ws.M(i,r);var o=Mo;if(o&&i){var u=Ii(o).hoistableScripts,f=Vo(i),p=u.get(f);p||(p=o.querySelector(Tu(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=Qn.get(f))&&Pp(i,r),p=o.createElement("script"),Ce(p),Ze(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function pE(i,r,o,u){var f=(f=Dt.current)?Kh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Oo(o.href),o=Ii(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Oo(o.href);var p=Ii(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(_u(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Qn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qn.set(i,o),p||W2(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vo(o),o=Ii(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Oo(i){return'href="'+pn(i)+'"'}function _u(i){return'link[rel="stylesheet"]['+i+"]"}function gE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function W2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ze(r,"link",o),Ce(r),i.head.appendChild(r))}function Vo(i){return'[src="'+pn(i)+'"]'}function Tu(i){return"script[async]"+i}function yE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return r.instance=u,Ce(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),Ze(u,"style",f),Qh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Oo(o.href);var p=i.querySelector(_u(f));if(p)return r.state.loading|=4,r.instance=p,Ce(p),p;u=gE(o),(f=Qn.get(f))&&Vp(u,f),p=(i.ownerDocument||i).createElement("link"),Ce(p);var T=p;return T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),Ze(p,"link",u),r.state.loading|=4,Qh(p,o.precedence,i),r.instance=p;case"script":return p=Vo(o.src),(f=i.querySelector(Tu(p)))?(r.instance=f,Ce(f),f):(u=o,(f=Qn.get(p))&&(u=_({},o),Pp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ce(f),Ze(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Qh(u,o.precedence,i));return r.instance}function Qh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Vp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Pp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var $h=null;function vE(i,r,o){if($h===null){var u=new Map,f=$h=new Map;f.set(o,u)}else f=$h,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[xi]||p[xe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(p):u.set(T,[p])}}return u}function _E(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function J2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function TE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Z2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Oo(u.href),p=r.querySelector(_u(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Xh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Ce(p);return}p=r.ownerDocument||r,u=gE(u),(f=Qn.get(f))&&Vp(u,f),p=p.createElement("link"),Ce(p);var T=p;T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),Ze(p,"link",u),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Xh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var kp=0;function tI(i,r){return i.stylesheets&&i.count===0&&Jh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Jh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&kp===0&&(kp=62500*V2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Jh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>kp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wh=null;function Jh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wh=new Map,r.forEach(eI,i),Wh=null,Xh.call(i))}function eI(i,r){if(!(r.state.loading&4)){var o=Wh.get(i);if(o)var u=o.get(null);else{o=new Map,Wh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,f),o.set(T,f),this.count++,u=Xh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Eu={$$typeof:K,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function nI(i,r,o,u,f,p,T,w,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function EE(i,r,o,u,f,p,T,w,M,G,J,tt){return i=new nI(i,r,o,T,M,G,J,tt,w),r=1,p===!0&&(r|=24),p=Cn(3,null,null,r),i.current=p,p.stateNode=i,r=pm(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},_m(p),i}function bE(i){return i?(i=co,i):co}function wE(i,r,o,u,f,p){f=bE(f),u.context===null?u.context=f:u.pendingContext=f,u=Js(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Zs(i,u,r),o!==null&&(En(o,i,r),Zl(o,i,r))}function SE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Lp(i,r){SE(i,r),(i=i.alternate)&&SE(i,r)}function AE(i){if(i.tag===13||i.tag===31){var r=oa(i,67108864);r!==null&&En(r,i,67108864),Lp(i,67108864)}}function RE(i){if(i.tag===13||i.tag===31){var r=On();r=$r(r);var o=oa(i,r);o!==null&&En(o,i,r),Lp(i,r)}}var Zh=!0;function iI(i,r,o,u){var f=W.T;W.T=null;var p=st.p;try{st.p=2,Up(i,r,o,u)}finally{st.p=p,W.T=f}}function sI(i,r,o,u){var f=W.T;W.T=null;var p=st.p;try{st.p=8,Up(i,r,o,u)}finally{st.p=p,W.T=f}}function Up(i,r,o,u){if(Zh){var f=jp(u);if(f===null)Sp(i,r,u,tf,o),CE(i,u);else if(aI(f,i,r,o,u))u.stopPropagation();else if(CE(i,u),r&4&&-1<rI.indexOf(i)){for(;f!==null;){var p=Ln(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=wi(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var M=1<<31-ve(T);w.entanglements[1]|=M,T&=~M}Fi(p),(Kt&6)===0&&(kh=hn()+500,pu(0))}}break;case 31:case 13:w=oa(p,2),w!==null&&En(w,p,2),Uh(),Lp(p,2)}if(p=jp(u),p===null&&Sp(i,r,u,tf,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Sp(i,r,u,null,o)}}function jp(i){return i=Un(i),Bp(i)}var tf=null;function Bp(i){if(tf=null,i=Ci(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return tf=i,null}function xE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case Sl:return 2;case Al:return 8;case Ls:case Yd:return 32;case Mc:return 268435456;default:return 32}default:return 32}}var zp=!1,cr=null,hr=null,fr=null,bu=new Map,wu=new Map,dr=[],rI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(i,r){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":bu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(r.pointerId)}}function Su(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Ln(r),r!==null&&AE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function aI(i,r,o,u,f){switch(r){case"focusin":return cr=Su(cr,i,r,o,u,f),!0;case"dragenter":return hr=Su(hr,i,r,o,u,f),!0;case"mouseover":return fr=Su(fr,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return bu.set(p,Su(bu.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,wu.set(p,Su(wu.get(p)||null,i,r,o,u,f)),!0}return!1}function IE(i){var r=Ci(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,si(i.priority,function(){RE(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,si(i.priority,function(){RE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ef(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=jp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ll=u,o.target.dispatchEvent(u),Ll=null}else return r=Ln(o),r!==null&&AE(r),i.blockedOn=o,!1;r.shift()}return!0}function DE(i,r,o){ef(i)&&o.delete(r)}function oI(){zp=!1,cr!==null&&ef(cr)&&(cr=null),hr!==null&&ef(hr)&&(hr=null),fr!==null&&ef(fr)&&(fr=null),bu.forEach(DE),wu.forEach(DE)}function nf(i,r){i.blockedOn===r&&(i.blockedOn=null,zp||(zp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oI)))}var sf=null;function NE(i){sf!==i&&(sf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){sf===i&&(sf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Bp(u||o)===null)continue;break}var p=Ln(o);p!==null&&(i.splice(r,3),r-=3,jm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Po(i){function r(M){return nf(M,i)}cr!==null&&nf(cr,i),hr!==null&&nf(hr,i),fr!==null&&nf(fr,i),bu.forEach(r),wu.forEach(r);for(var o=0;o<dr.length;o++){var u=dr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<dr.length&&(o=dr[0],o.blockedOn===null);)IE(o),o.blockedOn===null&&dr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],T=f[He]||null;if(typeof p=="function")T||NE(o);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[He]||null)w=T.formAction;else if(Bp(f)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),NE(o)}}}function ME(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Fp(i){this._internalRoot=i}rf.prototype.render=Fp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=On();wE(o,u,i,r,null,null)},rf.prototype.unmount=Fp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;wE(i.current,2,null,i,null,null),Uh(),r[Ri]=null}};function rf(i){this._internalRoot=i}rf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Uc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<dr.length&&r!==0&&r<dr[o].priority;o++);dr.splice(o,0,i),o===0&&IE(i)}};var OE=t.version;if(OE!=="19.2.3")throw Error(s(527,OE,"19.2.3"));st.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var lI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{ni=af.inject(lI),Qe=af}catch{}}return Ru.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=B0,p=z0,T=F0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=EE(i,1,!1,null,null,o,u,null,f,p,T,ME),i[Ri]=r.current,wp(i),new Fp(r)},Ru.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=B0,T=z0,w=F0,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=EE(i,1,!0,r,o??null,u,f,M,p,T,w,ME),r.context=bE(null),o=r.current,u=On(),u=$r(u),f=Js(u),f.callback=null,Zs(o,f,u),o=u,r.current.lanes=o,Kr(r,o),Fi(r),i[Ri]=r.current,wp(i),new rf(r)},Ru.version="19.2.3",Ru}var qE;function vI(){if(qE)return Gp.exports;qE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gp.exports=yI(),Gp.exports}var _I=vI();var HE="popstate";function TI(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return Dg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xu(a)}return bI(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ti(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EI(){return Math.random().toString(36).substring(2,10)}function GE(e,t){return{usr:e.state,key:e.key,idx:t}}function Dg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ul(t):t,state:n,key:t&&t.key||s||EI()}}function Xu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ul(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function bI(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let k=y(),F=k==null?null:k-g;g=k,m&&m({action:d,location:B.location,delta:F})}function b(k,F){d="PUSH";let Y=Dg(B.location,k,F);g=y()+1;let K=GE(Y,g),at=B.createHref(Y);try{c.pushState(K,"",at)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;a.location.assign(at)}l&&m&&m({action:d,location:B.location,delta:1})}function x(k,F){d="REPLACE";let Y=Dg(B.location,k,F);g=y();let K=GE(Y,g),at=B.createHref(Y);c.replaceState(K,"",at),l&&m&&m({action:d,location:B.location,delta:0})}function O(k){return wI(k)}let B={get action(){return d},get location(){return e(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(HE,_),m=k,()=>{a.removeEventListener(HE,_),m=null}},createHref(k){return t(a,k)},createURL:O,encodeLocation(k){let F=O(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:x,go(k){return c.go(k)}};return B}function wI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Xu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function sA(e,t,n="/"){return SI(e,t,n,!1)}function SI(e,t,n,s){let a=typeof t=="string"?ul(t):t,l=Is(a.pathname||"/",n);if(l==null)return null;let c=rA(e);AI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=kI(l);d=VI(c[m],g,s)}return d}function rA(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;fe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=xs([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),rA(c.children,t,b,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:MI(_,c.index),routesMeta:b})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of aA(c.path))l(c,d,!0,m)}),t}function aA(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=aA(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function AI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:OI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RI=/^:[\w-]+$/,xI=3,CI=2,II=1,DI=10,NI=-2,YE=e=>e==="*";function MI(e,t){let n=e.split("/"),s=n.length;return n.some(YE)&&(s+=NI),t&&(s+=CI),n.filter(a=>!YE(a)).reduce((a,l)=>a+(RI.test(l)?xI:l===""?II:DI),s)}function OI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function VI(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),b=m.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:xs([l,_.pathname]),pathnameBase:BI(xs([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=xs([l,_.pathnameBase]))}return c}function Pf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=PI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},b)=>{if(y==="*"){let O=d[b]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const x=d[b];return _&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function PI(e,t=!1,n=!0){ti(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function kI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ti(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Is(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var oA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LI=e=>oA.test(e);function UI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?ul(e):e,l;if(n)if(LI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ti(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=KE(n.substring(1),"/"):l=KE(n,t)}else l=t;return{pathname:l,search:zI(s),hash:FI(a)}}function KE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function $p(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Iy(e){let t=jI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Dy(e,t,n,s=!1){let a;typeof e=="string"?a=ul(e):(a={...e},fe(!a.pathname||!a.pathname.includes("?"),$p("?","pathname","search",a)),fe(!a.pathname||!a.pathname.includes("#"),$p("#","pathname","hash",a)),fe(!a.search||!a.search.includes("#"),$p("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?t[_]:"/"}let m=UI(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var xs=e=>e.join("/").replace(/\/\/+/g,"/"),BI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,qI=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function HI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function GI(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uA(e,t){let n=e;if(typeof n!="string"||!oA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(lA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Is(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{ti(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cA=["POST","PUT","PATCH","DELETE"];new Set(cA);var YI=["GET",...cA];new Set(YI);var cl=V.createContext(null);cl.displayName="DataRouter";var dd=V.createContext(null);dd.displayName="DataRouterState";var KI=V.createContext(!1),hA=V.createContext({isTransitioning:!1});hA.displayName="ViewTransition";var QI=V.createContext(new Map);QI.displayName="Fetchers";var $I=V.createContext(null);$I.displayName="Await";var Pn=V.createContext(null);Pn.displayName="Navigation";var dc=V.createContext(null);dc.displayName="Location";var ns=V.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var Ny=V.createContext(null);Ny.displayName="RouteError";var fA="REACT_ROUTER_ERROR",XI="REDIRECT",WI="ROUTE_ERROR_RESPONSE";function JI(e){if(e.startsWith(`${fA}:${XI}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function ZI(e){if(e.startsWith(`${fA}:${WI}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new qI(t.status,t.statusText,t.data)}catch{}}function tD(e,{relative:t}={}){fe(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(Pn),{hash:a,pathname:l,search:c}=mc(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:xs([n,l])),s.createHref({pathname:d,search:c,hash:a})}function hl(){return V.useContext(dc)!=null}function Ur(){return fe(hl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(dc).location}var dA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mA(e){V.useContext(Pn).static||V.useLayoutEffect(e)}function md(){let{isDataRoute:e}=V.useContext(ns);return e?dD():eD()}function eD(){fe(hl(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(cl),{basename:t,navigator:n}=V.useContext(Pn),{matches:s}=V.useContext(ns),{pathname:a}=Ur(),l=JSON.stringify(Iy(s)),c=V.useRef(!1);return mA(()=>{c.current=!0}),V.useCallback((m,g={})=>{if(ti(c.current,dA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Dy(m,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:xs([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,a,e])}V.createContext(null);function mc(e,{relative:t}={}){let{matches:n}=V.useContext(ns),{pathname:s}=Ur(),a=JSON.stringify(Iy(n));return V.useMemo(()=>Dy(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function nD(e,t){return pA(e,t)}function pA(e,t,n,s,a){fe(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(Pn),{matches:c}=V.useContext(ns),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let Y=_&&_.path||"";yA(g,!_||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let b=Ur(),x;if(t){let Y=typeof t=="string"?ul(t):t;fe(y==="/"||Y.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),x=Y}else x=b;let O=x.pathname||"/",B=O;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");B="/"+O.replace(/^\//,"").split("/").slice(Y.length).join("/")}let k=sA(e,{pathname:B});ti(_||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ti(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=oD(k&&k.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:xs([y,l.encodeLocation?l.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:xs([y,l.encodeLocation?l.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),c,n,s,a);return t&&F?V.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},F):F}function iD(){let e=fD(),t=HI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:a},n):null,c)}var sD=V.createElement(iD,null),gA=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=ZI(e.digest);n&&(e=n)}let t=e!==void 0?V.createElement(ns.Provider,{value:this.props.routeContext},V.createElement(Ny.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?V.createElement(rD,{error:e},t):t}};gA.contextType=KI;var Xp=new WeakMap;function rD({children:e,error:t}){let{basename:n}=V.useContext(Pn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=JI(t.digest);if(s){let a=Xp.get(t);if(a)throw a;let l=uA(s.location,n);if(lA&&!Xp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Xp.set(t,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function aD({routeContext:e,match:t,children:n}){let s=V.useContext(cl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(ns.Provider,{value:e},n)}function oD(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);fe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:x}=n,O=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||O){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:GI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,b)=>{let x,O=!1,B=null,k=null;n&&(x=c&&_.route.id?c[_.route.id]:void 0,B=_.route.errorElement||sD,d&&(m<0&&b===0?(yA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):m===b&&(O=!0,k=_.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,b+1)),Y=()=>{let K;return x?K=B:O?K=k:_.route.Component?K=V.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=y,V.createElement(aD,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:K})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?V.createElement(gA,{location:n.location,revalidation:n.revalidation,component:B,error:x,children:Y(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):Y()},null)}function My(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lD(e){let t=V.useContext(cl);return fe(t,My(e)),t}function uD(e){let t=V.useContext(dd);return fe(t,My(e)),t}function cD(e){let t=V.useContext(ns);return fe(t,My(e)),t}function Oy(e){let t=cD(e),n=t.matches[t.matches.length-1];return fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hD(){return Oy("useRouteId")}function fD(){let e=V.useContext(Ny),t=uD("useRouteError"),n=Oy("useRouteError");return e!==void 0?e:t.errors?.[n]}function dD(){let{router:e}=lD("useNavigate"),t=Oy("useNavigate"),n=V.useRef(!1);return mA(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{ti(n.current,dA),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var QE={};function yA(e,t,n){!t&&!QE[e]&&(QE[e]=!0,ti(!1,n))}V.memo(mD);function mD({routes:e,future:t,state:n,onError:s}){return pA(e,void 0,n,s,t)}function $E({to:e,replace:t,state:n,relative:s}){fe(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(Pn);ti(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(ns),{pathname:c}=Ur(),d=md(),m=Dy(e,Iy(l),c,s==="path"),g=JSON.stringify(m);return V.useEffect(()=>{d(JSON.parse(g),{replace:t,state:n,relative:s})},[d,g,s,t,n]),null}function Lo(e){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pD({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){fe(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=ul(n));let{pathname:g="/",search:y="",hash:_="",state:b=null,key:x="default"}=n,O=V.useMemo(()=>{let B=Is(g,d);return B==null?null:{location:{pathname:B,search:y,hash:_,state:b,key:x},navigationType:s}},[d,g,y,_,b,x,s]);return ti(O!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:V.createElement(Pn.Provider,{value:m},V.createElement(dc.Provider,{children:t,value:O}))}function gD({children:e,location:t}){return nD(Ng(e),t)}function Ng(e,t=[]){let n=[];return V.Children.forEach(e,(s,a)=>{if(!V.isValidElement(s))return;let l=[...t,a];if(s.type===V.Fragment){n.push.apply(n,Ng(s.props.children,l));return}fe(s.type===Lo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ng(s.props.children,l)),n.push(c)}),n}var _f="get",Tf="application/x-www-form-urlencoded";function pd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function yD(e){return pd(e)&&e.tagName.toLowerCase()==="button"}function vD(e){return pd(e)&&e.tagName.toLowerCase()==="form"}function _D(e){return pd(e)&&e.tagName.toLowerCase()==="input"}function TD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ED(e,t){return e.button===0&&(!t||t==="_self")&&!TD(e)}var of=null;function bD(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var wD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(e){return e!=null&&!wD.has(e)?(ti(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):e}function SD(e,t){let n,s,a,l,c;if(vD(e)){let d=e.getAttribute("action");s=d?Is(d,t):null,n=e.getAttribute("method")||_f,a=Wp(e.getAttribute("enctype"))||Tf,l=new FormData(e)}else if(yD(e)||_D(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?Is(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||_f,a=Wp(e.getAttribute("formenctype"))||Wp(d.getAttribute("enctype"))||Tf,l=new FormData(d,e),!bD()){let{name:g,type:y,value:_}=e;if(y==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,_)}}else{if(pd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,s=null,a=Tf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AD(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Is(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function RD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CD(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await RD(l,n);return c.links?c.links():[]}return[]}));return MD(s.flat(1).filter(xD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function XE(e,t,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?t.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function ID(e,t,{includeHydrateFallback:n}={}){return DD(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function DD(e){return[...new Set(e)]}function ND(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function MD(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(ND(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function vA(){let e=V.useContext(cl);return Vy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function OD(){let e=V.useContext(dd);return Vy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Py=V.createContext(void 0);Py.displayName="FrameworkContext";function _A(){let e=V.useContext(Py);return Vy(e,"You must render this element inside a <HydratedRouter> element"),e}function VD(e,t){let n=V.useContext(Py),[s,a]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,b=V.useRef(null);V.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let B=F=>{F.forEach(Y=>{c(Y.isIntersecting)})},k=new IntersectionObserver(B,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[e]),V.useEffect(()=>{if(s){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[s]);let x=()=>{a(!0)},O=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:xu(d,x),onBlur:xu(m,O),onMouseEnter:xu(g,x),onMouseLeave:xu(y,O),onTouchStart:xu(_,x)}]:[!1,b,{}]}function xu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function PD({page:e,...t}){let{router:n}=vA(),s=V.useMemo(()=>sA(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(LD,{page:e,matches:s,...t}):null}function kD(e){let{manifest:t,routeModules:n}=_A(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return CD(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function LD({page:e,matches:t,...n}){let s=Ur(),{manifest:a,routeModules:l}=_A(),{basename:c}=vA(),{loaderData:d,matches:m}=OD(),g=V.useMemo(()=>XE(e,t,m,a,s,"data"),[e,t,m,a,s]),y=V.useMemo(()=>XE(e,t,m,a,s,"assets"),[e,t,m,a,s]),_=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let O=new Set,B=!1;if(t.forEach(F=>{let Y=a.routes[F.route.id];!Y||!Y.hasLoader||(!g.some(K=>K.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||Y.hasClientLoader?B=!0:O.add(F.route.id))}),O.size===0)return[];let k=AD(e,c,"data");return B&&O.size>0&&k.searchParams.set("_routes",t.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[c,d,s,a,g,t,e,l]),b=V.useMemo(()=>ID(y,a),[y,a]),x=kD(y);return V.createElement(V.Fragment,null,_.map(O=>V.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),b.map(O=>V.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),x.map(({key:O,link:B})=>V.createElement("link",{key:O,nonce:n.nonce,...B})))}function UD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var jD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jD&&(window.__reactRouterVersion="7.11.0")}catch{}function BD({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=V.useRef();a.current==null&&(a.current=TI({window:s,v5Compat:!0}));let l=a.current,[c,d]=V.useState({action:l.action,location:l.location}),m=V.useCallback(g=>{n===!1?d(g):V.startTransition(()=>d(g))},[n]);return V.useLayoutEffect(()=>l.listen(m),[l,m]),V.createElement(pD,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...x},O){let{basename:B,unstable_useTransitions:k}=V.useContext(Pn),F=typeof g=="string"&&TA.test(g),Y=uA(g,B);g=Y.to;let K=tD(g,{relative:a}),[at,rt,ot]=VD(s,x),I=HD(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:k});function A(P){t&&t(P),P.defaultPrevented||I(P)}let D=V.createElement("a",{...x,...ot,href:Y.absoluteURL||K,onClick:Y.isExternal||l?t:A,ref:UD(O,rt),target:m,"data-discover":!F&&n==="render"?"true":void 0});return at&&!F?V.createElement(V.Fragment,null,D,V.createElement(PD,{page:K})):D});Sa.displayName="Link";var zD=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let _=mc(c,{relative:g.relative}),b=Ur(),x=V.useContext(dd),{navigator:O,basename:B}=V.useContext(Pn),k=x!=null&&$D(_)&&d===!0,F=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,Y=b.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),K=K?K.toLowerCase():null,F=F.toLowerCase()),K&&B&&(K=Is(K,B)||K);const at=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let rt=Y===F||!a&&Y.startsWith(F)&&Y.charAt(at)==="/",ot=K!=null&&(K===F||!a&&K.startsWith(F)&&K.charAt(F.length)==="/"),I={isActive:rt,isPending:ot,isTransitioning:k},A=rt?t:void 0,D;typeof s=="function"?D=s(I):D=[s,rt?"active":null,ot?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(I):l;return V.createElement(Sa,{...g,"aria-current":A,className:D,ref:y,style:P,to:c,viewTransition:d},typeof m=="function"?m(I):m)});zD.displayName="NavLink";var FD=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=_f,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b,...x},O)=>{let{unstable_useTransitions:B}=V.useContext(Pn),k=KD(),F=QD(d,{relative:g}),Y=c.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&TA.test(d),at=rt=>{if(m&&m(rt),rt.defaultPrevented)return;rt.preventDefault();let ot=rt.nativeEvent.submitter,I=ot?.getAttribute("formmethod")||c,A=()=>k(ot||rt.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:b});B&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:O,method:Y,action:F,onSubmit:s?m:at,...x,"data-discover":!K&&e==="render"?"true":void 0})});FD.displayName="Form";function qD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(e){let t=V.useContext(cl);return fe(t,qD(e)),t}function HD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=md(),y=Ur(),_=mc(e,{relative:l});return V.useCallback(b=>{if(ED(b,t)){b.preventDefault();let x=n!==void 0?n:Xu(y)===Xu(_),O=()=>g(e,{replace:x,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?V.startTransition(()=>O()):O()}},[y,g,_,n,s,t,e,a,l,c,d,m])}var GD=0,YD=()=>`__${String(++GD)}__`;function KD(){let{router:e}=EA("useSubmit"),{basename:t}=V.useContext(Pn),n=hD(),s=e.fetch,a=e.navigate;return V.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:y,body:_}=SD(l,t);if(c.navigate===!1){let b=c.fetcherKey||YD();await s(b,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function QD(e,{relative:t}={}){let{basename:n}=V.useContext(Pn),s=V.useContext(ns);fe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...mc(e||".",{relative:t})},c=Ur();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:xs([n,l.pathname])),Xu(l)}function $D(e,{relative:t}={}){let n=V.useContext(hA);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=EA("useViewTransitionState"),a=mc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Is(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Is(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pf(a.pathname,c)!=null||Pf(a.pathname,l)!=null}const XD=()=>{};var WE={};const bA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},WD=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},wA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,x=g&63;m||(x=64,c||(b=64)),s.push(n[y],n[_],n[b],n[x])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new JD;const b=l<<2|d>>4;if(s.push(b),g!==64){const x=d<<4&240|g>>2;if(s.push(x),_!==64){const O=g<<6&192|_;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class JD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZD=function(e){const t=bA(e);return wA.encodeByteArray(t,!0)},kf=function(e){return ZD(e).replace(/\./g,"")},SA=function(e){try{return wA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eN=()=>tN().__FIREBASE_DEFAULTS__,nN=()=>{if(typeof process>"u"||typeof WE>"u")return;const e=WE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},iN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&SA(e[1]);return t&&JSON.parse(t)},gd=()=>{try{return XD()||eN()||nN()||iN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},AA=e=>gd()?.emulatorHosts?.[e],RA=e=>{const t=AA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},xA=()=>gd()?.config,CA=e=>gd()?.[`_${e}`];class sN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function ja(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ky(e){return(await fetch(e,{credentials:"include"})).ok}function IA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[kf(JSON.stringify(n)),kf(JSON.stringify(c)),""].join(".")}const Uu={};function rN(){const e={prod:[],emulator:[]};for(const t of Object.keys(Uu))Uu[t]?e.emulator.push(t):e.prod.push(t);return e}function aN(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let JE=!1;function Ly(e,t){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||Uu[e]===t||Uu[e]||JE)return;Uu[e]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=rN().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{JE=!0,c()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=aN(s),x=n("text"),O=document.getElementById(x)||document.createElement("span"),B=n("learnmore"),k=document.getElementById(B)||document.createElement("a"),F=n("preprendIcon"),Y=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;d(K),y(k,B);const at=g();m(Y,F),K.append(Y,O,k,at),document.body.appendChild(K)}l?(O.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function lN(){const e=gd()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function hN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fN(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function dN(){return!lN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mN(){try{return typeof indexedDB=="object"}catch{return!1}}function pN(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const gN="FirebaseError";class is extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=gN,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?yN(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new is(a,d,s)}}function yN(e,t){return e.replace(vN,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const vN=/\{\$([^}]+)}/g;function _N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ma(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(ZE(l)&&ZE(c)){if(!Ma(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function ZE(e){return e!==null&&typeof e=="object"}function gc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Nu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Mu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function TN(e,t){const n=new EN(e,t);return n.subscribe.bind(n)}class EN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bN(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Jp),a.error===void 0&&(a.error=Jp),a.complete===void 0&&(a.complete=Jp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bN(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Jp(){}function qe(e){return e&&e._delegate?e._delegate:e}class Cr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ea="[DEFAULT]";class wN{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new sN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AN(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SN(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SN(e){return e===Ea?void 0:e}function AN(e){return e.instantiationMode==="EAGER"}class RN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ut||(Ut={}));const xN={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},CN=Ut.INFO,IN={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},DN=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=IN[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uy{constructor(t){this.name=t,this._logLevel=CN,this._logHandler=DN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const NN=(e,t)=>t.some(n=>e instanceof n);let tb,eb;function MN(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ON(){return eb||(eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DA=new WeakMap,Mg=new WeakMap,NA=new WeakMap,Zp=new WeakMap,jy=new WeakMap;function VN(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(wr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&DA.set(n,e)}).catch(()=>{}),jy.set(t,e),t}function PN(e){if(Mg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Mg.set(e,t)}let Og={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Mg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||NA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kN(e){Og=e(Og)}function LN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(tg(this),t,...n);return NA.set(s,t.sort?t.sort():[t]),wr(s)}:ON().includes(e)?function(...t){return e.apply(tg(this),t),wr(DA.get(this))}:function(...t){return wr(e.apply(tg(this),t))}}function UN(e){return typeof e=="function"?LN(e):(e instanceof IDBTransaction&&PN(e),NN(e,MN())?new Proxy(e,Og):e)}function wr(e){if(e instanceof IDBRequest)return VN(e);if(Zp.has(e))return Zp.get(e);const t=UN(e);return t!==e&&(Zp.set(e,t),jy.set(t,e)),t}const tg=e=>jy.get(e);function jN(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=wr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(wr(c.result),m.oldVersion,m.newVersion,wr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const BN=["get","getKey","getAll","getAllKeys","count"],zN=["put","add","delete","clear"],eg=new Map;function nb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(eg.get(t))return eg.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=zN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||BN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return eg.set(t,l),l}kN(e=>({...e,get:(t,n,s)=>nb(t,n)||e.get(t,n,s),has:(t,n)=>!!nb(t,n)||e.has(t,n)}));class FN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qN(e){return e.getComponent()?.type==="VERSION"}const Vg="@firebase/app",ib="0.14.6";const Ds=new Uy("@firebase/app"),HN="@firebase/app-compat",GN="@firebase/analytics-compat",YN="@firebase/analytics",KN="@firebase/app-check-compat",QN="@firebase/app-check",$N="@firebase/auth",XN="@firebase/auth-compat",WN="@firebase/database",JN="@firebase/data-connect",ZN="@firebase/database-compat",tM="@firebase/functions",eM="@firebase/functions-compat",nM="@firebase/installations",iM="@firebase/installations-compat",sM="@firebase/messaging",rM="@firebase/messaging-compat",aM="@firebase/performance",oM="@firebase/performance-compat",lM="@firebase/remote-config",uM="@firebase/remote-config-compat",cM="@firebase/storage",hM="@firebase/storage-compat",fM="@firebase/firestore",dM="@firebase/ai",mM="@firebase/firestore-compat",pM="firebase",gM="12.6.0";const Pg="[DEFAULT]",yM={[Vg]:"fire-core",[HN]:"fire-core-compat",[YN]:"fire-analytics",[GN]:"fire-analytics-compat",[QN]:"fire-app-check",[KN]:"fire-app-check-compat",[$N]:"fire-auth",[XN]:"fire-auth-compat",[WN]:"fire-rtdb",[JN]:"fire-data-connect",[ZN]:"fire-rtdb-compat",[tM]:"fire-fn",[eM]:"fire-fn-compat",[nM]:"fire-iid",[iM]:"fire-iid-compat",[sM]:"fire-fcm",[rM]:"fire-fcm-compat",[aM]:"fire-perf",[oM]:"fire-perf-compat",[lM]:"fire-rc",[uM]:"fire-rc-compat",[cM]:"fire-gcs",[hM]:"fire-gcs-compat",[fM]:"fire-fst",[mM]:"fire-fst-compat",[dM]:"fire-vertex","fire-js":"fire-js",[pM]:"fire-js-all"};const Lf=new Map,vM=new Map,kg=new Map;function sb(e,t){try{e.container.addComponent(t)}catch(n){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Oa(e){const t=e.name;if(kg.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;kg.set(t,e);for(const n of Lf.values())sb(n,e);for(const n of vM.values())sb(n,e);return!0}function yd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xn(e){return e==null?!1:e.settings!==void 0}const _M={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new pc("app","Firebase",_M);class TM{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const Ba=gM;function MA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Pg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Sr.create("bad-app-name",{appName:String(a)});if(n||(n=xA()),!n)throw Sr.create("no-options");const l=Lf.get(a);if(l){if(Ma(n,l.options)&&Ma(s,l.config))return l;throw Sr.create("duplicate-app",{appName:a})}const c=new RN(a);for(const m of kg.values())c.addComponent(m);const d=new TM(n,s,c);return Lf.set(a,d),d}function By(e=Pg){const t=Lf.get(e);if(!t&&e===Pg&&xA())return MA();if(!t)throw Sr.create("no-app",{appName:e});return t}function Hi(e,t,n){let s=yM[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(c.join(" "));return}Oa(new Cr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const EM="firebase-heartbeat-database",bM=1,Wu="firebase-heartbeat-store";let ng=null;function OA(){return ng||(ng=jN(EM,bM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Sr.create("idb-open",{originalErrorMessage:e.message})})),ng}async function wM(e){try{const n=(await OA()).transaction(Wu),s=await n.objectStore(Wu).get(VA(e));return await n.done,s}catch(t){if(t instanceof is)Ds.warn(t.message);else{const n=Sr.create("idb-get",{originalErrorMessage:t?.message});Ds.warn(n.message)}}}async function rb(e,t){try{const s=(await OA()).transaction(Wu,"readwrite");await s.objectStore(Wu).put(t,VA(e)),await s.done}catch(n){if(n instanceof is)Ds.warn(n.message);else{const s=Sr.create("idb-set",{originalErrorMessage:n?.message});Ds.warn(s.message)}}}function VA(e){return`${e.name}!${e.options.appId}`}const SM=1024,AM=30;class RM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ab();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>AM){const a=IM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ab(),{heartbeatsToSend:n,unsentEntries:s}=xM(this._heartbeatsCache.heartbeats),a=kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ds.warn(t),""}}}function ab(){return new Date().toISOString().substring(0,10)}function xM(e,t=SM){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ob(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ob(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class CM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mN()?pN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return rb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return rb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function ob(e){return kf(JSON.stringify({version:2,heartbeats:e})).length}function IM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function DM(e){Oa(new Cr("platform-logger",t=>new FN(t),"PRIVATE")),Oa(new Cr("heartbeat",t=>new RM(t),"PRIVATE")),Hi(Vg,ib,e),Hi(Vg,ib,"esm2020"),Hi("fire-js","")}DM("");var NM="firebase",MM="12.7.0";Hi(NM,MM,"app");function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OM=PA,kA=new pc("auth","Firebase",PA());const Uf=new Uy("@firebase/auth");function VM(e,...t){Uf.logLevel<=Ut.WARN&&Uf.warn(`Auth (${Ba}): ${e}`,...t)}function Ef(e,...t){Uf.logLevel<=Ut.ERROR&&Uf.error(`Auth (${Ba}): ${e}`,...t)}function _i(e,...t){throw zy(e,...t)}function Gi(e,...t){return zy(e,...t)}function LA(e,t,n){const s={...OM(),[t]:n};return new pc("auth","Firebase",s).create(t,{appName:e.name})}function Ar(e){return LA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return kA.create(e,...t)}function _t(e,t,...n){if(!e)throw zy(t,...n)}function As(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ef(t),new Error(t)}function Ns(e,t){e||As(t)}function Lg(){return typeof self<"u"&&self.location?.href||""}function PM(){return lb()==="http:"||lb()==="https:"}function lb(){return typeof self<"u"&&self.location?.protocol||null}function kM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PM()||cN()||"connection"in navigator)?navigator.onLine:!0}function LM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class yc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ns(n>t,"Short delay should be less than long delay!"),this.isMobile=oN()||hN()}get(){return kM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fy(e,t){Ns(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class UA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BM=new yc(3e4,6e4);function za(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function jr(e,t,n,s,a={}){return jA(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=gc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return uN()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&ja(e.emulatorConfig.host)&&(g.credentials="include"),UA.fetch()(await BA(e,e.config.apiHost,n,d),g)})}async function jA(e,t,n){e._canInitEmulator=!1;const s={...UM,...t};try{const a=new FM(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw lf(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw lf(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw lf(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw LA(e,y,g);_i(e,y)}}catch(a){if(a instanceof is)throw a;_i(e,"network-request-failed",{message:String(a)})}}async function vd(e,t,n,s,a={}){const l=await jr(e,t,n,s,a);return"mfaPendingCredential"in l&&_i(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function BA(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Fy(e.config,a):`${e.config.apiScheme}://${a}`;return jM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function zM(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gi(this.auth,"network-request-failed")),BM.get())})}}function lf(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Gi(e,t,s);return a.customData._tokenResponse=n,a}function ub(e){return e!==void 0&&e.enterprise!==void 0}class qM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return zM(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HM(e,t){return jr(e,"GET","/v2/recaptchaConfig",za(e,t))}async function GM(e,t){return jr(e,"POST","/v1/accounts:delete",t)}async function jf(e,t){return jr(e,"POST","/v1/accounts:lookup",t)}function ju(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YM(e,t=!1){const n=qe(e),s=await n.getIdToken(t),a=qy(s);_t(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:ju(ig(a.auth_time)),issuedAtTime:ju(ig(a.iat)),expirationTime:ju(ig(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ig(e){return Number(e)*1e3}function qy(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const a=SA(n);return a?JSON.parse(a):(Ef("Failed to decode base64 JWT payload"),null)}catch(a){return Ef("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cb(e){const t=qy(e);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ju(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof is&&KM(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function KM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class QM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ug{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bf(e){const t=e.auth,n=await e.getIdToken(),s=await Ju(e,jf(t,{idToken:n}));_t(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?zA(a.providerUserInfo):[],c=XM(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ug(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function $M(e){const t=qe(e);await Bf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XM(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function zA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WM(e,t){const n=await jA(e,{},async()=>{const s=gc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await BA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&ja(e.emulatorConfig.host)&&(m.credentials="include"),UA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JM(e,t){return jr(e,"POST","/v2/accounts:revokeToken",za(e,t))}class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=cb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await WM(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Qo;return s&&(_t(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(_t(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(_t(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return As("not implemented")}}function pr(e,t){_t(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new QM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ug(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Ju(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return YM(this,t)}reload(){return $M(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Ar(this.auth));const t=await this.getIdToken();return await Ju(this,GM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:x,providerData:O,stsTokenManager:B}=n;_t(_&&B,t,"internal-error");const k=Qo.fromJSON(this.name,B);_t(typeof _=="string",t,"internal-error"),pr(s,t.name),pr(a,t.name),_t(typeof b=="boolean",t,"internal-error"),_t(typeof x=="boolean",t,"internal-error"),pr(l,t.name),pr(c,t.name),pr(d,t.name),pr(m,t.name),pr(g,t.name),pr(y,t.name);const F=new gi({uid:_,auth:t,email:a,emailVerified:b,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return O&&Array.isArray(O)&&(F.providerData=O.map(Y=>({...Y}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,s=!1){const a=new Qo;a.updateFromServerResponse(n);const l=new gi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Bf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];_t(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Qo;d.updateFromIdToken(s);const m=new gi({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const hb=new Map;function Rs(e){Ns(e instanceof Function,"Expected a class definition");let t=hb.get(e);return t?(Ns(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hb.set(e,t),t)}class FA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}FA.type="NONE";const fb=FA;function bf(e,t,n){return`firebase:${e}:${t}:${n}`}class $o{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await jf(this.auth,{idToken:t}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new $o(Rs(fb),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Rs(fb);const c=bf(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const b=await jf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await gi._fromGetAccountInfoResponse(t,b,y)}else _=gi._fromJSON(t,y);g!==l&&(d=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new $o(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new $o(l,t,s))}}function db(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QA(t))return"Blackberry";if($A(t))return"Webos";if(HA(t))return"Safari";if((t.includes("chrome/")||GA(t))&&!t.includes("edge/"))return"Chrome";if(KA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function qA(e=cn()){return/firefox\//i.test(e)}function HA(e=cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GA(e=cn()){return/crios\//i.test(e)}function YA(e=cn()){return/iemobile/i.test(e)}function KA(e=cn()){return/android/i.test(e)}function QA(e=cn()){return/blackberry/i.test(e)}function $A(e=cn()){return/webos/i.test(e)}function Hy(e=cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ZM(e=cn()){return Hy(e)&&!!window.navigator?.standalone}function tO(){return fN()&&document.documentMode===10}function XA(e=cn()){return Hy(e)||KA(e)||$A(e)||QA(e)||/windows phone/i.test(e)||YA(e)}function WA(e,t=[]){let n;switch(e){case"Browser":n=db(cn());break;case"Worker":n=`${db(cn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${s}`}class eO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nO(e,t={}){return jr(e,"GET","/v2/passwordPolicy",za(e,t))}const iO=6;class sO{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class rO{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mb(this),this.idTokenSubscription=new mb(this),this.beforeStateQueue=new eO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $o.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await jf(this,{idToken:t}),s=await gi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=LM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Ar(this));const n=t?qe(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nO(this),n=new sO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Rs(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&VM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fl(e){return qe(e)}class mb{constructor(t){this.auth=t,this.observer=null,this.addObserver=TN(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aO(e){_d=e}function JA(e){return _d.loadJS(e)}function oO(){return _d.recaptchaEnterpriseScript}function lO(){return _d.gapiScript}function uO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class cO{constructor(){this.enterprise=new hO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class hO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const fO="recaptcha-enterprise",ZA="NO_RECAPTCHA";class dO{constructor(t){this.type=fO,this.auth=fl(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{HM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new qM(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;ub(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(ZA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&ub(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=oO();m.length!==0&&(m+=d),JA(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function pb(e,t,n,s=!1,a=!1){const l=new dO(e);let c;if(a)c=ZA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function gb(e,t,n,s,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pb(e,t,n,n==="getOobCode");return s(e,l)}else return s(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await pb(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(l)})}function mO(e,t){const n=yd(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ma(l,t??{}))return a;_i(a,"already-initialized")}return n.initialize({options:t})}function pO(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Rs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function gO(e,t,n){const s=fl(e);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=t1(t),{host:c,port:d}=yO(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Ma(g,s.config.emulator)&&Ma(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ja(c)?(ky(`${l}//${c}${m}`),Ly("Auth",!0)):vO()}function t1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yO(e){const t=t1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:yb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:yb(c)}}}function yb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function vO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class Gy{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(t){return As("not implemented")}_linkToIdToken(t,n){return As("not implemented")}_getReauthenticationResolver(t){return As("not implemented")}}async function _O(e,t){return jr(e,"POST","/v1/accounts:signUp",t)}async function TO(e,t){return vd(e,"POST","/v1/accounts:signInWithPassword",za(e,t))}async function EO(e,t){return vd(e,"POST","/v1/accounts:signInWithEmailLink",za(e,t))}async function bO(e,t){return vd(e,"POST","/v1/accounts:signInWithEmailLink",za(e,t))}class Zu extends Gy{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Zu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Zu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(t,n,"signInWithPassword",TO);case"emailLink":return EO(t,{email:this._email,oobCode:this._password});default:_i(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(t,s,"signUpPassword",_O);case"emailLink":return bO(t,{idToken:n,email:this._email,oobCode:this._password});default:_i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Xo(e,t){return vd(e,"POST","/v1/accounts:signInWithIdp",za(e,t))}const wO="http://localhost";class Va extends Gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Va(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Xo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Xo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Xo(t,n)}buildRequest(){const t={requestUri:wO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=gc(n)}return t}}function SO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AO(e){const t=Nu(Mu(e)).link,n=t?Nu(Mu(t)).deep_link_id:null,s=Nu(Mu(e)).deep_link_id;return(s?Nu(Mu(s)).link:null)||s||n||t||e}class Yy{constructor(t){const n=Nu(Mu(t)),s=n.apiKey??null,a=n.oobCode??null,l=SO(n.mode??null);_t(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=AO(t);try{return new Yy(n)}catch{return null}}}class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(t,n){return Zu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Yy.parseLink(n);return _t(s,"argument-error"),Zu._fromEmailAndCode(t,s.code,s.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class e1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class vc extends e1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class vr extends vc{constructor(){super("facebook.com")}static credential(t){return Va._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";class _r extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Va._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return _r.credential(n,s)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";class Tr extends vc{constructor(){super("github.com")}static credential(t){return Va._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";class Er extends vc{constructor(){super("twitter.com")}static credential(t,n){return Va._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Er.credential(n,s)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";class tl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await gi._fromIdTokenResponse(t,s,a),c=vb(s);return new tl({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=vb(s);return new tl({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function vb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class zf extends is{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new zf(t,n,s,a)}}function n1(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(e,l,t,s):l})}async function RO(e,t,n=!1){const s=await Ju(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tl._forOperation(e,"link",s)}async function xO(e,t,n=!1){const{auth:s}=e;if(Xn(s.app))return Promise.reject(Ar(s));const a="reauthenticate";try{const l=await Ju(e,n1(s,a,t,e),n);_t(l.idToken,s,"internal-error");const c=qy(l.idToken);_t(c,s,"internal-error");const{sub:d}=c;return _t(e.uid===d,s,"user-mismatch"),tl._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&_i(s,"user-mismatch"),l}}async function i1(e,t,n=!1){if(Xn(e.app))return Promise.reject(Ar(e));const s="signIn",a=await n1(e,s,t),l=await tl._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function CO(e,t){return i1(fl(e),t)}async function IO(e){const t=fl(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function DO(e,t,n){return Xn(e.app)?Promise.reject(Ar(e)):CO(qe(e),dl.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&IO(e),s})}function NO(e,t,n,s){return qe(e).onIdTokenChanged(t,n,s)}function MO(e,t,n){return qe(e).beforeAuthStateChanged(t,n)}function OO(e,t,n,s){return qe(e).onAuthStateChanged(t,n,s)}const Ff="__sak";class s1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const VO=1e3,PO=10;class r1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);tO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,PO):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}r1.type="LOCAL";const kO=r1;class a1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}a1.type="SESSION";const o1=a1;function LO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Td{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new Td(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await LO(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];function Ky(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class UO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Ky("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Yi(){return window}function jO(e){Yi().location.href=e}function l1(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function BO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zO(){return navigator?.serviceWorker?.controller||null}function FO(){return l1()?self:null}const u1="firebaseLocalStorageDb",qO=1,qf="firebaseLocalStorage",c1="fbase_key";class _c{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ed(e,t){return e.transaction([qf],t?"readwrite":"readonly").objectStore(qf)}function HO(){const e=indexedDB.deleteDatabase(u1);return new _c(e).toPromise()}function jg(){const e=indexedDB.open(u1,qO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(qf,{keyPath:c1})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(qf)?t(s):(s.close(),await HO(),t(await jg()))})})}async function _b(e,t,n){const s=Ed(e,!0).put({[c1]:t,value:n});return new _c(s).toPromise()}async function GO(e,t){const n=Ed(e,!1).get(t),s=await new _c(n).toPromise();return s===void 0?null:s.value}function Tb(e,t){const n=Ed(e,!0).delete(t);return new _c(n).toPromise()}const YO=800,KO=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>KO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(FO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BO(),!this.activeServiceWorker)return;this.sender=new UO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jg();return await _b(t,Ff,"1"),await Tb(t,Ff),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_b(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>GO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Ed(a,!1).getAll();return new _c(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const QO=h1;new yc(3e4,6e4);function $O(e,t){return t?Rs(t):(_t(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Qy extends Gy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Xo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function XO(e){return i1(e.auth,new Qy(e),e.bypassAuthState)}function WO(e){const{auth:t,user:n}=e;return _t(n,t,"internal-error"),xO(n,new Qy(e),e.bypassAuthState)}async function JO(e){const{auth:t,user:n}=e;return _t(n,t,"internal-error"),RO(n,new Qy(e),e.bypassAuthState)}class f1{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XO;case"linkViaPopup":case"linkViaRedirect":return JO;case"reauthViaPopup":case"reauthViaRedirect":return WO;default:_i(this.auth,"internal-error")}}resolve(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZO=new yc(2e3,1e4);class Fo extends f1{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const t=Ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZO.get())};t()}}Fo.currentPopupAction=null;const tV="pendingRedirect",wf=new Map;class eV extends f1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=wf.get(this.auth._key());if(!t){try{const s=await nV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}wf.set(this.auth._key(),t)}return this.bypassAuthState||wf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nV(e,t){const n=rV(t),s=sV(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function iV(e,t){wf.set(e._key(),t)}function sV(e){return Rs(e._redirectPersistence)}function rV(e){return bf(tV,e.config.apiKey,e.name)}async function aV(e,t,n=!1){if(Xn(e.app))return Promise.reject(Ar(e));const s=fl(e),a=$O(s,t),c=await new eV(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const oV=600*1e3;class lV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!d1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eb(t))}saveEventToCache(t){this.cachedEventUids.add(Eb(t)),this.lastProcessedEventTime=Date.now()}}function Eb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function d1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function uV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d1(e);default:return!1}}async function cV(e,t={}){return jr(e,"GET","/v1/projects",t)}const hV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fV=/^https?/;async function dV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await cV(e);for(const n of t)try{if(mV(n))return}catch{}_i(e,"unauthorized-domain")}function mV(e){const t=Lg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!fV.test(n))return!1;if(hV.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const pV=new yc(3e4,6e4);function bb(){const e=Yi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function gV(e){return new Promise((t,n)=>{function s(){bb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bb(),n(Gi(e,"network-request-failed"))},timeout:pV.get()})}if(Yi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const a=uO("iframefcb");return Yi()[a]=()=>{gapi.load?s():n(Gi(e,"network-request-failed"))},JA(`${lO()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Sf=null,t})}let Sf=null;function yV(e){return Sf=Sf||gV(e),Sf}const vV=new yc(5e3,15e3),_V="__/auth/iframe",TV="emulator/auth/iframe",EV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wV(e){const t=e.config;_t(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Fy(t,TV):`https://${e.config.authDomain}/${_V}`,s={apiKey:t.apiKey,appName:e.name,v:Ba},a=bV.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${gc(s).slice(1)}`}async function SV(e){const t=await yV(e),n=Yi().gapi;return _t(n,e,"internal-error"),t.open({where:document.body,url:wV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EV,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Gi(e,"network-request-failed"),d=Yi().setTimeout(()=>{l(c)},vV.get());function m(){Yi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const AV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RV=500,xV=600,CV="_blank",IV="http://localhost";class wb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DV(e,t,n,s=RV,a=xV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...AV,width:s.toString(),height:a.toString(),top:l,left:c},g=cn().toLowerCase();n&&(d=GA(g)?CV:n),qA(g)&&(t=t||IV,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[x,O])=>`${b}${x}=${O},`,"");if(ZM(g)&&d!=="_self")return NV(t||"",d),new wb(null);const _=window.open(t||"",d,y);_t(_,e,"popup-blocked");try{_.focus()}catch{}return new wb(_)}function NV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const MV="__/auth/handler",OV="emulator/auth/handler",VV=encodeURIComponent("fac");async function Sb(e,t,n,s,a,l){_t(e.config.authDomain,e,"auth-domain-config-required"),_t(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ba,eventId:a};if(t instanceof e1){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",_N(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof vc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),g=m?`#${VV}=${encodeURIComponent(m)}`:"";return`${PV(e)}?${gc(d).slice(1)}${g}`}function PV({config:e}){return e.emulator?Fy(e,OV):`https://${e.authDomain}/${MV}`}const sg="webStorageSupport";class kV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o1,this._completeRedirectFn=aV,this._overrideRedirectResult=iV}async _openPopup(t,n,s,a){Ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Sb(t,n,s,Lg(),a);return DV(t,l,Ky())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await Sb(t,n,s,Lg(),a);return jO(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ns(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await SV(t),s=new lV(t);return n.register("authEvent",a=>(_t(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sg,{type:sg},a=>{const l=a?.[0]?.[sg];l!==void 0&&n(!!l),_i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||HA()||Hy()}}const LV=kV;var Ab="@firebase/auth",Rb="1.12.0";class UV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BV(e){Oa(new Cr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;_t(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(e)},g=new rO(s,a,l,m);return pO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Oa(new Cr("auth-internal",t=>{const n=fl(t.getProvider("auth").getImmediate());return(s=>new UV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(Ab,Rb,jV(e)),Hi(Ab,Rb,"esm2020")}const zV=300,FV=CA("authIdTokenMaxAge")||zV;let xb=null;const qV=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FV)return;const a=n?.token;xb!==a&&(xb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function HV(e=By()){const t=yd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=mO(e,{popupRedirectResolver:LV,persistence:[QO,kO,o1]}),s=CA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=qV(l.toString());MO(n,c,()=>c(n.currentUser)),NO(n,d=>c(d))}}const a=AA("auth");return a&&gO(n,`http://${a}`),n}function GV(){return document.getElementsByTagName("head")?.[0]??document}aO({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=Gi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",GV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BV("Browser");var Cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rr,m1;(function(){var e;function t(I,A){function D(){}D.prototype=A.prototype,I.F=A.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(P,C,U){for(var N=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)N[Ct-2]=arguments[Ct];return A.prototype[C].apply(P,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,D){D||(D=0);const P=Array(16);if(typeof A=="string")for(var C=0;C<16;++C)P[C]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(C=0;C<16;++C)P[C]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=I.g[0],D=I.g[1],C=I.g[2];let U=I.g[3],N;N=A+(U^D&(C^U))+P[0]+3614090360&4294967295,A=D+(N<<7&4294967295|N>>>25),N=U+(C^A&(D^C))+P[1]+3905402710&4294967295,U=A+(N<<12&4294967295|N>>>20),N=C+(D^U&(A^D))+P[2]+606105819&4294967295,C=U+(N<<17&4294967295|N>>>15),N=D+(A^C&(U^A))+P[3]+3250441966&4294967295,D=C+(N<<22&4294967295|N>>>10),N=A+(U^D&(C^U))+P[4]+4118548399&4294967295,A=D+(N<<7&4294967295|N>>>25),N=U+(C^A&(D^C))+P[5]+1200080426&4294967295,U=A+(N<<12&4294967295|N>>>20),N=C+(D^U&(A^D))+P[6]+2821735955&4294967295,C=U+(N<<17&4294967295|N>>>15),N=D+(A^C&(U^A))+P[7]+4249261313&4294967295,D=C+(N<<22&4294967295|N>>>10),N=A+(U^D&(C^U))+P[8]+1770035416&4294967295,A=D+(N<<7&4294967295|N>>>25),N=U+(C^A&(D^C))+P[9]+2336552879&4294967295,U=A+(N<<12&4294967295|N>>>20),N=C+(D^U&(A^D))+P[10]+4294925233&4294967295,C=U+(N<<17&4294967295|N>>>15),N=D+(A^C&(U^A))+P[11]+2304563134&4294967295,D=C+(N<<22&4294967295|N>>>10),N=A+(U^D&(C^U))+P[12]+1804603682&4294967295,A=D+(N<<7&4294967295|N>>>25),N=U+(C^A&(D^C))+P[13]+4254626195&4294967295,U=A+(N<<12&4294967295|N>>>20),N=C+(D^U&(A^D))+P[14]+2792965006&4294967295,C=U+(N<<17&4294967295|N>>>15),N=D+(A^C&(U^A))+P[15]+1236535329&4294967295,D=C+(N<<22&4294967295|N>>>10),N=A+(C^U&(D^C))+P[1]+4129170786&4294967295,A=D+(N<<5&4294967295|N>>>27),N=U+(D^C&(A^D))+P[6]+3225465664&4294967295,U=A+(N<<9&4294967295|N>>>23),N=C+(A^D&(U^A))+P[11]+643717713&4294967295,C=U+(N<<14&4294967295|N>>>18),N=D+(U^A&(C^U))+P[0]+3921069994&4294967295,D=C+(N<<20&4294967295|N>>>12),N=A+(C^U&(D^C))+P[5]+3593408605&4294967295,A=D+(N<<5&4294967295|N>>>27),N=U+(D^C&(A^D))+P[10]+38016083&4294967295,U=A+(N<<9&4294967295|N>>>23),N=C+(A^D&(U^A))+P[15]+3634488961&4294967295,C=U+(N<<14&4294967295|N>>>18),N=D+(U^A&(C^U))+P[4]+3889429448&4294967295,D=C+(N<<20&4294967295|N>>>12),N=A+(C^U&(D^C))+P[9]+568446438&4294967295,A=D+(N<<5&4294967295|N>>>27),N=U+(D^C&(A^D))+P[14]+3275163606&4294967295,U=A+(N<<9&4294967295|N>>>23),N=C+(A^D&(U^A))+P[3]+4107603335&4294967295,C=U+(N<<14&4294967295|N>>>18),N=D+(U^A&(C^U))+P[8]+1163531501&4294967295,D=C+(N<<20&4294967295|N>>>12),N=A+(C^U&(D^C))+P[13]+2850285829&4294967295,A=D+(N<<5&4294967295|N>>>27),N=U+(D^C&(A^D))+P[2]+4243563512&4294967295,U=A+(N<<9&4294967295|N>>>23),N=C+(A^D&(U^A))+P[7]+1735328473&4294967295,C=U+(N<<14&4294967295|N>>>18),N=D+(U^A&(C^U))+P[12]+2368359562&4294967295,D=C+(N<<20&4294967295|N>>>12),N=A+(D^C^U)+P[5]+4294588738&4294967295,A=D+(N<<4&4294967295|N>>>28),N=U+(A^D^C)+P[8]+2272392833&4294967295,U=A+(N<<11&4294967295|N>>>21),N=C+(U^A^D)+P[11]+1839030562&4294967295,C=U+(N<<16&4294967295|N>>>16),N=D+(C^U^A)+P[14]+4259657740&4294967295,D=C+(N<<23&4294967295|N>>>9),N=A+(D^C^U)+P[1]+2763975236&4294967295,A=D+(N<<4&4294967295|N>>>28),N=U+(A^D^C)+P[4]+1272893353&4294967295,U=A+(N<<11&4294967295|N>>>21),N=C+(U^A^D)+P[7]+4139469664&4294967295,C=U+(N<<16&4294967295|N>>>16),N=D+(C^U^A)+P[10]+3200236656&4294967295,D=C+(N<<23&4294967295|N>>>9),N=A+(D^C^U)+P[13]+681279174&4294967295,A=D+(N<<4&4294967295|N>>>28),N=U+(A^D^C)+P[0]+3936430074&4294967295,U=A+(N<<11&4294967295|N>>>21),N=C+(U^A^D)+P[3]+3572445317&4294967295,C=U+(N<<16&4294967295|N>>>16),N=D+(C^U^A)+P[6]+76029189&4294967295,D=C+(N<<23&4294967295|N>>>9),N=A+(D^C^U)+P[9]+3654602809&4294967295,A=D+(N<<4&4294967295|N>>>28),N=U+(A^D^C)+P[12]+3873151461&4294967295,U=A+(N<<11&4294967295|N>>>21),N=C+(U^A^D)+P[15]+530742520&4294967295,C=U+(N<<16&4294967295|N>>>16),N=D+(C^U^A)+P[2]+3299628645&4294967295,D=C+(N<<23&4294967295|N>>>9),N=A+(C^(D|~U))+P[0]+4096336452&4294967295,A=D+(N<<6&4294967295|N>>>26),N=U+(D^(A|~C))+P[7]+1126891415&4294967295,U=A+(N<<10&4294967295|N>>>22),N=C+(A^(U|~D))+P[14]+2878612391&4294967295,C=U+(N<<15&4294967295|N>>>17),N=D+(U^(C|~A))+P[5]+4237533241&4294967295,D=C+(N<<21&4294967295|N>>>11),N=A+(C^(D|~U))+P[12]+1700485571&4294967295,A=D+(N<<6&4294967295|N>>>26),N=U+(D^(A|~C))+P[3]+2399980690&4294967295,U=A+(N<<10&4294967295|N>>>22),N=C+(A^(U|~D))+P[10]+4293915773&4294967295,C=U+(N<<15&4294967295|N>>>17),N=D+(U^(C|~A))+P[1]+2240044497&4294967295,D=C+(N<<21&4294967295|N>>>11),N=A+(C^(D|~U))+P[8]+1873313359&4294967295,A=D+(N<<6&4294967295|N>>>26),N=U+(D^(A|~C))+P[15]+4264355552&4294967295,U=A+(N<<10&4294967295|N>>>22),N=C+(A^(U|~D))+P[6]+2734768916&4294967295,C=U+(N<<15&4294967295|N>>>17),N=D+(U^(C|~A))+P[13]+1309151649&4294967295,D=C+(N<<21&4294967295|N>>>11),N=A+(C^(D|~U))+P[4]+4149444226&4294967295,A=D+(N<<6&4294967295|N>>>26),N=U+(D^(A|~C))+P[11]+3174756917&4294967295,U=A+(N<<10&4294967295|N>>>22),N=C+(A^(U|~D))+P[2]+718787259&4294967295,C=U+(N<<15&4294967295|N>>>17),N=D+(U^(C|~A))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const D=A-this.blockSize,P=this.C;let C=this.h,U=0;for(;U<A;){if(C==0)for(;U<=D;)a(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(P[C++]=I.charCodeAt(U++),C==this.blockSize){a(this,P),C=0;break}}else for(;U<A;)if(P[C++]=I[U++],C==this.blockSize){a(this,P),C=0;break}}this.h=C,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)I[A++]=this.g[D]>>>P&255;return I};function l(I,A){var D=d;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=A(I)}function c(I,A){this.h=A;const D=[];let P=!0;for(let C=I.length-1;C>=0;C--){const U=I[C]|0;P&&U==A||(D[C]=U,P=!1)}this.g=D}var d={};function m(I){return-128<=I&&I<128?l(I,function(A){return new c([A|0],A<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return k(g(-I));const A=[];let D=1;for(let P=0;I>=D;P++)A[P]=I/D|0,D*=4294967296;return new c(A,0)}function y(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return k(y(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(A,8));let P=_;for(let U=0;U<I.length;U+=8){var C=Math.min(8,I.length-U);const N=parseInt(I.substring(U,U+C),A);C<8?(C=g(Math.pow(A,C)),P=P.j(C).add(g(N))):(P=P.j(D),P=P.add(g(N)))}return P}var _=m(0),b=m(1),x=m(16777216);e=c.prototype,e.m=function(){if(B(this))return-k(this).m();let I=0,A=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);I+=(P>=0?P:4294967296+P)*A,A*=4294967296}return I},e.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(O(this))return"0";if(B(this))return"-"+k(this).toString(I);const A=g(Math.pow(I,6));var D=this;let P="";for(;;){const C=at(D,A).g;D=F(D,C.j(A));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=C,O(D))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},e.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function O(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function B(I){return I.h==-1}e.l=function(I){return I=F(this,I),B(I)?-1:O(I)?0:1};function k(I){const A=I.g.length,D=[];for(let P=0;P<A;P++)D[P]=~I.g[P];return new c(D,~I.h).add(b)}e.abs=function(){return B(this)?k(this):this},e.add=function(I){const A=Math.max(this.g.length,I.g.length),D=[];let P=0;for(let C=0;C<=A;C++){let U=P+(this.i(C)&65535)+(I.i(C)&65535),N=(U>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);P=N>>>16,U&=65535,N&=65535,D[C]=N<<16|U}return new c(D,D[D.length-1]&-2147483648?-1:0)};function F(I,A){return I.add(k(A))}e.j=function(I){if(O(this)||O(I))return _;if(B(this))return B(I)?k(this).j(k(I)):k(k(this).j(I));if(B(I))return k(this.j(k(I)));if(this.l(x)<0&&I.l(x)<0)return g(this.m()*I.m());const A=this.g.length+I.g.length,D=[];for(var P=0;P<2*A;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let C=0;C<I.g.length;C++){const U=this.i(P)>>>16,N=this.i(P)&65535,Ct=I.i(C)>>>16,Vt=I.i(C)&65535;D[2*P+2*C]+=N*Vt,Y(D,2*P+2*C),D[2*P+2*C+1]+=U*Vt,Y(D,2*P+2*C+1),D[2*P+2*C+1]+=N*Ct,Y(D,2*P+2*C+1),D[2*P+2*C+2]+=U*Ct,Y(D,2*P+2*C+2)}for(I=0;I<A;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=A;I<2*A;I++)D[I]=0;return new c(D,0)};function Y(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function K(I,A){this.g=I,this.h=A}function at(I,A){if(O(A))throw Error("division by zero");if(O(I))return new K(_,_);if(B(I))return A=at(k(I),A),new K(k(A.g),k(A.h));if(B(A))return A=at(I,k(A)),new K(k(A.g),A.h);if(I.g.length>30){if(B(I)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var D=b,P=A;P.l(I)<=0;)D=rt(D),P=rt(P);var C=ot(D,1),U=ot(P,1);for(P=ot(P,2),D=ot(D,2);!O(P);){var N=U.add(P);N.l(I)<=0&&(C=C.add(D),U=N),P=ot(P,1),D=ot(D,1)}return A=F(I,C.j(A)),new K(C,A)}for(C=_;I.l(A)>=0;){for(D=Math.max(1,Math.floor(I.m()/A.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=g(D),N=U.j(A);B(N)||N.l(I)>0;)D-=P,U=g(D),N=U.j(A);O(U)&&(U=b),C=C.add(U),I=F(I,N)}return new K(C,I)}e.B=function(I){return at(this,I).h},e.and=function(I){const A=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<A;P++)D[P]=this.i(P)&I.i(P);return new c(D,this.h&I.h)},e.or=function(I){const A=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<A;P++)D[P]=this.i(P)|I.i(P);return new c(D,this.h|I.h)},e.xor=function(I){const A=Math.max(this.g.length,I.g.length),D=[];for(let P=0;P<A;P++)D[P]=this.i(P)^I.i(P);return new c(D,this.h^I.h)};function rt(I){const A=I.g.length+1,D=[];for(let P=0;P<A;P++)D[P]=I.i(P)<<1|I.i(P-1)>>>31;return new c(D,I.h)}function ot(I,A){const D=A>>5;A%=32;const P=I.g.length-D,C=[];for(let U=0;U<P;U++)C[U]=A>0?I.i(U+D)>>>A|I.i(U+D+1)<<32-A:I.i(U+D);return new c(C,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,m1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Rr=c}).apply(typeof Cb<"u"?Cb:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var p1,Ou,g1,Af,Bg,y1,v1,_1;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var E=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in E))break t;E=E[q]}h=h[h.length-1],S=E[h],v=v(S),v!=S&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&E.push([S,v[S]]);return E}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=m,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,q,$){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return v.prototype[q].apply(S,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const v=h.length;if(v>0){const E=Array(v);for(let S=0;S<v;S++)E[S]=h[S];return E}return[]}function O(h,v){for(let S=1;S<arguments.length;S++){const q=arguments[S];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const $=q.length||0;h.length=E+$;for(let lt=0;lt<$;lt++)h[E+lt]=q[lt]}else h.push(q)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){c.setTimeout(()=>{throw h},0)}function F(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,E){const S=K.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new B(()=>new at,h=>h.reset());class at{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ot=!1,I=new Y,A=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(D)}};function D(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){k(E)}var v=K;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ot=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Ct(h,v){C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Ct,C),Ct.prototype.init=function(h,v){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Vt="closure_listenable_"+(Math.random()*1e6|0),W=0;function st(h,v,E,S,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=q,this.key=++W,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,v,E){for(const S in h)v.call(E,h[S],S,h)}function Pt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function j(h){const v={};for(const E in h)v[E]=h[E];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,v){let E,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(E in S)h[E]=S[E];for(let $=0;$<nt.length;$++)E=nt[$],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,S,q){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const lt=Dt(h,v,S,q);return lt>-1?(v=h[lt],E||(v.fa=!1)):(v=new st(v,this.src,$,!!S,q),v.fa=E,h.push(v)),v};function bt(h,v){const E=v.type;if(E in h.g){var S=h.g[E],q=Array.prototype.indexOf.call(S,v,void 0),$;($=q>=0)&&Array.prototype.splice.call(S,q,1),$&&(dt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Dt(h,v,E,S){for(let q=0;q<h.length;++q){const $=h[q];if(!$.da&&$.listener==v&&$.capture==!!E&&$.ha==S)return q}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Ue={};function le(h,v,E,S,q){if(Array.isArray(v)){for(let $=0;$<v.length;$++)le(h,v[$],E,S,q);return null}return E=wl(E),h&&h[Vt]?h.J(v,E,d(S)?!!S.capture:!1,q):qr(h,v,E,!1,S,q)}function qr(h,v,E,S,q,$){if(!v)throw Error("Invalid event type");const lt=d(q)?!!q.capture:!!q;let Rt=Hr(h);if(Rt||(h[Ft]=Rt=new ft(h)),E=Rt.add(v,E,S,lt,$),E.proxy)return E;if(S=Ga(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)U||(q=lt),q===void 0&&(q=!1),h.addEventListener(v.toString(),S,q);else if(h.attachEvent)h.attachEvent(Ei(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ga(){function h(E){return v.call(h.src,h.listener,E)}const v=El;return h}function Ya(h,v,E,S,q){if(Array.isArray(v))for(var $=0;$<v.length;$++)Ya(h,v[$],E,S,q);else S=d(S)?!!S.capture:!!S,E=wl(E),h&&h[Vt]?(h=h.i,$=String(v).toString(),$ in h.g&&(v=h.g[$],E=Dt(v,E,S,q),E>-1&&(dt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[$],h.h--)))):h&&(h=Hr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Dt(v,E,S,q)),(E=h>-1?v[h]:null)&&Ka(E))}function Ka(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Vt])bt(v.i,h);else{var E=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(E,S,h.capture):v.detachEvent?v.detachEvent(Ei(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=Hr(v))?(bt(E,h),E.h==0&&(E.src=null,v[Ft]=null)):dt(h)}}}function Ei(h){return h in Ue?Ue[h]:Ue[h]="on"+h}function El(h,v){if(h.da)h=!0;else{v=new Ct(v,this);const E=h.listener,S=h.ha||h.src;h.fa&&Ka(h),h=E.call(S,v)}return h}function Hr(h){return h=h[Ft],h instanceof ft?h:null}var bl="__closure_events_fn_"+(Math.random()*1e9>>>0);function wl(h){return typeof h=="function"?h:(h[bl]||(h[bl]=function(v){return h.handleEvent(v)}),h[bl])}function Ae(){P.call(this),this.i=new ft(this),this.M=this,this.G=null}_(Ae,P),Ae.prototype[Vt]=!0,Ae.prototype.removeEventListener=function(h,v,E,S){Ya(this,h,v,E,S)};function je(h,v){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new C(v,h);else if(v instanceof C)v.target=v.target||h;else{var q=v;v=new C(S,h),ut(v,q)}q=!0;let $,lt;if(E)for(lt=E.length-1;lt>=0;lt--)$=v.g=E[lt],q=ks($,S,!0,v)&&q;if($=v.g=h,q=ks($,S,!0,v)&&q,q=ks($,S,!1,v)&&q,E)for(lt=0;lt<E.length;lt++)$=v.g=E[lt],q=ks($,S,!1,v)&&q}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let S=0;S<E.length;S++)dt(E[S]);delete h.g[v],h.h--}}this.G=null},Ae.prototype.J=function(h,v,E,S){return this.i.add(String(h),v,!1,E,S)},Ae.prototype.K=function(h,v,E,S){return this.i.add(String(h),v,!0,E,S)};function ks(h,v,E,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let $=0;$<v.length;++$){const lt=v[$];if(lt&&!lt.da&&lt.capture==E){const Rt=lt.listener,_e=lt.ha||lt.src;lt.fa&&bt(h.i,lt),q=Rt.call(_e,S)!==!1&&q}}return q&&!S.defaultPrevented}function Gd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Nc(h){h.g=Gd(()=>{h.g=null,h.i&&(h.i=!1,Nc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hn extends P{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Nc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(h){P.call(this),this.h=h,this.g={}}_(Gr,P);var Sl=[];function Al(h){It(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ka(v)},h),h.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),Al(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=c.JSON.stringify,Yd=c.JSON.parse,Mc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Oc(){}function Vc(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){C.call(this,"d")}_(Qe,C);function kn(){C.call(this,"c")}_(kn,C);var ve={},Pc=null;function Qa(){return Pc=Pc||new Ae}ve.Ia="serverreachability";function kc(h){C.call(this,ve.Ia,h)}_(kc,C);function bi(h){const v=Qa();je(v,new kc(v))}ve.STAT_EVENT="statevent";function Yr(h,v){C.call(this,ve.STAT_EVENT,h),this.stat=v}_(Yr,C);function Re(h){const v=Qa();je(v,new Yr(v,h))}ve.Ja="timingevent";function wi(h,v){C.call(this,ve.Ja,h),this.size=v}_(wi,C);function Si(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Kd(h,v,E,S,q,$){h.info(function(){if(h.g)if($){var lt="",Rt=$.split("&");for(let Yt=0;Yt<Rt.length;Yt++){var _e=Rt[Yt].split("=");if(_e.length>1){const ue=_e[0];_e=_e[1];const Bn=ue.split("_");lt=Bn.length>=2&&Bn[1]=="type"?lt+(ue+"="+_e+"&"):lt+(ue+"=redacted&")}}}else lt=null;else lt=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+E+`
`+lt})}function Lc(h,v,E,S,q,$,lt){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+E+`
`+$+" "+lt})}function Ai(h,v,E,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qd(h,E)+(S?" "+S:"")})}function Kr(h,v){h.info(function(){return"TIMEOUT: "+v})}ii.prototype.info=function(){};function Qd(h,v){if(!h.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let lt=1;lt<S.length;lt++)S[lt]=""}}}}return Ls($)}catch{return v}}var Qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function $r(){}_($r,Oc),$r.prototype.g=function(){return new XMLHttpRequest},xl=new $r;function rs(h){return encodeURIComponent(String(h))}function Uc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function si(h,v,E,S){this.j=h,this.i=v,this.l=E,this.S=S||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var xe={},He={};function Ri(h,v,E){h.M=1,h.A=Xr(Ie(v)),h.u=E,h.R=!0,$a(h,null)}function $a(h,v){h.F=Date.now(),xi(h),h.B=Ie(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Za(E.i,"t",S),h.C=0,E=h.j.L,h.h=new ri,h.g=Zc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new hn(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,S=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Sl[0]=q.toString()),q=Sl);for(let $=0;$<q.length;$++){const lt=le(E,q[$],S||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),bi(),Kd(h.i,h.v,h.B,h.l,h.S,h.u)}si.prototype.ba=function(h){h=h.target;const v=this.O;v&&li(h)==3?v.j():this.Y(h)},si.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=li(this.g),_e=this.g.ya(),Yt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Rt!=4||_e==7||(_e==8||Yt<=0?bi(3):bi(2)),Ci(this);var v=this.g.ca();this.X=v;var E=$d(this);if(this.o=v==200,Lc(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var $=S;break e}}$=null}if(h=$)Ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,Re(12),An(this),Ln(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<E.length;)if(ue=Bc(this,E),ue==He){Rt==4&&(this.m=4,Re(14),h=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==xe){this.m=4,Re(15),Ai(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ai(this.i,this.l,ue,null),Ii(this,ue);if(jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Re(16),h=!1),this.o=this.o&&h,!h)Ai(this.i,this.l,E,"[Invalid Chunked Response]"),An(this),Ln(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Fl(lt),lt.P=!0,Re(11))}}else Ai(this.i,this.l,E,null),Ii(this,E);Rt==4&&An(this),this.o&&!this.K&&(Rt==4?$c(this.j,this):(this.o=!1,xi(this)))}else os(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),An(this),Ln(this)}}}catch{}};function $d(h){if(!jc(h))return h.g.la();const v=$e(h.g);if(v==="")return"";let E="";const S=v.length,q=li(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),Ln(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<S;$++)h.h.h=!0,E+=h.h.i.decode(v[$],{stream:!(q&&$==S-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function jc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Bc(h,v){var E=h.C,S=v.indexOf(`
`,E);return S==-1?He:(E=Number(v.substring(E,S)),isNaN(E)?xe:(S+=1,S+E>v.length?He:(v=v.slice(S,S+E),h.C=S+E,v)))}si.prototype.cancel=function(){this.K=!0,An(this)};function xi(h){h.T=Date.now()+h.H,Xa(h,h.H)}function Xa(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Si(g(h.aa,h),v)}function Ci(h){h.D&&(c.clearTimeout(h.D),h.D=null)}si.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Kr(this.i,this.B),this.M!=2&&(bi(),Re(17)),An(this),this.m=2,Ln(this)):Xa(this,this.T-h)};function Ln(h){h.j.I==0||h.K||$c(h.j,h)}function An(h){Ci(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Al(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ii(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Ni(E.h,h))){if(!h.L&&Ni(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)so(E),Gs(E);else break t;ia(E),Re(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Si(g(E.Va,E),6e3));Di(E.h)<=1&&E.ta&&(E.ta=void 0)}else Li(E,11)}else if((h.L||E.g==h)&&so(E),!N(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Yt=q[v];const ue=Yt[0];if(!(ue<=E.K))if(E.K=ue,Yt=Yt[1],E.I==2)if(Yt[0]=="c"){E.M=Yt[1],E.ba=Yt[2];const Bn=Yt[3];Bn!=null&&(E.ka=Bn,E.j.info("VER="+E.ka));const Ui=Yt[4];Ui!=null&&(E.za=Ui,E.j.info("SVER="+E.za));const ui=Yt[5];ui!=null&&typeof ui=="number"&&ui>0&&(S=1.5*ui,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const ci=h.g;if(ci){const sa=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var $=S.h;$.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Dl($,$.h),$.h=null))}if(S.G){const ro=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(S.wa=ro,$t(S.J,S.G,ro))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var lt=h;if(S.na=Jc(S,S.L?S.ba:null,S.W),lt.L){Nl(S.h,lt);var Rt=lt,_e=S.O;_e&&(Rt.H=_e),Rt.D&&(Ci(Rt),xi(Rt)),S.g=lt}else Kc(S);E.i.length>0&&ki(E)}else Yt[0]!="stop"&&Yt[0]!="close"||Li(E,7);else E.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Li(E,7):Bl(E):Yt[0]!="noop"&&E.l&&E.l.qa(Yt),E.A=0)}}bi(4)}catch{}}var Ce=class{constructor(h,v){this.g=h,this.map=v}};function Cl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Di(h){return h.h?1:h.g?h.g.size:0}function Ni(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Dl(h,v){h.g?h.g.add(v):h.h=v}function Nl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Cl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ml(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return x(h.i)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let q,$=null;S>=0?(q=h[E].substring(0,S),$=h[E].substring(S+1)):q=h[E],v(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Rn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Rn?(this.l=h.l,Ge(this,h.j),this.o=h.o,this.g=h.g,Us(this,h.u),this.h=h.h,Ol(this,Gc(h.i)),this.m=h.m):h&&(v=String(h).match(zc))?(this.l=!1,Ge(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),Us(this,v[4]),this.h=Mi(v[5]||"",!0),Ol(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}Rn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Wr(v,Ja,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Wr(v,Ja,!0),"@"),h.push(rs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Wr(E,E.charAt(0)=="/"?Vl:Fc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Wr(E,qc)),h.join("")},Rn.prototype.resolve=function(h){const v=Ie(this);let E=!!h.j;E?Ge(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var S=h.h;if(E)Us(v,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=v.h.lastIndexOf("/");q!=-1&&(S=v.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let lt=0;lt<q.length;){const Rt=q[lt++];Rt=="."?S&&lt==q.length&&$.push(""):Rt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&lt==q.length&&$.push("")):($.push(Rt),S=!0)}S=$.join("/")}else S=q}return E?v.h=S:E=h.i.toString()!=="",E?Ol(v,Gc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Ie(h){return new Rn(h)}function Ge(h,v,E){h.j=E?Mi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Us(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Ol(h,v,E){v instanceof Bs?(h.i=v,to(h.i,h.l)):(E||(v=Wr(v,js)),h.i=new Bs(v,h.l))}function $t(h,v,E){h.i.set(v,E)}function Xr(h){return $t(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,pn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ja=/[#\/\?@]/g,Fc=/[#\?:]/g,Vl=/[#\?]/g,js=/[#\?@]/g,qc=/#/g;function Bs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&Wa(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Bs.prototype,e.add=function(h,v){gn(this),this.i=null,h=zs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Hc(h,v){gn(h),v=zs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Pl(h,v){return gn(h),v=zs(h,v),h.g.has(v)}e.forEach=function(h,v){gn(this),this.g.forEach(function(E,S){E.forEach(function(q){h.call(v,q,S,this)},this)},this)};function kl(h,v){gn(h);let E=[];if(typeof v=="string")Pl(h,v)&&(E=E.concat(h.g.get(zs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return gn(this),this.i=null,h=zs(this,h),Pl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=kl(this,h),h.length>0?String(h[0]):v):v};function Za(h,v,E){Hc(h,v),E.length>0&&(h.i=null,h.g.set(zs(h,v),x(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var E=v[S];const q=rs(E);E=kl(this,E);for(let $=0;$<E.length;$++){let lt=q;E[$]!==""&&(lt+="="+rs(E[$])),h.push(lt)}}return this.i=h.join("&")};function Gc(h){const v=new Bs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function zs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function to(h,v){v&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(E,S){const q=S.toLowerCase();S!=q&&(Hc(this,S),Za(this,q,E))},h)),h.j=v}function ai(h,v){const E=new ii;if(c.Image){const S=new Image;S.onload=y(Un,E,"TestLoadImage: loaded",!0,v,S),S.onerror=y(Un,E,"TestLoadImage: error",!1,v,S),S.onabort=y(Un,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=y(Un,E,"TestLoadImage: timeout",!1,v,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Ll(h,v){const E=new ii,S=new AbortController,q=setTimeout(()=>{S.abort(),Un(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?Un(E,"TestPingServer: ok",!0,v):Un(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Un(E,"TestPingServer: error",!1,v)})}function Un(h,v,E,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(E)}catch{}}function Fs(){this.g=new Mc}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Oi,Oc),Oi.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(h,v){Ae.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Jr,Ae),e=Jr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,oi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?qs(this):oi(this),this.readyState==3&&eo(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,qs(this))},e.Na=function(h){this.g&&(this.response=h,qs(this))},e.ga=function(){this.g&&qs(this)};function qs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,oi(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let v="";return It(h,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function Zr(h,v,E){t:{for(S in E){var S=!1;break t}S=!0}S||(E=jn(E),typeof h=="string"?E!=null&&rs(E):$t(h,v,E))}function Zt(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Zt,Ae);var Vi=/^https?$/i,Ul=["POST","PUT"];e=Zt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){ta(this,$);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)E.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())E.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ul,v,void 0)>=0)||S||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,lt]of E)this.g.setRequestHeader($,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){ta(this,$)}};function ta(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,jl(h),as(h)}function jl(h){h.A||(h.A=!0,je(h,"complete"),je(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,je(this,"complete"),je(this,"abort"),as(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Zt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ea(this):this.Xa())},e.Xa=function(){ea(this)};function ea(h){if(h.h&&typeof l<"u"){if(h.v&&li(h)==4)setTimeout(h.Ca.bind(h),0);else if(je(h,"readystatechange"),li(h)==4){h.h=!1;try{const $=h.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var S;if(S=$===0){let lt=String(h.D).match(zc)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),S=!Vi.test(lt?lt.toLowerCase():"")}E=S}if(E)je(h,"complete"),je(h,"success");else{h.o=6;try{var q=li(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",jl(h)}}finally{as(h)}}}}function as(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||je(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function li(h){return h.g?h.g.readyState:0}e.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Yd(v)}};function $e(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function os(h){const v={};h=(h.g&&li(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(N(h[S]))continue;var E=Uc(h[S]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=v[q]||[];v[q]=$,$.push(E)}Pt(v,function(S){return S.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Hs(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,h),this.Za=Pi("retryDelaySeedMs",1e4,h),this.Ta=Pi("forwardChannelMaxRetries",2,h),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Hs.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,S){Re(0),this.W=h,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Jc(this,null,this.W),ki(this)};function Bl(h){if(no(h),h.I==3){var v=h.V++,E=Ie(h.J);if($t(E,"SID",h.M),$t(E,"RID",v),$t(E,"TYPE","terminate"),na(h,E),v=new si(h,h.j,v),v.M=2,v.A=Xr(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Zc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),xi(v)}Wc(h)}function Gs(h){h.g&&(Fl(h),h.g.cancel(),h.g=null)}function no(h){Gs(h),h.v&&(c.clearTimeout(h.v),h.v=null),so(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ki(h){if(!Il(h.h)&&!h.m){h.m=!0;var v=h.Ea;rt||A(),ot||(rt(),ot=!0),I.add(v,h),h.D=0}}function io(h,v){return Di(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Si(g(h.Ea,h,v),Xc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new si(this,this.j,h);let $=this.o;if(this.U&&($?($=j($),ut($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Yc(this,q,v),E=Ie(this.J),$t(E,"RID",h),$t(E,"CVER",22),this.G&&$t(E,"X-HTTP-Session-Id",this.G),na(this,E),$&&(this.R?v="headers="+rs(jn($))+"&"+v:this.u&&Zr(E,this.u,$)),Dl(this.h,q),this.Ra&&$t(E,"TYPE","init"),this.S?($t(E,"$req",v),$t(E,"SID","null"),q.U=!0,Ri(q,E,null)):Ri(q,E,v),this.I=2}}else this.I==3&&(h?zl(this,h):this.i.length==0||Il(this.h)||zl(this))};function zl(h,v){var E;v?E=v.l:E=h.V++;const S=Ie(h.J);$t(S,"SID",h.M),$t(S,"RID",E),$t(S,"AID",h.K),na(h,S),h.u&&h.o&&Zr(S,h.u,h.o),E=new si(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Yc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Dl(h.h,E),Ri(E,S,v)}function na(h,v){h.H&&It(h.H,function(E,S){$t(v,S,E)}),h.l&&It({},function(E,S){$t(v,S,E)})}function Yc(h,v,E){E=Math.min(h.i.length,E);const S=h.l?g(h.l.Ka,h.l,h):null;t:{var q=h.i;let Rt=-1;for(;;){const _e=["count="+E];Rt==-1?E>0?(Rt=q[0].g,_e.push("ofs="+Rt)):Rt=0:_e.push("ofs="+Rt);let Yt=!0;for(let ue=0;ue<E;ue++){var $=q[ue].g;const Bn=q[ue].map;if($-=Rt,$<0)Rt=Math.max(0,q[ue].g-100),Yt=!1;else try{$="req"+$+"_"||"";try{var lt=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Ui,ui]of lt){let ci=ui;d(ui)&&(ci=Ls(ui)),_e.push($+Ui+"="+encodeURIComponent(ci))}}catch(Ui){throw _e.push($+"type="+encodeURIComponent("_badmap")),Ui}}catch{S&&S(Bn)}}if(Yt){lt=_e.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),v.G=h,lt}function Kc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;rt||A(),ot||(rt(),ot=!0),I.add(v,h),h.A=0}}function ia(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Si(g(h.Da,h),Xc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Si(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Gs(this),Qc(this))};function Fl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Qc(h){h.g=new si(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ie(h.na);$t(v,"RID","rpc"),$t(v,"SID",h.M),$t(v,"AID",h.K),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&$t(v,"TO",h.ia),$t(v,"TYPE","xmlhttp"),na(h,v),h.u&&h.o&&Zr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Xr(Ie(v)),E.u=null,E.R=!0,$a(E,h)}e.Va=function(){this.C!=null&&(this.C=null,Gs(this),ia(this),Re(19))};function so(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function $c(h,v){var E=null;if(h.g==v){so(h),Fl(h),h.g=null;var S=2}else if(Ni(h.h,v))E=v.G,Nl(h.h,v),S=1;else return;if(h.I!=0){if(v.o)if(S==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;S=Qa(),je(S,new wi(S,E)),ki(h)}else Kc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(S==1&&io(h,v)||S==2&&ia(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:Li(h,5);break;case 4:Li(h,10);break;case 3:Li(h,6);break;default:Li(h,2)}}}function Xc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Li(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),S=h.Ua;const q=!S;S=new Rn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(S,"https"),Xr(S),q?ai(S.toString(),E):Ll(S.toString(),E)}else Re(2);h.I=0,h.l&&h.l.pa(v),Wc(h),no(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Wc(h){if(h.I=0,h.ja=[],h.l){const v=Ml(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ja,v),O(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function Jc(h,v,E){var S=E instanceof Rn?Ie(E):new Rn(E);if(S.g!="")v&&(S.g=v+"."+S.g),Us(S,S.u);else{var q=c.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const $=new Rn(null);S&&Ge($,S),v&&($.g=v),q&&Us($,q),E&&($.h=E),S=$}return E=h.G,v=h.wa,E&&v&&$t(S,E,v),$t(S,"VER",h.ka),na(h,S),S}function Zc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Zt(new Oi({ab:E})):new Zt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}e=th.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ys(){}Ys.prototype.g=function(h,v){return new fn(h,v)};function fn(h,v){Ae.call(this),this.g=new Hs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ls(this)}_(fn,Ae),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Bl(this.g)},fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ls(h),h=E);v.i.push(new Ce(v.Ya++,h)),v.I==3&&ki(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,fn.Z.N.call(this)};function eh(h){Qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(eh,Qe);function nh(){kn.call(this),this.status=1}_(nh,kn);function ls(h){this.g=h}_(ls,th),ls.prototype.ra=function(){je(this.g,"a")},ls.prototype.qa=function(h){je(this.g,new eh(h))},ls.prototype.pa=function(h){je(this.g,new nh)},ls.prototype.oa=function(){je(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,_1=function(){return new Ys},v1=function(){return Qa()},y1=ve,Bg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,Af=Qr,Rl.COMPLETE="complete",g1=Rl,Vc.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Ou=Vc,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,p1=Zt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const Ib="@firebase/firestore",Db="4.9.3";let on=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ml="12.7.0";const Pa=new Uy("@firebase/firestore");function Uo(){return Pa.logLevel}function ht(e,...t){if(Pa.logLevel<=Ut.DEBUG){const n=t.map($y);Pa.debug(`Firestore (${ml}): ${e}`,...n)}}function Ms(e,...t){if(Pa.logLevel<=Ut.ERROR){const n=t.map($y);Pa.error(`Firestore (${ml}): ${e}`,...n)}}function el(e,...t){if(Pa.logLevel<=Ut.WARN){const n=t.map($y);Pa.warn(`Firestore (${ml}): ${e}`,...n)}}function $y(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,T1(e,s,n)}function T1(e,t,n){let s=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ms(s),new Error(s)}function Qt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||T1(t,a,s)}function At(e,t){return e}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends is{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class E1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class KV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QV{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cs,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cs)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new E1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class $V{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XV{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new $V(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class Xy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=JV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function jt(e,t){return e<t?-1:e>t?1:0}function zg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return rg(a)===rg(l)?jt(a,l):rg(a)?1:-1}return jt(e.length,t.length)}const ZV=55296,tP=57343;function rg(e){const t=e.charCodeAt(0);return t>=ZV&&t<=tP}function nl(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const Mb="__name__";class qi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=qi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return jt(t.length,n.length)}static compareSegments(t,n){const s=qi.isNumericId(t),a=qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qi.extractNumericId(t).compare(qi.extractNumericId(n)):zg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Rr.fromString(t.substring(4,t.length-2))}}class re extends qi{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new re(n)}static emptyPath(){return new re([])}}const eP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends qi{construct(t,n,s){return new nn(t,n,s)}static isValidIdentifier(t){return eP.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mb}static keyField(){return new nn([Mb])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(re.fromString(t))}static fromName(t){return new yt(re.fromString(t).popFirst(5))}static empty(){return new yt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new re(t.slice()))}}function b1(e,t,n){if(!n)throw new ct(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nP(e,t,n,s){if(t===!0&&s===!0)throw new ct(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ob(e){if(!yt.isDocumentKey(e))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Vb(e){if(yt.isDocumentKey(e))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function w1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function bd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function vi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bd(e);throw new ct(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Le(e,t){const n={typeString:e};return t&&(n.value=t),n}function Tc(e,t){if(!w1(e))throw new ct(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ct(et.INVALID_ARGUMENT,n);return!0}const Pb=-62135596800,kb=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*kb);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Pb)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kb}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Tc(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Pb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Le("string",ie._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ie(0,0))}static max(){return new wt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tc=-1;function iP(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new Ir(a,yt.empty(),t)}function sP(e){return new Ir(e.readTime,e.key,tc)}class Ir{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ir(wt.min(),yt.empty(),tc)}static max(){return new Ir(wt.max(),yt.empty(),tc)}}function rP(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:jt(e.largestBatchId,t.largestBatchId))}const aP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function pl(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==aP)throw e;ht("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((a=>a?it.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new it(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function lP(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(e){return e.name==="IndexedDbTransactionError"}class wd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wd.ce=-1;const Wy=-1;function Sd(e){return e==null}function Hf(e){return e===0&&1/e==-1/0}function uP(e){return typeof e=="number"&&Number.isInteger(e)&&!Hf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const S1="";function cP(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Lb(t)),t=hP(e.get(n),t);return Lb(t)}function hP(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case S1:n+="";break;default:n+=l}}return n}function Lb(e){return e+S1+""}function Ub(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Br(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function A1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class me{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cf(this.root,t,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cf(this.root,t,this.comparator,!0)}}class cf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new en(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new jb(this.data.getIterator())}getIteratorFrom(t){return new jb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class jb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Vn([])}unionWith(t){let n=new Fe(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Vn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return nl(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new R1("Invalid base64 string: "+l):l}})(t);return new sn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new sn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const fP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(e){if(Qt(!!e,39018),typeof e=="string"){let t=0;const n=fP.exec(e);if(Qt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(e.seconds),nanos:be(e.nanos)}}function be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Nr(e){return typeof e=="string"?sn.fromBase64String(e):sn.fromUint8Array(e)}const x1="server_timestamp",C1="__type__",I1="__previous_value__",D1="__local_write_time__";function Jy(e){return(e?.mapValue?.fields||{})[C1]?.stringValue===x1}function Ad(e){const t=e.mapValue.fields[I1];return Jy(t)?Ad(t):t}function ec(e){const t=Dr(e.mapValue.fields[D1].timestampValue);return new ie(t.seconds,t.nanos)}class dP{constructor(t,n,s,a,l,c,d,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Gf="(default)";class nc{constructor(t,n){this.projectId=t,this.database=n||Gf}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(t){return t instanceof nc&&t.projectId===this.projectId&&t.database===this.database}}const N1="__type__",mP="__max__",hf={mapValue:{}},M1="__vector__",Yf="value";function Mr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jy(e)?4:gP(e)?9007199254740991:pP(e)?10:11:Tt(28295,{value:e})}function ts(e,t){if(e===t)return!0;const n=Mr(e);if(n!==Mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ec(e).isEqual(ec(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Dr(a.timestampValue),d=Dr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Nr(a.bytesValue).isEqual(Nr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return be(a.geoPointValue.latitude)===be(l.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return be(a.integerValue)===be(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=be(a.doubleValue),d=be(l.doubleValue);return c===d?Hf(c)===Hf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return nl(e.arrayValue.values||[],t.arrayValue.values||[],ts);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Ub(c)!==Ub(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ts(c[m],d[m])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function ic(e,t){return(e.values||[]).find((n=>ts(n,t)))!==void 0}function il(e,t){if(e===t)return 0;const n=Mr(e),s=Mr(t);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=be(l.integerValue||l.doubleValue),m=be(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return Bb(e.timestampValue,t.timestampValue);case 4:return Bb(ec(e),ec(t));case 5:return zg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Nr(l),m=Nr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=jt(d[g],m[g]);if(y!==0)return y}return jt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=jt(be(l.latitude),be(c.latitude));return d!==0?d:jt(be(l.longitude),be(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return zb(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Yf]?.arrayValue,y=m[Yf]?.arrayValue,_=jt(g?.values?.length||0,y?.values?.length||0);return _!==0?_:zb(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===hf.mapValue&&c===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(c===hf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=zg(m[_],y[_]);if(b!==0)return b;const x=il(d[m[_]],g[y[_]]);if(x!==0)return x}return jt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function Bb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return jt(e,t);const n=Dr(e),s=Dr(t),a=jt(n.seconds,s.seconds);return a!==0?a:jt(n.nanos,s.nanos)}function zb(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=il(n[a],s[a]);if(l)return l}return jt(n.length,s.length)}function sl(e){return Fg(e)}function Fg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Dr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Nr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Fg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Fg(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function Rf(e){switch(Mr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ad(e);return t?16+Rf(t):16;case 5:return 2*e.stringValue.length;case 6:return Nr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Rf(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Br(s.fields,((l,c)=>{a+=l.length+Rf(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function Fb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function qg(e){return!!e&&"integerValue"in e}function Zy(e){return!!e&&"arrayValue"in e}function qb(e){return!!e&&"nullValue"in e}function Hb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xf(e){return!!e&&"mapValue"in e}function pP(e){return(e?.mapValue?.fields||{})[N1]?.stringValue===M1}function Bu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Br(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Bu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bu(e.arrayValue.values[n]);return t}return{...e}}function gP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===mP}class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!xf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bu(n)}setAll(t){let n=nn.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Bu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ts(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Br(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new wn(Bu(this.value))}}function O1(e){const t=[];return Br(e.fields,((n,s)=>{const a=new nn([n]);if(xf(s)){const l=O1(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Vn(t)}class ln{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new ln(t,0,wt.min(),wt.min(),wt.min(),wn.empty(),0)}static newFoundDocument(t,n,s,a){return new ln(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new ln(t,2,n,wt.min(),wt.min(),wn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,wt.min(),wt.min(),wn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kf{constructor(t,n){this.position=t,this.inclusive=n}}function Gb(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=il(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ts(e.position[n],t.position[n]))return!1;return!0}class Qf{constructor(t,n="asc"){this.field=t,this.dir=n}}function yP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class V1{}class ke extends V1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new _P(t,n,s):n==="array-contains"?new bP(t,s):n==="in"?new wP(t,s):n==="not-in"?new SP(t,s):n==="array-contains-any"?new AP(t,s):new ke(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new TP(t,s):new EP(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(il(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends V1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ti(t,n)}matches(t){return P1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(e){return e.op==="and"}function k1(e){return vP(e)&&P1(e)}function vP(e){for(const t of e.filters)if(t instanceof Ti)return!1;return!0}function Hg(e){if(e instanceof ke)return e.field.canonicalString()+e.op.toString()+sl(e.value);if(k1(e))return e.filters.map((t=>Hg(t))).join(",");{const t=e.filters.map((n=>Hg(n))).join(",");return`${e.op}(${t})`}}function L1(e,t){return e instanceof ke?(function(s,a){return a instanceof ke&&s.op===a.op&&s.field.isEqual(a.field)&&ts(s.value,a.value)})(e,t):e instanceof Ti?(function(s,a){return a instanceof Ti&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&L1(c,a.filters[d])),!0):!1})(e,t):void Tt(19439)}function U1(e){return e instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`})(e):e instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(U1).join(" ,")+"}"})(e):"Filter"}class _P extends ke{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class TP extends ke{constructor(t,n){super(t,"in",n),this.keys=j1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class EP extends ke{constructor(t,n){super(t,"not-in",n),this.keys=j1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function j1(e,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class bP extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Zy(n)&&ic(n.arrayValue,this.value)}}class wP extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ic(this.value.arrayValue,n)}}class SP extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ic(this.value.arrayValue,n)}}class AP extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ic(this.value.arrayValue,s)))}}class RP{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Kb(e,t=null,n=[],s=[],a=null,l=null,c=null){return new RP(e,t,n,s,a,l,c)}function tv(e){const t=At(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Hg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Sd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>sl(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>sl(s))).join(",")),t.Te=n}return t.Te}function ev(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!L1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yb(e.startAt,t.startAt)&&Yb(e.endAt,t.endAt)}function Gg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Ec{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xP(e,t,n,s,a,l,c,d){return new Ec(e,t,n,s,a,l,c,d)}function Rd(e){return new Ec(e)}function Qb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function B1(e){return e.collectionGroup!==null}function zu(e){const t=At(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Fe(nn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Qf(l,s))})),n.has(nn.keyField().canonicalString())||t.Ie.push(new Qf(nn.keyField(),s))}return t.Ie}function Ki(e){const t=At(e);return t.Ee||(t.Ee=CP(t,zu(e))),t.Ee}function CP(e,t){if(e.limitType==="F")return Kb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qf(a.field,l)}));const n=e.endAt?new Kf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Kf(e.startAt.position,e.startAt.inclusive):null;return Kb(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Yg(e,t){const n=e.filters.concat([t]);return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Kg(e,t,n){return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xd(e,t){return ev(Ki(e),Ki(t))&&e.limitType===t.limitType}function z1(e){return`${tv(Ki(e))}|lt:${e.limitType}`}function jo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>U1(a))).join(", ")}]`),Sd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>sl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>sl(a))).join(",")),`Target(${s})`})(Ki(e))}; limitType=${e.limitType})`}function Cd(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of zu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=Gb(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,zu(s),a)||s.endAt&&!(function(c,d,m){const g=Gb(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,zu(s),a))})(e,t)}function IP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function F1(e){return(t,n)=>{let s=!1;for(const a of zu(e)){const l=DP(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function DP(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?il(m,g):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}class Fa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Br(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const NP=new me(yt.comparator);function Os(){return NP}const q1=new me(yt.comparator);function Vu(...e){let t=q1;for(const n of e)t=t.insert(n.key,n);return t}function H1(e){let t=q1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Aa(){return Fu()}function G1(){return Fu()}function Fu(){return new Fa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const MP=new me(yt.comparator),OP=new Fe(yt.comparator);function Bt(...e){let t=OP;for(const n of e)t=t.add(n);return t}const VP=new Fe(jt);function PP(){return VP}function nv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(t)?"-0":t}}function Y1(e){return{integerValue:""+e}}function kP(e,t){return uP(t)?Y1(t):nv(e,t)}class Id{constructor(){this._=void 0}}function LP(e,t,n){return e instanceof $f?(function(a,l){const c={fields:{[C1]:{stringValue:x1},[D1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jy(l)&&(l=Ad(l)),l&&(c.fields[I1]=l),{mapValue:c}})(n,t):e instanceof sc?Q1(e,t):e instanceof rc?$1(e,t):(function(a,l){const c=K1(a,l),d=$b(c)+$b(a.Ae);return qg(c)&&qg(a.Ae)?Y1(d):nv(a.serializer,d)})(e,t)}function UP(e,t,n){return e instanceof sc?Q1(e,t):e instanceof rc?$1(e,t):n}function K1(e,t){return e instanceof Xf?(function(s){return qg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class $f extends Id{}class sc extends Id{constructor(t){super(),this.elements=t}}function Q1(e,t){const n=X1(t);for(const s of e.elements)n.some((a=>ts(a,s)))||n.push(s);return{arrayValue:{values:n}}}class rc extends Id{constructor(t){super(),this.elements=t}}function $1(e,t){let n=X1(t);for(const s of e.elements)n=n.filter((a=>!ts(a,s)));return{arrayValue:{values:n}}}class Xf extends Id{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function $b(e){return be(e.integerValue||e.doubleValue)}function X1(e){return Zy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function jP(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof sc&&a instanceof sc||s instanceof rc&&a instanceof rc?nl(s.elements,a.elements,ts):s instanceof Xf&&a instanceof Xf?ts(s.Ae,a.Ae):s instanceof $f&&a instanceof $f})(e.transform,t.transform)}class BP{constructor(t,n){this.version=t,this.transformResults=n}}class Qi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qi}static exists(t){return new Qi(void 0,t)}static updateTime(t){return new Qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Dd{}function W1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Z1(e.key,Qi.none()):new bc(e.key,e.data,Qi.none());{const n=e.data,s=wn.empty();let a=new Fe(nn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new zr(e.key,s,new Vn(a.toArray()),Qi.none())}}function zP(e,t,n){e instanceof bc?(function(a,l,c){const d=a.value.clone(),m=Wb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof zr?(function(a,l,c){if(!Cf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Wb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(J1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function qu(e,t,n,s){return e instanceof bc?(function(l,c,d,m){if(!Cf(l.precondition,c))return d;const g=l.value.clone(),y=Jb(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof zr?(function(l,c,d,m){if(!Cf(l.precondition,c))return d;const g=Jb(l.fieldTransforms,m,c),y=c.data;return y.setAll(J1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return Cf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function FP(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=K1(s.transform,a||null);l!=null&&(n===null&&(n=wn.empty()),n.set(s.field,l))}return n||null}function Xb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&nl(s,a,((l,c)=>jP(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bc extends Dd{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zr extends Dd{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function J1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function Wb(e,t,n){const s=new Map;Qt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,UP(c,d,n[a]))}return s}function Jb(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,LP(l,c,t))}return s}class Z1 extends Dd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qP extends Dd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HP{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&zP(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=qu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=qu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=G1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=W1(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&nl(this.mutations,t.mutations,((n,s)=>Xb(n,s)))&&nl(this.baseMutations,t.baseMutations,((n,s)=>Xb(n,s)))}}class iv{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return MP})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new iv(t,n,s,a)}}class GP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YP{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,qt;function KP(e){switch(e){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function tR(e){if(e===void 0)return Ms("GRPC error has no .code"),et.UNKNOWN;switch(e){case Ve.OK:return et.OK;case Ve.CANCELLED:return et.CANCELLED;case Ve.UNKNOWN:return et.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return et.INTERNAL;case Ve.UNAVAILABLE:return et.UNAVAILABLE;case Ve.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ve.NOT_FOUND:return et.NOT_FOUND;case Ve.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ve.ABORTED:return et.ABORTED;case Ve.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ve.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:e})}}(qt=Ve||(Ve={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function QP(){return new TextEncoder}const $P=new Rr([4294967295,4294967295],0);function Zb(e){const t=QP().encode(e),n=new m1;return n.update(t),new Uint8Array(n.digest())}function tw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Rr([n,s],0),new Rr([a,l],0)]}class sv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pu(`Invalid padding: ${n}`);if(s<0)throw new Pu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Rr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Rr.fromNumber(s)));return a.compare($P)===1&&(a=new Rr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Zb(t),[s,a]=tw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new sv(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=Zb(t),[s,a]=tw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,wc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Nd(wt.min(),a,new me(jt),Os(),Bt())}}class wc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new wc(s,n,Bt(),Bt(),Bt())}}class If{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class eR{constructor(t,n){this.targetId=t,this.Ce=n}}class nR{constructor(t,n,s=sn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class ew{constructor(){this.ve=0,this.Fe=nw(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),n=Bt(),s=Bt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new wc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=nw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XP{constructor(t){this.Ge=t,this.ze=new Map,this.je=Os(),this.Je=ff(),this.He=ff(),this.Ye=new me(jt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Gg(l))if(s===0){const c=new yt(l.path);this.et(n,c,ln.newNoDocument(c,wt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Nr(s).toUint8Array()}catch(m){if(m instanceof R1)return el("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new sv(c,a,l)}catch(m){return el(m instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Gg(d.target)){const m=new yt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Bt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Nd(t,n,this.Ye,this.je,s);return this.je=Os(),this.Je=ff(),this.He=ff(),this.Ye=new me(jt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new ew,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Fe(jt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Fe(jt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ew),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ff(){return new me(yt.comparator)}function nw(){return new me(yt.comparator)}const WP={asc:"ASCENDING",desc:"DESCENDING"},JP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZP={and:"AND",or:"OR"};class tk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Qg(e,t){return e.useProto3Json||Sd(t)?t:{value:t}}function Wf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ek(e,t){return Wf(e,t.toTimestamp())}function $i(e){return Qt(!!e,49232),wt.fromTimestamp((function(n){const s=Dr(n);return new ie(s.seconds,s.nanos)})(e))}function rv(e,t){return $g(e,t).canonicalString()}function $g(e,t){const n=(function(a){return new re(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function sR(e){const t=re.fromString(e);return Qt(uR(t),10190,{key:t.toString()}),t}function Xg(e,t){return rv(e.databaseId,t.path)}function ag(e,t){const n=sR(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(aR(n))}function rR(e,t){return rv(e.databaseId,t)}function nk(e){const t=sR(e);return t.length===4?re.emptyPath():aR(t)}function Wg(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function aR(e){return Qt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function iw(e,t,n){return{name:Xg(e,t),fields:n.value.mapValue.fields}}function ik(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?et.UNKNOWN:tR(g.code);return new ct(y,g.message||"")})(c);n=new nR(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=ag(e,s.document.name),l=$i(s.document.updateTime),c=s.document.createTime?$i(s.document.createTime):wt.min(),d=new wn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new If(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=ag(e,s.document),l=s.readTime?$i(s.readTime):wt.min(),c=ln.newNoDocument(a,l),d=s.removedTargetIds||[];n=new If([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=ag(e,s.document),l=s.removedTargetIds||[];n=new If([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new YP(a,l),d=s.targetId;n=new eR(d,c)}}return n}function sk(e,t){let n;if(t instanceof bc)n={update:iw(e,t.key,t.value)};else if(t instanceof Z1)n={delete:Xg(e,t.key)};else if(t instanceof zr)n={update:iw(e,t.key,t.data),updateMask:dk(t.fieldMask)};else{if(!(t instanceof qP))return Tt(16599,{Vt:t.type});n={verify:Xg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof $f)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof sc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof rc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ek(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function rk(e,t){return e&&e.length>0?(Qt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?$i(a.updateTime):$i(l);return c.isEqual(wt.min())&&(c=$i(l)),new BP(c,a.transformResults||[])})(n,t)))):[]}function ak(e,t){return{documents:[rR(e,t.path)]}}function ok(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rR(e,a);const l=(function(g){if(g.length!==0)return lR(Ti.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(b){return{field:Bo(b.field),direction:ck(b.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Qg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function lk(e){let t=nk(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const b=oR(_);return b instanceof Ti&&k1(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(O){return new Qf(zo(O.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let b;return b=typeof _=="object"?_.value:_,Sd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,x=_.values||[];return new Kf(x,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const b=!_.before,x=_.values||[];return new Kf(x,b)})(n.endAt)),xP(t,a,c,l,d,"F",m,g)}function uk(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function oR(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zo(n.unaryFilter.field);return ke.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(n.unaryFilter.field);return ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(n.unaryFilter.field);return ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(n.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return ke.create(zo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((s=>oR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function ck(e){return WP[e]}function hk(e){return JP[e]}function fk(e){return ZP[e]}function Bo(e){return{fieldPath:e.canonicalString()}}function zo(e){return nn.fromServerFormat(e.fieldPath)}function lR(e){return e instanceof ke?(function(n){if(n.op==="=="){if(Hb(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(qb(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hb(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(qb(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:hk(n.op),value:n.value}}})(e):e instanceof Ti?(function(n){const s=n.getFilters().map((a=>lR(a)));return s.length===1?s[0]:{compositeFilter:{op:fk(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function dk(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function uR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class br{constructor(t,n,s,a,l=wt.min(),c=wt.min(),d=sn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mk{constructor(t){this.yt=t}}function pk(e){const t=lk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Kg(t,t.limit,"L"):t}class gk{constructor(){this.Cn=new yk}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(Ir.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class yk{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(re.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(re.comparator)).toArray()}}const sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cR=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(cR,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class rl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}const rw="LruGarbageCollector",vk=1048576;function aw([e,t],[n,s]){const a=jt(e,n);return a===0?jt(t,s):a}class _k{constructor(t){this.Ir=t,this.buffer=new Fe(aw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tk{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(rw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?ht(rw,"Ignoring IndexedDB error during garbage collection: ",n):await pl(n)}await this.Vr(3e5)}))}}class Ek{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(wd.ce);const s=new _k(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(sw)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sw):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(g=Date.now(),Uo()<=Ut.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function bk(e,t){return new Ek(e,t)}class wk{constructor(){this.changes=new Fa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Sk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Ak{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&qu(s.mutation,a,Vn.empty(),ie.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Bt()){const a=Aa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Vu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Aa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Bt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=Os();const c=Fu(),d=(function(){return Fu()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof zr)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),qu(y.mutation,g,y.mutation.getFieldMask(),ie.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new Sk(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Fu();let a=new me(((c,d)=>c-d)),l=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Vn.empty();y=d.applyToLocalView(g,y),s.set(m,y);const _=(a.get(d.batchId)||Bt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=G1();y.forEach((b=>{if(!l.has(b)){const x=W1(n.get(b),s.get(b));x!==null&&_.set(b,x),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):B1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):it.resolve(Aa());let d=tc,m=l;return c.next((g=>it.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,Bt()))).next((y=>({batchId:d,changes:H1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let a=Vu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(t,l).next((d=>it.forEach(d,(m=>{const g=(function(_,b){return new Ec(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let d=Vu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&qu(y.mutation,g,Vn.empty(),ie.now()),Cd(n,g)&&(d=d.insert(m,g))})),d}))}}class Rk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:$i(a.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:pk(a.bundledQuery),readTime:$i(a.readTime)}})(n)),it.resolve()}}class xk{constructor(){this.overlays=new me(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Aa();return it.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const a=Aa(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new me(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Aa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Aa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return it.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new GP(n,s));let l=this.qr.get(n);l===void 0&&(l=Bt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class Ck{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class av{constructor(){this.Qr=new Fe(Ke.$r),this.Ur=new Fe(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ke(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ke(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new re([])),s=new Ke(n,t),a=new Ke(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new re([])),s=new Ke(n,t),a=new Ke(n,t+1);let l=Bt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ke(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ke{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||jt(t.Yr,n.Yr)}static Kr(t,n){return jt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class Ik{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fe(Ke.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new HP(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Ke(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Wy:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ke(n,0),a=new Ke(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(jt);return n.forEach((a=>{const l=new Ke(a,0),c=new Ke(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new Ke(new yt(l),0);let d=new Fe(jt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(a=>{const l=new Ke(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ke(n,0),a=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Dk{constructor(t){this.ri=t,this.docs=(function(){return new me(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=Os();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Os();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||rP(sP(y),s)<=0||(a.has(y.key)||Cd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new Nk(this)}getSize(t){return it.resolve(this.size)}}class Nk extends wk{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class Mk{constructor(t){this.persistence=t,this.si=new Fa((n=>tv(n)),ev),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new av,this.targetCount=0,this.ai=rl.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new rl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),it.waitFor(l).next((()=>a))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class hR{constructor(t,n){this.ui={},this.overlays={},this.ci=new wd(0),this.li=!1,this.li=!0,this.hi=new Ck,this.referenceDelegate=t(this),this.Pi=new Mk(this),this.indexManager=new gk,this.remoteDocumentCache=(function(a){return new Dk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mk(n),this.Ii=new Rk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new xk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Ik(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const a=new Ok(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class Ok extends oP{constructor(t){super(),this.currentSequenceNumber=t}}class ov{constructor(t){this.persistence=t,this.Ri=new av,this.Vi=null}static mi(t){return new ov(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const a=yt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,wt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Jf{constructor(t,n){this.persistence=t,this.pi=new Fa((s=>cP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=bk(this,n)}static mi(t,n){return new Jf(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?it.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Rf(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return it.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class lv{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Bt(),a=Bt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new lv(t,n.fromCache,s,a)}}class Vk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Pk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dN()?8:lP(cn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Vk;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(Uo()<=Ut.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Uo()<=Ut.DEBUG&&ht("QueryEngine","Query:",jo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Uo()<=Ut.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(n))):it.resolve())}ys(t,n){if(Qb(n))return it.resolve(null);let s=Ki(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Kg(n,null,"F"),s=Ki(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Bt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,Kg(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,s,a){return Qb(n)||a.isEqual(wt.min())?it.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?it.resolve(null):(Uo()<=Ut.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jo(n)),this.vs(t,c,n,iP(a,tc)).next((d=>d)))}))}Ds(t,n){let s=new Fe(F1(t));return n.forEach(((a,l)=>{Cd(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return Uo()<=Ut.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",jo(n)),this.ps.getDocumentsMatchingQuery(t,n,Ir.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const uv="LocalStore",kk=3e8;class Lk{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new me(jt),this.xs=new Fa((l=>tv(l)),ev),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ak(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function Uk(e,t,n,s){return new Lk(e,t,n,s)}async function fR(e,t){const n=At(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Bt();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function jk(e,t){const n=At(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const _=g.batch,b=_.keys();let x=it.resolve();return b.forEach((O=>{x=x.next((()=>y.getEntry(m,O))).next((B=>{const k=g.docVersions.get(O);Qt(k!==null,48541),B.version.compareTo(k)<0&&(_.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),y.addEntry(B)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Bt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function dR(e){const t=At(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function Bk(e,t){const n=At(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let x=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?x=x.withResumeToken(sn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,s)),a=a.insert(_,x),(function(B,k,F){return B.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=kk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,x,y)&&d.push(n.Pi.updateTargetData(l,x))}));let m=Os(),g=Bt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(zk(l,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(wt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function zk(e,t,n){let s=Bt(),a=Bt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Os();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ht(uv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function Fk(e,t){const n=At(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Wy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function qk(e,t){const n=At(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,it.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new br(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Jg(e,t,n){const s=At(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!gl(c))throw c;ht(uv,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function ow(e,t,n){const s=At(e);let a=wt.min(),l=Bt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const _=At(m),b=_.xs.get(y);return b!==void 0?it.resolve(_.Ms.get(b)):_.Pi.getTargetData(g,y)})(s,c,Ki(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:Bt()))).next((d=>(Hk(s,IP(t),d),{documents:d,Qs:l})))))}function Hk(e,t,n){let s=e.Os.get(t)||wt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class lw{constructor(){this.activeTargetIds=PP()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Gk{constructor(){this.Mo=new lw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Yk{Oo(t){}shutdown(){}}const uw="ConnectivityMonitor";class cw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(uw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(uw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let df=null;function Zg(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}const og="RestConnection",Kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qk{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=Zg(),d=this.zo(t,n.toUriEncodedString());ht(og,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=ja(g);return this.Jo(t,d,m,s,y).then((_=>(ht(og,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw el(og,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=Kk[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class $k{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const an="WebChannelConnection";class Xk extends Qk{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=Zg();return new Promise(((d,m)=>{const g=new p1;g.setWithCredentials(!0),g.listenOnce(g1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Af.NO_ERROR:const _=g.getResponseJson();ht(an,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case Af.TIMEOUT:ht(an,`RPC '${t}' ${c} timed out`),m(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case Af.HTTP_ERROR:const b=g.getStatus();if(ht(an,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x?.error;if(O&&O.status&&O.message){const B=(function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Y)>=0?Y:et.UNKNOWN})(O.status);m(new ct(B,O.message))}else m(new ct(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(an,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(an,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=Zg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=_1(),d=v1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ht(an,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,x=!1;const O=new $k({Yo:k=>{x?ht(an,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(b||(ht(an,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ht(an,`RPC '${t}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),B=(k,F,Y)=>{k.listen(F,(K=>{try{Y(K)}catch(at){setTimeout((()=>{throw at}),0)}}))};return B(_,Ou.EventType.OPEN,(()=>{x||(ht(an,`RPC '${t}' stream ${a} transport opened.`),O.o_())})),B(_,Ou.EventType.CLOSE,(()=>{x||(x=!0,ht(an,`RPC '${t}' stream ${a} transport closed`),O.a_(),this.E_(_))})),B(_,Ou.EventType.ERROR,(k=>{x||(x=!0,el(an,`RPC '${t}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),O.a_(new ct(et.UNAVAILABLE,"The operation could not be completed")))})),B(_,Ou.EventType.MESSAGE,(k=>{if(!x){const F=k.data[0];Qt(!!F,16349);const Y=F,K=Y?.error||Y[0]?.error;if(K){ht(an,`RPC '${t}' stream ${a} received error:`,K);const at=K.status;let rt=(function(A){const D=Ve[A];if(D!==void 0)return tR(D)})(at),ot=K.message;rt===void 0&&(rt=et.INTERNAL,ot="Unknown error status: "+at+" with message "+K.message),x=!0,O.a_(new ct(rt,ot)),_.close()}else ht(an,`RPC '${t}' stream ${a} received:`,F),O.u_(F)}})),B(d,y1.STAT_EVENT,(k=>{k.stat===Bg.PROXY?ht(an,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===Bg.NOPROXY&&ht(an,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function lg(){return typeof document<"u"?document:null}function Md(e){return new tk(e,!0)}class mR{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hw="PersistentStream";class pR{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ct(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(hw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(hw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wk extends pR{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ik(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?$i(c.readTime):wt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Wg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Gg(m)?{documents:ak(l,m)}:{query:ok(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iR(l,c.resumeToken);const g=Qg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=Wf(l,c.snapshotVersion.toTimestamp());const g=Qg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=uk(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Wg(this.serializer),n.removeTarget=t,this.q_(n)}}class Jk extends pR{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=rk(t.writeResults,t.commitTime),s=$i(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Wg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>sk(this.serializer,s)))};this.q_(n)}}class Zk{}class t4 extends Zk{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,$g(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(et.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,$g(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class e4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class n4{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{qa(this)&&(ht(ka,"Restarting streams for network reachability change."),await(async function(m){const g=At(m);g.Ea.add(4),await Sc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Od(g)})(this))}))})),this.Ra=new e4(s,a)}}async function Od(e){if(qa(e))for(const t of e.da)await t(!0)}async function Sc(e){for(const t of e.da)await t(!1)}function gR(e,t){const n=At(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),dv(n)?fv(n):yl(n).O_()&&hv(n,t))}function cv(e,t){const n=At(e),s=yl(n);n.Ia.delete(t),s.O_()&&yR(n,t),n.Ia.size===0&&(s.O_()?s.L_():qa(n)&&n.Ra.set("Unknown"))}function hv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yl(e).Y_(t)}function yR(e,t){e.Va.Ue(t),yl(e).Z_(t)}function fv(e){e.Va=new XP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),yl(e).start(),e.Ra.ua()}function dv(e){return qa(e)&&!yl(e).x_()&&e.Ia.size>0}function qa(e){return At(e).Ea.size===0}function vR(e){e.Va=void 0}async function i4(e){e.Ra.set("Online")}async function s4(e){e.Ia.forEach(((t,n)=>{hv(e,t)}))}async function r4(e,t){vR(e),dv(e)?(e.Ra.ha(t),fv(e)):e.Ra.set("Unknown")}async function a4(e,t,n){if(e.Ra.set("Online"),t instanceof nR&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){ht(ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zf(e,s)}else if(t instanceof If?e.Va.Ze(t):t instanceof eR?e.Va.st(t):e.Va.tt(t),!n.isEqual(wt.min()))try{const s=await dR(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),yR(l,m);const _=new br(y.target,m,g,y.sequenceNumber);hv(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ht(ka,"Failed to raise snapshot:",s),await Zf(e,s)}}async function Zf(e,t,n){if(!gl(t))throw t;e.Ea.add(1),await Sc(e),e.Ra.set("Offline"),n||(n=()=>dR(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ht(ka,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Od(e)}))}function _R(e,t){return t().catch((n=>Zf(e,n,t)))}async function Vd(e){const t=At(e),n=Or(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wy;for(;o4(t);)try{const a=await Fk(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,l4(t,a)}catch(a){await Zf(t,a)}TR(t)&&ER(t)}function o4(e){return qa(e)&&e.Ta.length<10}function l4(e,t){e.Ta.push(t);const n=Or(e);n.O_()&&n.X_&&n.ea(t.mutations)}function TR(e){return qa(e)&&!Or(e).x_()&&e.Ta.length>0}function ER(e){Or(e).start()}async function u4(e){Or(e).ra()}async function c4(e){const t=Or(e);for(const n of e.Ta)t.ea(n.mutations)}async function h4(e,t,n){const s=e.Ta.shift(),a=iv.from(s,t,n);await _R(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Vd(e)}async function f4(e,t){t&&Or(e).X_&&await(async function(s,a){if((function(c){return KP(c)&&c!==et.ABORTED})(a.code)){const l=s.Ta.shift();Or(s).B_(),await _R(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Vd(s)}})(e,t),TR(e)&&ER(e)}async function fw(e,t){const n=At(e);n.asyncQueue.verifyOperationInProgress(),ht(ka,"RemoteStore received new credentials");const s=qa(n);n.Ea.add(3),await Sc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Od(n)}async function d4(e,t){const n=At(e);t?(n.Ea.delete(2),await Od(n)):t||(n.Ea.add(2),await Sc(n),n.Ra.set("Unknown"))}function yl(e){return e.ma||(e.ma=(function(n,s,a){const l=At(n);return l.sa(),new Wk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:i4.bind(null,e),t_:s4.bind(null,e),r_:r4.bind(null,e),H_:a4.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),dv(e)?fv(e):e.Ra.set("Unknown")):(await e.ma.stop(),vR(e))}))),e.ma}function Or(e){return e.fa||(e.fa=(function(n,s,a){const l=At(n);return l.sa(),new Jk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:u4.bind(null,e),r_:f4.bind(null,e),ta:c4.bind(null,e),na:h4.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Vd(e)):(await e.fa.stop(),e.Ta.length>0&&(ht(ka,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class mv{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new mv(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pv(e,t){if(Ms("AsyncQueue",`${t}: ${e}`),gl(e))return new ct(et.UNAVAILABLE,`${t}: ${e}`);throw e}class Wo{static emptySet(t){return new Wo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Vu(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Wo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Wo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class dw{constructor(){this.ga=new me(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class al{constructor(t,n,s,a,l,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new al(t,n,Wo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class m4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class p4{constructor(){this.queries=mw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=At(n),l=a.queries;a.queries=mw(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function mw(){return new Fa((e=>z1(e)),xd)}async function gv(e,t){const n=At(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new m4,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=pv(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&vv(n)}async function yv(e,t){const n=At(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function g4(e,t){const n=At(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&vv(n)}function y4(e,t,n){const s=At(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function vv(e){e.Ca.forEach((t=>{t.next()}))}var ty,pw;(pw=ty||(ty={})).Ma="default",pw.Cache="cache";class _v{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new al(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=al.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ty.Cache}}class bR{constructor(t){this.key=t}}class wR{constructor(t){this.key=t}}class v4{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=F1(t),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new dw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const b=a.get(y),x=Cd(this.query,_)?_:null,O=!!b&&this.mutatedKeys.has(b.key),B=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;b&&x?b.data.isEqual(x.data)?O!==B&&(s.track({type:3,doc:x}),k=!0):this.su(b,x)||(s.track({type:2,doc:x}),k=!0,(m&&this.eu(x,m)>0||g&&this.eu(x,g)<0)&&(d=!0)):!b&&x?(s.track({type:0,doc:x}),k=!0):b&&!x&&(s.track({type:1,doc:b}),k=!0,(m||g)&&(d=!0)),k&&(x?(c=c.add(x),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(x,O){const B=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:k})}};return B(x)-B(O)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new al(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new wR(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new bR(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Bt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tv="SyncEngine";class _4{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class T4{constructor(t){this.key=t,this.hu=!1}}class E4{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa((d=>z1(d)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new me(yt.comparator),this.Au=new Map,this.Ru=new av,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b4(e,t,n=!0){const s=IR(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await SR(s,t,n,!0),a}async function w4(e,t){const n=IR(e);await SR(n,t,!0,!1)}async function SR(e,t,n,s){const a=await qk(e.localStore,Ki(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await S4(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&gR(e.remoteStore,a),d}async function S4(e,t,n,s,a){e.pu=(_,b,x)=>(async function(B,k,F,Y){let K=k.view.ru(F);K.Cs&&(K=await ow(B.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,K))));const at=Y&&Y.targetChanges.get(k.targetId),rt=Y&&Y.targetMismatches.get(k.targetId)!=null,ot=k.view.applyChanges(K,B.isPrimaryClient,at,rt);return yw(B,k.targetId,ot.au),ot.snapshot})(e,_,b,x);const l=await ow(e.localStore,t,!0),c=new v4(t,l.Qs),d=c.ru(l.documents),m=wc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,m);yw(e,n,g.au);const y=new _4(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function A4(e,t,n){const s=At(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!xd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Jg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&cv(s.remoteStore,a.targetId),ey(s,a.targetId)})).catch(pl)):(ey(s,a.targetId),await Jg(s.localStore,a.targetId,!0))}async function R4(e,t){const n=At(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cv(n.remoteStore,s.targetId))}async function x4(e,t,n){const s=V4(e);try{const a=await(function(c,d){const m=At(c),g=ie.now(),y=d.reduce(((x,O)=>x.add(O.key)),Bt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let O=Os(),B=Bt();return m.Ns.getEntries(x,y).next((k=>{O=k,O.forEach(((F,Y)=>{Y.isValidDocument()||(B=B.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,O))).next((k=>{_=k;const F=[];for(const Y of d){const K=FP(Y,_.get(Y.key).overlayedDocument);K!=null&&F.push(new zr(Y.key,K,O1(K.value.mapValue),Qi.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,F,d)})).next((k=>{b=k;const F=k.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(x,k.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:H1(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new me(jt)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await Ac(s,a.changes),await Vd(s.remoteStore)}catch(a){const l=pv(a,"Failed to persist write");n.reject(l)}}async function AR(e,t){const n=At(e);try{const s=await Bk(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qt(c.hu,14607):a.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await Ac(n,s,t)}catch(s){await pl(s)}}function gw(e,t,n){const s=At(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=At(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(d)&&(g=!0)})),g&&vv(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function C4(e,t,n){const s=At(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new me(yt.comparator);c=c.insert(l,ln.newNoDocument(l,wt.min()));const d=Bt().add(l),m=new Nd(wt.min(),new Map,new me(jt),c,d);await AR(s,m),s.du=s.du.remove(l),s.Au.delete(t),Ev(s)}else await Jg(s.localStore,t,!1).then((()=>ey(s,t,n))).catch(pl)}async function I4(e,t){const n=At(e),s=t.batch.batchId;try{const a=await jk(n.localStore,t);xR(n,s,null),RR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ac(n,a)}catch(a){await pl(a)}}async function D4(e,t,n){const s=At(e);try{const a=await(function(c,d){const m=At(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((_=>(Qt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);xR(s,t,n),RR(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ac(s,a)}catch(a){await pl(a)}}function RR(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function xR(e,t,n){const s=At(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function ey(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||CR(e,s)}))}function CR(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(cv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ev(e))}function yw(e,t,n){for(const s of n)s instanceof bR?(e.Ru.addReference(s.key,t),N4(e,s)):s instanceof wR?(ht(Tv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||CR(e,s.key)):Tt(19791,{wu:s})}function N4(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ht(Tv,"New document in limbo: "+n),e.Eu.add(s),Ev(e))}function Ev(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(re.fromString(t)),s=e.fu.next();e.Au.set(s,new T4(n)),e.du=e.du.insert(n,s),gR(e.remoteStore,new br(Ki(Rd(n.path)),s,"TargetPurposeLimboResolution",wd.ce))}}async function Ac(e,t,n){const s=At(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=lv.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const y=At(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(g,(b=>it.forEach(b.Es,(x=>y.persistence.referenceDelegate.addReference(_,b.targetId,x))).next((()=>it.forEach(b.ds,(x=>y.persistence.referenceDelegate.removeReference(_,b.targetId,x)))))))))}catch(_){if(!gl(_))throw _;ht(uv,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const x=y.Ms.get(b),O=x.snapshotVersion,B=x.withLastLimboFreeSnapshotVersion(O);y.Ms=y.Ms.insert(b,B)}}})(s.localStore,l))}async function M4(e,t){const n=At(e);if(!n.currentUser.isEqual(t)){ht(Tv,"User change. New user:",t.toKey());const s=await fR(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ct(et.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ac(n,s.Ls)}}function O4(e,t){const n=At(e),s=n.Au.get(t);if(s&&s.hu)return Bt().add(s.key);{let a=Bt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function IR(e){const t=At(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=O4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=C4.bind(null,t),t.Pu.H_=g4.bind(null,t.eventManager),t.Pu.yu=y4.bind(null,t.eventManager),t}function V4(e){const t=At(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=I4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=D4.bind(null,t),t}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Md(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Uk(this.persistence,new Pk,t.initialUser,this.serializer)}Cu(t){return new hR(ov.mi,this.serializer)}Du(t){return new Gk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class P4 extends td{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof Jf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Tk(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new hR((s=>Jf.mi(s,n)),this.serializer)}}class ny{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=M4.bind(null,this.syncEngine),await d4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new p4})()}createDatastore(t){const n=Md(t.databaseInfo.databaseId),s=(function(l){return new Xk(l)})(t.databaseInfo);return(function(l,c,d,m){return new t4(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new n4(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>gw(this.syncEngine,n,0)),(function(){return cw.v()?new cw:new Yk})())}createSyncEngine(t,n){return(function(a,l,c,d,m,g,y){const _=new E4(a,l,c,d,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);ht(ka,"RemoteStore shutting down."),s.Ea.add(5),await Sc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ny.provider={build:()=>new ny};class bv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Vr="FirestoreClient";class k4{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=Xy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ht(Vr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(Vr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=pv(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function ug(e,t){e.asyncQueue.verifyOperationInProgress(),ht(Vr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await fR(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function vw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await L4(e);ht(Vr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>fw(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>fw(t.remoteStore,a))),e._onlineComponents=t}async function L4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(Vr,"Using user provided OfflineComponentProvider");try{await ug(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===et.FAILED_PRECONDITION||a.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await ug(e,new td)}}else ht(Vr,"Using default OfflineComponentProvider"),await ug(e,new P4(void 0));return e._offlineComponents}async function DR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(Vr,"Using user provided OnlineComponentProvider"),await vw(e,e._uninitializedComponentsProvider._online)):(ht(Vr,"Using default OnlineComponentProvider"),await vw(e,new ny))),e._onlineComponents}function U4(e){return DR(e).then((t=>t.syncEngine))}async function ed(e){const t=await DR(e),n=t.eventManager;return n.onListen=b4.bind(null,t.syncEngine),n.onUnlisten=A4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=w4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=R4.bind(null,t.syncEngine),n}function j4(e,t,n={}){const s=new Cs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new bv({next:b=>{y.Nu(),c.enqueueAndForget((()=>yv(l,_)));const x=b.docs.has(d);!x&&b.fromCache?g.reject(new ct(et.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&m&&m.source==="server"?g.reject(new ct(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new _v(Rd(d.path),y,{includeMetadataChanges:!0,qa:!0});return gv(l,_)})(await ed(e),e.asyncQueue,t,n,s))),s.promise}function B4(e,t,n={}){const s=new Cs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new bv({next:b=>{y.Nu(),c.enqueueAndForget((()=>yv(l,_))),b.fromCache&&m.source==="server"?g.reject(new ct(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new _v(d,y,{includeMetadataChanges:!0,qa:!0});return gv(l,_)})(await ed(e),e.asyncQueue,t,n,s))),s.promise}function NR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const _w=new Map;const MR="firestore.googleapis.com",Tw=!0;class Ew{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MR,this.ssl=Tw}else this.host=t.host,this.ssl=t.ssl??Tw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vk)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NR(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pd{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ew({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ew(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YV;switch(s.type){case"firstParty":return new XV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=_w.get(n);s&&(ht("ComponentProvider","Removing Datastore"),_w.delete(n),s.terminate())})(this),Promise.resolve()}}function z4(e,t,n,s={}){e=vi(e,Pd);const a=ja(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(ky(`https://${d}`),Ly("Firestore",!0)),l.host!==MR&&l.host!==d&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Ma(m,c)&&(e._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=on.MOCK_USER;else{g=IA(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}e._authCredentials=new KV(new E1(g,y))}}class Ha{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ha(this.firestore,t,this._query)}}class we{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Tc(n,we._jsonSchema))return new we(t,s||null,new yt(re.fromString(n.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Le("string",we._jsonSchemaVersion),referencePath:Le("string")};class xr extends Ha{constructor(t,n,s){super(t,n,Rd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new yt(t))}withConverter(t){return new xr(this.firestore,t,this._path)}}function ac(e,t,...n){if(e=qe(e),b1("collection","path",t),e instanceof Pd){const s=re.fromString(t,...n);return Vb(s),new xr(e,null,s)}{if(!(e instanceof we||e instanceof xr))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return Vb(s),new xr(e.firestore,null,s)}}function Hu(e,t,...n){if(e=qe(e),arguments.length===1&&(t=Xy.newId()),b1("doc","path",t),e instanceof Pd){const s=re.fromString(t,...n);return Ob(s),new we(e,null,new yt(s))}{if(!(e instanceof we||e instanceof xr))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return Ob(s),new we(e.firestore,e instanceof xr?e.converter:null,new yt(s))}}const bw="AsyncQueue";class ww{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mR(this,"async_queue_retry"),this._c=()=>{const s=lg();s&&ht(bw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!gl(t))throw t;ht(bw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",Sw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=mv.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:Sw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Sw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Aw(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class La extends Pd{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new ww,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ww(t),this._firestoreClient=void 0,await t}}}function F4(e,t){const n=typeof e=="object"?e:By(),s=typeof e=="string"?e:Gf,a=yd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=RA("firestore");l&&z4(a,...l)}return a}function kd(e){if(e._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||q4(e),e._firestoreClient}function q4(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new dP(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new k4(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(sn.fromBase64String(t))}catch(n){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Wn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Tc(t,Wn._jsonSchema))return Wn.fromBase64String(t.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Le("string",Wn._jsonSchemaVersion),bytes:Le("string")};class Ld{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wv{constructor(t){this._methodName=t}}class Xi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(t){if(Tc(t,Xi._jsonSchema))return new Xi(t.latitude,t.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Le("string",Xi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class Wi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Tc(t,Wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Wi(t.vectorValues);throw new ct(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Le("string",Wi._jsonSchemaVersion),vectorValues:Le("object")};const H4=/^__.*__$/;class G4{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new zr(t,this.data,this.fieldMask,n,this.fieldTransforms):new bc(t,this.data,n,this.fieldTransforms)}}class OR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new zr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function VR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:e})}}class Sv{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(VR(this.Ac)&&H4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Y4{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Md(t)}Cc(t,n,s,a=!1){return new Sv({Ac:t,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Av(e){const t=e._freezeSettings(),n=Md(e._databaseId);return new Y4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function K4(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);Rv("Data must be an object, but it was:",c,s);const d=PR(s,c);let m,g;if(l.merge)m=new Vn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=iy(t,_,n);if(!c.contains(b))throw new ct(et.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);LR(y,b)||y.push(b)}m=new Vn(y),g=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=c.fieldTransforms;return new G4(new wn(d),m,g)}class Ud extends wv{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ud}}function Q4(e,t,n,s){const a=e.Cc(1,t,n);Rv("Data must be an object, but it was:",a,s);const l=[],c=wn.empty();Br(s,((m,g)=>{const y=xv(t,m,n);g=qe(g);const _=a.yc(y);if(g instanceof Ud)l.push(y);else{const b=Rc(g,_);b!=null&&(l.push(y),c.set(y,b))}}));const d=new Vn(l);return new OR(c,d,a.fieldTransforms)}function $4(e,t,n,s,a,l){const c=e.Cc(1,t,n),d=[iy(t,s,n)],m=[a];if(l.length%2!=0)throw new ct(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(iy(t,l[b])),m.push(l[b+1]);const g=[],y=wn.empty();for(let b=d.length-1;b>=0;--b)if(!LR(g,d[b])){const x=d[b];let O=m[b];O=qe(O);const B=c.yc(x);if(O instanceof Ud)g.push(x);else{const k=Rc(O,B);k!=null&&(g.push(x),y.set(x,k))}}const _=new Vn(g);return new OR(y,_,c.fieldTransforms)}function X4(e,t,n,s=!1){return Rc(n,e.Cc(s?4:3,t))}function Rc(e,t){if(kR(e=qe(e)))return Rv("Unsupported field value:",t,e),PR(e,t);if(e instanceof wv)return(function(s,a){if(!VR(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Rc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=qe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kP(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ie.fromDate(s);return{timestampValue:Wf(a.serializer,l)}}if(s instanceof ie){const l=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,l)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:iR(a.serializer,s._byteString)};if(s instanceof we){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wi)return(function(c,d){return{mapValue:{fields:{[N1]:{stringValue:M1},[Yf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return nv(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${bd(s)}`)})(e,t)}function PR(e,t){const n={};return A1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Br(e,((s,a)=>{const l=Rc(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function kR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ie||e instanceof Xi||e instanceof Wn||e instanceof we||e instanceof wv||e instanceof Wi)}function Rv(e,t,n){if(!kR(n)||!w1(n)){const s=bd(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function iy(e,t,n){if((t=qe(t))instanceof Ld)return t._internalPath;if(typeof t=="string")return xv(e,t);throw nd("Field path arguments must be of type string or ",e,!1,void 0,n)}const W4=new RegExp("[~\\*/\\[\\]]");function xv(e,t,n){if(t.search(W4)>=0)throw nd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ld(...t.split("."))._internalPath}catch{throw nd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function nd(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ct(et.INVALID_ARGUMENT,d+e+m)}function LR(e,t){return e.some((n=>n.isEqual(t)))}class UR{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new J4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Cv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J4 extends UR{data(){return super.data()}}function Cv(e,t){return typeof t=="string"?xv(e,t):t instanceof Ld?t._internalPath:t._delegate._internalPath}function jR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iv{}class Z4 extends Iv{}function id(e,t,...n){let s=[];t instanceof Iv&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Dv)).length,d=l.filter((m=>m instanceof jd)).length;if(c>1||c>0&&d>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class jd extends Z4{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new jd(t,n,s)}_apply(t){const n=this._parse(t);return BR(t._query,n),new Ha(t.firestore,t.converter,Yg(t._query,n))}_parse(t){const n=Av(t.firestore);return(function(l,c,d,m,g,y,_){let b;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){xw(_,y);const O=[];for(const B of _)O.push(Rw(m,l,B));b={arrayValue:{values:O}}}else b=Rw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||xw(_,y),b=X4(d,c,_,y==="in"||y==="not-in");return ke.create(g,y,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Gu(e,t,n){const s=t,a=Cv("where",e);return jd._create(a,s,n)}class Dv extends Iv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Dv(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)BR(c,m),c=Yg(c,m)})(t._query,n),new Ha(t.firestore,t.converter,Yg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rw(e,t,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B1(t)&&n.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(re.fromString(n));if(!yt.isDocumentKey(s))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fb(e,new yt(s))}if(n instanceof we)return Fb(e,n._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(n)}.`)}function xw(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BR(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class tL{convertValue(t,n="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Br(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[Yf].arrayValue?.values?.map((s=>be(s.doubleValue)));return new Wi(n)}convertGeoPoint(t){return new Xi(be(t.latitude),be(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ad(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ec(t));default:return null}}convertTimestamp(t){const n=Dr(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);Qt(uR(s),9688,{name:t});const a=new nc(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return a.isEqual(n)||Ms(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function eL(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class ku{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ca extends UR{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Cv("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Le("string",Ca._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Df extends Ca{data(t={}){return super.data(t)}}class Ia{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new ku(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Df(this._firestore,this._userDataWriter,s.key,s,new ku(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ku(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ku(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:nL(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ia._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Xy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}function iL(e){e=vi(e,we);const t=vi(e.firestore,La);return j4(kd(t),e._key).then((n=>FR(t,e,n)))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Le("string",Ia._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class Nv extends tL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,n)}}function sL(e){e=vi(e,Ha);const t=vi(e.firestore,La),n=kd(t),s=new Nv(t);return jR(e._query),B4(n,e._query).then((a=>new Ia(t,s,e,a)))}function cg(e,t,n,...s){e=vi(e,we);const a=vi(e.firestore,La),l=Av(a);let c;return c=typeof(t=qe(t))=="string"||t instanceof Ld?$4(l,"updateDoc",e._key,t,n,s):Q4(l,"updateDoc",e._key,t),zR(a,[c.toMutation(e._key,Qi.exists(!0))])}function rL(e,t){const n=vi(e.firestore,La),s=Hu(e),a=eL(e.converter,t);return zR(n,[K4(Av(e.firestore),"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,Qi.exists(!1))]).then((()=>s))}function Mv(e,...t){e=qe(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Aw(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Aw(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,d;if(e instanceof we)c=vi(e.firestore,La),d=Rd(e._key.path),l={next:m=>{t[s]&&t[s](FR(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=vi(e,Ha);c=vi(m.firestore,La),d=m._query;const g=new Nv(c);l={next:y=>{t[s]&&t[s](new Ia(c,g,m,y))},error:t[s+1],complete:t[s+2]},jR(e._query)}return(function(g,y,_,b){const x=new bv(b),O=new _v(y,x,_);return g.asyncQueue.enqueueAndForget((async()=>gv(await ed(g),O))),()=>{x.Nu(),g.asyncQueue.enqueueAndForget((async()=>yv(await ed(g),O)))}})(kd(c),d,a,l)}function zR(e,t){return(function(s,a){const l=new Cs;return s.asyncQueue.enqueueAndForget((async()=>x4(await U4(s),a,l))),l.promise})(kd(e),t)}function FR(e,t,n){const s=n.docs.get(t._key),a=new Nv(e);return new Ca(e,a,t._key,s,new ku(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){ml=a})(Ba),Oa(new Cr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new La(new QV(s.getProvider("auth-internal")),new WV(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Hi(Ib,Db,t),Hi(Ib,Db,"esm2020")})();const qR="firebasestorage.googleapis.com",aL="storageBucket",oL=120*1e3,lL=600*1e3;class ss extends is{constructor(t,n,s=0){super(hg(t),`Firebase Storage: ${n} (${hg(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ss.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return hg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var es;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(es||(es={}));function hg(e){return"storage/"+e}function uL(){const e="An unknown error occurred, please check the error payload for server response.";return new ss(es.UNKNOWN,e)}function cL(){return new ss(es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hL(){return new ss(es.CANCELED,"User canceled the upload/download.")}function fL(e){return new ss(es.INVALID_URL,"Invalid URL '"+e+"'.")}function dL(e){return new ss(es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Cw(e){return new ss(es.INVALID_ARGUMENT,e)}function HR(){return new ss(es.APP_DELETED,"The Firebase app was deleted.")}function mL(e){return new ss(es.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class yi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=yi.makeFromUrl(t,n)}catch{return new yi(t,"")}if(s.path==="")return s;throw dL(t)}static makeFromUrl(t,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(at){at.path.charAt(at.path.length-1)==="/"&&(at.path_=at.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(at){at.path_=decodeURIComponent(at.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${y}/b/${a}/o${b}`,"i"),O={bucket:1,path:3},B=n===qR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",F=new RegExp(`^https?://${B}/${a}/${k}`,"i"),K=[{regex:d,indices:m,postModify:l},{regex:x,indices:O,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let at=0;at<K.length;at++){const rt=K[at],ot=rt.regex.exec(t);if(ot){const I=ot[rt.indices.bucket];let A=ot[rt.indices.path];A||(A=""),s=new yi(I,A),rt.postModify(s);break}}if(s==null)throw fL(t);return s}}class pL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function gL(e,t,n){let s=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function y(...k){g||(g=!0,t.apply(null,k))}function _(k){a=setTimeout(()=>{a=null,e(x,m())},k)}function b(){l&&clearTimeout(l)}function x(k,...F){if(g){b();return}if(k){b(),y.call(null,k,...F);return}if(m()||c){b(),y.call(null,k,...F);return}s<64&&(s*=2);let K;d===1?(d=2,K=0):K=(s+Math.random())*1e3,_(K)}let O=!1;function B(k){O||(O=!0,b(),!g&&(a!==null?(k||(d=2),clearTimeout(a),_(0)):k||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,B(!0)},n),B}function yL(e){e(!1)}function vL(e){return e!==void 0}function Iw(e,t,n,s){if(s<t)throw Cw(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw Cw(`Invalid value for '${e}'. Expected ${n} or less.`)}function _L(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const a=t(s)+"="+t(e[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var sd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(sd||(sd={}));function TL(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}class EL{constructor(t,n,s,a,l,c,d,m,g,y,_,b=!0,x=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,B)=>{this.resolve_=O,this.reject_=B,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new mf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===sd.NO_ERROR,m=l.getStatus();if(!d||TL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===sd.ABORT;s(!1,new mf(!1,null,y));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new mf(g,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());vL(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=uL();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?HR():hL();c(m)}else{const m=cL();c(m)}};this.canceled_?n(!1,new mf(!1,null,!0)):this.backoffId_=gL(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&yL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mf{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function bL(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function wL(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function SL(e,t){t&&(e["X-Firebase-GMPID"]=t)}function AL(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function RL(e,t,n,s,a,l,c=!0,d=!1){const m=_L(e.urlParams),g=e.url+m,y=Object.assign({},e.headers);return SL(y,t),bL(y,n),wL(y,l),AL(y,s),new EL(g,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,d)}function xL(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function CL(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class rd{constructor(t,n){this._service=t,n instanceof yi?this._location=n:this._location=yi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new rd(t,n)}get root(){const t=new yi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CL(this._location.path)}get storage(){return this._service}get parent(){const t=xL(this._location.path);if(t===null)return null;const n=new yi(this._location.bucket,t);return new rd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw mL(t)}}function Dw(e,t){const n=t?.[aL];return n==null?null:yi.makeFromBucketSpec(n,e)}function IL(e,t,n,s={}){e.host=`${t}:${n}`;const a=ja(t);a&&(ky(`https://${e.host}/b`),Ly("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(e._overrideAuthToken=typeof l=="string"?l:IA(l,e.app.options.projectId))}class DL{constructor(t,n,s,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=qR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oL,this._maxUploadRetryTime=lL,this._requests=new Set,a!=null?this._bucket=yi.makeFromBucketSpec(a,this._host):this._bucket=Dw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,t):this._bucket=Dw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Iw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Iw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new rd(this,t)}_makeRequest(t,n,s,a,l=!0){if(this._deleted)return new pL(HR());{const c=RL(t,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,a).getPromise()}}const Nw="@firebase/storage",Mw="0.14.0";const GR="storage";function NL(e=By(),t){e=qe(e);const s=yd(e,GR).getImmediate({identifier:t}),a=RA("storage");return a&&ML(s,...a),s}function ML(e,t,n,s={}){IL(e,t,n,s)}function OL(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new DL(n,s,a,t,Ba)}function VL(){Oa(new Cr(GR,OL,"PUBLIC").setMultipleInstances(!0)),Hi(Nw,Mw,""),Hi(Nw,Mw,"esm2020")}VL();const PL={apiKey:"AIzaSyCGRAz4hNy9737rRC2XhGjihrroVFrBnyE",authDomain:"doctors-89de9.firebaseapp.com",projectId:"doctors-89de9",storageBucket:"doctors-89de9.firebasestorage.app",messagingSenderId:"843277629462",appId:"1:843277629462:web:c6ef4918f469d13dff5d37",measurementId:"G-RVBRHCX77H"},Ov=MA(PL),Vv=HV(Ov),Ss=F4(Ov);NL(Ov);const YR=V.createContext();function kL(){return V.useContext(YR)}function LL({children:e}){const[t,n]=V.useState(null),[s,a]=V.useState(null),[l,c]=V.useState(!0);V.useEffect(()=>OO(Vv,async g=>{if(n(g),g){const y=Hu(Ss,"users",g.uid),_=await iL(y);_.exists()&&a(_.data())}else a(null);c(!1)}),[]);const d={currentUser:t,userData:s,isDoctor:s?.role==="doctor"};return R.jsx(YR.Provider,{value:d,children:!l&&e})}const UL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Ow=e=>{const t=jL(e);return t.charAt(0).toUpperCase()+t.slice(1)},KR=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),BL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var zL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FL=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>V.createElement("svg",{ref:m,...zL,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:KR("lucide",a),...!l&&!BL(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>V.createElement(g,y)),...Array.isArray(l)?l:[l]]));const Se=(e,t)=>{const n=V.forwardRef(({className:s,...a},l)=>V.createElement(FL,{ref:l,iconNode:t,className:KR(`lucide-${UL(Ow(e))}`,`lucide-${e}`,s),...a}));return n.displayName=Ow(e),n};const qL=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sy=Se("activity",qL);const HL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GL=Se("arrow-right",HL);const YL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ry=Se("calendar",YL);const KL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],QL=Se("circle-alert",KL);const $L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QR=Se("circle-check",$L);const XL=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WL=Se("circle-play",XL);const JL=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Vw=Se("clipboard",JL);const ZL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t6=Se("clock",ZL);const e6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Pw=Se("external-link",e6);const n6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i6=Se("eye",n6);const s6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kw=Se("file-text",s6);const r6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],a6=Se("history",r6);const o6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],l6=Se("info",o6);const u6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],c6=Se("lock",u6);const h6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],f6=Se("mail",h6);const d6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],m6=Se("phone",d6);const p6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],g6=Se("shield-check",p6);const y6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],v6=Se("upload",y6);const _6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lw=Se("user",_6);const T6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$R=Se("users",T6);const E6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],b6=Se("x",E6),Pv=V.createContext({});function kv(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lv=typeof window<"u",XR=Lv?V.useLayoutEffect:V.useEffect,Bd=V.createContext(null);function Uv(e,t){e.indexOf(t)===-1&&e.push(t)}function jv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Vs=(e,t,n)=>n>t?t:n<e?e:n;let Bv=()=>{};const Ps={},WR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function JR(e){return typeof e=="object"&&e!==null}const ZR=e=>/^0[^.\s]+$/u.test(e);function zv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zn=e=>e,w6=(e,t)=>n=>t(e(n)),xc=(...e)=>e.reduce(w6),oc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Fv{constructor(){this.subscriptions=[]}add(t){return Uv(this.subscriptions,t),()=>jv(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ji=e=>e*1e3,Jn=e=>e/1e3;function tx(e,t){return t?e*(1e3/t):0}const ex=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,S6=1e-7,A6=12;function R6(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=ex(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>S6&&++d<A6);return c}function Cc(e,t,n,s){if(e===t&&n===s)return Zn;const a=l=>R6(l,0,1,e,n);return l=>l===0||l===1?l:ex(a(l),t,s)}const nx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ix=e=>t=>1-e(1-t),sx=Cc(.33,1.53,.69,.99),qv=ix(sx),rx=nx(qv),ax=e=>(e*=2)<1?.5*qv(e):.5*(2-Math.pow(2,-10*(e-1))),Hv=e=>1-Math.sin(Math.acos(e)),ox=ix(Hv),lx=nx(Hv),x6=Cc(.42,0,1,1),C6=Cc(0,0,.58,1),ux=Cc(.42,0,.58,1),I6=e=>Array.isArray(e)&&typeof e[0]!="number",cx=e=>Array.isArray(e)&&typeof e[0]=="number",D6={linear:Zn,easeIn:x6,easeInOut:ux,easeOut:C6,circIn:Hv,circInOut:lx,circOut:ox,backIn:qv,backInOut:rx,backOut:sx,anticipate:ax},N6=e=>typeof e=="string",Uw=e=>{if(cx(e)){Bv(e.length===4);const[t,n,s,a]=e;return Cc(t,n,s,a)}else if(N6(e))return D6[e];return e},pf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function M6(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,_=!1,b=!1)=>{const O=b&&a?n:s;return _&&c.add(y),O.has(y)||O.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const O6=40;function hx(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=pf.reduce((K,at)=>(K[at]=M6(l),K),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:b,render:x,postRender:O}=c,B=()=>{const K=Ps.useManualTiming?a.timestamp:performance.now();n=!1,Ps.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,O6),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),_.process(a),b.process(a),x.process(a),O.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(B))},k=()=>{n=!0,s=!0,a.isProcessing||e(B)};return{schedule:pf.reduce((K,at)=>{const rt=c[at];return K[at]=(ot,I=!1,A=!1)=>(n||k(),rt.schedule(ot,I,A)),K},{}),cancel:K=>{for(let at=0;at<pf.length;at++)c[pf[at]].cancel(K)},state:a,steps:c}}const{schedule:he,cancel:Pr,state:tn,steps:fg}=hx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let Nf;function V6(){Nf=void 0}const Sn={now:()=>(Nf===void 0&&Sn.set(tn.isProcessing||Ps.useManualTiming?tn.timestamp:performance.now()),Nf),set:e=>{Nf=e,queueMicrotask(V6)}},fx=e=>t=>typeof t=="string"&&t.startsWith(e),dx=fx("--"),P6=fx("var(--"),Gv=e=>P6(e)?k6.test(e.split("/*")[0].trim()):!1,k6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lc={...vl,transform:e=>Vs(0,1,e)},gf={...vl,default:1},Yu=e=>Math.round(e*1e5)/1e5,Yv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L6(e){return e==null}const U6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kv=(e,t)=>n=>!!(typeof n=="string"&&U6.test(n)&&n.startsWith(e)||t&&!L6(n)&&Object.prototype.hasOwnProperty.call(n,t)),mx=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Yv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},j6=e=>Vs(0,255,e),dg={...vl,transform:e=>Math.round(j6(e))},Ra={test:Kv("rgb","red"),parse:mx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+dg.transform(e)+", "+dg.transform(t)+", "+dg.transform(n)+", "+Yu(lc.transform(s))+")"};function B6(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ay={test:Kv("#"),parse:B6,transform:Ra.transform},Ic=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yr=Ic("deg"),Zi=Ic("%"),Et=Ic("px"),z6=Ic("vh"),F6=Ic("vw"),jw={...Zi,parse:e=>Zi.parse(e)/100,transform:e=>Zi.transform(e*100)},qo={test:Kv("hsl","hue"),parse:mx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Zi.transform(Yu(t))+", "+Zi.transform(Yu(n))+", "+Yu(lc.transform(s))+")"},Pe={test:e=>Ra.test(e)||ay.test(e)||qo.test(e),parse:e=>Ra.test(e)?Ra.parse(e):qo.test(e)?qo.parse(e):ay.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ra.transform(e):qo.transform(e),getAnimatableNone:e=>{const t=Pe.parse(e);return t.alpha=0,Pe.transform(t)}},q6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function H6(e){return isNaN(e)&&typeof e=="string"&&(e.match(Yv)?.length||0)+(e.match(q6)?.length||0)>0}const px="number",gx="color",G6="var",Y6="var(",Bw="${}",K6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(K6,m=>(Pe.test(m)?(s.color.push(l),a.push(gx),n.push(Pe.parse(m))):m.startsWith(Y6)?(s.var.push(l),a.push(G6),n.push(m)):(s.number.push(l),a.push(px),n.push(parseFloat(m))),++l,Bw)).split(Bw);return{values:n,split:d,indexes:s,types:a}}function yx(e){return uc(e).values}function vx(e){const{split:t,types:n}=uc(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===px?l+=Yu(a[c]):d===gx?l+=Pe.transform(a[c]):l+=a[c]}return l}}const Q6=e=>typeof e=="number"?0:Pe.test(e)?Pe.getAnimatableNone(e):e;function $6(e){const t=yx(e);return vx(e)(t.map(Q6))}const kr={test:H6,parse:yx,createTransformer:vx,getAnimatableNone:$6};function mg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function X6({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=mg(m,d,e+1/3),l=mg(m,d,e),c=mg(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function ad(e,t){return n=>n>0?t:e}const de=(e,t,n)=>e+(t-e)*n,pg=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},W6=[ay,Ra,qo],J6=e=>W6.find(t=>t.test(e));function zw(e){const t=J6(e);if(!t)return!1;let n=t.parse(e);return t===qo&&(n=X6(n)),n}const Fw=(e,t)=>{const n=zw(e),s=zw(t);if(!n||!s)return ad(e,t);const a={...n};return l=>(a.red=pg(n.red,s.red,l),a.green=pg(n.green,s.green,l),a.blue=pg(n.blue,s.blue,l),a.alpha=de(n.alpha,s.alpha,l),Ra.transform(a))},oy=new Set(["none","hidden"]);function Z6(e,t){return oy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function t3(e,t){return n=>de(e,t,n)}function Qv(e){return typeof e=="number"?t3:typeof e=="string"?Gv(e)?ad:Pe.test(e)?Fw:i3:Array.isArray(e)?_x:typeof e=="object"?Pe.test(e)?Fw:e3:ad}function _x(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Qv(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function e3(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Qv(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function n3(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const i3=(e,t)=>{const n=kr.createTransformer(t),s=uc(e),a=uc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?oy.has(e)&&!a.values.length||oy.has(t)&&!s.values.length?Z6(e,t):xc(_x(n3(s,a),a.values),n):ad(e,t)};function Tx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?de(e,t,n):Qv(e)(e,t)}const s3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>he.update(t,n),stop:()=>Pr(t),now:()=>tn.isProcessing?tn.timestamp:Sn.now()}},Ex=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},od=2e4;function $v(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<od;)t+=n,s=e.next(t);return t>=od?1/0:t}function r3(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min($v(s),od);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Jn(a)}}const a3=5;function bx(e,t,n){const s=Math.max(t-a3,0);return tx(n-e(s),t-s)}const ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gg=.001;function o3({duration:e=ye.duration,bounce:t=ye.bounce,velocity:n=ye.velocity,mass:s=ye.mass}){let a,l,c=1-t;c=Vs(ye.minDamping,ye.maxDamping,c),e=Vs(ye.minDuration,ye.maxDuration,Jn(e)),c<1?(a=g=>{const y=g*c,_=y*e,b=y-n,x=ly(g,c),O=Math.exp(-_);return gg-b/x*O},l=g=>{const _=g*c*e,b=_*n+n,x=Math.pow(c,2)*Math.pow(g,2)*e,O=Math.exp(-_),B=ly(Math.pow(g,2),c);return(-a(g)+gg>0?-1:1)*((b-x)*O)/B}):(a=g=>{const y=Math.exp(-g*e),_=(g-n)*e+1;return-gg+y*_},l=g=>{const y=Math.exp(-g*e),_=(n-g)*(e*e);return y*_});const d=5/e,m=u3(a,l,d);if(e=Ji(e),isNaN(m))return{stiffness:ye.stiffness,damping:ye.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const l3=12;function u3(e,t,n){let s=n;for(let a=1;a<l3;a++)s=s-e(s)/t(s);return s}function ly(e,t){return e*Math.sqrt(1-t*t)}const c3=["duration","bounce"],h3=["stiffness","damping","mass"];function qw(e,t){return t.some(n=>e[n]!==void 0)}function f3(e){let t={velocity:ye.velocity,stiffness:ye.stiffness,damping:ye.damping,mass:ye.mass,isResolvedFromDuration:!1,...e};if(!qw(e,h3)&&qw(e,c3))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Vs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ye.mass,stiffness:a,damping:l}}else{const n=o3(e);t={...t,...n,mass:ye.mass},t.isResolvedFromDuration=!0}return t}function ld(e=ye.visualDuration,t=ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:_,velocity:b,isResolvedFromDuration:x}=f3({...n,velocity:-Jn(n.velocity||0)}),O=b||0,B=g/(2*Math.sqrt(m*y)),k=c-l,F=Jn(Math.sqrt(m/y)),Y=Math.abs(k)<5;s||(s=Y?ye.restSpeed.granular:ye.restSpeed.default),a||(a=Y?ye.restDelta.granular:ye.restDelta.default);let K;if(B<1){const rt=ly(F,B);K=ot=>{const I=Math.exp(-B*F*ot);return c-I*((O+B*F*k)/rt*Math.sin(rt*ot)+k*Math.cos(rt*ot))}}else if(B===1)K=rt=>c-Math.exp(-F*rt)*(k+(O+F*k)*rt);else{const rt=F*Math.sqrt(B*B-1);K=ot=>{const I=Math.exp(-B*F*ot),A=Math.min(rt*ot,300);return c-I*((O+B*F*k)*Math.sinh(A)+rt*k*Math.cosh(A))/rt}}const at={calculatedDuration:x&&_||null,next:rt=>{const ot=K(rt);if(x)d.done=rt>=_;else{let I=rt===0?O:0;B<1&&(I=rt===0?Ji(O):bx(K,rt,ot));const A=Math.abs(I)<=s,D=Math.abs(c-ot)<=a;d.done=A&&D}return d.value=d.done?c:ot,d},toString:()=>{const rt=Math.min($v(at),od),ot=Ex(I=>at.next(rt*I).value,rt,30);return rt+"ms "+ot},toTransition:()=>{}};return at}ld.applyToOptions=e=>{const t=r3(e,100,ld);return e.ease=t.ease,e.duration=Ji(t.duration),e.type="keyframes",e};function uy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},x=A=>d!==void 0&&A<d||m!==void 0&&A>m,O=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let B=n*t;const k=_+B,F=c===void 0?k:c(k);F!==k&&(B=F-_);const Y=A=>-B*Math.exp(-A/s),K=A=>F+Y(A),at=A=>{const D=Y(A),P=K(A);b.done=Math.abs(D)<=g,b.value=b.done?F:P};let rt,ot;const I=A=>{x(b.value)&&(rt=A,ot=ld({keyframes:[b.value,O(b.value)],velocity:bx(K,A,b.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return I(0),{calculatedDuration:null,next:A=>{let D=!1;return!ot&&rt===void 0&&(D=!0,at(A),I(A)),rt!==void 0&&A>=rt?ot.next(A-rt):(!D&&at(A),b)}}}function d3(e,t,n){const s=[],a=n||Ps.mix||Tx,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Zn:t;d=xc(m,d)}s.push(d)}return s}function m3(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Bv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=d3(t,s,a),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=oc(e[_],e[_+1],y);return d[_](b)};return n?y=>g(Vs(e[0],e[l-1],y)):g}function p3(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=oc(0,t,s);e.push(de(n,1,a))}}function g3(e){const t=[0];return p3(t,e.length-1),t}function y3(e,t){return e.map(n=>n*t)}function v3(e,t){return e.map(()=>t||ux).splice(0,e.length-1)}function Ku({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=I6(s)?s.map(Uw):Uw(s),l={done:!1,value:t[0]},c=y3(n&&n.length===t.length?n:g3(t),e),d=m3(c,t,{ease:Array.isArray(a)?a:v3(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const _3=e=>e!==null;function Xv(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(_3),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const T3={decay:uy,inertia:uy,tween:Ku,keyframes:Ku,spring:ld};function wx(e){typeof e.type=="string"&&(e.type=T3[e.type])}class Wv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const E3=e=>e/100;class Jv extends Wv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wx(t);const{type:n=Ku,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Ku;m!==Ku&&typeof d[0]!="number"&&(this.mixKeyframes=xc(E3,Tx(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=$v(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:x,type:O,onUpdate:B,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,at=s;if(_){const A=Math.min(this.currentTime,a)/d;let D=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&D--,D=Math.min(D,_+1),D%2&&(b==="reverse"?(P=1-P,x&&(P-=x/d)):b==="mirror"&&(at=c)),K=Vs(0,1,P)*d}const rt=Y?{done:!1,value:y[0]}:at.next(K);l&&(rt.value=l(rt.value));let{done:ot}=rt;!Y&&m!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return I&&O!==uy&&(rt.value=Xv(y,this.options,k,this.speed)),B&&B(rt.value),I&&this.finish(),rt}then(t,n){return this.finished.then(t,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(this.currentTime)}set time(t){t=Ji(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Sn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Jn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=s3,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function b3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xa=e=>e*180/Math.PI,cy=e=>{const t=xa(Math.atan2(e[1],e[0]));return hy(t)},w3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cy,rotateZ:cy,skewX:e=>xa(Math.atan(e[1])),skewY:e=>xa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hy=e=>(e=e%360,e<0&&(e+=360),e),Hw=cy,Gw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Yw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),S3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gw,scaleY:Yw,scale:e=>(Gw(e)+Yw(e))/2,rotateX:e=>hy(xa(Math.atan2(e[6],e[5]))),rotateY:e=>hy(xa(Math.atan2(-e[2],e[0]))),rotateZ:Hw,rotate:Hw,skewX:e=>xa(Math.atan(e[4])),skewY:e=>xa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fy(e){return e.includes("scale")?1:0}function dy(e,t){if(!e||e==="none")return fy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=S3,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=w3,a=d}if(!a)return fy(t);const l=s[t],c=a[1].split(",").map(R3);return typeof l=="function"?l(c):c[l]}const A3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return dy(n,t)};function R3(e){return parseFloat(e.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(_l),Kw=e=>e===vl||e===Et,x3=new Set(["x","y","z"]),C3=_l.filter(e=>!x3.has(e));function I3(e){const t=[];return C3.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Da={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dy(t,"x"),y:(e,{transform:t})=>dy(t,"y")};Da.translateX=Da.x;Da.translateY=Da.y;const Na=new Set;let my=!1,py=!1,gy=!1;function Sx(){if(py){const e=Array.from(Na).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=I3(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}py=!1,my=!1,Na.forEach(e=>e.complete(gy)),Na.clear()}function Ax(){Na.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(py=!0)})}function D3(){gy=!0,Ax(),Sx(),gy=!1}class Zv{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Na.add(this),my||(my=!0,he.read(Ax),he.resolveKeyframes(Sx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}b3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Na.delete(this)}cancel(){this.state==="scheduled"&&(Na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const N3=e=>e.startsWith("--");function M3(e,t,n){N3(t)?e.style.setProperty(t,n):e.style[t]=n}const O3=zv(()=>window.ScrollTimeline!==void 0),V3={};function P3(e,t){const n=zv(e);return()=>V3[t]??n()}const Rx=P3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Qw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function xx(e,t){if(e)return typeof e=="function"?Rx()?Ex(e,t):"ease-out":cx(e)?Lu(e):Array.isArray(e)?e.map(n=>xx(n,t)||Qw.easeOut):Qw[e]}function k3(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const _=xx(d,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(y,b)}function Cx(e){return typeof e=="function"&&"applyToOptions"in e}function L3({type:e,...t}){return Cx(e)&&Rx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class U3 extends Wv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Bv(typeof t.type!="string");const g=L3(t);this.animation=k3(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Xv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):M3(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Jn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ji(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&O3()?(this.animation.timeline=t,Zn):n(this)}}const Ix={anticipate:ax,backInOut:rx,circInOut:lx};function j3(e){return e in Ix}function B3(e){typeof e.ease=="string"&&j3(e.ease)&&(e.ease=Ix[e.ease])}const $w=10;class z3 extends U3{constructor(t){B3(t),wx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Jv({...c,autoplay:!1}),m=Ji(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-$w).value,d.sample(m).value,$w),d.stop()}}const Xw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kr.test(e)||e==="0")&&!e.startsWith("url("));function F3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function q3(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Xw(a,t),d=Xw(l,t);return!c||!d?!1:F3(e)||(n==="spring"||Cx(n))&&s}function yy(e){e.duration=0,e.type="keyframes"}const H3=new Set(["opacity","clipPath","filter","transform"]),G3=zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y3(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return G3()&&n&&H3.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const K3=40;class Q3 extends Wv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Sn.now();const b={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,..._},x=y?.KeyframeResolver||Zv;this.keyframeResolver=new x(d,(O,B,k)=>this.onKeyframesResolved(O,B,b,!k),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=Sn.now(),q3(t,l,c,d)||((Ps.instantAnimations||!m)&&y?.(Xv(t,s,n)),t[0]=t[t.length-1],yy(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>K3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},x=!g&&Y3(b)?new z3({...b,element:b.motionValue.owner.current}):new Jv(b);x.finished.then(()=>this.notifyFinished()).catch(Zn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),D3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X3(e){const t=$3.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function Dx(e,t,n=1){const[s,a]=X3(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return WR(c)?parseFloat(c):c}return Gv(a)?Dx(a,t,n+1):a}function t_(e,t){return e?.[t]??e?.default??e}const Nx=new Set(["width","height","top","left","right","bottom",..._l]),W3={test:e=>e==="auto",parse:e=>e},Mx=e=>t=>t.test(e),Ox=[vl,Et,Zi,yr,F6,z6,W3],Ww=e=>Ox.find(Mx(e));function J3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ZR(e):!0}const Z3=new Set(["brightness","contrast","saturate","opacity"]);function tU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Yv)||[];if(!s)return e;const a=n.replace(s,"");let l=Z3.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const eU=/\b([a-z-]*)\(.*?\)/gu,vy={...kr,getAnimatableNone:e=>{const t=e.match(eU);return t?t.map(tU).join(" "):e}},Jw={...vl,transform:Math.round},nU={rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:gf,scaleX:gf,scaleY:gf,scaleZ:gf,skew:yr,skewX:yr,skewY:yr,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:lc,originX:jw,originY:jw,originZ:Et},e_={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...nU,zIndex:Jw,fillOpacity:lc,strokeOpacity:lc,numOctaves:Jw},iU={...e_,color:Pe,backgroundColor:Pe,outlineColor:Pe,fill:Pe,stroke:Pe,borderColor:Pe,borderTopColor:Pe,borderRightColor:Pe,borderBottomColor:Pe,borderLeftColor:Pe,filter:vy,WebkitFilter:vy},Vx=e=>iU[e];function Px(e,t){let n=Vx(e);return n!==vy&&(n=kr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sU=new Set(["auto","none","0"]);function rU(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!sU.has(l)&&uc(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=Px(n,a)}class aU extends Zv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Gv(g))){const y=Dx(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Nx.has(s)||t.length!==2)return;const[a,l]=t,c=Ww(a),d=Ww(l);if(c!==d)if(Kw(c)&&Kw(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Da[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||J3(t[a]))&&s.push(a);s.length&&rU(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Da[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Da[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function oU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const kx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Lx(e){return JR(e)&&"offsetHeight"in e}const Zw=30,lU=e=>!isNaN(parseFloat(e));class uU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Sn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Fv);const s=this.events[t].add(n);return t==="change"?()=>{s(),he.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Zw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Zw);return tx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(e,t){return new uU(e,t)}const{schedule:n_}=hx(queueMicrotask,!1),pi={x:!1,y:!1};function Ux(){return pi.x||pi.y}function cU(e){return e==="x"||e==="y"?pi[e]?null:(pi[e]=!0,()=>{pi[e]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}function jx(e,t){const n=oU(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function tS(e){return!(e.pointerType==="touch"||Ux())}function hU(e,t,n={}){const[s,a,l]=jx(e,n),c=d=>{if(!tS(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=_=>{tS(_)&&(g(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const Bx=(e,t)=>t?e===t?!0:Bx(e,t.parentElement):!1,i_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dU(e){return fU.has(e.tagName)||e.tabIndex!==-1}const Mf=new WeakSet;function eS(e){return t=>{t.key==="Enter"&&e(t)}}function yg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mU=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=eS(()=>{if(Mf.has(n))return;yg(n,"down");const a=eS(()=>{yg(n,"up")}),l=()=>yg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function nS(e){return i_(e)&&!Ux()}function pU(e,t,n={}){const[s,a,l]=jx(e,n),c=d=>{const m=d.currentTarget;if(!nS(d))return;Mf.add(m);const g=t(m,d),y=(x,O)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),Mf.has(m)&&Mf.delete(m),nS(x)&&typeof g=="function"&&g(x,{success:O})},_=x=>{y(x,m===window||m===document||n.useGlobalTarget||Bx(m,x.target))},b=x=>{y(x,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Lx(d)&&(d.addEventListener("focus",g=>mU(g,a)),!dU(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function zx(e){return JR(e)&&"ownerSVGElement"in e}function gU(e){return zx(e)&&e.tagName==="svg"}const un=e=>!!(e&&e.getVelocity),yU=[...Ox,Pe,kr],vU=e=>yU.find(Mx(e)),s_=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function iS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _U(...e){return t=>{let n=!1;const s=e.map(a=>{const l=iS(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():iS(e[a],null)}}}}function TU(...e){return V.useCallback(_U(...e),e)}class EU extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Lx(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bU({children:e,isPresent:t,anchorX:n,root:s}){const a=V.useId(),l=V.useRef(null),c=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=V.useContext(s_),m=TU(l,e?.ref);return V.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:b,right:x}=c.current;if(t||!l.current||!g||!y)return;const O=n==="left"?`left: ${b}`:`right: ${x}`;l.current.dataset.motionPopId=a;const B=document.createElement("style");d&&(B.nonce=d);const k=s??document.head;return k.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${O}px !important;
            top: ${_}px !important;
          }
        `),()=>{k.contains(B)&&k.removeChild(B)}},[t]),R.jsx(EU,{isPresent:t,childRef:l,sizeRef:c,children:V.cloneElement(e,{ref:m})})}const wU=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const g=kv(SU),y=V.useId();let _=!0,b=V.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:x=>{g.set(x,!0);for(const O of g.values())if(!O)return;s&&s()},register:x=>(g.set(x,!1),()=>g.delete(x))}),[n,g,s]);return l&&_&&(b={...b}),V.useMemo(()=>{g.forEach((x,O)=>g.set(O,!1))},[n]),V.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(e=R.jsx(bU,{isPresent:n,anchorX:d,root:m,children:e})),R.jsx(Bd.Provider,{value:b,children:e})};function SU(){return new Map}function Fx(e=!0){const t=V.useContext(Bd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=V.useId();V.useEffect(()=>{if(e)return a(l)},[e]);const c=V.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const yf=e=>e.key||"";function sS(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const qx=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,y]=Fx(c),_=V.useMemo(()=>sS(e),[e]),b=c&&!g?[]:_.map(yf),x=V.useRef(!0),O=V.useRef(_),B=kv(()=>new Map),[k,F]=V.useState(_),[Y,K]=V.useState(_);XR(()=>{x.current=!1,O.current=_;for(let ot=0;ot<Y.length;ot++){const I=yf(Y[ot]);b.includes(I)?B.delete(I):B.get(I)!==!0&&B.set(I,!1)}},[Y,b.length,b.join("-")]);const at=[];if(_!==k){let ot=[..._];for(let I=0;I<Y.length;I++){const A=Y[I],D=yf(A);b.includes(D)||(ot.splice(I,0,A),at.push(A))}return l==="wait"&&at.length&&(ot=at),K(sS(ot)),F(_),null}const{forceRender:rt}=V.useContext(Pv);return R.jsx(R.Fragment,{children:Y.map(ot=>{const I=yf(ot),A=c&&!g?!1:_===Y||b.includes(I),D=()=>{if(B.has(I))B.set(I,!0);else return;let P=!0;B.forEach(C=>{C||(P=!1)}),P&&(rt?.(),K(O.current),c&&y?.(),s&&s())};return R.jsx(wU,{isPresent:A,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:A?void 0:D,anchorX:d,children:ot},I)})})},Hx=V.createContext({strict:!1}),rS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const e in rS)ll[e]={isEnabled:t=>rS[e].some(n=>!!t[n])};function AU(e){for(const t in e)ll[t]={...ll[t],...e[t]}}const RU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ud(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||RU.has(e)}let Gx=e=>!ud(e);function xU(e){typeof e=="function"&&(Gx=t=>t.startsWith("on")?!ud(t):e(t))}try{xU(require("@emotion/is-prop-valid").default)}catch{}function CU(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(Gx(a)||n===!0&&ud(a)||!t&&!ud(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const zd=V.createContext({});function Fd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function cc(e){return typeof e=="string"||Array.isArray(e)}const r_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a_=["initial",...r_];function qd(e){return Fd(e.animate)||a_.some(t=>cc(e[t]))}function Yx(e){return!!(qd(e)||e.variants)}function IU(e,t){if(qd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||cc(n)?n:void 0,animate:cc(s)?s:void 0}}return e.inherit!==!1?t:{}}function DU(e){const{initial:t,animate:n}=IU(e,V.useContext(zd));return V.useMemo(()=>({initial:t,animate:n}),[aS(t),aS(n)])}function aS(e){return Array.isArray(e)?e.join(" "):e}function oS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Et.test(e))e=parseFloat(e);else return e;const n=oS(e,t.target.x),s=oS(e,t.target.y);return`${n}% ${s}%`}},NU={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=kr.parse(e);if(a.length>5)return s;const l=kr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=de(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},_y={borderRadius:{...Cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cu,borderTopRightRadius:Cu,borderBottomLeftRadius:Cu,borderBottomRightRadius:Cu,boxShadow:NU};function Kx(e,{layout:t,layoutId:n}){return Tl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_y[e]||e==="opacity")}const MU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OU=_l.length;function VU(e,t,n){let s="",a=!0;for(let l=0;l<OU;l++){const c=_l[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=kx(d,e_[c]);if(!m){a=!1;const y=MU[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function o_(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(Tl.has(m)){c=!0;continue}else if(dx(m)){a[m]=g;continue}else{const y=kx(g,e_[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=VU(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const l_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qx(e,t,n){for(const s in t)!un(t[s])&&!Kx(s,n)&&(e[s]=t[s])}function PU({transformTemplate:e},t){return V.useMemo(()=>{const n=l_();return o_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function kU(e,t){const n=e.style||{},s={};return Qx(s,n,e),Object.assign(s,PU(e,t)),s}function LU(e,t){const n={},s=kU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const UU={offset:"stroke-dashoffset",array:"stroke-dasharray"},jU={offset:"strokeDashoffset",array:"strokeDasharray"};function BU(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?UU:jU;e[l.offset]=Et.transform(-s);const c=Et.transform(t),d=Et.transform(n);e[l.array]=`${c} ${d}`}function $x(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,y){if(o_(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b}=e;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&BU(_,a,l,c,!1)}const Xx=()=>({...l_(),attrs:{}}),Wx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zU(e,t,n,s){const a=V.useMemo(()=>{const l=Xx();return $x(l,t,Wx(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Qx(l,e.style,e),a.style={...l,...a.style}}return a}const FU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u_(e){return typeof e!="string"||e.includes("-")?!1:!!(FU.indexOf(e)>-1||/[A-Z]/u.test(e))}function qU(e,t,n,{latestValues:s},a,l=!1){const d=(u_(e)?zU:LU)(t,s,a,e),m=CU(t,typeof e=="string",l),g=e!==V.Fragment?{...m,...d,ref:n}:{},{children:y}=t,_=V.useMemo(()=>un(y)?y.get():y,[y]);return V.createElement(e,{...g,children:_})}function lS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function c_(e,t,n,s){if(typeof t=="function"){const[a,l]=lS(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=lS(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Of(e){return un(e)?e.get():e}function HU({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:GU(n,s,a,e),renderState:t()}}function GU(e,t,n,s){const a={},l=s(e,{});for(const b in l)a[b]=Of(l[b]);let{initial:c,animate:d}=e;const m=qd(e),g=Yx(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Fd(_)){const b=Array.isArray(_)?_:[_];for(let x=0;x<b.length;x++){const O=c_(e,b[x]);if(O){const{transitionEnd:B,transition:k,...F}=O;for(const Y in F){let K=F[Y];if(Array.isArray(K)){const at=y?K.length-1:0;K=K[at]}K!==null&&(a[Y]=K)}for(const Y in B)a[Y]=B[Y]}}}return a}const Jx=e=>(t,n)=>{const s=V.useContext(zd),a=V.useContext(Bd),l=()=>HU(e,t,s,a);return n?l():kv(l)};function h_(e,t,n){const{style:s}=e,a={};for(const l in s)(un(s[l])||t.style&&un(t.style[l])||Kx(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const YU=Jx({scrapeMotionValuesFromProps:h_,createRenderState:l_});function Zx(e,t,n){const s=h_(e,t,n);for(const a in e)if(un(e[a])||un(t[a])){const l=_l.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const KU=Jx({scrapeMotionValuesFromProps:Zx,createRenderState:Xx}),QU=Symbol.for("motionComponentSymbol");function Ho(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $U(e,t,n){return V.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Ho(n)&&(n.current=s))},[t])}const f_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XU="framerAppearId",tC="data-"+f_(XU),eC=V.createContext({});function WU(e,t,n,s,a){const{visualElement:l}=V.useContext(zd),c=V.useContext(Hx),d=V.useContext(Bd),m=V.useContext(s_).reducedMotion,g=V.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=V.useContext(eC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&JU(g.current,n,a,_);const b=V.useRef(!1);V.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const x=n[tC],O=V.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return XR(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),O.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!O.current&&y.animationState&&y.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),O.current=!1),y.enteringChildren=void 0)}),y}function JU(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:nC(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ho(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function nC(e){if(e)return e.options.allowProjection!==!1?e.projection:nC(e.parent)}function vg(e,{forwardMotionProps:t=!1}={},n,s){n&&AU(n);const a=u_(e)?KU:YU;function l(d,m){let g;const y={...V.useContext(s_),...d,layoutId:ZU(d)},{isStatic:_}=y,b=DU(d),x=a(d,_);if(!_&&Lv){t5();const O=e5(y);g=O.MeasureLayout,b.visualElement=WU(e,x,y,s,O.ProjectionNode)}return R.jsxs(zd.Provider,{value:b,children:[g&&b.visualElement?R.jsx(g,{visualElement:b.visualElement,...y}):null,qU(e,d,$U(x,b.visualElement,m),x,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=V.forwardRef(l);return c[QU]=e,c}function ZU({layoutId:e}){const t=V.useContext(Pv).id;return t&&e!==void 0?t+"-"+e:e}function t5(e,t){V.useContext(Hx).strict}function e5(e){const{drag:t,layout:n}=ll;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function n5(e,t){if(typeof Proxy>"u")return vg;const n=new Map,s=(l,c)=>vg(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,vg(c,void 0,e,t)),n.get(c))})}function iC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function i5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function s5(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function _g(e){return e===void 0||e===1}function Ty({scale:e,scaleX:t,scaleY:n}){return!_g(e)||!_g(t)||!_g(n)}function ba(e){return Ty(e)||sC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sC(e){return uS(e.x)||uS(e.y)}function uS(e){return e&&e!=="0%"}function cd(e,t,n){const s=e-n,a=t*s;return n+a}function cS(e,t,n,s,a){return a!==void 0&&(e=cd(e,a,s)),cd(e,n,s)+t}function Ey(e,t=0,n=1,s,a){e.min=cS(e.min,t,n,s,a),e.max=cS(e.max,t,n,s,a)}function rC(e,{x:t,y:n}){Ey(e.x,t.translate,t.scale,t.originPoint),Ey(e.y,n.translate,n.scale,n.originPoint)}const hS=.999999999999,fS=1.0000000000001;function r5(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Yo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,rC(e,c)),s&&ba(l.latestValues)&&Yo(e,l.latestValues))}t.x<fS&&t.x>hS&&(t.x=1),t.y<fS&&t.y>hS&&(t.y=1)}function Go(e,t){e.min=e.min+t,e.max=e.max+t}function dS(e,t,n,s,a=.5){const l=de(e.min,e.max,a);Ey(e,t,n,l,s)}function Yo(e,t){dS(e.x,t.x,t.scaleX,t.scale,t.originX),dS(e.y,t.y,t.scaleY,t.scale,t.originY)}function aC(e,t){return iC(s5(e.getBoundingClientRect(),t))}function a5(e,t,n){const s=aC(e,n),{scroll:a}=t;return a&&(Go(s.x,a.offset.x),Go(s.y,a.offset.y)),s}const mS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:mS(),y:mS()}),pS=()=>({min:0,max:0}),ze=()=>({x:pS(),y:pS()}),by={current:null},oC={current:!1};function o5(){if(oC.current=!0,!!Lv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>by.current=e.matches;e.addEventListener("change",t),t()}else by.current=!1}const l5=new WeakMap;function u5(e,t,n){for(const s in t){const a=t[s],l=n[s];if(un(a))e.addValue(s,a);else if(un(l))e.addValue(s,ol(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,ol(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const gS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class c5{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Sn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,he.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=qd(n),this.isVariantNode=Yx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const x=_[b];m[b]!==void 0&&un(x)&&x.set(m[b])}}mount(t){this.current=t,l5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),oC.current||o5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:by.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Tl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&he.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ll){const n=ll[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<gS.length;s++){const a=gS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=u5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ol(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(WR(s)||ZR(s))?s=parseFloat(s):!vU(s)&&kr.test(n)&&(s=Px(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=c_(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Fv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){n_.render(this.render)}}class lC extends c5{constructor(){super(...arguments),this.KeyframeResolver=aU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uC(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function h5(e){return window.getComputedStyle(e)}class f5 extends lC{constructor(){super(...arguments),this.type="html",this.renderInstance=uC}readValueFromInstance(t,n){if(Tl.has(n))return this.projection?.isProjecting?fy(n):A3(t,n);{const s=h5(t),a=(dx(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return aC(t,n)}build(t,n,s){o_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return h_(t,n,s)}}const cC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d5(e,t,n,s){uC(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(cC.has(a)?a:f_(a),t.attrs[a])}class m5 extends lC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tl.has(n)){const s=Vx(n);return s&&s.default||0}return n=cC.has(n)?n:f_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Zx(t,n,s)}build(t,n,s){$x(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){d5(t,n,s,a)}mount(t){this.isSVGTag=Wx(t.tagName),super.mount(t)}}const p5=(e,t)=>u_(e)?new m5(t):new f5(t,{allowProjection:e!==V.Fragment});function Jo(e,t,n){const s=e.getProps();return c_(s,t,n!==void 0?n:s.custom,e)}const wy=e=>Array.isArray(e);function g5(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ol(n))}function y5(e){return wy(e)?e[e.length-1]||0:e}function v5(e,t){const n=Jo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=y5(l[c]);g5(e,c,d)}}function _5(e){return!!(un(e)&&e.add)}function Sy(e,t){const n=e.getValue("willChange");if(_5(n))return n.add(t);if(!n&&Ps.WillChange){const s=new Ps.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function hC(e){return e.props[tC]}const T5=e=>e!==null;function E5(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(T5),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const b5={type:"spring",stiffness:500,damping:25,restSpeed:10},w5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S5={type:"keyframes",duration:.8},A5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R5=(e,{keyframes:t})=>t.length>2?S5:Tl.has(e)?e.startsWith("scale")?w5(t[1]):b5:A5;function x5({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const d_=(e,t,n,s={},a,l)=>c=>{const d=t_(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ji(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};x5(d)||Object.assign(y,R5(e,y)),y.duration&&(y.duration=Ji(y.duration)),y.repeatDelay&&(y.repeatDelay=Ji(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(yy(y),y.delay===0&&(_=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(_=!0,yy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const b=E5(y.keyframes,d);if(b!==void 0){he.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new Jv(y):new Q3(y)};function C5({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function fC(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),b=d[y];if(b===void 0||g&&C5(g,y))continue;const x={delay:n,...t_(l||{},y)},O=_.get();if(O!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===O&&!x.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const F=hC(e);if(F){const Y=window.MotionHandoffAnimation(F,y,he);Y!==null&&(x.startTime=Y,B=!0)}}Sy(e,y),_.start(d_(y,_,b,e.shouldReduceMotion&&Nx.has(y)?{type:!1}:x,e,B));const k=_.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{he.update(()=>{c&&v5(e,c)})}),m}function dC(e,t,n,s=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Ay(e,t,n={}){const s=Jo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(fC(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return I5(e,t,m,g,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function I5(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Ay(m,t,{...c,delay:n+(typeof s=="function"?0:s)+dC(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function D5(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Ay(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Ay(e,t,n);else{const a=typeof t=="function"?Jo(e,t,n.custom):t;s=Promise.all(fC(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function mC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const N5=a_.length;function pC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<N5;n++){const s=a_[n],a=e.props[s];(cc(a)||a===!1)&&(t[s]=a)}return t}const M5=[...r_].reverse(),O5=r_.length;function V5(e){return t=>Promise.all(t.map(({animation:n,options:s})=>D5(e,n,s)))}function P5(e){let t=V5(e),n=yS(),s=!0;const a=m=>(g,y)=>{const _=Jo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:x,...O}=_;g={...g,...O,...x}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,y=pC(e.parent)||{},_=[],b=new Set;let x={},O=1/0;for(let k=0;k<O5;k++){const F=M5[k],Y=n[F],K=g[F]!==void 0?g[F]:y[F],at=cc(K),rt=F===m?Y.isActive:null;rt===!1&&(O=k);let ot=K===y[F]&&K!==g[F]&&at;if(ot&&s&&e.manuallyAnimateOnMount&&(ot=!1),Y.protectedKeys={...x},!Y.isActive&&rt===null||!K&&!Y.prevProp||Fd(K)||typeof K=="boolean")continue;const I=k5(Y.prevProp,K);let A=I||F===m&&Y.isActive&&!ot&&at||k>O&&at,D=!1;const P=Array.isArray(K)?K:[K];let C=P.reduce(a(F),{});rt===!1&&(C={});const{prevResolvedValues:U={}}=Y,N={...U,...C},Ct=st=>{A=!0,b.has(st)&&(D=!0,b.delete(st)),Y.needsAnimating[st]=!0;const dt=e.getValue(st);dt&&(dt.liveStyle=!1)};for(const st in N){const dt=C[st],It=U[st];if(x.hasOwnProperty(st))continue;let Pt=!1;wy(dt)&&wy(It)?Pt=!mC(dt,It):Pt=dt!==It,Pt?dt!=null?Ct(st):b.add(st):dt!==void 0&&b.has(st)?Ct(st):Y.protectedKeys[st]=!0}Y.prevProp=K,Y.prevResolvedValues=C,Y.isActive&&(x={...x,...C}),s&&e.blockInitialAnimation&&(A=!1);const Vt=ot&&I;A&&(!Vt||D)&&_.push(...P.map(st=>{const dt={type:F};if(typeof st=="string"&&s&&!Vt&&e.manuallyAnimateOnMount&&e.parent){const{parent:It}=e,Pt=Jo(It,st);if(It.enteringChildren&&Pt){const{delayChildren:j}=Pt.transition||{};dt.delay=dC(It.enteringChildren,e,j)}}return{animation:st,options:dt}}))}if(b.size){const k={};if(typeof g.initial!="boolean"){const F=Jo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(k.transition=F.transition)}b.forEach(F=>{const Y=e.getBaseTarget(F),K=e.getValue(F);K&&(K.liveStyle=!0),k[F]=Y??null}),_.push({animation:k})}let B=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(B=!1),s=!1,B?t(_):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=yS()}}}function k5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mC(t,e):!1}function Ta(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yS(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}class Fr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class L5 extends Fr{constructor(t){super(t),t.animationState||(t.animationState=P5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let U5=0;class j5 extends Fr{constructor(){super(...arguments),this.id=U5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const B5={animation:{Feature:L5},exit:{Feature:j5}};function hc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Dc(e){return{point:{x:e.pageX,y:e.pageY}}}const z5=e=>t=>i_(t)&&e(t,Dc(t));function Qu(e,t,n,s){return hc(e,t,z5(n),s)}const gC=1e-4,F5=1-gC,q5=1+gC,yC=.01,H5=0-yC,G5=0+yC;function mn(e){return e.max-e.min}function Y5(e,t,n){return Math.abs(e-t)<=n}function vS(e,t,n,s=.5){e.origin=s,e.originPoint=de(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=de(n.min,n.max,e.origin)-e.originPoint,(e.scale>=F5&&e.scale<=q5||isNaN(e.scale))&&(e.scale=1),(e.translate>=H5&&e.translate<=G5||isNaN(e.translate))&&(e.translate=0)}function $u(e,t,n,s){vS(e.x,t.x,n.x,s?s.originX:void 0),vS(e.y,t.y,n.y,s?s.originY:void 0)}function _S(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function K5(e,t,n){_S(e.x,t.x,n.x),_S(e.y,t.y,n.y)}function TS(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function hd(e,t,n){TS(e.x,t.x,n.x),TS(e.y,t.y,n.y)}function $n(e){return[e("x"),e("y")]}const vC=({current:e})=>e?e.ownerDocument.defaultView:null,ES=(e,t)=>Math.abs(e-t);function Q5(e,t){const n=ES(e.x,t.x),s=ES(e.y,t.y);return Math.sqrt(n**2+s**2)}class _C{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Eg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,O=Q5(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!O)return;const{point:B}=b,{timestamp:k}=tn;this.history.push({...B,timestamp:k});const{onStart:F,onMove:Y}=this.handlers;x||(F&&F(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Tg(x,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:O,onSessionEnd:B,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Eg(b.type==="pointercancel"?this.lastMoveEventInfo:Tg(x,this.transformPagePoint),this.history);this.startEvent&&O&&O(b,F),B&&B(b,F)},!i_(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Dc(t),m=Tg(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=tn;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,Eg(m,this.history)),this.removeListeners=xc(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pr(this.updatePoint)}}function Tg(e,t){return t?{point:t(e.point)}:e}function bS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Eg({point:e},t){return{point:e,delta:bS(e,TC(t)),offset:bS(e,$5(t)),velocity:X5(t,.1)}}function $5(e){return e[0]}function TC(e){return e[e.length-1]}function X5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=TC(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Ji(t)));)n--;if(!s)return{x:0,y:0};const l=Jn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function W5(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?de(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?de(n,e,s.max):Math.min(e,n)),e}function wS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function J5(e,{top:t,left:n,bottom:s,right:a}){return{x:wS(e.x,n,a),y:wS(e.y,t,s)}}function SS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Z5(e,t){return{x:SS(e.x,t.x),y:SS(e.y,t.y)}}function t9(e,t){let n=.5;const s=mn(e),a=mn(t);return a>s?n=oc(t.min,t.max-s,e.min):s>a&&(n=oc(e.min,e.max-a,t.min)),Vs(0,1,n)}function e9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ry=.35;function n9(e=Ry){return e===!1?e=0:e===!0&&(e=Ry),{x:AS(e,"left","right"),y:AS(e,"top","bottom")}}function AS(e,t,n){return{min:RS(e,t),max:RS(e,n)}}function RS(e,t){return typeof e=="number"?e:e[t]||0}const i9=new WeakMap;class s9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dc(_).point)},c=(_,b)=>{const{drag:x,dragPropagation:O,onDragStart:B}=this.getProps();if(x&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cU(x),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(F=>{let Y=this.getAxisMotionValue(F).get()||0;if(Zi.test(Y)){const{projection:K}=this.visualElement;if(K&&K.layout){const at=K.layout.layoutBox[F];at&&(Y=mn(at)*(parseFloat(Y)/100))}}this.originPoint[F]=Y}),B&&he.postRender(()=>B(_,b)),Sy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:O,onDirectionLock:B,onDrag:k}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:F}=b;if(O&&this.currentDirection===null){this.currentDirection=r9(F),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),k&&k(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>$n(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new _C(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:vC(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&he.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!vf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=W5(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ho(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=J5(s.layoutBox,t):this.constraints=!1,this.elastic=n9(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$n(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=e9(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ho(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=a5(s,a.root,this.visualElement.getTransformPagePoint());let c=Z5(a.layout.layoutBox,l);if(n){const d=n(i5(c));this.hasMutatedConstraints=!!d,d&&(c=iC(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=$n(y=>{if(!vf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,O={type:"inertia",velocity:s?t[y]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,O)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Sy(this.visualElement,t),s.start(d_(t,s,0,n,this.visualElement,!1))}stopAnimation(){$n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$n(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){$n(n=>{const{drag:s}=this.getProps();if(!vf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-de(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ho(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$n(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=t9({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),$n(c=>{if(!vf(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(de(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;i9.set(this.visualElement,this);const t=this.visualElement.current,n=Qu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Ho(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),he.read(s);const c=hc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&($n(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ry,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function vf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function r9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class a9 extends Fr{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new s9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xS=e=>(t,n)=>{e&&he.postRender(()=>e(t,n))};class o9 extends Fr{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new _C(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:xS(t),onStart:xS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&he.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let bg=!1;class l9 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),bg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,bg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||he.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),n_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;bg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function EC(e){const[t,n]=Fx(),s=V.useContext(Pv);return R.jsx(l9,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(eC),isPresent:t,safeToRemove:n})}function u9(e,t,n){const s=un(e)?e:ol(e);return s.start(d_("",s,t,n)),s.animation}const c9=(e,t)=>e.depth-t.depth;class h9{constructor(){this.children=[],this.isDirty=!1}add(t){Uv(this.children,t),this.isDirty=!0}remove(t){jv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(c9),this.isDirty=!1,this.children.forEach(t)}}function f9(e,t){const n=Sn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Pr(s),e(l-t))};return he.setup(s,!0),()=>Pr(s)}const bC=["TopLeft","TopRight","BottomLeft","BottomRight"],d9=bC.length,CS=e=>typeof e=="string"?parseFloat(e):e,IS=e=>typeof e=="number"||Et.test(e);function m9(e,t,n,s,a,l){a?(e.opacity=de(0,n.opacity??1,p9(s)),e.opacityExit=de(t.opacity??1,0,g9(s))):l&&(e.opacity=de(t.opacity??1,n.opacity??1,s));for(let c=0;c<d9;c++){const d=`border${bC[c]}Radius`;let m=DS(t,d),g=DS(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||IS(m)===IS(g)?(e[d]=Math.max(de(CS(m),CS(g),s),0),(Zi.test(g)||Zi.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=de(t.rotate||0,n.rotate||0,s))}function DS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const p9=wC(0,.5,ox),g9=wC(.5,.95,Zn);function wC(e,t,n){return s=>s<e?0:s>t?1:n(oc(e,t,s))}function NS(e,t){e.min=t.min,e.max=t.max}function mi(e,t){NS(e.x,t.x),NS(e.y,t.y)}function MS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function OS(e,t,n,s,a){return e-=t,e=cd(e,1/n,s),a!==void 0&&(e=cd(e,1/a,s)),e}function y9(e,t=0,n=1,s=.5,a,l=e,c=e){if(Zi.test(t)&&(t=parseFloat(t),t=de(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=de(l.min,l.max,s);e===l&&(d-=t),e.min=OS(e.min,t,n,d,a),e.max=OS(e.max,t,n,d,a)}function VS(e,t,[n,s,a],l,c){y9(e,t[n],t[s],t[a],t.scale,l,c)}const v9=["x","scaleX","originX"],_9=["y","scaleY","originY"];function PS(e,t,n,s){VS(e.x,t,v9,n?n.x:void 0,s?s.x:void 0),VS(e.y,t,_9,n?n.y:void 0,s?s.y:void 0)}function kS(e){return e.translate===0&&e.scale===1}function SC(e){return kS(e.x)&&kS(e.y)}function LS(e,t){return e.min===t.min&&e.max===t.max}function T9(e,t){return LS(e.x,t.x)&&LS(e.y,t.y)}function US(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AC(e,t){return US(e.x,t.x)&&US(e.y,t.y)}function jS(e){return mn(e.x)/mn(e.y)}function BS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class E9{constructor(){this.members=[]}add(t){Uv(this.members,t),t.scheduleRender()}remove(t){if(jv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b9(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:b,skewX:x,skewY:O}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),x&&(s+=`skewX(${x}deg) `),O&&(s+=`skewY(${O}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const wg=["","X","Y","Z"],w9=1e3;let S9=0;function Sg(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function RC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=hC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",he,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&RC(s)}function xC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=S9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x9),this.nodes.forEach(N9),this.nodes.forEach(M9),this.nodes.forEach(C9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new h9)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Fv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=zx(c)&&!gU(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;he.read(()=>{_=window.innerWidth}),e(c,()=>{const x=window.innerWidth;x!==_&&(_=x,this.root.updateBlockedByResize=!0,y&&y(),y=f9(b,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(qS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||g.getDefaultTransition()||L9,{onLayoutAnimationStart:B,onLayoutAnimationComplete:k}=g.getProps(),F=!this.targetLayout||!AC(this.targetLayout,x),Y=!_&&b;if(this.options.layoutRoot||this.resumeFrom||Y||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...t_(O,"layout"),onPlay:B,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,Y)}else _||qS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(D9),this.nodes.forEach(A9),this.nodes.forEach(R9)):this.nodes.forEach(FS),this.clearAllSnapshots();const d=Sn.now();tn.delta=Vs(0,1e3/60,d-tn.timestamp),tn.timestamp=d,tn.isProcessing=!0,fg.update.process(tn),fg.preRender.process(tn),fg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(I9),this.sharedNodes.forEach(V9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!SC(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ba(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),U9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ze();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(j9))){const{scroll:g}=this.root;g&&(Go(d.x,g.offset.x),Go(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ze();if(mi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&mi(d,c),Go(d.x,y.offset.x),Go(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=ze();mi(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Yo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ba(y.latestValues)&&Yo(m,y.latestValues)}return ba(this.latestValues)&&Yo(m,this.latestValues),m}removeTransform(c){const d=ze();mi(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ba(g.latestValues))continue;Ty(g.latestValues)&&g.updateSnapshot();const y=ze(),_=g.measurePageBox();mi(y,_),PS(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ba(this.latestValues)&&PS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=tn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),K5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mi(this.target,this.layout.layoutBox),rC(this.target,this.targetDelta)):mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ty(this.parent.latestValues)||sC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),hd(this.relativeTargetOrigin,d,m),mi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;mi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;r5(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ze());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MS(this.prevProjectionDelta.x,this.projectionDelta.x),MS(this.prevProjectionDelta.y,this.projectionDelta.y)),$u(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!BS(this.projectionDelta.x,this.prevProjectionDelta.x)||!BS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=ze(),x=m?m.source:void 0,O=this.layout?this.layout.source:void 0,B=x!==O,k=this.getStack(),F=!k||k.members.length<=1,Y=!!(B&&!F&&this.options.crossfade===!0&&!this.path.some(k9));this.animationProgress=0;let K;this.mixTargetDelta=at=>{const rt=at/1e3;HS(_.x,c.x,rt),HS(_.y,c.y,rt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P9(this.relativeTarget,this.relativeTargetOrigin,b,rt),K&&T9(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=ze()),mi(K,this.relativeTarget)),B&&(this.animationValues=y,m9(y,g,this.latestValues,rt,Y,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Vf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=u9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&CC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||ze();const _=mn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=mn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}mi(d,m),Yo(d,y),$u(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new E9),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Sg("z",c,g,this.animationValues);for(let y=0;y<wg.length;y++)Sg(`rotate${wg[y]}`,c,g,this.animationValues),Sg(`skew${wg[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Of(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Of(d?.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=b9(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:b,y:x}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const O in _y){if(y[O]===void 0)continue;const{correct:B,applyTo:k,isCSSVariable:F}=_y[O],Y=_==="none"?y[O]:B(y[O],g);if(k){const K=k.length;for(let at=0;at<K;at++)c[k[at]]=Y}else F?this.options.visualElement.renderState.vars[O]=Y:c[O]=Y}this.options.layoutId&&(c.pointerEvents=g===this?Of(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(zS),this.root.sharedNodes.clear()}}}function A9(e){e.updateLayout()}function R9(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?$n(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=mn(_);_.min=n[y].min,_.max=_.min+b}):CC(a,t.layoutBox,n)&&$n(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=mn(n[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=Ko();$u(c,n,t.layoutBox);const d=Ko();l?$u(d,e.applyTransform(s,!0),t.measuredBox):$u(d,n,t.layoutBox);const m=!SC(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const x=ze();hd(x,t.layoutBox,_.layoutBox);const O=ze();hd(O,n,b.layoutBox),AC(x,O)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=O,e.relativeTargetOrigin=x,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function x9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function C9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function I9(e){e.clearSnapshot()}function zS(e){e.clearMeasurements()}function FS(e){e.isLayoutDirty=!1}function D9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function N9(e){e.resolveTargetDelta()}function M9(e){e.calcProjection()}function O9(e){e.resetSkewAndRotation()}function V9(e){e.removeLeadSnapshot()}function HS(e,t,n){e.translate=de(t.translate,0,n),e.scale=de(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function GS(e,t,n,s){e.min=de(t.min,n.min,s),e.max=de(t.max,n.max,s)}function P9(e,t,n,s){GS(e.x,t.x,n.x,s),GS(e.y,t.y,n.y,s)}function k9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const L9={duration:.45,ease:[.4,0,.1,1]},YS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),KS=YS("applewebkit/")&&!YS("chrome/")?Math.round:Zn;function QS(e){e.min=KS(e.min),e.max=KS(e.max)}function U9(e){QS(e.x),QS(e.y)}function CC(e,t,n){return e==="position"||e==="preserve-aspect"&&!Y5(jS(t),jS(n),.2)}function j9(e){return e!==e.root&&e.scroll?.wasRoot}const B9=xC({attachResizeListener:(e,t)=>hc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ag={current:void 0},IC=xC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ag.current){const e=new B9({});e.mount(window),e.setOptions({layoutScroll:!0}),Ag.current=e}return Ag.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),z9={pan:{Feature:o9},drag:{Feature:a9,ProjectionNode:IC,MeasureLayout:EC}};function $S(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&he.postRender(()=>l(t,Dc(t)))}class F9 extends Fr{mount(){const{current:t}=this.node;t&&(this.unmount=hU(t,(n,s)=>($S(this.node,s,"Start"),a=>$S(this.node,a,"End"))))}unmount(){}}class q9 extends Fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xc(hc(this.node.current,"focus",()=>this.onFocus()),hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&he.postRender(()=>l(t,Dc(t)))}class H9 extends Fr{mount(){const{current:t}=this.node;t&&(this.unmount=pU(t,(n,s)=>(XS(this.node,s,"Start"),(a,{success:l})=>XS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xy=new WeakMap,Rg=new WeakMap,G9=e=>{const t=xy.get(e.target);t&&t(e)},Y9=e=>{e.forEach(G9)};function K9({root:e,...t}){const n=e||document;Rg.has(n)||Rg.set(n,{});const s=Rg.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Y9,{root:e,...t})),s[a]}function Q9(e,t,n){const s=K9(t);return xy.set(e,n),s.observe(e),()=>{xy.delete(e),s.unobserve(e)}}const $9={some:0,all:1};class X9 extends Fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:$9[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=g?y:_;b&&b(m)};return Q9(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(W9(t,n))&&this.startObserver()}unmount(){}}function W9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const J9={inView:{Feature:X9},tap:{Feature:H9},focus:{Feature:q9},hover:{Feature:F9}},Z9={layout:{ProjectionNode:IC,MeasureLayout:EC}},tj={...B5,...J9,...z9,...Z9},Ua=n5(tj,p5),ej=()=>{const e=[{name:"General Consultation",price:"$50",description:"Comprehensive health check and prescription."},{name:"Follow-up Visit",price:"$30",description:"Review of previous conditions and treatment progress."},{name:"Special Procedures",price:"From $100",description:"Minor surgical procedures and specialized tests."},{name:"Prescription Renewal",price:"$20",description:"Quick renewal of ongoing medications."}];return R.jsxs("div",{className:"flex flex-col min-h-screen",children:[R.jsxs("nav",{className:"bg-white border-b border-slate-100 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(sy,{className:"text-medical-600 w-8 h-8"}),R.jsx("span",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"MedicoQueue"})]}),R.jsxs("div",{className:"flex gap-4",children:[R.jsx(Sa,{to:"/live-queue",className:"text-slate-600 hover:text-medical-600 font-medium",children:"Live Queue"}),R.jsx(Sa,{to:"/booking",className:"btn-primary",children:"Book Now"})]})]}),R.jsxs("main",{className:"flex-grow",children:[R.jsx("section",{className:"bg-gradient-to-b from-medical-50 to-white py-20 px-6 text-center",children:R.jsxs(Ua.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[R.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight",children:["Modern Healthcare ",R.jsx("br",{}),R.jsx("span",{className:"text-medical-600",children:"Simplified"})]}),R.jsx("p",{className:"text-xl text-slate-600 mb-10 max-w-2xl mx-auto",children:"Skip the waiting room. Book your appointment online, track your queue status in real-time, and get notified when it's your turn."}),R.jsxs("div",{className:"flex justify-center gap-4",children:[R.jsxs(Sa,{to:"/booking",className:"btn-primary text-lg px-8 py-3 flex items-center gap-2",children:["Start Booking ",R.jsx(GL,{className:"w-5 h-5"})]}),R.jsx(Sa,{to:"/live-queue",className:"btn-secondary text-lg px-8 py-3",children:"View Live Queue"})]})]})}),R.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto",children:[R.jsxs("div",{className:"text-center mb-16",children:[R.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Our Services"}),R.jsx("p",{className:"text-slate-600",children:"Transparent pricing for all your medical needs."})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((t,n)=>R.jsxs(Ua.div,{whileHover:{y:-5},className:"medical-card flex flex-col justify-between",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:t.name}),R.jsx("p",{className:"text-slate-600 text-sm mb-4",children:t.description})]}),R.jsxs("div",{className:"mt-4",children:[R.jsx("span",{className:"text-2xl font-bold text-medical-600",children:t.price}),R.jsx("button",{className:"w-full mt-4 py-2 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors text-slate-700 font-medium",children:"Details"})]})]},n))})]})]}),R.jsx("footer",{className:"bg-slate-900 text-white py-12 px-6",children:R.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[R.jsxs("div",{className:"flex items-center gap-2 text-white",children:[R.jsx(sy,{className:"text-medical-400 w-8 h-8"}),R.jsx("span",{className:"text-xl font-bold",children:"MedicoQueue"})]}),R.jsx("div",{className:"text-slate-400 text-sm",children:" 2025 MedicoQueue. All rights reserved. Professional Medical Management System."}),R.jsx("div",{className:"flex gap-6",children:R.jsx(Sa,{to:"/login",className:"text-slate-400 hover:text-white transition-colors",children:"Doctor Portal"})})]})})]})},DC=6048e5,nj=864e5,ij=6e4,WS=Symbol.for("constructDateFrom");function Lr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&WS in e?e[WS](t):e instanceof Date?new e.constructor(t):new Date(t)}function ei(e,t){return Lr(t||e,e)}let sj={};function Hd(){return sj}function fc(e,t){const n=Hd(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ei(e,t?.in),l=a.getDay(),c=(l<s?7:0)+l-s;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function fd(e,t){return fc(e,{...t,weekStartsOn:1})}function NC(e,t){const n=ei(e,t?.in),s=n.getFullYear(),a=Lr(n,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const l=fd(a),c=Lr(n,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const d=fd(c);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function JS(e){const t=ei(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function rj(e,...t){const n=Lr.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function ZS(e,t){const n=ei(e,t?.in);return n.setHours(0,0,0,0),n}function aj(e,t,n){const[s,a]=rj(n?.in,e,t),l=ZS(s),c=ZS(a),d=+l-JS(l),m=+c-JS(c);return Math.round((d-m)/nj)}function oj(e,t){const n=NC(e,t),s=Lr(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),fd(s)}function lj(e,t,n){const s=ei(e,n?.in);return s.setTime(s.getTime()+t*ij),s}function uj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function cj(e){return!(!uj(e)&&typeof e!="number"||isNaN(+ei(e)))}function hj(e,t){const n=ei(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const fj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dj=(e,t,n)=>{let s;const a=fj[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function xg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const mj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yj={date:xg({formats:mj,defaultWidth:"full"}),time:xg({formats:pj,defaultWidth:"full"}),dateTime:xg({formats:gj,defaultWidth:"full"})},vj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_j=(e,t,n,s)=>vj[e];function Iu(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):c;a=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const Tj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ej={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Aj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rj=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xj={ordinalNumber:Rj,era:Iu({values:Tj,defaultWidth:"wide"}),quarter:Iu({values:Ej,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Iu({values:bj,defaultWidth:"wide"}),day:Iu({values:wj,defaultWidth:"wide"}),dayPeriod:Iu({values:Sj,defaultWidth:"wide",formattingValues:Aj,defaultFormattingWidth:"wide"})};function Du(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(d)?Ij(d,_=>_.test(c)):Cj(d,_=>_.test(c));let g;g=e.valueCallback?e.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=t.slice(c.length);return{value:g,rest:y}}}function Cj(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Ij(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Dj(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}const Nj=/^(\d+)(th|st|nd|rd)?/i,Mj=/\d+/i,Oj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vj={any:[/^b/i,/^(a|c)/i]},Pj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kj={any:[/1/i,/2/i,/3/i,/4/i]},Lj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qj={ordinalNumber:Dj({matchPattern:Nj,parsePattern:Mj,valueCallback:e=>parseInt(e,10)}),era:Du({matchPatterns:Oj,defaultMatchWidth:"wide",parsePatterns:Vj,defaultParseWidth:"any"}),quarter:Du({matchPatterns:Pj,defaultMatchWidth:"wide",parsePatterns:kj,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Du({matchPatterns:Lj,defaultMatchWidth:"wide",parsePatterns:Uj,defaultParseWidth:"any"}),day:Du({matchPatterns:jj,defaultMatchWidth:"wide",parsePatterns:Bj,defaultParseWidth:"any"}),dayPeriod:Du({matchPatterns:zj,defaultMatchWidth:"any",parsePatterns:Fj,defaultParseWidth:"any"})},Hj={code:"en-US",formatDistance:dj,formatLong:yj,formatRelative:_j,localize:xj,match:qj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Gj(e,t){const n=ei(e,t?.in);return aj(n,hj(n))+1}function Yj(e,t){const n=ei(e,t?.in),s=+fd(n)-+oj(n);return Math.round(s/DC)+1}function MC(e,t){const n=ei(e,t?.in),s=n.getFullYear(),a=Hd(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Lr(t?.in||e,0);c.setFullYear(s+1,0,l),c.setHours(0,0,0,0);const d=fc(c,t),m=Lr(t?.in||e,0);m.setFullYear(s,0,l),m.setHours(0,0,0,0);const g=fc(m,t);return+n>=+d?s+1:+n>=+g?s:s-1}function Kj(e,t){const n=Hd(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=MC(e,t),l=Lr(t?.in||e,0);return l.setFullYear(a,0,s),l.setHours(0,0,0,0),fc(l,t)}function Qj(e,t){const n=ei(e,t?.in),s=+fc(n,t)-+Kj(n,t);return Math.round(s/DC)+1}function Jt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const gr={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Jt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Jt(n+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return Jt(a,t.length)}},ko={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tA={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return gr.y(e,t)},Y:function(e,t,n,s){const a=MC(e,s),l=a>0?a:1-a;if(t==="YY"){const c=l%100;return Jt(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Jt(l,t.length)},R:function(e,t){const n=NC(e);return Jt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Jt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Jt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Jt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return gr.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Jt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=Qj(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Jt(a,t.length)},I:function(e,t,n){const s=Yj(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Jt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):gr.d(e,t)},D:function(e,t,n){const s=Gj(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Jt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Jt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Jt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Jt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=ko.noon:s===0?a=ko.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=ko.evening:s>=12?a=ko.afternoon:s>=4?a=ko.morning:a=ko.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return gr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):gr.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Jt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Jt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):gr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):gr.s(e,t)},S:function(e,t){return gr.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return nA(s);case"XXXX":case"XX":return wa(s);default:return wa(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return nA(s);case"xxxx":case"xx":return wa(s);default:return wa(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eA(s,":");default:return"GMT"+wa(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eA(s,":");default:return"GMT"+wa(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return Jt(s,t.length)},T:function(e,t,n){return Jt(+e,t.length)}};function eA(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),l=s%60;return l===0?n+String(a):n+String(a)+t+Jt(l,2)}function nA(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):wa(e,t)}function wa(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Jt(Math.trunc(s/60),2),l=Jt(s%60,2);return n+a+t+l}const iA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},OC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},$j=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return iA(e,t);let l;switch(s){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",iA(s,t)).replace("{{time}}",OC(a,t))},Xj={p:OC,P:$j},Wj=/^D+$/,Jj=/^Y+$/,Zj=["D","DD","YY","YYYY"];function tB(e){return Wj.test(e)}function eB(e){return Jj.test(e)}function nB(e,t,n){const s=iB(e,t,n);if(console.warn(s),Zj.includes(e))throw new RangeError(s)}function iB(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aB=/^'([^]*?)'?$/,oB=/''/g,lB=/[a-zA-Z]/;function Zo(e,t,n){const s=Hd(),a=s.locale??Hj,l=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=ei(e,n?.in);if(!cj(d))throw new RangeError("Invalid time value");let m=t.match(rB).map(y=>{const _=y[0];if(_==="p"||_==="P"){const b=Xj[_];return b(y,a.formatLong)}return y}).join("").match(sB).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:uB(y)};if(tA[_])return{isToken:!0,value:y};if(_.match(lB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(d,m));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const _=y.value;(eB(_)||tB(_))&&nB(_,t,String(e));const b=tA[_[0]];return b(d,_,a.localize,g)}).join("")}function uB(e){const t=e.match(aB);return t?t[1].replace(oB,"'"):e}const cB=()=>{const e=md(),[t,n]=V.useState({name:"",phone:"",date:Zo(new Date,"yyyy-MM-dd")}),[s,a]=V.useState(!1),[l,c]=V.useState(null),[d,m]=V.useState({totalBooked:0,estimatedWait:0});V.useEffect(()=>{const y=id(ac(Ss,"bookings"),Gu("date","==",t.date)),_=Mv(y,b=>{m({totalBooked:b.size,estimatedWait:b.size*15})});return()=>_()},[t.date]);const g=async y=>{y.preventDefault(),console.log("Submit button clicked. Form data:",t),a(!0);let _=!1;setTimeout(()=>{_||(console.warn("Firestore submission is taking too long (15s timeout reached)"),a(!1),alert("The connection to the database is slow. Please refresh the page and try again."))},15e3);try{console.log("Current stats for queue calculation:",d);const b=(d.totalBooked||0)+1,x={name:String(t.name),phone:String(t.phone),date:String(t.date),queueNumber:Number(b),status:"pending",createdAt:new Date().toISOString(),estimatedTime:String(Zo(lj(new Date,d.estimatedWait||0),"HH:mm"))};console.log("Attempting to write to collection 'bookings' with data:",x);const O=await rL(ac(Ss,"bookings"),x);_=!0,console.log("Success! Firestore Document ID:",O.id),c({id:O.id,...x})}catch(b){_=!0,console.error("FIRESTORE ERROR DETECTED:",b),console.error("Error Code:",b.code),console.error("Error Message:",b.message),alert("Database Error: "+b.message)}finally{a(!1),console.log("handleSubmit execution completed.")}};return l?R.jsx("div",{className:"min-h-screen bg-medical-50 flex items-center justify-center px-6",children:R.jsxs(Ua.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"medical-card max-w-md w-full text-center py-10",children:[R.jsx("div",{className:"bg-green-100 text-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:R.jsx(QR,{className:"w-10 h-10"})}),R.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Confirmed!"}),R.jsx("p",{className:"text-slate-600 mb-8",children:"Your appointment has been scheduled successfully."}),R.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-8 text-left space-y-4",children:[R.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[R.jsx("span",{className:"text-slate-500",children:"Queue Number"}),R.jsxs("span",{className:"font-bold text-medical-600 text-xl",children:["#",l.queueNumber]})]}),R.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[R.jsx("span",{className:"text-slate-500",children:"Scheduled Time"}),R.jsx("span",{className:"font-semibold",children:l.estimatedTime})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"text-slate-500",children:"Date"}),R.jsx("span",{className:"font-semibold",children:l.date})]})]}),R.jsxs("p",{className:"text-sm text-slate-500 mb-8 italic",children:["A confirmation message has been sent to ",l.phone," via WhatsApp."]}),R.jsx("button",{onClick:()=>e("/"),className:"w-full btn-primary",children:"Back to Home"})]})}):R.jsx("div",{className:"min-h-screen py-12 px-6",children:R.jsxs("div",{className:"max-w-4xl mx-auto",children:[R.jsxs("div",{className:"text-center mb-12",children:[R.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Book an Appointment"}),R.jsx("p",{className:"text-slate-600",children:"Quick and easy booking in less than a minute."})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[R.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[R.jsxs("div",{className:"medical-card bg-medical-600 text-white border-none",children:[R.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Live Availability"}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(Lw,{className:"w-5 h-5 opacity-80"}),R.jsxs("span",{children:[d.totalBooked," Patients Today"]})]}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(t6,{className:"w-5 h-5 opacity-80"}),R.jsxs("span",{children:[d.estimatedWait," min Estimated Wait"]})]})]})]}),R.jsxs("div",{className:"medical-card",children:[R.jsxs("h4",{className:"font-bold text-slate-900 mb-3 flex items-center gap-2",children:[R.jsx(g6,{className:"w-5 h-5 text-medical-600"})," Clinic Info"]}),R.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed",children:["Open Mon-Sat: 9 AM - 6 PM",R.jsx("br",{}),"Location: 123 Health Ave, Medical City",R.jsx("br",{}),"Emergency: (555) 012-3456"]})]})]}),R.jsx("div",{className:"lg:col-span-2",children:R.jsx("div",{className:"medical-card",children:R.jsxs("form",{onSubmit:g,className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),R.jsxs("div",{className:"relative",children:[R.jsx(Lw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),R.jsx("input",{id:"fullName",name:"name",type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"Enter your full name",value:t.name,onChange:y=>n({...t,name:y.target.value})})]})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"whatsappNumber",className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp Number"}),R.jsxs("div",{className:"relative",children:[R.jsx(m6,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),R.jsx("input",{id:"whatsappNumber",name:"phone",type:"tel",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"+1 (123) 456-7890",value:t.phone,onChange:y=>n({...t,phone:y.target.value})})]})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"appointmentDate",className:"block text-sm font-medium text-slate-700 mb-2",children:"Preferred Date"}),R.jsxs("div",{className:"relative",children:[R.jsx(ry,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),R.jsx("input",{id:"appointmentDate",name:"date",type:"date",required:!0,min:Zo(new Date,"yyyy-MM-dd"),className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",value:t.date,onChange:y=>n({...t,date:y.target.value})})]})]}),R.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary py-4 text-lg flex justify-center items-center gap-2",children:s?"Processing...":"Confirm Booking"})]})})})]})]})})},hB=()=>{const[e,t]=V.useState([]),[n,s]=V.useState(0),a=Zo(new Date,"yyyy-MM-dd");return V.useEffect(()=>{const l=id(ac(Ss,"bookings"),Gu("date","==",a)),c=Mv(l,d=>{let m=d.docs.map(y=>({id:y.id,...y.data()}));m.sort((y,_)=>(y.queueNumber||0)-(_.queueNumber||0)),t(m);const g=m.find(y=>y.status==="calling");if(g)s(g.queueNumber);else{const y=[...m].reverse().find(_=>_.status==="completed");s(y?y.queueNumber:0)}});return()=>c()},[a]),R.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-6",children:R.jsxs("div",{className:"max-w-4xl mx-auto",children:[R.jsxs("div",{className:"text-center mb-12",children:[R.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4 italic",children:"Live Queue Updates"}),R.jsx("p",{className:"text-slate-600",children:"Track the current clinic status in real-time."})]}),R.jsxs("div",{className:"bg-medical-600 rounded-2xl p-10 text-white shadow-xl shadow-medical-200 mb-12 text-center relative overflow-hidden",children:[R.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:R.jsx($R,{className:"w-32 h-32"})}),R.jsx("p",{className:"text-medical-100 font-medium mb-2 uppercase tracking-widest",children:"Now Serving"}),R.jsxs("div",{className:"text-8xl font-black mb-4",children:["#",n]}),R.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("span",{className:"block text-2xl font-bold",children:e.filter(l=>l.status==="pending").length}),R.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:"Waiting"})]}),R.jsx("div",{className:"h-10 w-px bg-medical-400 opacity-50"}),R.jsxs("div",{className:"text-center",children:[R.jsx("span",{className:"block text-2xl font-bold",children:e.filter(l=>l.status==="completed").length}),R.jsx("span",{className:"text-xs uppercase text-medical-100 font-semibold",children:"Completed"})]})]})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("h3",{className:"text-xl font-bold text-slate-900 px-2 mb-4",children:"Upcoming Patients"}),R.jsx(qx,{mode:"popLayout",children:e.filter(l=>l.status==="pending").map((l,c)=>R.jsxs(Ua.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},className:`medical-card flex justify-between items-center transition-all ${c===0?"bg-medical-50 border-medical-200":""}`,children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${c===0?"bg-medical-600 text-white":"bg-slate-100 text-slate-600"}`,children:["#",l.queueNumber]}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-bold text-slate-900",children:l.name}),R.jsxs("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:["Scheduled for ",l.estimatedTime]})]})]}),c===0&&R.jsx("div",{className:"bg-medical-100 text-medical-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:"UP NEXT"})]},l.id))}),e.filter(l=>l.status==="pending").length===0&&R.jsxs("div",{className:"text-center py-10 medical-card border-dashed",children:[R.jsx(l6,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),R.jsx("p",{className:"text-slate-500",children:"No pending appointments for today."})]})]})]})})},Cg="https://script.google.com/macros/s/AKfycbyK_DSjFavVCsE0DH49qxke-NVR8Nq_nFP3saZD86VKGIQ1TDPxIF3WTmwz995Oa46tGw/exec",Ig=(e,t=!1)=>{if(!e||!e.includes("drive.google.com"))return e;let n="";return e.includes("/file/d/")?n=e.split("/file/d/")[1].split("/")[0]:e.includes("id=")&&(n=e.split("id=")[1].split("&")[0]),n?t?`https://drive.google.com/file/d/${n}/preview`:`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:e},fB=()=>{const[e,t]=V.useState([]),[n,s]=V.useState(null),[a,l]=V.useState(""),[c,d]=V.useState(""),[m,g]=V.useState(""),[y,_]=V.useState([]),[b,x]=V.useState(!1),[O,B]=V.useState(null),[k,F]=V.useState(!1),Y=Zo(new Date,"yyyy-MM-dd");V.useEffect(()=>{const C=id(ac(Ss,"bookings"),Gu("date","==",Y)),U=Mv(C,N=>{let Ct=N.docs.map(Vt=>({id:Vt.id,...Vt.data()}));Ct.sort((Vt,W)=>(Vt.queueNumber||0)-(W.queueNumber||0)),t(Ct)});return()=>U()},[Y]);const K=async C=>{n&&a!==(n.notes||"")&&await at(!1),s(C),l(C.notes||""),d(C.googleDriveLink||""),g(C.nextAppointment||""),rt(C.phone)},at=async(C=!0)=>{if(n)try{const U=Hu(Ss,"bookings",n.id);await cg(U,{notes:a,googleDriveLink:c,nextAppointment:m,updatedAt:ie.now()}),C&&alert("Draft saved successfully.")}catch(U){console.error("Save Draft Error:",U),C&&alert("Save failed: "+U.message)}},rt=async C=>{try{const U=id(ac(Ss,"bookings"),Gu("phone","==",C),Gu("status","==","completed")),Ct=(await sL(U)).docs.map(Vt=>({id:Vt.id,...Vt.data()}));Ct.sort((Vt,W)=>new Date(W.date)-new Date(Vt.date)),_(Ct)}catch(U){console.error("Error fetching history:",U)}},ot=async C=>{const U=C.target.files[0];if(!(!U||!n)){if(Cg.includes("YOUR_GOOGLE_SCRIPT")){alert("Please set your Google Script URL in Dashboard.jsx first!");return}F(!0);try{const N=new FileReader;N.readAsDataURL(U),N.onload=async()=>{const Ct=N.result.split(",")[1],Vt={name:U.name,type:U.type,base64:Ct,phone:n.phone};console.log("Sending file to Drive bridge..."),await fetch(Cg,{method:"POST",mode:"no-cors",body:JSON.stringify(Vt)}),console.log("Upload sent, fetching new link via JSONP..."),window.handleDriveResponse=st=>{console.log("JSONP Response received:",st),st.status==="success"?(d(st.previewUrl),alert("File uploaded and linked successfully!")):(console.error("Link retrieval failed:",st),alert("File uploaded but link retrieval failed. Please try again or check your Drive.")),F(!1)};const W=document.createElement("script");W.src=`${Cg}?phone=${encodeURIComponent(n.phone)}&callback=handleDriveResponse&t=${Date.now()}`,W.onerror=()=>{console.error("JSONP Script load error"),F(!1),alert("Communication error with Google. Please try saving and refreshing.")},document.body.appendChild(W),setTimeout(()=>W.remove(),1e4)}}catch(N){console.error("Upload Error:",N),alert("Upload failed. Check console for details."),F(!1)}}},I=async(C,U)=>{try{const N=Hu(Ss,"bookings",C);if(await cg(N,{status:U,updatedAt:ie.now()}),U==="calling"){const Ct=e.find(Vt=>Vt.id===C);K(Ct)}}catch(N){console.error(N)}},A=async()=>{if(n)try{const C=Hu(Ss,"bookings",n.id),U={notes:a,googleDriveLink:c,nextAppointment:m,status:"completed",updatedAt:ie.now()};await cg(C,U),n.phone&&rt(n.phone);const N=e.map(Ct=>Ct.id===n.id?{...Ct,...U}:Ct);t(N),s(null),l(""),d(""),g(""),alert("Consultation completed and records saved permanentely.")}catch(C){console.error("Save Notes Error:",C),alert("Failed to save final notes: "+C.message)}},D=e.find(C=>C.status==="calling"),P=e.find(C=>C.status==="pending");return R.jsxs("div",{className:"flex h-screen bg-slate-50",children:[R.jsxs("div",{className:"w-80 bg-white border-r border-slate-200 flex flex-col",children:[R.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-3",children:[R.jsx("div",{className:"bg-medical-600 p-2 rounded-lg",children:R.jsx($R,{className:"text-white w-6 h-6"})}),R.jsx("h2",{className:"font-bold text-slate-900 text-lg",children:"Daily Queue"})]}),R.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-3",children:[e.map(C=>R.jsxs("div",{onClick:()=>K(C),className:`p-3 rounded-xl border transition-all cursor-pointer ${n?.id===C.id?"bg-medical-50 border-medical-200 ring-2 ring-medical-100":"bg-white border-slate-100 hover:border-medical-200"}`,children:[R.jsxs("div",{className:"flex justify-between items-start mb-1",children:[R.jsxs("span",{className:"text-xs font-bold text-medical-600",children:["#",C.queueNumber]}),R.jsx("span",{className:`text-[10px] uppercase font-black px-2 py-0.5 rounded-full ${C.status==="calling"?"bg-orange-100 text-orange-600":C.status==="completed"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-500"}`,children:C.status})]}),R.jsx("h4",{className:"font-bold text-slate-800 truncate",children:C.name}),R.jsx("p",{className:"text-xs text-slate-500",children:C.estimatedTime})]},C.id)),e.length===0&&R.jsx("p",{className:"text-center text-slate-400 py-10 text-sm",children:"No bookings for today."})]}),R.jsx("div",{className:"p-4 border-t border-slate-100",children:R.jsx("button",{onClick:()=>Vv.signOut(),className:"w-full py-2 text-slate-500 hover:text-red-500 text-sm font-medium",children:"Logout"})})]}),R.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden",children:[R.jsxs("div",{className:"bg-white border-b border-slate-200 p-6 flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Patient Consultation"}),R.jsx("p",{className:"text-slate-500 text-sm",children:Zo(new Date,"EEEE, MMMM do")})]}),R.jsxs("div",{className:"flex gap-3",children:[P&&R.jsxs("button",{onClick:()=>I(P.id,"calling"),className:"btn-primary flex items-center gap-2",children:[R.jsx(WL,{className:"w-5 h-5"})," Call Next Patient (#",P.queueNumber,")"]}),D&&R.jsxs("button",{onClick:()=>I(D.id,"completed"),className:"btn-secondary flex items-center gap-2",children:[R.jsx(QR,{className:"w-5 h-5"})," Mark Completed"]})]})]}),R.jsx("div",{className:"flex-grow p-8 overflow-y-auto",children:n?R.jsxs(Ua.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto space-y-8",children:[R.jsxs("div",{className:"flex justify-between items-end",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:n.name}),R.jsxs("p",{className:"text-slate-500 flex items-center gap-2 mt-1",children:[R.jsx(Vw,{className:"w-4 h-4"})," Queue #",n.queueNumber,"  ",n.phone]})]}),R.jsxs("div",{className:"text-right",children:[R.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-widest",children:"Booking Time"}),R.jsx("p",{className:"text-lg font-bold text-slate-700",children:n.estimatedTime})]})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[R.jsx("div",{className:"space-y-6",children:R.jsxs("div",{children:[R.jsx("label",{htmlFor:"clinicalNotes",className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Clinical Notes"}),R.jsx("textarea",{id:"clinicalNotes",name:"clinicalNotes",rows:10,className:"w-full p-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none resize-none bg-white",placeholder:"Enter examination details, diagnosis, and treatment plan...",value:a,onChange:C=>l(C.target.value)})]})}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Patient Records (Drive / Upload)"}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("div",{className:"relative flex-grow",children:[R.jsx(Pw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),R.jsx("input",{id:"driveLink",name:"driveLink",type:"url",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none",placeholder:"Drive Link or Auto-upload",value:c,onChange:C=>d(C.target.value)})]}),R.jsxs("label",{className:`cursor-pointer flex items-center justify-center px-4 rounded-xl border-2 border-dashed border-medical-200 hover:bg-medical-50 transition-all ${k?"opacity-50 pointer-events-none":""}`,children:[R.jsx(v6,{className:"w-5 h-5 text-medical-600"}),R.jsx("input",{type:"file",className:"hidden",onChange:ot,accept:"image/*,.pdf"})]})]}),k&&R.jsx("p",{className:"text-[10px] text-medical-600 mt-1 animate-pulse font-bold",children:"Uploading to Drive..."}),c&&R.jsxs("div",{className:"mt-4 border border-slate-200 rounded-xl overflow-hidden min-h-[200px] bg-slate-100 relative group flex items-center justify-center",children:[c.includes("drive.google.com")?R.jsx("div",{className:"w-full",children:R.jsx("img",{src:Ig(c),className:"max-h-[400px] w-auto object-contain mx-auto",alt:"Patient Record Preview",onError:C=>{C.target.style.display="none",C.target.parentElement.innerHTML=`
                                                                    <div class="p-12 text-center">
                                                                        <div class="bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm">
                                                                            <svg class="w-6 h-6 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                                        </div>
                                                                        <p class="text-xs text-slate-500 font-bold mb-4">PDF Document Detected</p>
                                                                        <a href="${c}" target="_blank" rel="noopener noreferrer" class="btn-primary py-2 px-6 text-xs inline-block">Open PDF in New Tab</a>
                                                                    </div>
                                                                `}})}):R.jsx("p",{className:"text-xs text-slate-400",children:"Preview not available for this link type"}),R.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-slate-900/60 p-2 opacity-0 group-hover:opacity-100 transition-opacity flex justify-between items-center",children:[R.jsx("span",{className:"text-[10px] text-white font-medium",children:"Record Preview"}),R.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-medical-200 font-bold hover:underline",children:"Open Original"})]})]})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"nextAppt",className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Next Appointment"}),R.jsxs("div",{className:"relative",children:[R.jsx(ry,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),R.jsx("input",{id:"nextAppt",name:"nextAppt",type:"date",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-medical-500 transition-all outline-none",value:m,onChange:C=>g(C.target.value)})]})]}),R.jsxs("div",{className:"bg-medical-50 rounded-xl p-6 border border-medical-100",children:[R.jsxs("h4",{className:"font-bold text-medical-800 mb-2 flex items-center gap-2",children:[R.jsx(kw,{className:"w-5 h-5"})," Quick Actions"]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs("button",{onClick:()=>x(!0),className:"w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-white transition-colors text-slate-600 border border-transparent hover:border-medical-200 flex items-center gap-2",children:[R.jsx(a6,{className:"w-4 h-4"})," View Medical History (",y.length,")"]}),R.jsxs("button",{className:"w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-white transition-colors text-slate-600 border border-transparent hover:border-medical-200 flex items-center gap-2",children:[R.jsx(kw,{className:"w-4 h-4"})," Print Prescription"]})]})]})]})]}),R.jsxs("div",{className:"pt-6 border-t border-slate-200 flex justify-between items-center gap-3",children:[R.jsx("button",{onClick:()=>at(!0),className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-all font-bold text-sm",children:"Save Draft"}),R.jsxs("div",{className:"flex gap-3",children:[R.jsx("button",{onClick:()=>s(null),className:"px-6 py-2 text-slate-500 font-medium",children:"Cancel"}),R.jsx("button",{onClick:A,className:"btn-primary px-8",children:"Save & Complete Consultation"})]})]})]}):R.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[R.jsx(Vw,{className:"w-16 h-16 mb-4 opacity-20"}),R.jsx("p",{className:"text-lg",children:"Select a patient from the queue to start consultation"})]})})]}),R.jsx(qx,{children:b&&R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/50 backdrop-blur-sm",children:R.jsxs(Ua.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl",children:[R.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Medical History"}),R.jsx("p",{className:"text-sm text-slate-500",children:n?.name})]}),R.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:R.jsx(b6,{className:"w-6 h-6 text-slate-400"})})]}),R.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:y.length===0?R.jsx("div",{className:"text-center py-12 text-slate-400",children:"No previous records found for this patient."}):y.map(C=>R.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 bg-slate-50/50",children:[R.jsxs("div",{className:"flex justify-between items-start mb-3",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(ry,{className:"w-4 h-4 text-medical-600"}),R.jsx("span",{className:"font-bold text-slate-700",children:C.date})]}),R.jsx("span",{className:"text-[10px] uppercase font-black bg-green-100 text-green-600 px-2 py-0.5 rounded-full",children:"Completed"})]}),R.jsx("div",{className:"bg-white p-3 rounded-lg border border-slate-100 mb-3 text-sm text-slate-600 whitespace-pre-wrap",children:C.notes||"No clinical notes provided."}),C.googleDriveLink&&R.jsxs("div",{className:"mt-3",children:[R.jsxs("div",{className:"flex gap-4 mb-2",children:[R.jsxs("a",{href:C.googleDriveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-bold text-medical-600 hover:underline",children:[R.jsx(Pw,{className:"w-3 h-3"})," Open full file"]}),R.jsxs("button",{onClick:()=>B(O===C.id?null:C.id),className:"text-xs font-bold text-slate-500 hover:text-medical-600 flex items-center gap-1",children:[R.jsx(i6,{className:"w-3 h-3"})," ",O===C.id?"Hide Preview":"Show Preview"]})]}),O===C.id&&C.googleDriveLink.includes("drive.google.com")&&R.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden min-h-[150px] bg-white shadow-inner flex items-center justify-center",children:[R.jsx("img",{src:Ig(C.googleDriveLink),className:"max-h-[300px] w-auto object-contain",alt:"History Record",onError:U=>{U.target.style.display="none",U.target.nextSibling.style.display="block"}}),R.jsx("iframe",{src:Ig(C.googleDriveLink,!0),className:"w-full h-[300px] hidden",title:"History PDF Preview"})]})]})]},C.id))})]})})})]})},dB=()=>{const[e,t]=V.useState(""),[n,s]=V.useState(""),[a,l]=V.useState(""),[c,d]=V.useState(!1),m=md(),g=async y=>{y.preventDefault(),d(!0),l("");try{await DO(Vv,e,n),m("/dashboard")}catch(_){l("Invalid email or password. Please try again."),console.error(_)}d(!1)};return R.jsxs("div",{className:"min-h-screen bg-medical-50 flex flex-col justify-center py-12 px-6",children:[R.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[R.jsx("div",{className:"flex justify-center mb-6",children:R.jsx(sy,{className:"text-medical-600 w-12 h-12"})}),R.jsx("h2",{className:"text-center text-3xl font-extrabold text-slate-900",children:"Doctor Portal"}),R.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Sign in to manage your clinic and patients."})]}),R.jsx(Ua.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:R.jsxs("div",{className:"medical-card",children:[R.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a&&R.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center gap-3 text-sm",children:[R.jsx(QL,{className:"w-5 h-5 flex-shrink-0"}),a]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"loginEmail",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),R.jsxs("div",{className:"relative",children:[R.jsx(f6,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),R.jsx("input",{id:"loginEmail",name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"doctor@example.com",value:e,onChange:y=>t(y.target.value)})]})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"loginPassword",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),R.jsxs("div",{className:"relative",children:[R.jsx(c6,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),R.jsx("input",{id:"loginPassword",name:"password",type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-medical-500 focus:border-transparent transition-all outline-none",placeholder:"",value:n,onChange:y=>s(y.target.value)})]})]}),R.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary py-3 text-lg",children:c?"Signing in...":"Sign In"})]}),R.jsx("div",{className:"mt-6 text-center",children:R.jsx("p",{className:"text-xs text-slate-500",children:"Note: This portal is for authorized medical staff only."})})]})})]})},mB=({children:e,doctorOnly:t=!1})=>{const{currentUser:n,isDoctor:s}=kL();return n?t&&!s?R.jsx($E,{to:"/"}):e:R.jsx($E,{to:"/login"})};function pB(){return R.jsx(LL,{children:R.jsx(BD,{basename:"/Doctors",children:R.jsx("div",{className:"min-h-screen bg-slate-50",children:R.jsxs(gD,{children:[R.jsx(Lo,{path:"/",element:R.jsx(ej,{})}),R.jsx(Lo,{path:"/booking",element:R.jsx(cB,{})}),R.jsx(Lo,{path:"/live-queue",element:R.jsx(hB,{})}),R.jsx(Lo,{path:"/login",element:R.jsx(dB,{})}),R.jsx(Lo,{path:"/dashboard",element:R.jsx(mB,{doctorOnly:!0,children:R.jsx(fB,{})})})]})})})})}_I.createRoot(document.getElementById("root")).render(R.jsx(V.StrictMode,{children:R.jsx(pB,{})}));
